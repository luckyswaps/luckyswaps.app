(self.webpackChunk=self.webpackChunk||[]).push([[8792],{3017:(t,e,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n.apply(null,arguments)}r.d(e,{A:()=>n})},3694:(t,e,r)=>{"use strict";r.d(e,{$5:()=>S,F7:()=>E,MP:()=>g,ry:()=>y,$d:()=>w,u1:()=>b,bQ:()=>v});var n=r(3017),i=r(3696),s=r(3530),o=r(8267),a=r(5067);const u=new a.J3("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),c=new a.J3("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");new a.J3("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),new a.J3("So11111111111111111111111111111111111111112"),new a.J3("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");var l=r(7073),h=r(720),d=r(514),f=r(6824),p=r(8036),m=r(2540);function g({address:t}){const{connection:e}=(0,s.w)();return(0,l.I)({queryKey:["get-balance",{endpoint:e.rpcEndpoint,address:t}],queryFn:()=>e.getBalance(t)})}function y({address:t}){const{connection:e}=(0,s.w)();return(0,l.I)({queryKey:["get-signatures",{endpoint:e.rpcEndpoint,address:t}],queryFn:()=>e.getConfirmedSignaturesForAddress2(t)})}function w({address:t}){const{connection:e}=(0,s.w)();return(0,l.I)({queryKey:["get-token-accounts",{endpoint:e.rpcEndpoint,address:t}],queryFn:async()=>{const[r,n]=await Promise.all([e.getParsedTokenAccountsByOwner(t,{programId:u}),e.getParsedTokenAccountsByOwner(t,{programId:c})]);return[...r.value,...n.value]}})}function v({address:t}){const{connection:e}=(0,s.w)(),r=(0,p.hx)(),i=(0,o.v)(),u=(0,h.jE)();return(0,d.n)({mutationKey:["transfer-sol",{endpoint:e.rpcEndpoint,address:t}],mutationFn:async r=>{let s="";try{const{transaction:o,latestBlockhash:u}=await async function({publicKey:t,destination:e,amount:r,connection:n}){const i=await n.getLatestBlockhash(),s=[a.yq.transfer({fromPubkey:t,toPubkey:e,lamports:r*a.Sr})],o=new a.wu({payerKey:t,recentBlockhash:i.blockhash,instructions:s}).compileToLegacyMessage(),u=new a.Kt(o);return{transaction:u,latestBlockhash:i}}({publicKey:t,destination:r.destination,amount:r.amount,connection:e});return s=await i.sendTransaction(o,e),await e.confirmTransaction((0,n.A)({signature:s},u),"confirmed"),console.log(s),s}catch(o){return void console.log("error",`Transaction failed! ${o}`,s)}},onSuccess:n=>(n&&r(n),Promise.all([u.invalidateQueries({queryKey:["get-balance",{endpoint:e.rpcEndpoint,address:t}]}),u.invalidateQueries({queryKey:["get-signatures",{endpoint:e.rpcEndpoint,address:t}]})])),onError:t=>{f.Ay.error(`Transaction failed! ${t}`)}})}function b({address:t}){const{connection:e}=(0,s.w)(),r=(0,p.hx)(),i=(0,h.jE)();return(0,d.n)({mutationKey:["airdrop",{endpoint:e.rpcEndpoint,address:t}],mutationFn:async(r=1)=>{const[i,s]=await Promise.all([e.getLatestBlockhash(),e.requestAirdrop(t,r*a.Sr)]);return await e.confirmTransaction((0,n.A)({signature:s},i),"confirmed"),s},onSuccess:n=>(r(n),Promise.all([i.invalidateQueries({queryKey:["get-balance",{endpoint:e.rpcEndpoint,address:t}]}),i.invalidateQueries({queryKey:["get-signatures",{endpoint:e.rpcEndpoint,address:t}]})]))})}const _=(0,i.createContext)({});function E(){return(0,i.useContext)(_)}function S({children:t}){const e=(0,o.v)().publicKey,[r,n]=(0,i.useState)(null),s=g({address:e}),u=w({address:e});(0,i.useEffect)((()=>{if(u.isLoading)n(null);else if(u.isSuccess)if(0===u.data.length)n({});else{const t={};u.data.forEach((e=>{const r=e.account.data.parsed.info.mint,n=e.pubkey.toString(),i=e.account.data.parsed.info.tokenAmount.uiAmountString;t[r]={address:n,amountAsFloat:i}})),!s.isLoading&&s.data&&(t.So11111111111111111111111111111111111111112||(t.So11111111111111111111111111111111111111112={address:e.toString(),amountAsFloat:(Math.round(s.data/a.Sr*1e5)/1e5).toString()})),n(t)}else console.error("Something went wrong fetching tokens"),n(null)}),[u.data]);const c={address:e,isLoading:u.isLoading,tokens:r,refetch:async()=>{await u.refetch()}};return(0,m.jsx)(_.Provider,{value:c,children:t})}},9758:(t,e,r)=>{"use strict";r.d(e,{w3:()=>p,xv:()=>k,v9:()=>y,hd:()=>m,w_:()=>w,Xn:()=>v});var n=r(8267),i=r(5067),s=(0,r(7185).A)("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]),o=r(720),a=r(3696),u=r(8036),c=r(6231),l=r(7371),h=r(3694),d=r(6756),f=r(2540);function p({address:t}){const e=(0,h.MP)({address:t});return(0,f.jsx)("div",{children:(0,f.jsxs)("h1",{className:"text-5xl font-bold cursor-pointer",onClick:()=>e.refetch(),children:[e.data?(0,f.jsx)(b,{balance:e.data}):"..."," SOL"]})})}function m(){const{publicKey:t}=(0,n.v)();return t?(0,f.jsx)(g,{address:t}):null}function g({address:t}){const{cluster:e}=(0,c.Gx)(),r=(0,h.u1)({address:t}),n=(0,h.MP)({address:t});return n.isLoading?null:n.isError||!n.data?(0,f.jsxs)("div",{className:"alert alert-warning text-warning-content/80 rounded-none flex justify-center",children:[(0,f.jsxs)("span",{children:["You are connected to ",(0,f.jsx)("strong",{children:e.name})," but your account is not found on this cluster."]}),(0,f.jsx)("button",{className:"btn btn-xs btn-neutral",onClick:()=>r.mutateAsync(1).catch((t=>console.log(t))),children:"Request Airdrop"})]}):null}function y({address:t}){var e,r;const i=(0,n.v)(),{cluster:s}=(0,c.Gx)(),[o,u]=(0,a.useState)(!1),[l,h]=(0,a.useState)(!1),[d,p]=(0,a.useState)(!1);return(0,f.jsxs)("div",{children:[(0,f.jsx)(E,{hide:()=>u(!1),address:t,show:o}),(0,f.jsx)(_,{address:t,show:l,hide:()=>h(!1)}),(0,f.jsx)(S,{address:t,show:d,hide:()=>p(!1)}),(0,f.jsxs)("div",{className:"space-x-2",children:[(0,f.jsx)("button",{disabled:null==(e=s.network)?void 0:e.includes("mainnet"),className:"btn btn-xs lg:btn-md btn-outline",onClick:()=>u(!0),children:"Airdrop"}),(0,f.jsx)("button",{disabled:(null==(r=i.publicKey)?void 0:r.toString())!==t.toString(),className:"btn btn-xs lg:btn-md btn-outline",onClick:()=>p(!0),children:"Send"}),(0,f.jsx)("button",{className:"btn btn-xs lg:btn-md btn-outline",onClick:()=>h(!0),children:"Receive"})]})]})}function w({address:t}){var e,r,n;const[i,c]=(0,a.useState)(!1),d=(0,h.$d)({address:t}),p=(0,o.jE)(),m=(0,a.useMemo)((()=>{var t;return i?d.data:null==(t=d.data)?void 0:t.slice(0,5)}),[d.data,i]);return(0,f.jsxs)("div",{className:"space-y-2",children:[(0,f.jsx)("div",{className:"justify-between",children:(0,f.jsxs)("div",{className:"flex justify-between",children:[(0,f.jsx)("h2",{className:"text-2xl font-bold",children:"Token Accounts"}),(0,f.jsx)("div",{className:"space-x-2",children:d.isLoading?(0,f.jsx)("span",{className:"loading loading-spinner"}):(0,f.jsx)("button",{className:"btn btn-sm btn-outline",onClick:async()=>{await d.refetch(),await p.invalidateQueries({queryKey:["getTokenAccountBalance"]})},children:(0,f.jsx)(s,{size:16})})})]})}),d.isError&&(0,f.jsxs)("pre",{className:"alert alert-error",children:["Error: ",null==(e=d.error)?void 0:e.message.toString()]}),d.isSuccess&&(0,f.jsx)("div",{children:0===d.data.length?(0,f.jsx)("div",{children:"No token accounts found."}):(0,f.jsxs)("table",{className:"table border-4 rounded-lg border-separate border-base-300",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"Public Key"}),(0,f.jsx)("th",{children:"Mint"}),(0,f.jsx)("th",{className:"text-right",children:"Balance"})]})}),(0,f.jsxs)("tbody",{children:[null==m?void 0:m.map((({account:t,pubkey:e})=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:(0,f.jsx)("div",{className:"flex space-x-2",children:(0,f.jsx)("span",{className:"font-mono",children:(0,f.jsx)(l.wq,{label:(0,u.qq)(e.toString()),path:`account/${e.toString()}`})})})}),(0,f.jsx)("td",{children:(0,f.jsx)("div",{className:"flex space-x-2",children:(0,f.jsx)("span",{className:"font-mono",children:(0,f.jsx)(l.wq,{label:(0,u.qq)(t.data.parsed.info.mint),path:`account/${t.data.parsed.info.mint.toString()}`})})})}),(0,f.jsx)("td",{className:"text-right",children:(0,f.jsx)("span",{className:"font-mono",children:t.data.parsed.info.tokenAmount.uiAmount})})]},e.toString()))),(null!=(r=null==(n=d.data)?void 0:n.length)?r:0)>5&&(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:4,className:"text-center",children:(0,f.jsx)("button",{className:"btn btn-xs btn-outline",onClick:()=>c(!i),children:i?"Show Less":"Show All"})})})]})]})})]})}function v({address:t}){var e,r,n;const i=(0,h.ry)({address:t}),[o,c]=(0,a.useState)(!1),d=(0,a.useMemo)((()=>{var t;return o?i.data:null==(t=i.data)?void 0:t.slice(0,5)}),[i.data,o]);return(0,f.jsxs)("div",{className:"space-y-2",children:[(0,f.jsxs)("div",{className:"flex justify-between",children:[(0,f.jsx)("h2",{className:"text-2xl font-bold",children:"Transaction History"}),(0,f.jsx)("div",{className:"space-x-2",children:i.isLoading?(0,f.jsx)("span",{className:"loading loading-spinner"}):(0,f.jsx)("button",{className:"btn btn-sm btn-outline",onClick:()=>i.refetch(),children:(0,f.jsx)(s,{size:16})})})]}),i.isError&&(0,f.jsxs)("pre",{className:"alert alert-error",children:["Error: ",null==(e=i.error)?void 0:e.message.toString()]}),i.isSuccess&&(0,f.jsx)("div",{children:0===i.data.length?(0,f.jsx)("div",{children:"No transactions found."}):(0,f.jsxs)("table",{className:"table border-4 rounded-lg border-separate border-base-300",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"Signature"}),(0,f.jsx)("th",{className:"text-right",children:"Slot"}),(0,f.jsx)("th",{children:"Block Time"}),(0,f.jsx)("th",{className:"text-right",children:"Status"})]})}),(0,f.jsxs)("tbody",{children:[null==d?void 0:d.map((t=>{var e;return(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"font-mono",children:(0,f.jsx)(l.wq,{path:`tx/${t.signature}`,label:(0,u.qq)(t.signature,8)})}),(0,f.jsx)("td",{className:"font-mono text-right",children:(0,f.jsx)(l.wq,{path:`block/${t.slot}`,label:t.slot.toString()})}),(0,f.jsx)("td",{children:new Date(1e3*(null!=(e=t.blockTime)?e:0)).toISOString()}),(0,f.jsx)("td",{className:"text-right",children:t.err?(0,f.jsx)("div",{className:"badge badge-error",title:JSON.stringify(t.err),children:"Failed"}):(0,f.jsx)("div",{className:"badge badge-success",children:"Success"})})]},t.signature)})),(null!=(r=null==(n=i.data)?void 0:n.length)?r:0)>5&&(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:4,className:"text-center",children:(0,f.jsx)("button",{className:"btn btn-xs btn-outline",onClick:()=>c(!o),children:o?"Show Less":"Show All"})})})]})]})})]})}function b({balance:t}){return(0,f.jsx)("span",{children:Math.round(t/i.Sr*1e5)/1e5})}function _({hide:t,show:e,address:r}){return(0,f.jsxs)(u.Vm,{title:"Receive",hide:t,show:e,children:[(0,f.jsx)("p",{children:"Receive assets by sending them to your public key:"}),(0,f.jsx)("code",{children:r.toString()})]})}function E({hide:t,show:e,address:r}){const n=(0,h.u1)({address:r}),[i,s]=(0,a.useState)("2");return(0,f.jsx)(u.Vm,{hide:t,show:e,title:"Airdrop",submitDisabled:!i||n.isPending,submitLabel:"Request Airdrop",submit:()=>n.mutateAsync(parseFloat(i)).then((()=>t())),children:(0,f.jsx)("input",{disabled:n.isPending,type:"number",step:"any",min:"1",placeholder:"Amount",className:"input input-bordered w-full",value:i,onChange:t=>s(t.target.value)})})}function S({hide:t,show:e,address:r}){const s=(0,n.v)(),o=(0,h.bQ)({address:r}),[c,l]=(0,a.useState)(""),[d,p]=(0,a.useState)("1");return r&&s.sendTransaction?(0,f.jsxs)(u.Vm,{hide:t,show:e,title:"Send",submitDisabled:!c||!d||o.isPending,submitLabel:"Send",submit:()=>{o.mutateAsync({destination:new i.J3(c),amount:parseFloat(d)}).then((()=>t()))},children:[(0,f.jsx)("input",{disabled:o.isPending,type:"text",placeholder:"Destination",className:"input input-bordered w-full",value:c,onChange:t=>l(t.target.value)}),(0,f.jsx)("input",{disabled:o.isPending,type:"number",step:"any",min:"1",placeholder:"Amount",className:"input input-bordered w-full",value:d,onChange:t=>p(t.target.value)})]}):(0,f.jsx)("div",{children:"Wallet not connected"})}function k({mintAddress:t,clickCallback:e}){const r=(0,h.F7)(),n=(0,d.NA)();let i="...";r.tokens&&(i=r.tokens[t.toString()]&&r.tokens[t.toString()].amountAsFloat?r.tokens[t.toString()].amountAsFloat:"0");const s=e&&r.tokens;return(0,f.jsxs)("span",{className:"text-sm "+(s?"cursor-pointer":""),onClick:()=>{s&&e(i)},children:[i," ",n.getSymbolByMintAddress(t.toString())]})}},6231:(t,e,r)=>{"use strict";r.d(e,{ZE:()=>L,_C:()=>H,Gx:()=>q});var n=r(3017),i=r(5067);let s=0;function o(t,e){const r="atom"+ ++s,n={toString:()=>r};return"function"==typeof t?n.read=t:(n.init=t,n.read=a,n.write=u),e&&(n.write=e),n}function a(t){return t(this)}function u(t,e,r){return e(this,"function"==typeof r?r(t(this)):r)}const c=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,l=t=>"init"in t,h=t=>!!t.write,d=new WeakMap,f=(t,e)=>{const r=d.get(t);r&&(d.delete(t),r(e))},p=(t,e)=>{t.status="fulfilled",t.value=e},m=(t,e)=>{t.status="rejected",t.reason=e},g=(t,e)=>!!t&&"v"in t&&"v"in e&&Object.is(t.v,e.v),y=(t,e)=>!!t&&"e"in t&&"e"in e&&Object.is(t.e,e.e),w=t=>!!t&&"v"in t&&t.v instanceof Promise,v=t=>{if("e"in t)throw t.e;return t.v},b=()=>{const t=new WeakMap,e=new WeakMap,r=[],n=new WeakMap;let i,s;i=new Set,s=new Set;const o=e=>t.get(e),a=(t,e)=>{e.d.forEach(((e,r)=>{if(!n.has(r)){const t=o(r);n.set(r,[t,new Set]),t&&a(r,t)}n.get(r)[1].add(t)}))},u=(e,i)=>{var s;Object.freeze(i);const u=o(e);if(t.set(e,i),null==(s=r[r.length-1])||s.add(e),n.has(e)||(n.set(e,[u,new Set]),a(e,i)),w(u)){const t="v"in i?i.v instanceof Promise?i.v:Promise.resolve(i.v):Promise.reject(i.e);u.v!==t&&f(u.v,t)}},b=(t,e,r,n)=>{const i=new Map(n?e.d:null);let s=!1;r.forEach(((r,n)=>{!r&&c(t,n)&&(r=e),r?(i.set(n,r),e.d.get(n)!==r&&(s=!0)):console.warn("[Bug] atom state not found")})),(s||e.d.size!==i.size)&&(e.d=i)},_=(t,e,r,n)=>{const i=o(t),s={d:(null==i?void 0:i.d)||new Map,v:e};if(r&&b(t,s,r,n),g(i,s)&&i.d===s.d)return i;if(w(i)&&w(s)&&(c=s,"v"in(a=i)&&"v"in c&&a.v.orig&&a.v.orig===c.v.orig)){if(i.d===s.d)return i;s.v=i.v}var a,c;return u(t,s),s},E=(t,r,n,i)=>{if("function"==typeof(null==(s=r)?void 0:s.then)){let s;const a=()=>{const r=o(t);if(!w(r)||r.v!==u)return;const i=_(t,u,n);e.has(t)&&r.d!==i.d&&R(t,i,r.d)},u=new Promise(((t,e)=>{let n=!1;r.then((e=>{n||(n=!0,p(u,e),t(e),a())}),(t=>{n||(n=!0,m(u,t),e(t),a())})),s=e=>{n||(n=!0,e.then((t=>p(u,t)),(t=>m(u,t))),t(e))}}));return u.orig=r,u.status="pending",((t,e)=>{d.set(t,e),t.catch((()=>{})).finally((()=>d.delete(t)))})(u,(t=>{t&&s(t),null==i||i()})),_(t,u,n,!0)}var s;return _(t,r,n)},S=(t,r)=>{const n=o(t);if(!(null==r?void 0:r(t))&&n){if(e.has(t))return n;if(Array.from(n.d).every((([e,n])=>{if(e===t)return!0;const i=S(e,r);return i===n||g(i,n)})))return n}const i=new Map;let s=!0;const a=e=>{if(c(t,e)){const t=o(e);if(t)return i.set(e,t),v(t);if(l(e))return i.set(e,void 0),e.init;throw new Error("no atom init")}const n=S(e,r);return i.set(e,n),v(n)};let d,f;const p={get signal(){return d||(d=new AbortController),d.signal},get setSelf(){return h(t)||console.warn("setSelf function cannot be used with read-only atom"),!f&&h(t)&&(f=(...e)=>{if(s&&console.warn("setSelf function cannot be called in sync"),!s)return M(t,...e)}),f}};try{const e=t.read(a,p);return E(t,e,i,(()=>null==d?void 0:d.abort()))}catch(m){return((t,e,r)=>{const n=o(t),i={d:(null==n?void 0:n.d)||new Map,e};return r&&b(t,i,r),y(n,i)&&n.d===i.d?n:(u(t,i),i)})(t,m,i)}finally{s=!1}},k=t=>v(S(t)),A=t=>{const r=new Array,i=new Set,s=t=>{if(!i.has(t)){i.add(t);for(const r of(t=>{var r,i;const s=new Set(null==(r=e.get(t))?void 0:r.t);return null==(i=n.get(t))||i[1].forEach((t=>{s.add(t)})),s})(t))t!==r&&s(r);r.push(t)}};s(t);const u=new Set([t]),c=t=>i.has(t);for(let e=r.length-1;e>=0;--e){const t=r[e],n=o(t);if(!n)continue;let s=!1;for(const e of n.d.keys())if(e!==t&&u.has(e)){s=!0;break}if(s){const e=S(t,c);a(t,e),g(n,e)||u.add(t)}i.delete(t)}},I=(t,...e)=>t.write((t=>v(S(t))),((e,...n)=>{const s=r.length>0;let a;if(s||r.push(new Set([e])),c(t,e)){if(!l(e))throw new Error("atom not writable");const t=o(e),r=E(e,n[0]);g(t,r)||A(e)}else a=I(e,...n);if(!s){const t=C(r.pop());i.forEach((e=>e({type:"async-write",flushed:t})))}return a}),...e),M=(t,...e)=>{r.push(new Set([t]));const n=I(t,...e),s=C(r.pop());return i.forEach((t=>t({type:"write",flushed:s}))),n},x=(t,r,n)=>{var i;const a=e.get(t);if(a)return r&&a.t.add(r),a;const u=n||[];null==(i=o(t))||i.d.forEach(((e,r)=>{r!==t&&x(r,t,u)})),S(t);const c={t:new Set(r&&[r]),l:new Set};if(e.set(t,c),s.add(t),h(t)&&t.onMount){const{onMount:e}=t;u.push((()=>{const r=e(((...e)=>M(t,...e)));r&&(c.u=r)}))}return n||u.forEach((t=>t())),c},T=(t,r)=>{if(!((t,e)=>!e.l.size&&(!e.t.size||1===e.t.size&&e.t.has(t)))(t,r))return;const n=r.u;n&&n(),e.delete(t),s.delete(t);const i=o(t);i?(w(i)&&f(i.v),i.d.forEach(((r,n)=>{if(n!==t){const r=e.get(n);r&&(r.t.delete(t),T(n,r))}}))):console.warn("[Bug] could not find atom state to unmount",t)},R=(t,r,n)=>{const i=new Set(r.d.keys()),s=new Set;null==n||n.forEach(((r,n)=>{if(i.has(n))return void i.delete(n);s.add(n);const o=e.get(n);o&&o.t.delete(t)})),i.forEach((e=>{x(e,t)})),s.forEach((t=>{const r=e.get(t);r&&T(t,r)}))},C=t=>{let r;r=new Set;const i=[],s=t=>{var e;if(!n.has(t))return;const[r,a]=n.get(t);n.delete(t),i.push([t,r]),a.forEach(s),null==(e=o(t))||e.d.forEach(((t,e)=>s(e)))};return t.forEach(s),i.forEach((([t,n])=>{const i=o(t);if(i){if(i!==n){const s=e.get(t);s&&i.d!==(null==n?void 0:n.d)&&R(t,i,null==n?void 0:n.d),s&&(w(n)||!g(n,i)&&!y(n,i))&&(s.l.forEach((t=>t())),r.add(t))}}else console.warn("[Bug] no atom state to flush")})),r},P=(t,e)=>{const r=x(t),n=C([t]),s=r.l;return s.add(e),i.forEach((t=>t({type:"sub",flushed:n}))),()=>{s.delete(e),T(t,r),i.forEach((t=>t({type:"unsub"})))}};return{get:k,set:M,sub:P,dev_subscribe_store:t=>(i.add(t),()=>{i.delete(t)}),dev_get_mounted_atoms:()=>s.values(),dev_get_atom_state:e=>t.get(e),dev_get_mounted:t=>e.get(t),dev_restore_atoms:t=>{r.push(new Set);for(const[r,n]of t)l(r)&&(E(r,n),A(r));const e=C(r.pop());i.forEach((t=>t({type:"restore",flushed:e})))}}};let _;Symbol("CONTINUE_PROMISE");const E=()=>(_||(_=b(),globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=_),globalThis.__JOTAI_DEFAULT_STORE__!==_&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044")),_);var S=r(3696);const k=(0,S.createContext)(void 0),A=t=>{const e=(0,S.useContext)(k);return(null==t?void 0:t.store)||e||E()},I=t=>"function"==typeof(null==t?void 0:t.then),M=S.use||(t=>{if("pending"===t.status)throw t;if("fulfilled"===t.status)return t.value;throw"rejected"===t.status?t.reason:(t.status="pending",t.then((e=>{t.status="fulfilled",t.value=e}),(e=>{t.status="rejected",t.reason=e})),t)});function x(t,e){const r=A(e),[[n,i,s],o]=(0,S.useReducer)((e=>{const n=r.get(t);return Object.is(e[0],n)&&e[1]===r&&e[2]===t?e:[n,r,t]}),void 0,(()=>[r.get(t),r,t]));let a=n;i===r&&s===t||(o(),a=r.get(t));const u=null==e?void 0:e.delay;return(0,S.useEffect)((()=>{const e=r.sub(t,(()=>{"number"!=typeof u?o():setTimeout(o,u)}));return o(),e}),[r,t,u]),(0,S.useDebugValue)(a),I(a)?M(a):a}function T(t,e){const r=A(e);return(0,S.useCallback)(((...e)=>{if(!("write"in t))throw new Error("not writable atom");return r.set(t,...e)}),[r,t])}const R=Symbol("RESET");const C=t=>"function"==typeof(null==t?void 0:t.then);const P=function(t=()=>{try{return window.localStorage}catch(t){return void("undefined"!=typeof window&&console.warn(t))}},e){var r;let n,i;const s={getItem:(r,s)=>{var o,a;const u=t=>{if(n!==(t=t||"")){try{i=JSON.parse(t,null==e?void 0:e.reviver)}catch(r){return s}n=t}return i},c=null!=(a=null==(o=t())?void 0:o.getItem(r))?a:null;return C(c)?c.then(u):u(c)},setItem:(r,n)=>{var i;return null==(i=t())?void 0:i.setItem(r,JSON.stringify(n,null==e?void 0:e.replacer))},removeItem:e=>{var r;return null==(r=t())?void 0:r.removeItem(e)}};let o;try{o=null==(r=t())?void 0:r.subscribe}catch(u){}var a;return!o&&"undefined"!=typeof window&&"function"==typeof window.addEventListener&&window.Storage&&(o=(e,r)=>{if(!(t()instanceof window.Storage))return()=>{};const n=n=>{n.storageArea===t()&&n.key===e&&r(n.newValue)};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}}),o&&(s.subscribe=(a=o,(t,e,r)=>a(t,(t=>{let n;try{n=JSON.parse(t||"")}catch(u){n=r}e(n)})))),s}();function O(t,e,r=P,n){const i=o((null==n?void 0:n.getOnInit)?r.getItem(t,e):e);i.debugPrivate=!0,i.onMount=n=>{let i;return n(r.getItem(t,e)),r.subscribe&&(i=r.subscribe(t,n,e)),i};return o((t=>t(i)),((n,s,o)=>{const a="function"==typeof o?o(n(i)):o;return a===R?(s(i,e),r.removeItem(t)):a instanceof Promise?a.then((e=>(s(i,e),r.setItem(t,e)))):(s(i,a),r.setItem(t,a))}))}var N=r(6824),B=r(2540);let L=function(t){return t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet",t.Custom="custom",t}({});const D=[{name:"mainnet",endpoint:"https://multi-fragrant-dream.solana-mainnet.quiknode.pro/391fe167c5e545dc9cd8335f208e250e7dc59ed7"}],U=O("solana-cluster",D[0]),F=O("solana-clusters",D),z=o((t=>{const e=t(F),r=t(U);return e.map((t=>(0,n.A)({},t,{active:t.name===r.name})))})),j=o((t=>{const e=t(z);return e.find((t=>t.active))||e[0]})),V=(0,S.createContext)({});function H({children:t}){const e=x(j),r=x(z),n=T(U),s=T(F),o={cluster:e,clusters:r.sort(((t,e)=>t.name>e.name?1:-1)),addCluster:t=>{try{new i.Ng(t.endpoint),s([...r,t])}catch(e){N.Ay.error(`${e}`)}},deleteCluster:t=>{s(r.filter((e=>e.name!==t.name)))},setCluster:t=>n(t),getExplorerUrl:t=>`https://explorer.solana.com/${t}${function(t){let e="";switch(t.network){case L.Devnet:e="devnet";break;case L.Mainnet:e="";break;case L.Testnet:e="testnet";break;default:e=`custom&customUrl=${encodeURIComponent(t.endpoint)}`}return e.length?`?cluster=${e}`:""}(e)}`};return(0,B.jsx)(V.Provider,{value:o,children:t})}function q(){return(0,S.useContext)(V)}},7371:(t,e,r)=>{"use strict";r.d(e,{m:()=>d,s3:()=>f,xC:()=>p,wq:()=>h});var n=r(3530),i=(0,r(7185).A)("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]),s=r(7073),o=r(3696),a=r(8036),u=r(6231),c=r(5067),l=r(2540);function h({path:t,label:e,className:r}){const{getExplorerUrl:n}=(0,u.Gx)();return(0,l.jsx)("a",{href:n(t),target:"_blank",rel:"noopener noreferrer",className:r||"link font-mono",children:e})}function d({children:t}){const{cluster:e}=(0,u.Gx)(),{connection:r}=(0,n.w)(),i=(0,s.I)({queryKey:["version",{cluster:e,endpoint:r.rpcEndpoint}],queryFn:()=>r.getVersion(),retry:1});return i.isLoading?null:i.isError||!i.data?(0,l.jsxs)("div",{className:"alert alert-warning text-warning-content/80 rounded-none flex justify-center",children:[(0,l.jsxs)("span",{children:["Error connecting to cluster ",(0,l.jsx)("strong",{children:e.name})]}),(0,l.jsx)("button",{className:"btn btn-xs btn-neutral",onClick:()=>i.refetch(),children:"Refresh"})]}):t}function f({hideModal:t,show:e}){const{addCluster:r}=(0,u.Gx)(),[n,i]=(0,o.useState)(""),[s,h]=(0,o.useState)(),[d,f]=(0,o.useState)("");return(0,l.jsxs)(a.Vm,{title:"Add Cluster",hide:t,show:e,submit:()=>{try{new c.Ng(d),n?(r({name:n,network:s,endpoint:d}),t()):console.log("Invalid cluster name")}catch(e){console.log("Invalid cluster endpoint")}},submitLabel:"Save",children:[(0,l.jsx)("input",{type:"text",placeholder:"Name",className:"input input-bordered w-full",value:n,onChange:t=>i(t.target.value)}),(0,l.jsx)("input",{type:"text",placeholder:"Endpoint",className:"input input-bordered w-full",value:d,onChange:t=>f(t.target.value)}),(0,l.jsxs)("select",{className:"select select-bordered w-full",value:s,onChange:t=>h(t.target.value),children:[(0,l.jsx)("option",{value:void 0,children:"Select a network"}),(0,l.jsx)("option",{value:u.ZE.Devnet,children:"Devnet"}),(0,l.jsx)("option",{value:u.ZE.Testnet,children:"Testnet"}),(0,l.jsx)("option",{value:u.ZE.Mainnet,children:"Mainnet"})]})]})}function p(){const{clusters:t,setCluster:e,deleteCluster:r}=(0,u.Gx)();return(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"table border-4 border-separate border-base-300",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Name/ Network / Endpoint"}),(0,l.jsx)("th",{className:"text-center",children:"Actions"})]})}),(0,l.jsx)("tbody",{children:t.map((t=>{var n;return(0,l.jsxs)("tr",{className:null!=t&&t.active?"bg-base-200":"",children:[(0,l.jsxs)("td",{className:"space-y-2",children:[(0,l.jsx)("div",{className:"whitespace-nowrap space-x-2",children:(0,l.jsx)("span",{className:"text-xl",children:null!=t&&t.active?t.name:(0,l.jsx)("button",{title:"Select cluster",className:"link link-secondary",onClick:()=>e(t),children:t.name})})}),(0,l.jsxs)("span",{className:"text-xs",children:["Network: ",null!=(n=t.network)?n:"custom"]}),(0,l.jsx)("div",{className:"whitespace-nowrap text-gray-500 text-xs",children:t.endpoint})]}),(0,l.jsx)("td",{className:"space-x-2 whitespace-nowrap text-center",children:(0,l.jsx)("button",{disabled:null==t?void 0:t.active,className:"btn btn-xs btn-default btn-outline",onClick:()=>{window.confirm("Are you sure?")&&r(t)},children:(0,l.jsx)(i,{size:16})})})]},t.name)}))})]})})}},9682:(t,e,r)=>{"use strict";r.d(e,{g:()=>_e,U:()=>be});var n=r(5067),i=r(3696),s=r(3530);const o=({children:t,endpoint:e,config:r={commitment:"confirmed"}})=>{const o=(0,i.useMemo)((()=>new n.Ng(e,r)),[e,r]);return i.createElement(s.E.Provider,{value:{connection:o}},t)};var a,u=r(8411),c=r.n(u);class WalletError extends Error{constructor(t,e){super(t),this.error=e}}class WalletNotReadyError extends WalletError{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class WalletConfigError extends WalletError{constructor(){super(...arguments),this.name="WalletConfigError"}}class WalletConnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletConnectionError"}}class WalletDisconnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class WalletDisconnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class WalletAccountError extends WalletError{constructor(){super(...arguments),this.name="WalletAccountError"}}class WalletPublicKeyError extends WalletError{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class WalletNotConnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class WalletSendTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class WalletSignTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class WalletSignMessageError extends WalletError{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class WalletSignInError extends WalletError{constructor(){super(...arguments),this.name="WalletSignInError"}}!function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"}(a||(a={}));class BaseWalletAdapter extends(c()){get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,r={}){const n=this.publicKey;if(!n)throw new WalletNotConnectedError;return t.feePayer=t.feePayer||n,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}}function l(t){return"version"in t}class BaseSignerWalletAdapter extends BaseWalletAdapter{async sendTransaction(t,e,r={}){let n=!0;try{if(l(t)){if(!this.supportedTransactionVersions)throw new WalletSendTransactionError("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new WalletSendTransactionError(`Sending transaction version ${t.version} isn't supported by this wallet`);try{const n=(t=await this.signTransaction(t)).serialize();return await e.sendRawTransaction(n,r)}catch(i){if(i instanceof WalletSignTransactionError)throw n=!1,i;throw new WalletSendTransactionError(i?.message,i)}}else try{const{signers:n,...i}=r;t=await this.prepareTransaction(t,e,i),n?.length&&t.partialSign(...n);const s=(t=await this.signTransaction(t)).serialize();return await e.sendRawTransaction(s,i)}catch(i){if(i instanceof WalletSignTransactionError)throw n=!1,i;throw new WalletSendTransactionError(i?.message,i)}}catch(i){throw n&&this.emit("error",i),i}}async signAllTransactions(t){for(const r of t)if(l(r)){if(!this.supportedTransactionVersions)throw new WalletSignTransactionError("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new WalletSignTransactionError(`Signing transaction version ${r.version} isn't supported by this wallet`)}const e=[];for(const r of t)e.push(await this.signTransaction(r));return e}}class BaseMessageSignerWalletAdapter extends BaseSignerWalletAdapter{}class BaseSignInMessageSignerWalletAdapter extends BaseMessageSignerWalletAdapter{}new RegExp("^(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n(?<address>[^\\n]+)(?:\\n|$)(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??(?:\\nURI: (?<uri>[^\\n]+))?(?:\\nVersion: (?<version>[^\\n]+))?(?:\\nChain ID: (?<chainId>[^\\n]+))?(?:\\nNonce: (?<nonce>[^\\n]+))?(?:\\nIssued At: (?<issuedAt>[^\\n]+))?(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?(?:\\nNot Before: (?<notBefore>[^\\n]+))?(?:\\nRequest ID: (?<requestId>[^\\n]+))?(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?\\n*$");function h(t){let e=`${t.domain} wants you to sign in with your Solana account:\n`;e+=`${t.address}`,t.statement&&(e+=`\n\n${t.statement}`);const r=[];if(t.uri&&r.push(`URI: ${t.uri}`),t.version&&r.push(`Version: ${t.version}`),t.chainId&&r.push(`Chain ID: ${t.chainId}`),t.nonce&&r.push(`Nonce: ${t.nonce}`),t.issuedAt&&r.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&r.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&r.push(`Not Before: ${t.notBefore}`),t.requestId&&r.push(`Request ID: ${t.requestId}`),t.resources){r.push("Resources:");for(const e of t.resources)r.push(`- ${e}`)}return r.length&&(e+=`\n\n${r.join("\n")}`),e}const d="ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",f="ERROR_FORBIDDEN_WALLET_BASE_URL",p="ERROR_SECURE_CONTEXT_REQUIRED",m="ERROR_SESSION_CLOSED",g="ERROR_SESSION_TIMEOUT",y="ERROR_WALLET_NOT_FOUND",w="ERROR_INVALID_PROTOCOL_VERSION";class SolanaMobileWalletAdapterError extends Error{constructor(...t){const[e,r,n]=t;super(r),this.code=e,this.data=n,this.name="SolanaMobileWalletAdapterError"}}class SolanaMobileWalletAdapterProtocolError extends Error{constructor(...t){const[e,r,n,i]=t;super(n),this.code=r,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function v(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(e){s(e)}}function a(t){try{u(n.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))}function b(t){return e=function(t){return h(t)}(t),window.btoa(e);var e}const _="solana:signTransactions",E="solana:cloneAuthorization";function S(t,e){return new Proxy({},{get:(r,n)=>(null==r[n]&&(r[n]=function(r){return v(this,void 0,void 0,(function*(){const{method:i,params:s}=function(t,e,r){let n=e,i=t.toString().replace(/[A-Z]/g,(t=>`_${t.toLowerCase()}`)).toLowerCase();switch(t){case"authorize":{let{chain:t}=n;if("legacy"===r){switch(t){case"solana:testnet":t="testnet";break;case"solana:devnet":t="devnet";break;case"solana:mainnet":t="mainnet-beta";break;default:t=n.cluster}n.cluster=t}else{switch(t){case"testnet":case"devnet":t=`solana:${t}`;break;case"mainnet-beta":t="solana:mainnet"}n.chain=t}}case"reauthorize":{const{auth_token:t,identity:e}=n;if(t)if("legacy"===r)i="reauthorize",n={auth_token:t,identity:e};else i="authorize";break}}return{method:i,params:n}}(n,r,t),o=yield e(i,s);return"authorize"===i&&s.sign_in_payload&&!o.sign_in_result&&(o.sign_in_result=yield function(t,e,r){var n;return v(this,void 0,void 0,(function*(){const i=null!==(n=t.domain)&&void 0!==n?n:window.location.host,s=e.accounts[0].address,o=b(Object.assign(Object.assign({},t),{domain:i,address:s}));return{address:s,signed_message:o,signature:(yield r("sign_messages",{addresses:[s],payloads:[o]})).signed_payloads[0].slice(o.length)}}))}(s.sign_in_payload,o,e)),function(t,e,r){if("getCapabilities"===t){const t=e;switch(r){case"legacy":{const e=[_];return!0===t.supports_clone_authorization&&e.push(E),Object.assign(Object.assign({},t),{features:e})}case"v1":return Object.assign(Object.assign({},t),{supports_sign_and_send_transactions:!0,supports_clone_authorization:t.features.includes(E)})}}return e}(n,o,t)}))}),r[n]),defineProperty:()=>!1,deleteProperty:()=>!1})}function k(t,e,r){return v(this,void 0,void 0,(function*(){const n=function(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}(e),i=new Uint8Array(12);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(I(n,i),r,(new TextEncoder).encode(t)),o=new Uint8Array(n.byteLength+i.byteLength+s.byteLength);return o.set(new Uint8Array(n),0),o.set(new Uint8Array(i),n.byteLength),o.set(new Uint8Array(s),n.byteLength+i.byteLength),o}))}function A(t,e){return v(this,void 0,void 0,(function*(){const r=t.slice(0,4),n=t.slice(4,16),i=t.slice(16),s=yield crypto.subtle.decrypt(I(r,n),e,i);return function(){void 0===M&&(M=new TextDecoder("utf-8"));return M}().decode(s)}))}function I(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let M;function x(t){if(t<49152||t>65535)throw new SolanaMobileWalletAdapterError(d,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function T(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function R(t,e,r,n=["v1"]){return v(this,void 0,void 0,(function*(){const i=x(e),s=function(t){let e="";const r=new Uint8Array(t),n=r.byteLength;for(let i=0;i<n;i++)e+=String.fromCharCode(r[i]);return window.btoa(e)}(yield crypto.subtle.exportKey("raw",t)),o=function(t,e){let r=null;if(e){try{r=new URL(e)}catch(i){}if("https:"!==(null==r?void 0:r.protocol))throw new SolanaMobileWalletAdapterError(f,"Base URLs supplied by wallets must be valid `https` URLs")}r||(r=new URL("solana-wallet:/"));const n=t.startsWith("/")?t:[...T(r.pathname),...T(t)].join("/");return new URL(n,r)}("v1/associate/local",r);return o.searchParams.set("association",s.replace(/[/+=]/g,(t=>({"/":"_","+":"-","=":"."}[t])))),o.searchParams.set("port",`${i}`),n.forEach((t=>{o.searchParams.set("v",t)})),o}))}const C=0,P=1;let O=null;function N(t,e){return v(this,void 0,void 0,(function*(){const r=x(49152+Math.floor(16384*Math.random())),n=yield R(t,r,e);if("https:"===n.protocol)window.location.assign(n);else try{const t=-1!==navigator.userAgent.indexOf("Firefox/")?C:P;switch(t){case C:i=n,null==O&&(O=document.createElement("iframe"),O.style.display="none",document.body.appendChild(O)),O.contentWindow.location.href=i.toString();break;case P:{const t=new Promise(((t,e)=>{function r(){clearTimeout(i),window.removeEventListener("blur",n)}function n(){r(),t()}window.addEventListener("blur",n);const i=setTimeout((()=>{r(),e()}),2e3)}));window.location.assign(n),yield t;break}}}catch(s){throw new SolanaMobileWalletAdapterError(y,"Found no installed wallet that supports the mobile wallet protocol.")}var i;return r}))}const B={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4};function L(t){return new DataView(t).getUint32(0,!1)}function D(t,e){return v(this,void 0,void 0,(function*(){!function(){if("undefined"==typeof window||!0!==window.isSecureContext)throw new SolanaMobileWalletAdapterError(p,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}();const r=yield function(){return v(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}))}(),n=yield N(r.publicKey,null==e?void 0:e.baseUri),i=`ws://localhost:${n}/solana-wallet`;let s;const o=(()=>{const t=[...B.retryDelayScheduleMs];return()=>t.length>1?t.shift():t[0]})();let a=1,u=0,c={__type:"disconnected"};return new Promise(((e,l)=>{let h;const d={},p=()=>v(this,void 0,void 0,(function*(){if("connecting"!==c.__type)return void console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${c.__type}\`.`);const{associationKeypair:t}=c;h.removeEventListener("open",p);const e=yield function(){return v(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])}))}();h.send(yield function(t,e){return v(this,void 0,void 0,(function*(){const r=yield crypto.subtle.exportKey("raw",t),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,r),i=new Uint8Array(r.byteLength+n.byteLength);return i.set(new Uint8Array(r),0),i.set(new Uint8Array(n),r.byteLength),i}))}(e.publicKey,t.privateKey)),c={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:e.privateKey}})),y=t=>{t.wasClean?c={__type:"disconnected"}:l(new SolanaMobileWalletAdapterError(m,`The wallet session dropped unexpectedly (${t.code}: ${t.reason}).`,{closeEvent:t})),E()},b=t=>v(this,void 0,void 0,(function*(){E(),Date.now()-s>=B.timeoutMs?l(new SolanaMobileWalletAdapterError(g,`Failed to connect to the wallet websocket on port ${n}.`)):(yield new Promise((t=>{const e=o();I=window.setTimeout(t,e)})),M())})),_=r=>v(this,void 0,void 0,(function*(){const n=yield r.data.arrayBuffer();switch(c.__type){case"connected":try{const t=L(n.slice(0,4));if(t!==u+1)throw new Error("Encrypted message has invalid sequence number");u=t;const e=yield function(t,e){return v(this,void 0,void 0,(function*(){const r=yield A(t,e),n=JSON.parse(r);if(Object.hasOwnProperty.call(n,"error"))throw new SolanaMobileWalletAdapterProtocolError(n.id,n.error.code,n.error.message);return n}))}(n,c.sharedSecret),r=d[e.id];delete d[e.id],r.resolve(e.result)}catch(i){if(!(i instanceof SolanaMobileWalletAdapterProtocolError))throw i;{const t=d[i.jsonRpcMessageId];delete d[i.jsonRpcMessageId],t.reject(i)}}break;case"hello_req_sent":{const r=yield function(t,e,r){return v(this,void 0,void 0,(function*(){const[n,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,65),{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},r,256),o=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])}))}(n,c.associationPublicKey,c.ecdhPrivateKey),s=n.slice(65),o=0!==s.byteLength?yield(()=>v(this,void 0,void 0,(function*(){const t=L(s.slice(0,4));if(t!==u+1)throw new Error("Encrypted message has invalid sequence number");return u=t,function(t,e){return v(this,void 0,void 0,(function*(){const r=yield A(t,e),n=JSON.parse(r);let i="legacy";if(Object.hasOwnProperty.call(n,"v"))switch(n.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new SolanaMobileWalletAdapterError(w,`Unknown/unsupported protocol version: ${n.v}`)}return{protocol_version:i}}))}(s,r)})))():{protocol_version:"legacy"};c={__type:"connected",sharedSecret:r,sessionProperties:o};const p=S(o.protocol_version,((t,e)=>v(this,void 0,void 0,(function*(){const n=a++;return h.send(yield function(t,e){return v(this,void 0,void 0,(function*(){return k(JSON.stringify(t),t.id,e)}))}({id:n,jsonrpc:"2.0",method:t,params:null!=e?e:{}},r)),new Promise(((e,r)=>{d[n]={resolve(n){switch(t){case"authorize":case"reauthorize":{const{wallet_uri_base:t}=n;if(null!=t)try{!function(t){let e;try{e=new URL(t)}catch(r){throw new SolanaMobileWalletAdapterError(f,"Invalid base URL supplied by wallet")}if("https:"!==e.protocol)throw new SolanaMobileWalletAdapterError(f,"Base URLs supplied by wallets must be valid `https` URLs")}(t)}catch(i){return void r(i)}break}}e(n)},reject:r}}))}))));try{e(yield t(p))}catch(i){l(i)}finally{E(),h.close()}break}}}));let E,I;const M=()=>{E&&E(),c={__type:"connecting",associationKeypair:r},void 0===s&&(s=Date.now()),h=new WebSocket(i,["com.solana.mobilewalletadapter.v1"]),h.addEventListener("open",p),h.addEventListener("close",y),h.addEventListener("error",b),h.addEventListener("message",_),E=()=>{window.clearTimeout(I),h.removeEventListener("open",p),h.removeEventListener("close",y),h.removeEventListener("error",b),h.removeEventListener("message",_)}};M()}))}))}var U=r(463),F=r.n(U);function z(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function j(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(e){s(e)}}function a(t){try{u(n.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))}function V(t){return window.btoa(String.fromCharCode.call(null,...t))}function H(t){return new Uint8Array(window.atob(t).split("").map((t=>t.charCodeAt(0))))}function q(t){return V("version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}function K(t){const e=t[0]*n.P3+1;return"legacy"===n.B2.deserializeMessageVersion(t.slice(e,t.length))?n.ZX.from(t):n.Kt.deserialize(t)}function W(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(e){s(e)}}function a(t){try{u(n.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))}function $(t){return new Uint8Array(window.atob(t).split("").map((t=>t.charCodeAt(0))))}const Z="Mobile Wallet Adapter";function G(t){return"version"in t}class SolanaMobileWalletAdapter extends BaseSignInMessageSignerWalletAdapter{constructor(t){var e;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=Z,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState="undefined"!=typeof window&&window.isSecureContext&&"undefined"!=typeof document&&/android/i.test(navigator.userAgent)?a.Loadable:a.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=null!==(e=t.chain)&&void 0!==e?e:t.cluster,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==a.Unsupported&&this._authorizationResultCache.get().then((t=>{t&&this.declareWalletAsInstalled()}))}get publicKey(){if(null==this._publicKey&&null!=this._selectedAddress)try{this._publicKey=function(t){const e=$(t);return new n.J3(e)}(this._selectedAddress)}catch(t){throw new WalletPublicKeyError(t instanceof Error&&(null==t?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==a.Installed&&this.emit("readyStateChange",this._readyState=a.Installed)}runWithGuard(t){return W(this,void 0,void 0,(function*(){try{return yield t()}catch(e){throw this.emit("error",e),e}}))}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return W(this,void 0,void 0,(function*(){return yield this.autoConnect()}))}autoConnect(){return W(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>W(this,void 0,void 0,(function*(){if(this._readyState!==a.Installed&&this._readyState!==a.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new WalletConnectionError(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))))}))}connect(){return W(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>W(this,void 0,void 0,(function*(){if(this._readyState!==a.Installed&&this._readyState!==a.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new WalletConnectionError(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))))}))}performAuthorization(t){return W(this,void 0,void 0,(function*(){try{const e=yield this._authorizationResultCache.get();return e?(this.handleAuthorizationResult(e),e):yield this.transact((e=>W(this,void 0,void 0,(function*(){const r=yield e.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)]),r}))))}catch(e){throw new WalletConnectionError(e instanceof Error&&e.message||"Unknown error",e)}}))}handleAuthorizationResult(t){var e;return W(this,void 0,void 0,(function*(){const r=null==this._authorizationResult||(null===(e=this._authorizationResult)||void 0===e?void 0:e.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some(((e,r)=>e.address!==t.accounts[r].address));if(this._authorizationResult=t,this.declareWalletAsInstalled(),r){const e=yield this._addressSelector.select(t.accounts.map((({address:t})=>t)));e!==this._selectedAddress&&(this._selectedAddress=e,delete this._publicKey,this.emit("connect",this.publicKey))}}))}performReauthorization(t,e){return W(this,void 0,void 0,(function*(){try{const r=yield t.authorize({auth_token:e,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)])}catch(r){throw this.disconnect(),new WalletDisconnectedError(r instanceof Error&&(null==r?void 0:r.message)||"Unknown error",r)}}))}disconnect(){return W(this,void 0,void 0,(function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")}))}transact(t){var e;return W(this,void 0,void 0,(function*(){const r=null===(e=this._authorizationResult)||void 0===e?void 0:e.wallet_uri_base,n=r?{baseUri:r}:void 0,i=this._connectionGeneration;try{return yield function(t,e){return j(this,void 0,void 0,(function*(){return yield D((e=>{const r=new Proxy({},{get(t,r){if(null==t[r])switch(r){case"signAndSendTransactions":t[r]=function(t){var{minContextSlot:r,commitment:n,skipPreflight:i,maxRetries:s,waitForCommitmentToSendNextTransaction:o,transactions:a}=t,u=z(t,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return j(this,void 0,void 0,(function*(){const t=a.map(q),c={min_context_slot:r,commitment:n,skip_preflight:i,max_retries:s,wait_for_commitment_to_send_next_transaction:o},{signatures:l}=yield e.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},u),Object.values(c).some((t=>null!=t))?{options:c}:null),{payloads:t}));return l.map(H).map(F().encode)}))};break;case"signMessages":t[r]=function(t){var{payloads:r}=t,n=z(t,["payloads"]);return j(this,void 0,void 0,(function*(){const t=r.map(V),{signed_payloads:i}=yield e.signMessages(Object.assign(Object.assign({},n),{payloads:t}));return i.map(H)}))};break;case"signTransactions":t[r]=function(t){var{transactions:r}=t,n=z(t,["transactions"]);return j(this,void 0,void 0,(function*(){const t=r.map(q),{signed_payloads:i}=yield e.signTransactions(Object.assign(Object.assign({},n),{payloads:t}));return i.map(H).map(K)}))};break;default:t[r]=e[r]}return t[r]},defineProperty:()=>!1,deleteProperty:()=>!1});return t(r)}),e)}))}(t,n)}catch(s){throw this._connectionGeneration!==i&&(yield new Promise((()=>{}))),s instanceof Error&&"SolanaMobileWalletAdapterError"===s.name&&"ERROR_WALLET_NOT_FOUND"===s.code&&(yield this._onWalletNotFound(this)),s}}))}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new WalletNotConnectedError;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return W(this,void 0,void 0,(function*(){const{authToken:e}=this.assertIsAuthorized();try{return yield this.transact((r=>W(this,void 0,void 0,(function*(){yield this.performReauthorization(r,e);return yield r.signTransactions({transactions:t})}))))}catch(r){throw new WalletSignTransactionError(null==r?void 0:r.message,r)}}))}sendTransaction(t,e,r){return W(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>W(this,void 0,void 0,(function*(){const{authToken:n}=this.assertIsAuthorized(),i=null==r?void 0:r.minContextSlot;try{return yield this.transact((s=>W(this,void 0,void 0,(function*(){function o(){let t,n;switch(e.commitment){case"confirmed":case"finalized":case"processed":t=e.commitment;break;default:t="finalized"}switch(null==r?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":n=r.preflightCommitment;break;case void 0:n=t;break;default:n="finalized"}return("finalized"===n?2:"confirmed"===n?1:0)<("finalized"===t?2:"confirmed"===t?1:0)?n:t}const[a,u,c]=yield Promise.all([s.getCapabilities(),this.performReauthorization(s,n),G(t)?null:(()=>W(this,void 0,void 0,(function*(){var r;if(t.feePayer||(t.feePayer=null!==(r=this.publicKey)&&void 0!==r?r:void 0),null==t.recentBlockhash){const{blockhash:r}=yield e.getLatestBlockhash({commitment:o()});t.recentBlockhash=r}})))()]);if(a.supports_sign_and_send_transactions){return(yield s.signAndSendTransactions({minContextSlot:i,transactions:[t]}))[0]}{const[n]=yield s.signTransactions({transactions:[t]});if(G(n))return yield e.sendTransaction(n);{const t=n.serialize();return yield e.sendRawTransaction(t,Object.assign(Object.assign({},r),{preflightCommitment:o()}))}}}))))}catch(s){throw new WalletSendTransactionError(null==s?void 0:s.message,s)}}))))}))}signTransaction(t){return W(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>W(this,void 0,void 0,(function*(){const[e]=yield this.performSignTransactions([t]);return e}))))}))}signAllTransactions(t){return W(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>W(this,void 0,void 0,(function*(){return yield this.performSignTransactions(t)}))))}))}signMessage(t){return W(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>W(this,void 0,void 0,(function*(){const{authToken:e,selectedAddress:r}=this.assertIsAuthorized();try{return yield this.transact((n=>W(this,void 0,void 0,(function*(){yield this.performReauthorization(n,e);const[i]=yield n.signMessages({addresses:[r],payloads:[t]});return i.slice(-64)}))))}catch(n){throw new WalletSignMessageError(null==n?void 0:n.message,n)}}))))}))}signIn(t){return W(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>W(this,void 0,void 0,(function*(){var e,r;if(this._readyState!==a.Installed&&this._readyState!==a.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{const n=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:null!==(e=null==t?void 0:t.domain)&&void 0!==e?e:window.location.host}));if(!n.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=n.sign_in_result.address;return{account:Object.assign(Object.assign({},null!==(r=n.accounts.find((t=>t.address==i)))&&void 0!==r?r:{address:i}),{publicKey:$(i)}),signedMessage:$(n.sign_in_result.signed_message),signature:$(n.sign_in_result.signature)}}catch(n){throw new WalletConnectionError(n instanceof Error&&n.message||"Unknown error",n)}finally{this._connecting=!1}}))))}))}}const Q="SolanaMobileWalletAdapterDefaultAuthorizationCache";function J(){let t;try{t=window.localStorage}catch(e){}return{clear(){return W(this,void 0,void 0,(function*(){if(t)try{t.removeItem(Q)}catch(e){}}))},get(){return W(this,void 0,void 0,(function*(){if(t)try{return JSON.parse(t.getItem(Q))||void 0}catch(e){}}))},set(r){return W(this,void 0,void 0,(function*(){if(t)try{t.setItem(Q,JSON.stringify(r))}catch(e){}}))}}}function Y(t){return W(this,void 0,void 0,(function*(){"undefined"!=typeof window&&window.location.assign(t.url)}))}const X="solana:signAndSendTransaction",tt="solana:signTransaction",et="standard:connect",rt="standard:events";const nt=function(t){return et in t.features&&rt in t.features&&(X in t.features||tt in t.features)},it="solana:signMessage",st="solana:signIn",ot="solana:mainnet",at="solana:devnet",ut="solana:testnet",ct="solana:localnet";const lt="https://api.mainnet-beta.solana.com";function ht(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const dt="standard:disconnect";function ft(t,e){if(t===e)return!0;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap;var pt,mt,gt,yt,wt,vt,bt,_t,Et,St,kt,At,It,Mt,xt,Tt,Rt,Ct,Pt=function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r},Ot=function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)};class StandardWalletAdapter extends BaseWalletAdapter{constructor({wallet:t}){super(),pt.add(this),mt.set(this,void 0),gt.set(this,void 0),yt.set(this,void 0),wt.set(this,void 0),vt.set(this,void 0),bt.set(this,void 0),_t.set(this,void 0),Et.set(this,"undefined"==typeof window||"undefined"==typeof document?a.Unsupported:a.Installed),Mt.set(this,(t=>{if("accounts"in t){const t=Ot(this,_t,"f").accounts[0];Ot(this,mt,"f")&&!Ot(this,wt,"f")&&t!==Ot(this,mt,"f")&&(t?Ot(this,pt,"m",kt).call(this,t):(this.emit("error",new WalletDisconnectedError),Ot(this,pt,"m",At).call(this)))}"features"in t&&Ot(this,pt,"m",It).call(this)})),Pt(this,_t,t,"f"),Pt(this,mt,null,"f"),Pt(this,gt,null,"f"),Pt(this,yt,!1,"f"),Pt(this,wt,!1,"f"),Pt(this,vt,Ot(this,_t,"f").features[rt].on("change",Ot(this,Mt,"f")),"f"),Ot(this,pt,"m",It).call(this)}get name(){return Ot(this,_t,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Ot(this,_t,"f").icon}get readyState(){return Ot(this,Et,"f")}get publicKey(){return Ot(this,gt,"f")}get connecting(){return Ot(this,yt,"f")}get supportedTransactionVersions(){return Ot(this,bt,"f")}get wallet(){return Ot(this,_t,"f")}get standard(){return!0}destroy(){Pt(this,mt,null,"f"),Pt(this,gt,null,"f"),Pt(this,yt,!1,"f"),Pt(this,wt,!1,"f");const t=Ot(this,vt,"f");t&&(Pt(this,vt,null,"f"),t())}async autoConnect(){return Ot(this,pt,"m",St).call(this,{silent:!0})}async connect(){return Ot(this,pt,"m",St).call(this)}async disconnect(){if(dt in Ot(this,_t,"f").features)try{Pt(this,wt,!0,"f"),await Ot(this,_t,"f").features[dt].disconnect()}catch(t){this.emit("error",new WalletDisconnectionError(t?.message,t))}finally{Pt(this,wt,!1,"f")}Ot(this,pt,"m",At).call(this)}async sendTransaction(t,e,r={}){try{const s=Ot(this,mt,"f");if(!s)throw new WalletNotConnectedError;let o;if(X in Ot(this,_t,"f").features)if(s.features.includes(X))o=X;else{if(!(tt in Ot(this,_t,"f").features)||!s.features.includes(tt))throw new WalletAccountError;o=tt}else{if(!(tt in Ot(this,_t,"f").features))throw new WalletConfigError;if(!s.features.includes(tt))throw new WalletAccountError;o=tt}const a=(n=e.rpcEndpoint).includes(lt)?ot:/\bdevnet\b/i.test(n)?at:/\btestnet\b/i.test(n)?ut:/\blocalhost\b/i.test(n)||/\b127\.0\.0\.1\b/.test(n)?ct:ot;if(!s.chains.includes(a))throw new WalletSendTransactionError;try{const{signers:n,...i}=r;let u;if(l(t)?(n?.length&&t.sign(n),u=t.serialize()):(t=await this.prepareTransaction(t,e,i),n?.length&&t.partialSign(...n),u=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===X){const[t]=await Ot(this,_t,"f").features[X].signAndSendTransaction({account:s,chain:a,transaction:u,options:{preflightCommitment:ht(i.preflightCommitment||e.commitment),skipPreflight:i.skipPreflight,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot}});return F().encode(t.signature)}{const[t]=await Ot(this,_t,"f").features[tt].signTransaction({account:s,chain:a,transaction:u,options:{preflightCommitment:ht(i.preflightCommitment||e.commitment),minContextSlot:i.minContextSlot}});return await e.sendRawTransaction(t.signedTransaction,{...i,preflightCommitment:ht(i.preflightCommitment||e.commitment)})}}catch(i){if(i instanceof WalletError)throw i;throw new WalletSendTransactionError(i?.message,i)}}catch(i){throw this.emit("error",i),i}var n}}mt=new WeakMap,gt=new WeakMap,yt=new WeakMap,wt=new WeakMap,vt=new WeakMap,bt=new WeakMap,_t=new WeakMap,Et=new WeakMap,Mt=new WeakMap,pt=new WeakSet,St=async function(t){try{if(this.connected||this.connecting)return;if(Ot(this,Et,"f")!==a.Installed)throw new WalletNotReadyError;if(Pt(this,yt,!0,"f"),!Ot(this,_t,"f").accounts.length)try{await Ot(this,_t,"f").features[et].connect(t)}catch(e){throw new WalletConnectionError(e?.message,e)}const r=Ot(this,_t,"f").accounts[0];if(!r)throw new WalletAccountError;Ot(this,pt,"m",kt).call(this,r)}catch(e){throw this.emit("error",e),e}finally{Pt(this,yt,!1,"f")}},kt=function(t){let e;try{e=new n.J3(t.address)}catch(r){throw new WalletPublicKeyError(r?.message,r)}Pt(this,mt,t,"f"),Pt(this,gt,e,"f"),Ot(this,pt,"m",It).call(this),this.emit("connect",e)},At=function(){Pt(this,mt,null,"f"),Pt(this,gt,null,"f"),Ot(this,pt,"m",It).call(this),this.emit("disconnect")},It=function(){const t=X in Ot(this,_t,"f").features?Ot(this,_t,"f").features[X].supportedTransactionVersions:Ot(this,_t,"f").features[tt].supportedTransactionVersions;Pt(this,bt,ft(t,["legacy"])?null:new Set(t),"f"),tt in Ot(this,_t,"f").features&&Ot(this,mt,"f")?.features.includes(tt)?(this.signTransaction=Ot(this,pt,"m",xt),this.signAllTransactions=Ot(this,pt,"m",Tt)):(delete this.signTransaction,delete this.signAllTransactions),it in Ot(this,_t,"f").features&&Ot(this,mt,"f")?.features.includes(it)?this.signMessage=Ot(this,pt,"m",Rt):delete this.signMessage,st in Ot(this,_t,"f").features?this.signIn=Ot(this,pt,"m",Ct):delete this.signIn},xt=async function(t){try{const r=Ot(this,mt,"f");if(!r)throw new WalletNotConnectedError;if(!(tt in Ot(this,_t,"f").features))throw new WalletConfigError;if(!r.features.includes(tt))throw new WalletAccountError;try{const e=(await Ot(this,_t,"f").features[tt].signTransaction({account:r,transaction:l(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return l(t)?n.Kt.deserialize(e):n.ZX.from(e)}catch(e){if(e instanceof WalletError)throw e;throw new WalletSignTransactionError(e?.message,e)}}catch(e){throw this.emit("error",e),e}},Tt=async function(t){try{const r=Ot(this,mt,"f");if(!r)throw new WalletNotConnectedError;if(!(tt in Ot(this,_t,"f").features))throw new WalletConfigError;if(!r.features.includes(tt))throw new WalletAccountError;try{const e=await Ot(this,_t,"f").features[tt].signTransaction(...t.map((t=>({account:r,transaction:l(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))));return t.map(((t,r)=>{const i=e[r].signedTransaction;return l(t)?n.Kt.deserialize(i):n.ZX.from(i)}))}catch(e){throw new WalletSignTransactionError(e?.message,e)}}catch(e){throw this.emit("error",e),e}},Rt=async function(t){try{const r=Ot(this,mt,"f");if(!r)throw new WalletNotConnectedError;if(!(it in Ot(this,_t,"f").features))throw new WalletConfigError;if(!r.features.includes(it))throw new WalletAccountError;try{return(await Ot(this,_t,"f").features[it].signMessage({account:r,message:t}))[0].signature}catch(e){throw new WalletSignMessageError(e?.message,e)}}catch(e){throw this.emit("error",e),e}},Ct=async function(t={}){try{if(!(st in Ot(this,_t,"f").features))throw new WalletConfigError;let r;try{[r]=await Ot(this,_t,"f").features[st].signIn(t)}catch(e){throw new WalletSignInError(e?.message,e)}if(!r)throw new WalletSignInError;return Ot(this,pt,"m",kt).call(this,r.account),r}catch(e){throw this.emit("error",e),e}};var Nt,Bt=function(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r},Lt=function(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)};let Dt;const Ut=new Set,Ft={};function zt(){if(Dt)return Dt;if(Dt=Object.freeze({register:jt,get:Vt,on:Ht}),"undefined"==typeof window)return Dt;const t=Object.freeze({register:jt});try{window.addEventListener("wallet-standard:register-wallet",(({detail:e})=>e(t)))}catch(e){console.error("wallet-standard:register-wallet event listener could not be added\n",e)}try{window.dispatchEvent(new AppReadyEvent(t))}catch(e){console.error("wallet-standard:app-ready event could not be dispatched\n",e)}return Dt}function jt(...t){return(t=t.filter((t=>!Ut.has(t)))).length?(t.forEach((t=>Ut.add(t))),Ft.register?.forEach((e=>qt((()=>e(...t))))),function(){t.forEach((t=>Ut.delete(t))),Ft.unregister?.forEach((e=>qt((()=>e(...t)))))}):()=>{}}function Vt(){return[...Ut]}function Ht(t,e){return Ft[t]?.push(e)||(Ft[t]=[e]),function(){Ft[t]=Ft[t]?.filter((t=>e!==t))}}function qt(t){try{t()}catch(e){console.error(e)}}class AppReadyEvent extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Nt.set(this,void 0),Bt(this,Nt,t,"f")}get detail(){return Lt(this,Nt,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}function Kt(t){const e=Wt((()=>new Set)),{get:r,on:n}=Wt((()=>function(){if(Dt)return Dt;if(Dt=zt(),"undefined"==typeof window)return Dt;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),Dt;const{register:e}=Dt,r=(...t)=>t.forEach((t=>qt((()=>t({register:e})))));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:r})})}catch(n){return console.error("window.navigator.wallets could not be set"),Dt}return r(...t),Dt}())),[s,o]=(0,i.useState)((()=>$t(r())));(0,i.useEffect)((()=>{const t=[n("register",((...t)=>o((e=>[...e,...$t(t)])))),n("unregister",((...t)=>o((e=>e.filter((e=>t.some((t=>t===e.wallet))))))))];return()=>t.forEach((t=>t()))}),[n]);const a=function(t){const e=(0,i.useRef)();return(0,i.useEffect)((()=>{e.current=t})),e.current}(s);return(0,i.useEffect)((()=>{if(!a)return;const t=new Set(s);new Set(a.filter((e=>!t.has(e)))).forEach((t=>t.destroy()))}),[a,s]),(0,i.useEffect)((()=>()=>s.forEach((t=>t.destroy()))),[]),(0,i.useMemo)((()=>[...s,...t.filter((({name:t})=>!s.some((e=>e.name===t))||(e.has(t)||(e.add(t),console.warn(`${t} was registered as a Standard Wallet. The Wallet Adapter for ${t} can be removed from your app.`)),!1)))]),[s,t,e])}function Wt(t){const e=(0,i.useRef)();return e.current||(e.current={value:t()}),e.current.value}function $t(t){return t.filter(nt).map((t=>new StandardWalletAdapter({wallet:t})))}var Zt;Nt=new WeakMap,function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"}(Zt||(Zt={}));class WalletNotSelectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}var Gt=r(8267);function Qt({children:t,wallets:e,adapter:r,isUnloadingRef:n,onAutoConnectRequest:s,onConnectError:o,onError:u,onSelectWallet:c}){const l=(0,i.useRef)(!1),[h,d]=(0,i.useState)(!1),f=(0,i.useRef)(!1),[p,m]=(0,i.useState)(!1),[g,y]=(0,i.useState)((()=>r?.publicKey??null)),[w,v]=(0,i.useState)((()=>r?.connected??!1)),b=(0,i.useRef)(u);(0,i.useEffect)((()=>(b.current=u,()=>{b.current=void 0})),[u]);const _=(0,i.useRef)(((t,e)=>(n.current||(b.current?b.current(t,e):(console.error(t,e),t instanceof WalletNotReadyError&&"undefined"!=typeof window&&e&&window.open(e.url,"_blank"))),t))),[E,S]=(0,i.useState)((()=>e.map((t=>({adapter:t,readyState:t.readyState}))).filter((({readyState:t})=>t!==a.Unsupported))));(0,i.useEffect)((()=>{function t(t){S((e=>{const r=e.findIndex((({adapter:t})=>t===this));if(-1===r)return e;const{adapter:n}=e[r];return[...e.slice(0,r),{adapter:n,readyState:t},...e.slice(r+1)].filter((({readyState:t})=>t!==a.Unsupported))}))}return S((t=>e.map(((e,r)=>{const n=t[r];return n&&n.adapter===e&&n.readyState===e.readyState?n:{adapter:e,readyState:e.readyState}})).filter((({readyState:t})=>t!==a.Unsupported)))),e.forEach((e=>e.on("readyStateChange",t,e))),()=>{e.forEach((e=>e.off("readyStateChange",t,e)))}}),[r,e]);const k=(0,i.useMemo)((()=>E.find((t=>t.adapter===r))??null),[r,E]);(0,i.useEffect)((()=>{if(!r)return;const t=t=>{y(t),l.current=!1,d(!1),v(!0),f.current=!1,m(!1)},e=()=>{n.current||(y(null),l.current=!1,d(!1),v(!1),f.current=!1,m(!1))},i=t=>{_.current(t,r)};return r.on("connect",t),r.on("disconnect",e),r.on("error",i),()=>{r.off("connect",t),r.off("disconnect",e),r.off("error",i),e()}}),[r,n]);const A=(0,i.useRef)(!1);(0,i.useEffect)((()=>()=>{A.current=!1}),[r]),(0,i.useEffect)((()=>{A.current||l.current||w||!s||k?.readyState!==a.Installed&&k?.readyState!==a.Loadable||(l.current=!0,d(!0),A.current=!0,async function(){try{await s()}catch{o()}finally{d(!1),l.current=!1}}())}),[w,s,o,k]);const I=(0,i.useCallback)((async(t,e,n)=>{if(!r)throw _.current(new WalletNotSelectedError);if(!w)throw _.current(new WalletNotConnectedError,r);return await r.sendTransaction(t,e,n)}),[r,w]),M=(0,i.useMemo)((()=>r&&"signTransaction"in r?async t=>{if(!w)throw _.current(new WalletNotConnectedError,r);return await r.signTransaction(t)}:void 0),[r,w]),x=(0,i.useMemo)((()=>r&&"signAllTransactions"in r?async t=>{if(!w)throw _.current(new WalletNotConnectedError,r);return await r.signAllTransactions(t)}:void 0),[r,w]),T=(0,i.useMemo)((()=>r&&"signMessage"in r?async t=>{if(!w)throw _.current(new WalletNotConnectedError,r);return await r.signMessage(t)}:void 0),[r,w]),R=(0,i.useMemo)((()=>r&&"signIn"in r?async t=>await r.signIn(t):void 0),[r]),C=(0,i.useCallback)((async()=>{if(l.current||f.current||k?.adapter.connected)return;if(!k)throw _.current(new WalletNotSelectedError);const{adapter:t,readyState:e}=k;if(e!==a.Installed&&e!==a.Loadable)throw _.current(new WalletNotReadyError,t);l.current=!0,d(!0);try{await t.connect()}catch(r){throw o(),r}finally{d(!1),l.current=!1}}),[o,k]),P=(0,i.useCallback)((async()=>{if(!f.current&&r){f.current=!0,m(!0);try{await r.disconnect()}finally{m(!1),f.current=!1}}}),[r]);return i.createElement(Gt.b.Provider,{value:{autoConnect:!!s,wallets:E,wallet:k,publicKey:g,connected:w,connecting:h,disconnecting:p,select:c,connect:C,disconnect:P,sendTransaction:I,signTransaction:M,signAllTransactions:x,signMessage:T,signIn:R}},t)}let Jt;function Yt(t){return function({adapters:t,userAgentString:e}){return t.some((t=>t.name!==Z&&t.readyState===a.Installed))?Zt.DESKTOP_WEB:e&&/android/i.test(e)&&!function(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}(e)?Zt.MOBILE_WEB:Zt.DESKTOP_WEB}({adapters:t,userAgentString:(void 0===Jt&&(Jt=globalThis.navigator?.userAgent??null),Jt)})===Zt.MOBILE_WEB}function Xt(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function te({children:t,wallets:e,autoConnect:r,localStorageKey:n="walletName",onError:o}){const{connection:a}=(0,s.w)(),u=Kt(e),c=(0,i.useMemo)((()=>{if(!Yt(u))return null;const t=u.find((t=>t.name===Z));return t||new SolanaMobileWalletAdapter({addressSelector:{select(t){return W(this,void 0,void 0,(function*(){return t[0]}))}},appIdentity:{uri:Xt()},authorizationResultCache:J(),cluster:(e=a?.rpcEndpoint,e?/devnet/i.test(e)?"devnet":/testnet/i.test(e)?"testnet":"mainnet-beta":"mainnet-beta"),onWalletNotFound:Y});var e}),[u,a?.rpcEndpoint]),l=(0,i.useMemo)((()=>null==c||-1!==u.indexOf(c)?u:[c,...u]),[u,c]),[h,d]=function(t,e){const r=(0,i.useState)((()=>{try{const e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch(r){"undefined"!=typeof window&&console.error(r)}return e})),n=r[0],s=(0,i.useRef)(!0);return(0,i.useEffect)((()=>{if(s.current)s.current=!1;else try{null===n?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(n))}catch(e){"undefined"!=typeof window&&console.error(e)}}),[n,t]),r}(n,Yt(u)?Z:null),f=(0,i.useMemo)((()=>l.find((t=>t.name===h))??null),[l,h]),p=(0,i.useCallback)((t=>{h!==t&&(f&&f.name!==Z&&f.disconnect(),d(t))}),[f,d,h]);(0,i.useEffect)((()=>{if(f)return f.on("disconnect",t),()=>{f.off("disconnect",t)};function t(){y.current||h===Z&&Yt(u)||d(null)}}),[f,u,d,h]);const m=(0,i.useRef)(!1),g=(0,i.useMemo)((()=>{if(r&&f)return async()=>{(!0===r||await r(f))&&(m.current?await f.connect():await f.autoConnect())}}),[r,f]),y=(0,i.useRef)(!1);(0,i.useEffect)((()=>{if(h!==Z||!Yt(u))return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)};function t(){y.current=!0}y.current=!1}),[u,h]);const w=(0,i.useCallback)((()=>{f&&f.name!==Z&&p(null)}),[f,p]),v=(0,i.useCallback)((t=>{m.current=!0,p(t)}),[p]);return i.createElement(Qt,{wallets:l,adapter:f,isUnloadingRef:y,onAutoConnectRequest:g,onConnectError:w,onError:o,onSelectWallet:v},t)}const ee=t=>i.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&i.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&i.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),re=({wallet:t,...e})=>t&&i.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function ne({walletIcon:t,walletName:e,...r}){return i.createElement(ee,{...r,className:"wallet-adapter-button-trigger",startIcon:t&&e?i.createElement(re,{wallet:{adapter:{icon:t,name:e}}}):void 0})}const ie={setVisible(t){console.error(se("call","setVisible"))},visible:!1};function se(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}Object.defineProperty(ie,"visible",{get:()=>(console.error(se("read","visible")),!1)});const oe=(0,i.createContext)(ie);function ae(){return(0,i.useContext)(oe)}function ue({children:t,labels:e,...r}){const{setVisible:n}=ae(),{buttonState:s,onConnect:o,onDisconnect:a,publicKey:u,walletIcon:c,walletName:l}=function({onSelectWallet:t}){const{connect:e,connected:r,connecting:n,disconnect:s,disconnecting:o,publicKey:a,select:u,wallet:c,wallets:l}=(0,Gt.v)();let h;h=n?"connecting":r?"connected":o?"disconnecting":c?"has-wallet":"no-wallet";const d=(0,i.useCallback)((()=>{e().catch((()=>{}))}),[e]),f=(0,i.useCallback)((()=>{s().catch((()=>{}))}),[s]);return{buttonState:h,onConnect:"has-wallet"===h?d:void 0,onDisconnect:"disconnecting"!==h&&"no-wallet"!==h?f:void 0,onSelectWallet:(0,i.useCallback)((()=>{t({onSelectWallet:u,wallets:l})}),[t,u,l]),publicKey:a??void 0,walletIcon:c?.adapter.icon,walletName:c?.adapter.name}}({onSelectWallet(){n(!0)}}),[h,d]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1),m=(0,i.useRef)(null);(0,i.useEffect)((()=>{const t=t=>{const e=m.current;e&&!e.contains(t.target)&&p(!1)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[]);const g=(0,i.useMemo)((()=>{if(t)return t;if(u){const t=u.toBase58();return t.slice(0,4)+".."+t.slice(-4)}return"connecting"===s||"has-wallet"===s?e[s]:e["no-wallet"]}),[s,t,e,u]);return i.createElement("div",{className:"wallet-adapter-dropdown"},i.createElement(ne,{...r,"aria-expanded":f,style:{pointerEvents:f?"none":"auto",...r.style},onClick:()=>{switch(s){case"no-wallet":n(!0);break;case"has-wallet":o&&o();break;case"connected":p(!0)}},walletIcon:c,walletName:l},g),i.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${f&&"wallet-adapter-dropdown-list-active"}`,ref:m,role:"menu"},u?i.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(u.toBase58()),d(!0),setTimeout((()=>d(!1)),400)},role:"menuitem"},h?e.copied:e["copy-address"]):null,i.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{n(!0),p(!1)},role:"menuitem"},e["change-wallet"]),a?i.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{a(),p(!1)},role:"menuitem"},e.disconnect):null))}const ce={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};var le=r(8325);const he=({id:t,children:e,expanded:r=!1})=>{const n=(0,i.useRef)(null),s=(0,i.useRef)(!0);return(0,i.useLayoutEffect)((()=>{r?(()=>{const t=n.current;t&&requestAnimationFrame((()=>{t.style.height=t.scrollHeight+"px"}))})():(()=>{const t=n.current;t&&requestAnimationFrame((()=>{t.style.height=t.offsetHeight+"px",t.style.overflow="hidden",requestAnimationFrame((()=>{t.style.height="0"}))}))})()}),[r]),(0,i.useLayoutEffect)((()=>{const t=n.current;if(t)return s.current&&(e(),s.current=!1),t.addEventListener("transitionend",i),()=>t.removeEventListener("transitionend",i);function e(){t&&(t.style.overflow=r?"initial":"hidden",r&&(t.style.height="auto"))}function i(r){t&&r.target===t&&"height"===r.propertyName&&e()}}),[r]),i.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:n,role:"region",style:{height:0,transition:s.current?void 0:"height 250ms ease-out"}},e)},de=({handleClick:t,tabIndex:e,wallet:r})=>i.createElement("li",null,i.createElement(ee,{onClick:t,startIcon:i.createElement(re,{wallet:r}),tabIndex:e},r.adapter.name,r.readyState===a.Installed&&i.createElement("span",null,"Detected"))),fe=()=>i.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),i.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),i.createElement("g",{clipPath:"url(#clip0_880_5115)"},i.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),i.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#9945FF"}),i.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),i.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),i.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),i.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),i.createElement("stop",{offset:"1",stopColor:"#00D18C"})),i.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#9945FF"}),i.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),i.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),i.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),i.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),i.createElement("stop",{offset:"1",stopColor:"#00D18C"})),i.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#9945FF"}),i.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),i.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),i.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),i.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),i.createElement("stop",{offset:"1",stopColor:"#00D18C"})),i.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#9945FF"}),i.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),i.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),i.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),i.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),i.createElement("stop",{offset:"1",stopColor:"#00D18C"})),i.createElement("clipPath",{id:"clip0_880_5115"},i.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),pe=({className:t="",container:e="body"})=>{const r=(0,i.useRef)(null),{wallets:n,select:s}=(0,Gt.v)(),{setVisible:o}=ae(),[u,c]=(0,i.useState)(!1),[l,h]=(0,i.useState)(!1),[d,f]=(0,i.useState)(null),[p,m]=(0,i.useMemo)((()=>{const t=[],e=[];for(const r of n)r.readyState===a.Installed?t.push(r):e.push(r);return t.length?[t,e]:[e,[]]}),[n]),g=(0,i.useCallback)((()=>{h(!1),setTimeout((()=>o(!1)),150)}),[o]),y=(0,i.useCallback)((t=>{t.preventDefault(),g()}),[g]),w=(0,i.useCallback)(((t,e)=>{s(e),y(t)}),[s,y]),v=(0,i.useCallback)((()=>c(!u)),[u]),b=(0,i.useCallback)((t=>{const e=r.current;if(!e)return;const n=e.querySelectorAll("button"),i=n[0],s=n[n.length-1];t.shiftKey?document.activeElement===i&&(s.focus(),t.preventDefault()):document.activeElement===s&&(i.focus(),t.preventDefault())}),[r]);return(0,i.useLayoutEffect)((()=>{const t=t=>{"Escape"===t.key?g():"Tab"===t.key&&b(t)},{overflow:e}=window.getComputedStyle(document.body);return setTimeout((()=>h(!0)),0),document.body.style.overflow="hidden",window.addEventListener("keydown",t,!1),()=>{document.body.style.overflow=e,window.removeEventListener("keydown",t,!1)}}),[g,b]),(0,i.useLayoutEffect)((()=>f(document.querySelector(e))),[e]),d&&(0,le.createPortal)(i.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${t}`,ref:r,role:"dialog"},i.createElement("div",{className:"wallet-adapter-modal-container"},i.createElement("div",{className:"wallet-adapter-modal-wrapper"},i.createElement("button",{onClick:y,className:"wallet-adapter-modal-button-close"},i.createElement("svg",{width:"14",height:"14"},i.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),p.length?i.createElement(i.Fragment,null,i.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),i.createElement("ul",{className:"wallet-adapter-modal-list"},p.map((t=>i.createElement(de,{key:t.adapter.name,handleClick:e=>w(e,t.adapter.name),wallet:t}))),m.length?i.createElement(he,{expanded:u,id:"wallet-adapter-modal-collapse"},m.map((t=>i.createElement(de,{key:t.adapter.name,handleClick:e=>w(e,t.adapter.name),tabIndex:u?0:-1,wallet:t})))):null),m.length?i.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:v,tabIndex:0},i.createElement("span",null,u?"Less ":"More ","options"),i.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:""+(u?"wallet-adapter-modal-list-more-icon-rotate":"")},i.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):i.createElement(i.Fragment,null,i.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),i.createElement("div",{className:"wallet-adapter-modal-middle"},i.createElement(fe,null)),m.length?i.createElement(i.Fragment,null,i.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:v,tabIndex:0},i.createElement("span",null,u?"Hide ":"Already have a wallet? View ","options"),i.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:""+(u?"wallet-adapter-modal-list-more-icon-rotate":"")},i.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),i.createElement(he,{expanded:u,id:"wallet-adapter-modal-collapse"},i.createElement("ul",{className:"wallet-adapter-modal-list"},m.map((t=>i.createElement(de,{key:t.adapter.name,handleClick:e=>w(e,t.adapter.name),tabIndex:u?0:-1,wallet:t})))))):null))),i.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:y})),d)},me=({children:t,...e})=>{const[r,n]=(0,i.useState)(!1);return i.createElement(oe.Provider,{value:{visible:r,setVisible:n}},t,r&&i.createElement(pe,{...e}))};var ge=r(6231),ye=r(3694),we=r(8036),ve=r(2540);r(6909);const be=function(t){return i.createElement(ue,{...t,labels:ce})};function _e({children:t}){const{cluster:e}=(0,ge.Gx)(),r=((0,we.RU)(),(0,i.useMemo)((()=>e.endpoint),[e])),n=(0,i.useCallback)((t=>{}),[]);return(0,ve.jsx)(o,{endpoint:r,children:(0,ve.jsx)(te,{wallets:[],onError:n,autoConnect:!0,children:(0,ve.jsx)(me,{children:(0,ve.jsx)(ye.$5,{children:t})})})})}},6756:(t,e,r)=>{"use strict";r.d(e,{Hk:()=>v,NA:()=>m,vS:()=>w});var n=r(3017),i=r(3696),s=r(7073),o=r(720),a=r(514),u=r(3530),c=r(8267),l=r(8036),h=r(2030),d=r(2540);const f=[{name:"Wrapped SOL",symbol:"wSOL",mintAddress:"So11111111111111111111111111111111111111112",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",getObjectURL:"https://tokens.jup.ag/token/So11111111111111111111111111111111111111112"},{name:"USD backed by Circle",symbol:"USDC",mintAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",getObjectURL:"https://tokens.jup.ag/token/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"}],p=(0,i.createContext)({});function m(){return(0,i.useContext)(p)}async function g(t,e){let n,i;try{n=await r(4843)(`./${t}`),console.debug(`Local ${t} loaded`),i=!1}catch(s){n=await(await fetch(e)).json();const r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),o=window.URL.createObjectURL(r),a=document.createElement("a");a.href=o,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(o),i=!0,console.debug(`Reloaded ${t} from ${e}`)}return{hasBeenReloaded:i,json:n}}async function y(t){return await g(`token-${t}.json`,`https://tokens.jup.ag/token/${t}`)}function w({children:t}){const e=[];f.map((t=>e.push(t))),e.push({name:"Just a Chill Guy",symbol:"CHILLGUY",mintAddress:"Df6yfrKC8kZE3KNkrHERKzAetSxbrWeniQfyJY4Jpump",decimals:6,logoURI:"https://ipfs.io/ipfs/QmaFy59TMnLb4jGgL6LpquyXSxTRXKR4mEfSobUSsPoR46",getObjectURL:"https://tokens.jup.ag/token/Df6yfrKC8kZE3KNkrHERKzAetSxbrWeniQfyJY4Jpump"});const[r,n]=(0,i.useState)(e),[o,a]=(0,i.useState)({}),u=(0,s.I)({queryKey:["get-top-tokens"],queryFn:()=>async function(){return(await g("top-tokens.json","https://stats.jup.ag/info/month")).json.lastXTopTokens.map((t=>({mintAddress:t.mint,amount:t.amount})))}()});function c(t){const e=r.find((e=>e.mintAddress===t));return e||{name:"...",symbol:"...",mintAddress:t,decimals:0,logoURI:"...",getObjectURL:"..."}}(0,i.useEffect)((()=>{!async function(){if(u.isSuccess&&u.data.length>0)try{let t=0;for(const e in u.data){const n=u.data[e].mintAddress;if(o[n]={volumeInUSD:u.data[e].amount},r.find((t=>t.mintAddress==n)))continue;const i=await y(n);if(r.push({name:i.json.name,symbol:i.json.symbol,mintAddress:i.json.address,decimals:i.json.decimals,logoURI:i.json.logoURI,getObjectURL:`https://tokens.jup.ag/token/${n}`}),i.hasBeenReloaded&&(t+=1),t>20)break}r.sort(((t,e)=>o[t.mintAddress]||o[e.mintAddress]?o[t.mintAddress]?o[e.mintAddress]?+o[e.mintAddress].volumeInUSD-+o[t.mintAddress].volumeInUSD:-1:1:t.name.localeCompare(e.name)))}catch(t){console.log(t)}}()}),[u.data]);const l={allTokens:r,allTokensStats:o,isHouseToken:function(t){return!!f.find((e=>e.mintAddress===t))},getTokenByMintAddress:c,getSymbolByMintAddress:function(t){const e=r.find((e=>e.mintAddress===t));return e?e.symbol:"..."},satoshiToFloat:function(t,e){return(+e/Math.pow(10,c(t).decimals)).toString()},calculatePrice:function(t){return+t.outAmount/+t.inAmount*Math.pow(10,c(t.inputMint).decimals)/Math.pow(10,c(t.outputMint).decimals)},getStatsByMintAddress:function(t){return o[t]}};return(0,d.jsx)(p.Provider,{value:l,children:t})}function v(){const{connection:t}=(0,u.w)(),e=(0,c.v)(),r=(0,l.hx)(),i=(0,l.RU)(),s=e.publicKey,d=(0,o.jE)();return(0,a.n)({mutationKey:["lucky-swap",{endpoint:t.rpcEndpoint,address:s}],mutationFn:async s=>{let o="";try{o=(await(0,h.sS)(e,t,s.inputMint,s.outputMint,s.amountAsInteger,s.oddsAsFloat)).signature,r(o,"sent");const i=await t.getLatestBlockhash();return await t.confirmTransaction((0,n.A)({signature:o},i),"confirmed"),o}catch(a){return console.error(a),void i(`Transaction ${o} failed! ${a}`)}},onSuccess:e=>(e&&r(e),Promise.all([d.invalidateQueries({queryKey:["get-token-accounts",{endpoint:t.rpcEndpoint,address:s}]}),d.invalidateQueries({queryKey:["get-signatures",{endpoint:t.rpcEndpoint,address:s}]}),d.invalidateQueries({queryKey:["get-balance",{endpoint:t.rpcEndpoint,address:s}]})])),onError:t=>{i(`Transaction failed! ${t}`)}})}},9166:(t,e,r)=>{"use strict";r.d(e,{A:()=>a,_:()=>o});var n=r(3696),i=r(2540);const s=(0,n.createContext)({});function o(){return(0,n.useContext)(s)}function a({children:t}){const[e,r]=(0,n.useState)(!1),[o,a]=(0,n.useState)(!1),[u,c]=(0,n.useState)(!1),l={chatVisible:e,setChatVisible:r,gamificationVisible:o,setGamificationVisible:a,swapInfoVisible:u,setSwapInfoVisible:c};return(0,i.jsx)(s.Provider,{value:l,children:t})}},8036:(t,e,r)=>{"use strict";r.d(e,{sR:()=>al,Vm:()=>ol,$T:()=>sl,qq:()=>ul,RU:()=>ll,hx:()=>cl});var n={};r.r(n),r.d(n,{eyes:()=>x,face:()=>I,mouth:()=>M,sides:()=>k,texture:()=>T,top:()=>A});var i={};r.r(i),r.d(i,{create:()=>O,meta:()=>P,schema:()=>C});var s=r(9682),o=r(3696),a=r(7435),u=r(9348),c=r(9758),l=r(7371),h=r(6824),d=r(3017),f=r(3694);function p(t){return t.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}const m=-2147483648,g=2147483647;function y(t){return t^=t<<13,t^=t>>17,t^=t<<5}function w(t=""){let e=function(t){let e=0;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r)|0,e=y(e);return e}(t=t.toString())||1;const r=()=>e=y(e),n=(t,e)=>Math.floor((r()-m)/(g-m)*(e+1-t)+t);return{seed:t,next:r,bool:(t=50)=>n(1,100)<=t,integer:(t,e)=>n(t,e),pick(t,e){var i;return 0===t.length?(r(),e):null!==(i=t[n(0,t.length-1)])&&void 0!==i?i:e},shuffle(t){const e=w(r().toString()),n=[...t];for(let r=n.length-1;r>0;r--){const t=e.integer(0,r);[n[r],n[t]]=[n[t],n[r]]}return n},string(t,e="abcdefghijklmnopqrstuvwxyz1234567890"){const n=w(r().toString());let i="";for(let r=0;r<t;r++)i+=e[n.integer(0,e.length-1)];return i}}}function v(t){let e=t.attributes.viewBox.split(" ");return{x:parseInt(e[0]),y:parseInt(e[1]),width:parseInt(e[2]),height:parseInt(e[3])}}const b={type:"object",$schema:"http://json-schema.org/draft-07/schema#",properties:{seed:{type:"string"},flip:{type:"boolean",default:!1},rotate:{type:"integer",minimum:0,maximum:360,default:0},scale:{type:"integer",minimum:0,maximum:200,default:100},radius:{type:"integer",minimum:0,maximum:50,default:0},size:{type:"integer",minimum:1},backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"}},backgroundType:{type:"array",items:{type:"string",enum:["solid","gradientLinear"]},default:["solid"]},backgroundRotation:{type:"array",items:{type:"integer",minimum:-360,maximum:360},default:[0,360]},translateX:{type:"integer",minimum:-100,maximum:100,default:0},translateY:{type:"integer",minimum:-100,maximum:100,default:0},clip:{type:"boolean",default:!0},randomizeIds:{type:"boolean",default:!1}}};function _(t){var e;let r={},n=null!==(e=t.properties)&&void 0!==e?e:{};return Object.keys(n).forEach((t=>{let e=n[t];"object"==typeof e&&void 0!==e.default&&(Array.isArray(e.default)?r[t]=[...e.default]:"object"==typeof e.default?r[t]={...e.default}:r[t]=e.default)})),r}function E(t){return"transparent"===t?t:`#${t}`}function S(t,e={}){var r,n,i,s,o;e=function(t,e){var r;let n={..._(b),..._(null!==(r=t.schema)&&void 0!==r?r:{}),...e};return JSON.parse(JSON.stringify(n))}(t,e);const a=w(e.seed),u=t.create({prng:a,options:e}),c=a.pick(null!==(r=e.backgroundType)&&void 0!==r?r:[],"solid"),{primary:l,secondary:h}=function(t,e,r){var n;let i=t.shuffle(e);i.length<=1||2==e.length&&"gradientLinear"==r?(i=e,t.next()):i=t.shuffle(e),0===i.length&&(i=["transparent"]);const s=i[0],o=null!==(n=i[1])&&void 0!==n?n:i[0];return{primary:E(s),secondary:E(o)}}(a,null!==(n=e.backgroundColor)&&void 0!==n?n:[],c),d=a.integer((null===(i=e.backgroundRotation)||void 0===i?void 0:i.length)?Math.min(...e.backgroundRotation):0,(null===(s=e.backgroundRotation)||void 0===s?void 0:s.length)?Math.max(...e.backgroundRotation):0);e.size&&(u.attributes.width=e.size.toString(),u.attributes.height=e.size.toString()),void 0!==e.scale&&100!==e.scale&&(u.body=function(t,e){let{width:r,height:n,x:i,y:s}=v(t),o=e?(e-100)/100:0;return`<g transform="translate(${(r/2+i)*o*-1} ${(n/2+s)*o*-1}) scale(${e/100})">${t.body}</g>`}(u,e.scale)),e.flip&&(u.body=function(t){let{width:e,x:r}=v(t);return`<g transform="scale(-1 1) translate(${-1*e-2*r} 0)">${t.body}</g>`}(u)),e.rotate&&(u.body=function(t,e){let{width:r,height:n,x:i,y:s}=v(t);return`<g transform="rotate(${e}, ${r/2+i}, ${n/2+s})">${t.body}</g>`}(u,e.rotate)),(e.translateX||e.translateY)&&(u.body=function(t,e,r){let n=v(t);return`<g transform="translate(${(n.width+2*n.x)*((null!=e?e:0)/100)} ${(n.height+2*n.y)*((null!=r?r:0)/100)})">${t.body}</g>`}(u,e.translateX,e.translateY)),"transparent"!==l&&"transparent"!==h&&(u.body=function(t,e,r,n,i){let{width:s,height:o,x:a,y:u}=v(t);const c=`<rect fill="${e}" width="${s}" height="${o}" x="${a}" y="${u}" />`;switch(n){case"solid":return c+t.body;case"gradientLinear":return`<rect fill="url(#backgroundLinear)" width="${s}" height="${o}" x="${a}" y="${u}" /><defs><linearGradient id="backgroundLinear" gradientTransform="rotate(${i} 0.5 0.5)"><stop stop-color="${e}"/><stop offset="1" stop-color="${r}"/></linearGradient></defs>`+t.body}}(u,l,h,c,d)),(e.radius||e.clip)&&(u.body=function(t,e){let{width:r,height:n,x:i,y:s}=v(t);return`<mask id="viewboxMask"><rect width="${r}" height="${n}" rx="${e?r*e/100:0}" ry="${e?n*e/100:0}" x="${i}" y="${s}" fill="#fff" /></mask><g mask="url(#viewboxMask)">${t.body}</g>`}(u,null!==(o=e.radius)&&void 0!==o?o:0)),e.randomizeIds&&(u.body=function(t){const e=w(Math.random().toString()),r={};return t.body.replace(/(id="|url\(#)([a-z0-9-_]+)([")])/gi,((t,n,i,s)=>(r[i]=r[i]||e.string(8),`${n}${r[i]}${s}`)))}(u));const f=function(t){const e={xmlns:"http://www.w3.org/2000/svg",...t.attributes};return Object.keys(e).map((t=>`${p(t)}="${p(e[t])}"`)).join(" ")}(u),m=function(t){var e,r,n,i,s,o,a;const u=null===(e=t.meta)||void 0===e?void 0:e.title,c=null===(r=t.meta)||void 0===r?void 0:r.creator,l=null===(n=t.meta)||void 0===n?void 0:n.source,h=null===(s=null===(i=t.meta)||void 0===i?void 0:i.license)||void 0===s?void 0:s.url,d=function(t){var e,r,n,i,s,o,a,u,c,l,h,d,f,p,m;let g=(null===(e=t.meta)||void 0===e?void 0:e.title)?`\u201e${null===(r=t.meta)||void 0===r?void 0:r.title}\u201d`:"Design",y=`\u201e${null!==(i=null===(n=t.meta)||void 0===n?void 0:n.creator)&&void 0!==i?i:"Unknown"}\u201d`;(null===(s=t.meta)||void 0===s?void 0:s.source)&&(g+=` (${t.meta.source})`);let w="";return"MIT"!==(null===(a=null===(o=t.meta)||void 0===o?void 0:o.license)||void 0===a?void 0:a.name)&&"DiceBear"!==(null===(u=t.meta)||void 0===u?void 0:u.creator)&&(null===(c=t.meta)||void 0===c?void 0:c.title)&&(w+="Remix of "),w+=`${g} by ${y}`,(null===(h=null===(l=t.meta)||void 0===l?void 0:l.license)||void 0===h?void 0:h.name)&&(w+=`, licensed under \u201e${null===(f=null===(d=t.meta)||void 0===d?void 0:d.license)||void 0===f?void 0:f.name}\u201d`,(null===(m=null===(p=t.meta)||void 0===p?void 0:p.license)||void 0===m?void 0:m.url)&&(w+=` (${t.meta.license.url})`)),w}(t);return u||c||l||h||d?'<metadata xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"><rdf:RDF><rdf:Description>'+(u?`<dc:title>${p(u)}</dc:title>`:"")+(c?`<dc:creator>${p(c)}</dc:creator>`:"")+(l?`<dc:source xsi:type="dcterms:URI">${p(null!==(a=null===(o=t.meta)||void 0===o?void 0:o.source)&&void 0!==a?a:"")}</dc:source>`:"")+(h?`<dcterms:license xsi:type="dcterms:URI">${p(h)}</dcterms:license>`:"")+(d?`<dc:rights>${p(d)}</dc:rights>`:"")+"</rdf:Description></rdf:RDF></metadata>":""}(t),g=`<svg ${f}>${m}${u.body}</svg>`;return{toString:()=>g,toJson:()=>{var t;return{svg:g,extra:{primaryBackgroundColor:l,secondaryBackgroundColor:h,backgroundType:c,backgroundRotation:d,...null===(t=u.extra)||void 0===t?void 0:t.call(u)}}},toDataUri:()=>`data:image/svg+xml;utf8,${encodeURIComponent(g)}`}}const k={antenna01:(t,e)=>`<mask id="sidesAntenna01-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="6" y="11" width="156" height="51"><g fill="#fff"><rect x="6" y="31" width="36" height="14" rx="4"/><rect x="18" y="14" width="36" height="48" rx="4"/><rect x="126" y="28" width="36" height="24" rx="4"/><path d="M11 11h2v20h-2z"/></g></mask><g mask="url(#sidesAntenna01-a)"><path d="M0 0h180v76H0V0Z" fill="${p(`${e.base}`)}"/><path fill="#fff" fill-opacity=".3" d="M0 0h180v76H0z"/><path fill="#000" fill-opacity=".1" d="M0 38h180v38H0z"/></g><path fill="#fff" fill-opacity=".4" d="M11 11h2v20h-2z"/><circle cx="12" cy="8" r="4" fill="#FFEA8F"/><circle cx="13" cy="7" r="2" fill="#fff"/>`,antenna02:(t,e)=>`<mask id="sidesAntenna02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="10" y="9" width="160" height="51"><g fill="#fff"><rect x="10" y="28" width="36" height="32" rx="4"/><path d="M160 9h2v20h-2z"/><rect x="134" y="28" width="36" height="32" rx="4"/></g></mask><g mask="url(#sidesAntenna02-a)"><path d="M0 0h180v76H0V0Z" fill="${p(`${e.base}`)}"/><path d="M0 0h180v76H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#000" fill-opacity=".1" d="M0 38h180v38H0z"/></g><path fill="#fff" fill-opacity=".4" d="M160 8h2v20h-2z"/><circle cx="161" cy="5" r="4" fill="#E1E6E8"/><circle cx="162" cy="4" r="2" fill="#fff"/>`,cables01:(t,e)=>`<path d="M38 12c-2.95 11.7-19.9 6.67-23.37 18-3.46 11.35 8.03 20 17.53 20" stroke="#2A3544" stroke-width="6" opacity=".9"/><path d="M150 55c8.4 3.49 20.1-7.6 16-16.5-4.1-8.9-16-6.7-16-19.3" stroke="#2A3544" stroke-width="4" opacity=".9"/><mask id="sidesCables01-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="21" y="6" width="138" height="58"><g fill="#fff"><rect x="21" y="35" width="16" height="22" rx="2"/><rect x="136" y="42" width="23" height="22" rx="2"/><rect x="136" y="6" width="23" height="18" rx="2"/></g></mask><g mask="url(#sidesCables01-a)"><path d="M0 0h180v76H0V0Z" fill="${p(`${e.base}`)}"/><path d="M0 0h180v76H0V0Z" fill="#fff" fill-opacity=".3"/></g>`,cables02:(t,e)=>`<g opacity=".9" stroke="#2A3544"><ellipse cx="32.5" cy="23" rx="16.5" ry="18" stroke-width="6"/><path d="M29.51 36.76c-7.4 4.29-17 1.55-21.42-6.1" stroke-width="4"/><ellipse cx="28.5" cy="52.5" rx="16.5" ry="14.5" stroke-width="4"/></g><g opacity=".9" stroke="#2A3544"><path d="M168.6 60.42c-4.27-7.41-13.95-9.84-21.6-5.42" stroke-width="4"/><ellipse cx="148.5" cy="22.5" rx="16.5" ry="15.5" stroke-width="6"/></g><mask id="sidesCables02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="21" y="0" width="138" height="72"><g fill="#fff"><rect x="21" y="27" width="16" height="22" rx="2"/><rect x="22" y="60" width="16" height="12" rx="2"/><rect x="143" y="42" width="16" height="22" rx="2"/><rect x="143" width="16" height="22" rx="2"/></g></mask><g mask="url(#sidesCables02-a)"><path d="M0 0h180v76H0V0Z" fill="${p(`${e.base}`)}"/><path d="M0 0h180v76H0V0Z" fill="#fff" fill-opacity=".3"/></g>`,round:(t,e)=>`<mask id="sidesRound-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="12" y="16" width="156" height="45"><g fill="#fff"><ellipse cx="150" cy="38.5" rx="18" ry="22.5"/><ellipse cx="18" cy="22.5" rx="18" ry="22.5" transform="matrix(-1 0 0 1 48 16)"/></g></mask><g mask="url(#sidesRound-a)"><path d="M0 0h180v76H0V0Z" fill="${p(`${e.base}`)}"/><path d="M0 0h180v76H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#000" fill-opacity=".2" d="M20 0h140v76H20z"/></g>`,square:(t,e)=>`<mask id="sidesSquare-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="14" y="16" width="152" height="44"><g fill="#fff"><rect x="14" y="16" width="36" height="44" rx="9"/><rect x="130" y="16" width="36" height="44" rx="9"/></g></mask><g mask="url(#sidesSquare-a)"><path d="M0 0h180v76H0V0Z" fill="${p(`${e.base}`)}"/><path d="M0 0h180v76H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#000" fill-opacity=".1" d="M0 38h180v38H0z"/></g>`,squareAssymetric:(t,e)=>`<mask id="sidesSquareAssymetric-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="10" y="8" width="165" height="60"><g fill="#fff"><rect x="10" y="31" width="36" height="30" rx="4"/><rect x="20" y="15" width="26" height="30" rx="4"/><rect x="139" y="23" width="36" height="30" rx="4"/><rect x="134" y="8" width="36" height="60" rx="4"/></g></mask><g mask="url(#sidesSquareAssymetric-a)"><path d="M0 0h180v76H0V0Z" fill="${p(`${e.base}`)}"/><path d="M0 0h180v76H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#000" fill-opacity=".1" d="M0 47h180v29H0z"/><circle cx="161" cy="20" r="5" fill="#fff" fill-opacity=".6"/><circle cx="161" cy="36" r="5" fill="#fff" fill-opacity=".6"/></g>`},A={antenna:(t,e)=>`<mask id="topAntenna-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="38" y="5" width="24" height="47"><path d="M38 38c0-1.1.9-2 2-2h20a2 2 0 0 1 2 2v14H38V38ZM48 5h4v31h-4z" fill="#fff"/></mask><g mask="url(#topAntenna-a)"><path d="M0 0h100v52H0V0Z" fill="${p(`${e.base}`)}"/><path d="M0 3h100v52H0V3Z" fill="#fff" fill-opacity=".3"/><path fill="#fff" fill-opacity=".2" d="M38 36h24v16H38z"/></g><circle cx="50" cy="8" r="8" fill="#FFE65C"/><circle cx="53" cy="5" r="3" fill="#fff"/>`,antennaCrooked:(t,e)=>`<mask id="topAntennaCrooked-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="38" y="12" width="24" height="40"><g fill="#fff"><path d="M55.54 34.39 51 45h-3.74l4.92-10.44-6.05-10.43 3.22-11.84 2.9.8-2.9 10.62 6.2 10.68Z"/><path d="M38 39h24v13H38z"/></g></mask><g mask="url(#topAntennaCrooked-a)"><path d="M0 0h100v52H0V0Z" fill="${p(`${e.base}`)}"/><path d="M0 6h100v52H0V6Z" fill="#fff" fill-opacity=".3"/><path fill="#fff" fill-opacity=".2" d="M38 39h24v13H38z"/></g><circle cx="50" cy="8" r="8" fill="#FFE65C"/><circle cx="53" cy="5" r="3" fill="#fff"/>`,bulb01:(t,e)=>`<mask id="topBulb01-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="22" y="0" width="56" height="52"><g fill="#fff"><path fill-rule="evenodd" clip-rule="evenodd" d="M32 16A16 16 0 0 1 48 0h4a16 16 0 0 1 16 16v16a8 8 0 0 1-8 8H40a8 8 0 0 1-8-8V16Z"/><rect x="22" y="40" width="56" height="12" rx="1"/></g></mask><g mask="url(#topBulb01-a)"><path d="M0 0h100v52H0V0Z" fill="${p(`${e.base}`)}"/><path d="M0 0h100v52H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#fff" fill-opacity=".4" d="M20-3h60v43H20z"/><path d="M49 3.5c4.93 0 9.37 2.13 12.44 5.52" stroke="#fff" stroke-width="2" stroke-linecap="round"/><path d="m49.83 26-9-9L38 19.83l10 10V40h4V29.97l10.14-10.14L59.31 17l-9 9h-.48Z" fill="#fff" fill-opacity=".8"/></g>`,glowingBulb01:(t,e)=>'<g filter="url(#topGlowingBulb01-a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M32 24A16 16 0 0 1 48 8h4a16 16 0 0 1 16 16v8a8 8 0 0 1-8 8H40a8 8 0 0 1-8-8v-8Z" fill="#fff" fill-opacity=".3"/></g><path d="M49 11.5c4.93 0 9.37 2.13 12.44 5.52" stroke="#fff" stroke-width="2" stroke-linecap="round"/><path d="m49.83 29-9-9L38 22.83l10 10V40h4v-7.03l10.14-10.14L59.31 20l-9 9h-.48Z" fill="#fff" fill-opacity=".8"/><rect x="22" y="40" width="56" height="12" rx="1" fill="#48494B"/><defs><filter id="topGlowingBulb01-a" x="24" y="0" width="52" height="48" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="4"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_617_621"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_617_621" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="2"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"/><feBlend in2="shape" result="effect2_innerShadow_617_621"/></filter></defs>',glowingBulb02:(t,e)=>'<g filter="url(#topGlowingBulb02-a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M30 33a20 20 0 1 1 40 0v11H30V33Z" fill="#fff" fill-opacity=".3"/></g><ellipse cx="50" cy="30" rx="4" ry="6" fill="#fff" fill-opacity=".6"/><path d="M50 15.5c4.93 0 9.37 2.13 12.44 5.52m2.43 3.5c.7 1.3 1.21 2.73 1.53 4.23" stroke="#fff" stroke-width="2" stroke-linecap="round"/><rect x="20" y="36" width="60" height="16" rx="1" fill="#48494B"/><defs><filter id="topGlowingBulb02-a" x="22" y="5" width="56" height="47" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="4"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_617_633"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_617_633" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="2"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"/><feBlend in2="shape" result="effect2_innerShadow_617_633"/></filter></defs>',horns:(t,e)=>`<mask id="topHorns-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="8" y="12" width="84" height="40"><g fill="#fff"><path d="M8 40h26v12H8z"/><path transform="matrix(-1 0 0 1 92 40)" d="M0 0h26v12H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M16.52 13.74c0 7.84 5.39 20.71 13.72 27.04H11.36S7.84 22.66 13.43 14.1c.9-1.38 3.1-1.42 3.1-.36ZM84 14c.66 7.04-5.77 20.62-14 27h19s3.14-18.26-2-27c-1-1.7-3.14-1.45-3 0Z"/></g></mask><g mask="url(#topHorns-a)"><path d="M0 0h100v52H0V0Z" fill="${p(`${e.base}`)}"/><path d="M0 0h100v52H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#000" fill-opacity=".4" d="M0 40h100v12H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15.46 13h16.1v27H20.83c-7.45-7.85-5.36-27-5.36-27ZM84.82 13h7.75v27H81.82c5.75-7.8 3-27 3-27Z" fill="#fff" fill-opacity=".4"/></g>`,lights:(t,e)=>`<mask id="topLights-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="10" y="22" width="80" height="30"><g fill="#fff"><path d="M10 42c0-1.1.9-2 2-2h76a2 2 0 0 1 2 2v10H10V42Z"/><path d="M18 27a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v25H18V27ZM42 27a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v25H42V27ZM66 27a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v25H66V27Z"/></g></mask><g mask="url(#topLights-a)"><path d="M0 0h100v52H0V0Z" fill="${p(`${e.base}`)}"/><path d="M0 0h100v52H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#fff" fill-opacity=".6" d="M0 0h100v40H0z"/><rect x="24" y="28" width="4" height="8" rx="2" fill="#fff" fill-opacity=".6"/><rect x="48" y="28" width="4" height="8" rx="2" fill="#fff" fill-opacity=".6"/><rect x="72" y="28" width="4" height="8" rx="2" fill="#fff" fill-opacity=".6"/></g>`,pyramid:(t,e)=>`<mask id="topPyramid-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="18" y="8" width="64" height="44"><path fill-rule="evenodd" clip-rule="evenodd" d="m50 8 32 44H18L50 8Z" fill="#fff"/></mask><g mask="url(#topPyramid-a)"><path d="M0 0h100v52H0V0Z" fill="${p(`${e.base}`)}"/><path d="M0 0h100v52H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#fff" fill-opacity=".8" d="M50 4h30v48H50z"/></g>`,radar:(t,e)=>'<mask id="topRadar-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="37" y="0" width="36" height="53"><g fill="#fff"><path fill-rule="evenodd" clip-rule="evenodd" d="M43.8.11A20 20 0 1 0 72.08 28.4"/><circle cx="67.13" cy="5.06" r="4" transform="rotate(45 67.13 5.06)"/><path transform="rotate(45 64.3 6.48)" d="M64.31 6.48h2v26h-2z"/><path d="M47.94 28.11h4v24h-4z"/></g></mask><g mask="url(#topRadar-a)"><path d="M0 0h100v52H0V0Z" fill="#90A4AE"/><path d="M0 0h100v52H0V0Z" fill="#fff" fill-opacity=".3"/><path fill-rule="evenodd" clip-rule="evenodd" d="M43.8.11A20 20 0 1 0 72.08 28.4" fill="#fff" fill-opacity=".2"/><circle cx="67.13" cy="7.41" r="5.66" transform="rotate(45 67.13 7.4)" fill="#fff" fill-opacity=".8"/></g>'},I={round01:(t,e)=>{var r,n;return`<mask id="faceRound01-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120"><path fill-rule="evenodd" clip-rule="evenodd" d="M66 0c58.35 0 64 40.69 64 78 0 33.31-25.47 42-64 42-37.46 0-66-8.69-66-42C0 40.69 7.65 0 66 0Z" fill="#fff"/></mask><g mask="url(#faceRound01-a)"><path d="M-4-2h138v124H-4V-2Z" fill="${p(`${e.base}`)}"/><g transform="translate(-1 -1)">${null!==(n=null===(r=t.texture)||void 0===r?void 0:r.value(t,e))&&void 0!==n?n:""}</g></g>`},round02:(t,e)=>{var r,n;return`<mask id="faceRound02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 31v-1c.18-.48.4-1.5 1-3 .83-3.06 2.78-6.56 6-10C16.7 6.6 35.17 0 65 0s48.3 6.6 58 17c3.22 3.44 5.17 6.94 6 10 .6 1.5.82 2.52 1 3v40c0-.1-.03.5 0 1a53.93 53.93 0 0 1-1 6c-1.19 6-3.4 11.91-7 17-9.72 16.34-27.74 26-57 26s-47.28-9.66-57-26C4.4 88.91 2.2 83 1 77a53.95 53.95 0 0 1-1-6c.03-.45 0-1.32 0-1V31Z" fill="#fff"/></mask><g mask="url(#faceRound02-a)"><path d="M-4-2h138v124H-4V-2Z" fill="${p(`${e.base}`)}"/><g transform="translate(-1 -1)">${null!==(n=null===(r=t.texture)||void 0===r?void 0:r.value(t,e))&&void 0!==n?n:""}</g></g>`},square01:(t,e)=>{var r,n;return`<mask id="faceSquare01-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120"><rect width="130" height="120" rx="18" fill="#fff"/></mask><g mask="url(#faceSquare01-a)"><path d="M-2-2h134v124H-2V-2Z" fill="${p(`${e.base}`)}"/><g transform="translate(-1 -1)">${null!==(n=null===(r=t.texture)||void 0===r?void 0:r.value(t,e))&&void 0!==n?n:""}</g></g>`},square02:(t,e)=>{var r,n;return`<mask id="faceSquare02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120"><path d="M0 12A12 12 0 0 1 12 0h106a12 12 0 0 1 12 12v70a38 38 0 0 1-38 38H38A38 38 0 0 1 0 82V12Z" fill="#fff"/></mask><g mask="url(#faceSquare02-a)"><path d="M-2-2h134v124H-2V-2Z" fill="${p(`${e.base}`)}"/><g transform="translate(-1 -1)">${null!==(n=null===(r=t.texture)||void 0===r?void 0:r.value(t,e))&&void 0!==n?n:""}</g></g>`},square03:(t,e)=>{var r,n;return`<mask id="faceSquare03-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 18A18 18 0 0 1 18 0h94a18 18 0 0 1 18 18v27.15a40 40 0 0 1-2.28 13.31L110.24 108a18 18 0 0 1-16.98 12H36.74a18 18 0 0 1-16.98-12L2.28 58.45A40 40 0 0 1 0 45.15V18Z" fill="#fff"/></mask><g mask="url(#faceSquare03-a)"><path d="M-2-2h134v124H-2V-2Z" fill="${p(`${e.base}`)}"/><g transform="translate(-1 -1)">${null!==(n=null===(r=t.texture)||void 0===r?void 0:r.value(t,e))&&void 0!==n?n:""}</g></g>`},square04:(t,e)=>{var r,n;return`<mask id="faceSquare04-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 102V68.85a40 40 0 0 1 2.28-13.31L19.76 12A18 18 0 0 1 36.74 0h56.52a18 18 0 0 1 16.98 12l17.48 43.54A40 40 0 0 1 130 68.85V102a18 18 0 0 1-18 18H18a18 18 0 0 1-18-18Z" fill="#fff"/></mask><g mask="url(#faceSquare04-a)"><path d="M-2-2h134v124H-2V-2Z" fill="${p(`${e.base}`)}"/><g transform="translate(-1 -1)">${null!==(n=null===(r=t.texture)||void 0===r?void 0:r.value(t,e))&&void 0!==n?n:""}</g></g>`}},M={bite:(t,e)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#000" fill-opacity=".6"/><path fill-rule="evenodd" clip-rule="evenodd" d="m20 17 6-8H14l6 8ZM32 17l6-8H26l6 8ZM44 17l6-8H38l6 8ZM56 17l6-8H50l6 8Z" fill="#E1E6E8"/>',diagram:(t,e)=>'<rect x="4" y="4" width="68" height="24" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="8" width="60" height="16" rx="2" fill="#000" fill-opacity=".8"/><path d="M9 17h11l2-4 3 7 4-8 2 9 3-11 3 10 3-3h15l3-4 2 7 3-3h4" stroke="#4EFAC9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',grill01:(t,e)=>'<g fill="#000" fill-opacity=".6"><rect x="12" y="12" width="4" height="8" rx="2"/><rect x="36" y="12" width="4" height="8" rx="2"/><rect x="24" y="12" width="4" height="8" rx="2"/><rect x="48" y="12" width="4" height="8" rx="2"/><rect x="60" y="12" width="4" height="8" rx="2"/></g>',grill02:(t,e)=>'<g fill="#000" fill-opacity=".6"><rect x="28" y="10" width="6" height="14" rx="2"/><rect x="14" y="10" width="6" height="14" rx="2"/><rect x="42" y="10" width="6" height="14" rx="2"/><rect x="56" y="10" width="6" height="14" rx="2"/></g>',grill03:(t,e)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#fff"/><path fill="#000" fill-opacity=".1" d="M18 9h4v14h-4zM42 9h4v14h-4zM30 9h4v14h-4zM54 9h4v14h-4z"/>',smile01:(t,e)=>'<path d="M27.05 8.44a2 2 0 1 1 3.9-.88C31.72 10.96 34.4 13 38 13c3.6 0 6.28-2.04 7.05-5.44a2 2 0 1 1 3.9.88C47.75 13.7 43.43 17 38 17s-9.76-3.3-10.95-8.56Z" fill="#000" fill-opacity=".6"/>',smile02:(t,e)=>'<path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#000" fill-opacity=".8"/><mask id="mouthSmile02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="18" y="8" width="40" height="20"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#fff"/></mask><g mask="url(#mouthSmile02-a)"><rect x="30" y="2" width="16" height="14" rx="2" fill="#fff"/></g>',square01:(t,e)=>'<rect x="24" y="6" width="27" height="8" rx="4" fill="#000" fill-opacity=".8"/>',square02:(t,e)=>'<rect x="16" y="8" width="44" height="4" rx="2" fill="#000" fill-opacity=".8"/>'},x={bulging:(t,e)=>'<circle cx="28" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="74" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="28" cy="24" r="15" fill="#F1EEDA"/><circle cx="74" cy="24" r="15" fill="#F1EEDA"/><rect x="26" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="74" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',dizzy:(t,e)=>'<path d="m25 27.2 5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L28.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L25 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5ZM79 27.2l5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L82.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L79 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5Z" fill="#000" fill-opacity=".8"/>',eva:(t,e)=>'<g fill-rule="evenodd" clip-rule="evenodd"><path d="M53 0c34.75 0 49 17.47 49 31 0 13.53-19.59 17-49 17-29.05 0-51-3.47-51-17S17.11 0 53 0Z" fill="#000" fill-opacity=".8"/><path d="M28.82 34.65c-6.53-1.35-11.24-6.34-10.52-11.14.72-4.79 6.6-7.58 13.12-6.23 6.53 1.36 11.24 6.35 10.52 11.15-.72 4.8-6.6 7.59-13.12 6.23ZM75.42 34.65c-6.52 1.36-12.4-1.43-13.12-6.23-.72-4.8 4-9.8 10.52-11.15 6.52-1.35 12.4 1.44 13.12 6.24.72 4.81-4 9.8-10.52 11.15Z" fill="#25A6F5"/></g>',frame1:(t,e)=>'<rect y="4" width="104" height="42" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><rect x="66" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21 4h8L12 46H4L21 4Z" fill="#fff" fill-opacity=".4"/>',frame2:(t,e)=>'<rect x="8" y="10" width="88" height="36" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><rect x="66" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><path fill-rule="evenodd" clip-rule="evenodd" d="M83 10h5L76 46h-5l12-36Z" fill="#fff" fill-opacity=".4"/>',glow:(t,e)=>'<g fill="#fff"><circle cx="21" cy="30" r="15" fill-opacity=".1"/><circle cx="83" cy="30" r="15" fill-opacity=".1"/><circle cx="21" cy="30" r="12" fill-opacity=".1"/><circle cx="83" cy="30" r="12" fill-opacity=".1"/><circle cx="21" cy="30" r="6" fill-opacity=".8"/><circle cx="83" cy="30" r="6" fill-opacity=".8"/><circle cx="21" cy="30" r="3" fill-opacity=".8"/><circle cx="83" cy="30" r="3" fill-opacity=".8"/></g>',happy:(t,e)=>'<path d="m18 19 12-2M20 31c0-3.31 2.9-6 7-6 3.1 0 6 2.69 6 6M86 20l-12-3M84 31c0-3.31-2.9-6-6-6-4.1 0-7 2.69-7 6" stroke="#000" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>',hearts:(t,e)=>'<path d="M29.27 9.68c-2.55.13-4.96 2.24-6.25 4.15-1.48-1.76-4.1-3.6-6.65-3.47-5.48.28-8.85 3.8-8.63 8.1.3 5.72 4.88 8.89 9.7 12.24 1.71 1.15 5 4.15 5.42 4.82.42.67 2.14.6 2.58-.13a37.8 37.8 0 0 1 4.9-5.36c4.43-3.84 8.66-7.47 8.36-13.2-.23-4.3-3.95-7.44-9.43-7.15ZM87.63 10.36c-2.55-.14-5.17 1.7-6.65 3.47-1.3-1.9-3.7-4.02-6.25-4.15-5.48-.29-9.2 2.86-9.43 7.16-.3 5.72 3.93 9.35 8.36 13.19 1.6 1.32 4.55 4.64 4.9 5.36.35.7 2.06.82 2.58.13.51-.7 3.7-3.67 5.42-4.82 4.81-3.35 9.4-6.52 9.7-12.24.22-4.3-3.15-7.82-8.63-8.1Z" fill="#FF5353" fill-opacity=".8"/>',robocop:(t,e)=>'<rect x="7" y="16" width="91" height="16" rx="4" fill="#000" fill-opacity=".8"/><mask id="eyesRobocop-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="7" y="16" width="91" height="16"><rect x="7" y="16" width="91" height="16" rx="4" fill="#fff"/></mask><g mask="url(#eyesRobocop-a)" fill-rule="evenodd" clip-rule="evenodd" fill="#fff" fill-opacity=".8"><path d="M76 7h18L82 37H64L76 7ZM52 7h9L49 37h-9L52 7Z"/></g>',round:(t,e)=>'<g fill="#fff"><circle cx="24" cy="30" r="6"/><circle cx="80" cy="30" r="6"/></g>',roundFrame01:(t,e)=>'<rect y="12" width="104" height="32" rx="16" fill="#000" fill-opacity=".8"/><rect x="24" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/><rect x="70" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/>',roundFrame02:(t,e)=>'<rect y="11" width="104" height="34" rx="17" fill="#000" fill-opacity=".8"/><circle cx="29" cy="28" r="13" fill="#F1EEDA"/><circle cx="75" cy="28" r="13" fill="#F1EEDA"/><rect x="24" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="70" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',sensor:(t,e)=>'<path d="M28 44a20 20 0 0 0 19.9-18h41.52a5 5 0 1 0 0-4H47.9A20 20 0 1 0 28 44Z" fill="#000" fill-opacity=".2"/><circle cx="94" cy="24" r="2" fill="#fff"/><circle cx="28" cy="24" r="16" fill="#000" fill-opacity=".6"/><circle cx="34" cy="16" r="3" fill="#fff"/>',shade01:(t,e)=>'<path d="M96 2H8c-4.5 0-8 3.5-8 8.03V28c0 4.5 3.5 8 8 8h13c8 0 11 8 18 8h27c7 0 9-8 17-8h13c4.5 0 8-3.5 8-8V10c0-4.5-3.5-8-8-8Z" fill="#000" fill-opacity=".8"/><path d="M87 14H17c-3.5 0-5 3-5 5v2c0 2 1.5 5 5 5h12c6 0 11.62 8 17 8h14c5.38 0 9-8 15-8h12c3.5 0 5-3 5-5v-2c0-2-1.5-5-5-5Z" fill="#FF3D3D"/><path d="M22.44 36.09 37.26 2h11L31.4 40.78l-.76-.58c-2.38-1.82-4.83-3.69-8.2-4.11ZM11.48 36 26.26 2h4L15.48 36h-4Z" fill="#fff" fill-opacity=".2"/>'},T={camo01:(t,e)=>'<g fill="#000" fill-opacity=".2"><path d="M117.94-4a6.08 6.08 0 0 0 2.52-.99l.77-.12c2.72-.42 9.94-1.53 11.25-.4.85.75.47 3.39.2 5.28-.11.72-.2 1.34-.2 1.7-1.33.06-2.34-1.4-3.32-2.83-1.46-2.12-2.88-4.17-5.2-1.06-1.1 1.46-.85 3.3-.6 5.18.28 1.98.55 3.99-.74 5.62-1.54 1.93-4 2.2-6.42 2.47-2.56.28-5.1.56-6.48 2.8-.4.66-.5 1.8-.62 3.05-.2 2.15-.43 4.58-2.25 5.14-3.12.97-3.32-1.69-3.5-4-.09-1.25-.18-2.4-.7-2.84-5.7-4.7-6.23 4.37-6.35 6.43v.03c-.03.43.05.78.12 1.1.13.57.23 1.05-.33 1.73-.3.36-.7.3-1.12.23-.43-.06-.89-.13-1.27.23-1.5 1.4-1.54 1.54-1.88 3.11l-.09.37c-.11.53-.19.99-.25 1.4-.14.94-.26 1.67-.84 2.64-.27.45-.63.89-1 1.33-1.2 1.46-2.39 2.9-.14 4.69-.61 0-6 1.46-6.35 1.64-.52.27-1.12.98-1.66 1.61a4.5 4.5 0 0 1-1.18 1.15c-3.2 1.1-2.97-1.28-2.74-3.74.14-1.48.28-2.98-.32-3.77 8.28-.27 13.26-8.21 13.75-14.38a5 5 0 0 0-.65-2.5c-.28-.62-.54-1.2-.55-1.8-.02-.83.25-1.4.52-1.97.22-.47.44-.93.5-1.54.23-2.64-.85-3.61-2.27-4.89-.7-.64-1.5-1.35-2.26-2.4-2.5-3.45-1.2-3.99 2.6-3.36 2.17.36 4.26 1 6.36 1.63 2.56.78 5.12 1.56 7.84 1.83 3.48.34 6.71.18 8.36-2.66.95-1.63 1.37-6.13-1.8-6.48.8-.13 1.44-.38 2.1-.64a9.32 9.32 0 0 1 3.02-.77c1 .4 2.06.64 3.16.74ZM123.7 79.87v.01ZM32.38 86.47c.1.04.21.04.34 0-.18.13-.46.02-.37 0h.03ZM32.37 86.46h-.02.02ZM131.44 126.49c-.34-.03-.33-.04 0-.06.07-.28.16-.57.26-.85.21-.67.4-1.26.03-1.4 1.13-.21.92 1.8.8 2.96-.03.28-.05.5-.05.64-1.06 0-1.18-.59-1.04-1.3Z"/><path d="M131.52 125.78v-.04c-.44.03-.44.04 0 .07v-.02ZM41.65-5.5c.39.07 1.5.18 1.87 0h-1.87ZM39.01 51.48c-1.06-.25-1.44-.92-1.73-1.42-.16-.28-.3-.5-.5-.58-2.83-1.05-3.29.92-3.77 3.98-.1.56-.11 1.03-.13 1.47-.05 1.08-.08 1.9-1.09 2.94-.58.6-1.52.91-2.45 1.22a8.8 8.8 0 0 0-1.87.78c-1.47.93-2.12 1.78-2.92 2.83-.32.4-.66.85-1.08 1.34-.96 1.11-2.36 2.19-3.82 3.3-3.9 2.98-8.2 6.25-5.32 11.4 3.1 5.55 4.32.87 5.27-2.75.36-1.39.68-2.62 1.05-3.05 4.67-5.47 5.68-.12 6.29 3.08.1.52.18.99.27 1.34 1.31 5.03 3.1 1.4 4.58-1.58.44-.9.86-1.74 1.22-2.28.44-.63.99-1.1 1.52-1.55a5.7 5.7 0 0 0 1.68-1.92c.24-.52.12-1.17 0-1.84-.2-1.1-.4-2.25.97-2.95 1.45-.73 3.12.16 4.6.96 1.13.6 2.15 1.16 2.9.9 2.33-.83.23-3.6-1.45-5.82-.78-1.02-1.46-1.93-1.59-2.47-.36-1.58.28-2.95.91-4.32.64-1.38 1.28-2.77.9-4.37-.66.1-1.23.4-1.8.72-.8.44-1.61.88-2.65.64ZM80.6 88.07ZM95.89 72.7c.38-2.66-1.73-4.02-3.9-5.43-.7-.45-1.39-.9-2.02-1.4-1.43-1.13-2.4-2.07-3.12-3.66a3.83 3.83 0 0 1-.17-1.2c-.04-.69-.08-1.4-.42-1.65-1.85-1.27-2.88-.4-4.13.66-.6.5-1.24 1.05-2.04 1.42-2.72 1.24-2.75 1.22-4.38.26-.33-.2-.72-.43-1.22-.7l-.71-.4c-1.5-.9-2.56-1.53-4.4 1.07-.73 1.04-.7 2.87-.66 4.77.07 3.18.14 6.57-3.42 6.77 1.57.69.86 2.74.14 4.83-.74 2.15-1.49 4.34.23 5.1 4.18 1.83 5.4-6.86 6.09-11.83.23-1.64.4-2.88.6-3.2 1.67-2.62 7.63-4.86 9.34-.98.31.7.08 1.44-.15 2.2-.22.73-.45 1.47-.2 2.2.37 1.03.97 1.41 1.67 1.86.38.23.78.49 1.19.87 2.9 2.71 2.79 2.88 1.34 5.18l-.86 1.4c-.3.54-.56 1.38-.83 2.31-.61 2.1-1.35 4.63-3.25 4.92 1.04-.01 2.13.24 3.2.5 2.06.47 4.08.94 5.61-.45 1.07-.97.89-2.72.71-4.4-.11-1.09-.22-2.15.03-2.93.44-1.42 1.63-2.6 2.81-3.77 1.34-1.34 2.68-2.66 2.92-4.32ZM18.9 104.45c.03.48.07 1.03.18 1.7.4 2.48 1.51 3.9 2.95 5.7v.01l.95 1.2c-4.37.08-7.8 4.62-3.04 7.18-1.93-1.03-3.39.12-4.58 1.07-1.49 1.19-2.55 2.03-3.57-2.27l-.28-1.1c-.23-.86-.48-1.84-.58-2.5-.21-1.44-.18-1.61-.01-2.4l.1-.47c.08-.47.26-.79.43-1.09.35-.63.63-1.15-.13-2.67-.4-.79-.88-1.4-1.34-1.99-.85-1.06-1.6-2.02-1.58-3.73 0-.48.21-.86.43-1.27.37-.68.78-1.45.38-2.92a12.4 12.4 0 0 0-1.08-2.46c-.5-.97-1.01-1.94-1.2-2.99 1.81.08 2.96 1.45 3.98 2.68.36.44.71.85 1.07 1.19.8.75 1.75 1.28 2.69 1.8.8.45 1.6.9 2.24 1.45 1.8 1.58 1.86 2.4 1.98 3.9ZM24.68 91.3c1.49.12 5.48-3.14 5.74-4.07-1.29.24-2.6-.36-3.88-.94-1.44-.66-2.84-1.3-4.14-.73-2.3 1 .15 5.56 2.28 5.74ZM83.04 92.92c-1.63.3-3.49.64-4.58 0-1.06-.62-3.16-3.28-.1-3.13.78.3 1.67.5 2.56.68 1.87.4 3.7.8 4.21 2.16-.57.02-1.3.15-2.09.3ZM62.6 68.99c-.84-.05-1.62-.2-2.34-.34-2.16-.41-3.75-.72-4.43 2.13 1.12-.05 2.23.25 3.23.5 2.11.56 3.68.97 3.53-2.3ZM91.57 105.44c-.72-.36-1.4-.7-1.93-.74.68-.1.8-.77.92-1.4.1-.52.2-1.02.61-1.16.17.05.36.1.58.14 1.76.41 4.88 1.14 4.11 2.82-.93 2.04-2.71 1.14-4.3.34Z"/><path d="M23.02 113.15c-.74.04-.24.2.07.24l-.07-.24ZM64.47 65.13c.83-.57.8-3.2-.45-3.31-1.75.39-.86 4.2.45 3.3ZM129.6 34.45c.03.59 2.6 3.1 2.88 3.08 0-.07.02-.26.06-.51.17-1.29.59-4.32-.85-3.64a5 5 0 0 0-.71.44c-.42.3-.85.6-1.38.63ZM21.62 127.86c-5.14 0-3.31-2.39-1.94-1.65.3.16.55.44.81.71.3.32.6.64.96.78.09.04.11.07.14.1 0 .03.02.04.03.06ZM-.7-.88c.01-.43-2.42-1.19-1-.21-.14-.1-.03-.05.17.03.3.13.83.34.83.18ZM123.37 43.75c-1.53-.42 2.62-.23 2.1.93-.42-.05-.79-.27-1.16-.49-.3-.17-.6-.35-.94-.44Z"/></g><path d="M38.12 26.75c.24-.76-.15-1.6-.53-2.44-.32-.7-.64-1.4-.61-2.05.02-.62.47-1.75.9-2.82a18.15 18.15 0 0 0 .84-2.47c.8-3.23 2.3-9.38 7.7-6.52-4.33-2.3-2.55-4.12-.56-6.15a12.3 12.3 0 0 0 2.06-2.51c.4-.74.72-1.08.91-1.27.11-.12.18-.19.19-.26 0-.1-.1-.22-.34-.5l-.4-.45c-.59-.7-4.78-1.65-5.78-1.63-3.82.09-7.98 3.7-9.9 6.62-1.03 1.56-.67 2.43-.33 3.26.2.5.4.98.3 1.6-.05.25-.02.5 0 .74.09.73.16 1.35-2.01 1.47-2.7.15-7.77-4.33-7.8-6.53 0-.73.78-1.56 1.57-2.4 1.4-1.46 2.79-2.94-.21-3.87-2.24-.7-9.03 3.8-9.45 5.5-.26 1.06.5 2.2 1.15 3.2 1.06 1.6 1.88 2.84-2.02 2.81 0-.02 3.63 2.29 4 2.77.85 1.09 1.17 1.88 1.45 2.56.47 1.17.81 2 3.44 3.44 1.1.6 2.28 1.12 3.45 1.64 1.58.69 3.16 1.39 4.56 2.28.76.49 1.4 1.07 2.03 1.63 1.48 1.32 2.86 2.57 5.4 2.34ZM127.37 3.5c-1.41.74-.6 1.4.37 2.18.98.79 2.12 1.7 1.37 2.97-.47.81-1.6.99-2.76 1.16-1.17.18-2.37.37-2.95 1.22-.84 1.23-.5 2.1-.18 2.94.39.98.76 1.93-.78 3.38-1.08 1.01-2.1 1.34-2.98 1.62-1.31.42-2.33.75-2.8 3.09-.74 3.58 1.1 5.97 2.84 8.24 1.97 2.58 3.85 5.02 1.78 8.9l-.34.62c-1.09 1.9-3 5.22.62 6.34 2.63.81 2.48-.12 2.31-1.08-.12-.73-.25-1.48.8-1.52-.21-.6 2.98.1 2.58.98.84.09 1.25.54 1.65.98.57.63 1.12 1.24 2.9.7 1.76-.55 2.05-2.2 2.28-3.55l.02-.1c.35-2.04-.6-3.8-1.5-5.5-.75-1.41-1.47-2.78-1.42-4.22v-.54c-.01-.36-.02-.65.16-1.13a2.74 2.74 0 0 1 2-.48c1.16.24 1.48-.2.97-1.3 1-1.93.62-5.18.29-8.05-.15-1.3-.3-2.51-.3-3.5 0-.67.13-1.8.27-3.13.36-3.47.87-8.26-.26-9.68-.66-.83-5.81-2.13-6.94-1.54ZM129.58 52.35c-2.97-.76-2.61 1.57-2.33 3.35.08.52.15 1 .13 1.33-.14 2.96-.48 3.68-4.15 4.16-.88.12-1.72-.1-2.55-.3-1.4-.36-2.76-.7-4.23.55-.83.7-.8 1.57-.76 2.44.02.43.04.85-.04 1.26-.14.7-.68 1.78-1.25 2.93-1.05 2.11-2.22 4.48-1.26 5.11.65.44 2.53-.06 4.66-.62 3.68-.96 8.12-2.13 8.4.86.18 1.78-2.15 2.05-4.37 2.3-1.44.17-2.83.34-3.45.9-.19.17-.55 1.43-.91 2.68-.4 1.4-.81 2.8-.96 2.67.65.54 1.69-.2 2.91-1.07 1.8-1.28 4.02-2.86 6.04-1.12-2.49-4.76 4.86-4.08 7.99-3.8.34.04.63.07.86.08V60.21c-3.56.93-3.33-1.08-3.07-3.31.22-1.92.45-4-1.66-4.55ZM131.51 120.55c.9.05 1.81.1 2.8.1 0 .8-.74 1.17-1.48 1.53-.64.31-1.29.63-1.46 1.24-.48 1.73.58 2.33 1.56 2.88.71.4 1.38.77 1.38 1.52-.84 0-1.78.04-2.76.09-2.07.09-4.3.18-6.04-.09h-2.93l-.25-1.14-.43-.2c-1.22-.57-3.28-1.53-4.19-2.16-4.51-3.15-.46-6.42 3.78-7.72-2.92.9 1.1 3.79 2.51 4.18 1.1.3 1.74.15 2.5-.03.44-.1.94-.22 1.58-.26 1.2-.06 2.31 0 3.43.06ZM13.29 31.85c-.62-.31-1.29-.12-1.96.08-.78.22-1.56.45-2.29-.09-.39-.29-.26-.87-.13-1.41.1-.44.2-.85 0-1.05-2-1.94-2.12-1.47-2.46-.15-.15.59-.34 1.35-.77 2.14-.86 1.58-1.96 1.95-3.06 2.31-1.3.44-2.6.86-3.45 3.34-1.84 5.28-5.2 3.61-6.4-1-.2-.72-.77-1.78-1.4-2.98-1.6-2.98-3.62-6.77-1.23-7.9-1.66.79-3.61 1.13-5.57 1.48-2.27.4-4.54.8-6.34 1.9-1.92 1.15-1.91 1.41-1.88 2.74a131.99 131.99 0 0 0 .07 5.55l.04 1.51c.04 1.5.67 2.78 1.33 4.1.38.76.77 1.55 1.05 2.4.58 1.78.82 3.66 1.05 5.53.16 1.24.32 2.48.57 3.68l.17.75c.51 2.35 1 4.58-.37 6.85-.19.3-.65.66-1.14 1.04-.88.67-1.87 1.42-1.64 2.14.34 1.05 2.04-.49 2.92-1.28l.43-.38c.79-.6.83-1.17.86-1.64.04-.57.07-.97 1.4-1.01 1.8-.06 3.65 1.93 4.74 3.1l.32.35c.6.64 1.17 1.43 1.76 2.25 1.52 2.14 3.2 4.48 6.06 4.83 8.88 1.1 10.66-9.15 7.36-13.8a21.83 21.83 0 0 0-2.63-2.84c-1.67-1.6-3.39-3.25-3.85-5.15-.76-3.13 1.93-5.67 5.62-3.87 1.76.86 2.32 2.35 2.9 3.85.48 1.28.96 2.57 2.2 3.48 2.6 1.93 2.84 1.38 3.27.4.23-.52.52-1.16 1.25-1.6 2.1-1.29 5.75-2.35 6.25.86.18 1.13-.76 2.09-1.71 3.07-1.14 1.16-2.3 2.35-1.63 3.88 1.29 2.95 2.46 1.35 3.46-.01.2-.3.41-.57.61-.8 2.79-3.15 5.56-6.44 4.73-10.59-.53-2.65-2.38-4.54-4.27-6.47a32.36 32.36 0 0 1-2.47-2.72c-.45-.58-.88-1.64-1.33-2.77-.7-1.73-1.45-3.61-2.44-4.1ZM62.98 102.48c-.03 1.26-.05 2.5.5 3.73 1.29 2.79 2 4.45.22 7.05-.48.7-.98 1.22-1.46 1.72a7.8 7.8 0 0 0-2.1 3.14c-.15.47-.27.9-.38 1.3-.39 1.46-.68 2.53-2.7 3.5-4.64 2.25-8.11.2-11.17-2.37l-.69-.58c-1.54-1.28-2.59-2.15-3.53-3.9a2.45 2.45 0 0 1-.22-1.54c.07-.74.13-1.36-1.28-2.02-1.37-.64-2.7-.4-4.05-.15-1.68.3-3.38.61-5.15-.8-4.02-3.22-3-9.5.72-12.22 1.04-.77 2-1.22 2.8-1.6 1.85-.87 2.81-1.33 1.96-4.33a4.63 4.63 0 0 1-1.56-2.2 3.8 3.8 0 0 1 .5-2.08c-.1-.46.05-.9.19-1.3.28-.83.49-1.45-1.73-1.46.62-.45.8-1.45.97-2.48.27-1.52.55-3.13 2.25-3.3 2.92-.28 3.24 2.71 3.49 4.96.08.73.15 1.39.3 1.82 1.18 3.4 2.57 4.57 6.35 3.22.98-.35 5.57-2.81 5.93-3.35-1.65 2.5 1.72 4.87 4.24 6.64.62.43 1.2.83 1.62 1.19l.53.42a10.7 10.7 0 0 1 2.71 2.8c.8 1.4.77 2.8.74 4.2ZM104.42 120.99c-1.44-.16-6.73-2.2-6.09-3.91 1.63-4.33 10.12.56 13.06 2.25l.53.3c-1.12.06-2.2.38-3.27.7-1.4.4-2.78.82-4.23.66Z" fill="#000" fill-opacity=".4"/><g fill="#fff" fill-opacity=".2"><path d="M19.25-3.59c.2 1.51 3.16 3.8 5.07 2.44 1.22.44-.59-2.79-.89-3.09-1.59-1.58-4.59-2.32-4.18.65ZM52.27-1.64c-.74-.18-1.44-.34-2.03-.55-.54-.19-.57-2.24-.35-2.65.44-.8 1.95-.7 3.33-.63.4.03.8.05 1.15.05h13.3c-1.86.74.15 1.5 1.1 1.7.78-.22 6.37 3.92 6.21 5.65-.08.94-.75 1.63-1.43 2.33-.8.85-1.65 1.72-1.54 3.08.08.82.88 2.18 1.78 3.7 2.25 3.8 5.1 8.61-1.44 8.74-3.05.06-2.98-1.38-2.89-3.06.06-1.11.13-2.34-.72-3.3a6.06 6.06 0 0 0-2.07-1.28c-1.01-.46-2.03-.92-2.44-1.8-.2-.44-.05-1.37.12-2.38.41-2.5.9-5.45-3.81-2.21-.48.33-.77.97-1.07 1.61-.57 1.24-1.14 2.48-3.01 1.5-1.63-.84-.73-2.5.17-4.18.69-1.27 1.38-2.54.96-3.46-.8-1.8-3.2-2.37-5.31-2.86ZM132.7 85.8c-2.76.72-4.35-1.84-5.62-3.89-.87-1.4-1.59-2.56-2.43-2.3-2.23-1.92-4.4-.16-6.18 1.3-.67.55-1.3 1.06-1.84 1.3.1.08-4.98-1.12-3.95-1.32-6.82-2.32-6.9 2.9-6.97 7.43-.03 1.96-.06 3.8-.63 4.85-1.02 1.9-2.46 2.63-4.81 3.45-.83.3-1.74.46-2.65.63-1.9.35-3.79.7-4.86 2.17-.2.27-.39 1.13-.52 1.74-.08.35-.14.62-.17.62.6.16 4.88 1.51 5.32 1.88.4.33.5.92.6 1.46.08.46.16.88.4 1.08.7.59 1.38 1 2.04 1.38 1.12.66 2.15 1.26 2.96 2.6.35.57.53 1.24.7 1.9.43 1.59.85 3.14 3.64 3.2 2.27.04 3.61-1.72 4.31-3.23.32-.68.23-2.56.14-4.68-.23-5.18-.52-11.76 4.75-5.66.52.6.72 1 .88 1.34.28.57.46.95 1.87 1.74.58.32 1.16.34 1.72.35.81.02 1.58.04 2.27 1 .7 1 .36 1.94.15 2.5-.24.64-.3.8 1.55-.04 4.29-1.93 4.45-6.24 4.6-9.86.02-.72.05-1.4.1-2.05.21-2.25.7-3.59 1.64-5.58l.42-.7c1.03-1.65 3.32-5.32.58-4.6ZM48.2 122.55c-.78-1.1-1.78-1.81-2.83-2.58-.48-.35-.97-.7-1.46-1.1-.28-.24-.6-.44-.91-.64-.63-.4-1.26-.8-1.59-1.42-.27-.5-.17-1.18-.07-1.85.1-.78.22-1.55-.23-2.05-1.27-1.42-2.98-1.08-4.79-.73-2.4.48-4.96.99-6.8-2.63-1.32-2.59-1.96-6.32-.25-8.84.73-1.06 2.32-1.8 3.89-2.5 1.94-.9 3.85-1.78 3.98-3.24.07-.85-.57-1.46-1.23-2.1-.58-.55-1.18-1.12-1.34-1.9-.13-.64.21-1.41.54-2.15.64-1.43 1.22-2.72-1.91-2.65.05.02 0 .04-.04.06a.67.67 0 0 0-.04.02c-.04-.02-.4.12-.81.3-.54.23-1.2.5-1.45.52 0 0-.14.12-.35.34-.96.97-3.65 3.7-5.01 3.57-2.7-.24-3.74-5.44-2.3-5.71a3.69 3.69 0 0 1-1.55-.77c-.85-.6-1.74-1.23-3.58-.68-1.44.43-1.8 1.05-2.27 1.86-.16.26-.33.55-.55.86-.69.97-1.08 1.62-1.33 2.03-.26.43-.36.61-.5.64-.11.03-.24-.03-.45-.14-.4-.19-1.12-.53-2.61-.78l-.06.3c-.2 1.16-.28 1.62-.13 1.97.1.22.3.4.63.7.25.24.6.55 1.02 1 .55.6 1.18 1.13 1.81 1.67.45.39.9.77 1.32 1.17.52.5 5.35 5.5 4.35 5.73.97.18 1.07 2.48 1.16 4.7.07 1.54.13 3.04.5 3.73.35.7.93 1.28 1.5 1.88.47.47.93.95 1.28 1.48.94 1.42 1.09 3.08 1.23 4.77.15 1.61.29 3.25 1.14 4.72.22.38.58.7.94 1.01.35.3.69.6.9.95.14.24.39.45.63.66l.39.36c.74.8.82 1.22.88 1.48.01.08.03.14.06.2.12.21.5.28 2.28.62h.03c3.28.62 12.62.33 15.2-1.77.36-.3.74-1.11 1.03-1.73.2-.4.34-.73.42-.74a1.4 1.4 0 0 1-.64-.55c0-.02-.02-.03-.03-.05ZM79.18 120.45c-.9-.1-1.55-.38-2.19-.66a5.57 5.57 0 0 0-3.16-.62c-1.2.12-2.12.7-3.04 1.26-.53.33-1.07.66-1.67.9-1.45.6-3.96.86-6.7 1.14-5.5.57-11.92 1.23-12.49 4.92.93 0 2.35.1 4 .2 5.07.3 12.3.75 13.99-.83.86-.81.74-1.5.64-2.07-.14-.83-.25-1.44 2.63-1.9.94-.15 1.63.1 2.32.33 1.05.37 2.1.73 4.02-.31.27-.15 3.76-2.13 1.64-2.37ZM77.4 100.15c4.94-5.13 6.28 2.22 6.28 5.26 0 3.48-6 6.05-7.87 2.3-.62-1.24.37-6.3 1.59-7.56ZM133 1.74a9.56 9.56 0 0 1-1.94-2.4c-1-1.52-2.09-3.15-3.48-3.32-3.76-.47-3.33 3.97-2.97 7.59.19 1.88.35 3.55-.12 4.17.06 0 .28.14.61.34 1.59.99 5.53 3.43 3.55-1.06-.18-.4-.88-.72-1.58-1.05-1.28-.6-2.56-1.2-.54-2.26 1.29-.67 2.72 0 4.1.66.98.46 1.94.9 2.8.87l.03-.76c.07-1.02.15-2.35-.46-2.78ZM131.77 44.91c.4-.53.76-1.04 1.08-1.22.19-.12.83 16.67.15 16.46-3.3 1.97-2.89-2.4-2.63-5.1.1-.98.16-1.73.03-1.9-.47-.64-1.46-.88-2.45-1.11-1.36-.33-2.73-.66-2.77-2.05-.02-.59 2.1-2.22 2.63-2.58.2-.13.21-.35.22-.58.02-.24.03-.5.27-.65.14-.1.48 0 .87.1.5.14 1.07.3 1.35.08.42-.32.85-.9 1.25-1.45Z"/><path d="M95.36 58c-.5-.86-1-1.72-2.15-2.23-3.03-1.34-3.09-1.96-3.19-3.02-.06-.63-.13-1.4-.84-2.57-1.72-2.82-6.06-2.63-9.5-2.47-.7.03-1.36.06-1.95.06-.77 0-1.32-.03-1.75-.06-1.36-.08-1.5-.1-3.27 1.42-.71.62-1.42 1.34-2.14 2.09-.82.83-1.65 1.69-2.55 2.44-1.94 1.62-6.42 5.7-3.14 7.97-1.6.35-1.1 3.07.01 3.67-.13.05-1.51 3.29-1.44 3.47-.73-.05-1.42-.23-2.08-.4-1.48-.38-2.83-.73-4.14.54-1.11 1.08-.75 2.66-.39 4.24.31 1.33.62 2.66.04 3.7-1.61 2.93-6.9 3.21-9.69 1.46-1.9-1.2-6.26-5.08-7.47-6.87-2.06-3.06-1.24-5.8 3.08-5.68 1.06.02 1.8.47 2.36.8.82.48 1.18.69 1.38-1.18.08-.82-.8-1.87-1.51-2.72-.27-.32-.52-.62-.68-.86l-.33-.5c-1.85-2.74-2.6-3.85-1.2-7.19l.2-.48c1-2.38 1.34-3.2.4-5.92-1.1-3.13-1.4-4.45-1.14-7.76 0-.15.03-.32.05-.51.17-1.38.45-3.65-1.94-4 .36-.53 1.73-4.44 1.4-4.8 2.04.23 2.36-.14 2.97-.84.38-.43.88-1 1.99-1.62.77-.43 1.75-.54 2.75-.64 1.38-.15 2.8-.3 3.68-1.35.81-.95.85-2.49.88-4 .02-1.11.05-2.21.38-3.05.61-1.55 1.43-3.46 3.5-4.15 5-1.67 4.6 2.62 4.33 5.63-.05.51-.1 1-.1 1.4-.17 5.12-.25 10.56.75 15.5 1.02 5.02 1.87 3.1 3.02.5.22-.5.45-1.03.7-1.53a7.55 7.55 0 0 1 1.87-2.2c.66-.6 1.32-1.2 1.75-1.99.32-.6.3-1.21.27-1.8-.04-.84-.08-1.62.82-2.26.67-.48 1.47-.32 2.2-.17.6.12 1.15.23 1.55-.04.77-.51.88-1.96 1-3.46.17-2.13.35-4.36 2.45-4.1 2.06.23 2.25 2.33 2.41 4.09.11 1.24.21 2.32.95 2.46l-1.38.33c-3.21.74-7.77 1.8-1.48 3.92-1.93.18-1.37 2.48-1.1 3.54 0 .08.03.15.04.21.06.3.42.56.8.8.37.27.76.54.81.87.13.73-.07 1.1-.27 1.46-.14.26-.29.52-.3.93-.02.53-.08 1.04-.13 1.5-.2 2-.32 3.04 3 1.42.92-.46 1.14-1.1 1.3-1.58.24-.69.39-1.11 2.26-.44.07.19.23.3.5.34.28-.08.73.23 1.26.59.82.55 1.82 1.22 2.69.86 1.72-.71 1.07-1.93.48-3.03a5 5 0 0 1-.5-1.14c-.58-2.61-.2-2.79.63-3.18a4.8 4.8 0 0 0 2.33-2.14c.74-1.2.26-2.42-.18-3.55-.6-1.49-1.14-2.85 1.26-3.91 6.1-2.7 7.06 3.57 6.3 6.56l-.1.35c-.83 3.24-1.46 5.65.13 9 1.08 2.29 2.86 3.64 4.77 5.1.96.72 1.95 1.48 2.9 2.4 3.59 3.42 3.88 7.5-.21 10.8-3.28 2.62-7.68 3.4-11.1.65-.57-.46-.92-1.06-1.27-1.66ZM89.12 88.84c-4.72-.62-6.35-.74-9.92.14.23.23.24.4.04.5.6.23 1.51.39 2.5.55 1.75.3 3.7.64 4.43 1.5.18.2.03 1.03-.1 1.78-.12.66-.23 1.26-.1 1.34-.1-.06 4.21-5.26 4.88-5.76-.58.02-1.15 0-1.73-.05ZM7.23 102.28l.36.2c.5.18 1.02.26 1.58.24-.26 1.4-2.3 4-4.55 3.57-2.66-.5-1.64-1.68-.56-2.92.59-.68 1.2-1.37 1.24-2 0-.16 1.28.55 1.92.9ZM6.12 95.63c.4.56 1.08.99 1.74 1.4.3.18.59.36.84.55.37-.54.01-1.6-.34-2.66-.3-.87-.58-1.73-.44-2.27-1.71-.06-2.55 1.94-1.8 2.98ZM37.15-5.3c-1.63.91-7.34 4.14-7.66.8l-.07-.92h7.93l-.2.11Z"/></g>',camo02:(t,e)=>'<g fill="#fff" fill-opacity=".2"><path d="M-29.7 126.12c-2.62.41-9.54 1.51-10.8.4-.82-.74-.45-3.34-.18-5.2.1-.72.18-1.32.18-1.68 1.28-.06 2.24 1.38 3.19 2.8 1.4 2.08 2.75 4.1 5 1.03 1.04-1.44.8-3.25.55-5.1-.26-1.95-.52-3.93.72-5.53 1.48-1.9 3.83-2.17 6.16-2.44 2.47-.27 4.9-.55 6.23-2.77.38-.64.48-1.77.6-3 .19-2.11.4-4.5 2.15-5.06 3-.95 3.19 1.67 3.35 3.95.1 1.23.18 2.36.68 2.8 5.46 4.63 5.98-4.3 6.1-6.34v-.03c.02-.42-.05-.76-.12-1.08-.12-.57-.22-1.04.32-1.71.28-.35.67-.3 1.08-.23.4.07.84.14 1.21-.22 1.45-1.39 1.48-1.52 1.8-3.06l.04-.17.05-.2c.11-.52.18-.97.24-1.38A6.4 6.4 0 0 1 .61 88c1.15-1.44 2.3-2.87.14-4.63.6 0 5.76-1.43 6.1-1.62.5-.27 1.07-.96 1.59-1.58.45-.55.85-1.04 1.12-1.14 3.07-1.09 2.85 1.27 2.63 3.69-.14 1.45-.27 2.94.3 3.71-7.95.27-12.73 8.1-13.2 14.16-.07.93.29 1.73.62 2.48.27.6.53 1.17.54 1.76a4.1 4.1 0 0 1-.5 1.95c-.21.46-.42.91-.48 1.52-.23 2.6.81 3.55 2.17 4.8.69.64 1.45 1.34 2.17 2.37 2.4 3.4 1.15 3.93-2.49 3.32-2.09-.36-4.1-.98-6.1-1.61a38.06 38.06 0 0 0-7.53-1.8c-3.34-.34-6.44-.18-8.02 2.61-.92 1.62-1.32 6.05 1.72 6.4-.76.11-1.38.37-2.02.62-.83.34-1.69.68-2.9.76-.96-.39-1.97-.63-3.03-.73-.9.14-1.7.47-2.42.96l-.74.12ZM150.24 57.01c.47.27 1.37.22 2.35.17 1.06-.06 2.2-.12 2.96.21.4.18.8.64 1.2 1.1.37.42.74.85 1.12 1.06.86.5 1.78.67 2.7.84.71.13 1.42.26 2.1.53 2.8 1.14 4.88 3.6 3.26 6.47-.44.8-1.47 1.33-2.5 1.87-1.3.7-2.6 1.38-2.6 2.59 0 4.48 7.78-2.91 8.48-4.5.2-.44.27-.95.34-1.47.1-.72.2-1.46.64-2.03a6.98 6.98 0 0 1 1.96-1.3c.48-.25.87-.46.94-.58 1.3-2.1.75-7.26.32-11.22-.17-1.6-.32-3-.32-3.94-2.2.01-3.19 2.7-4.19 5.38-1.44 3.9-2.89 7.8-8.04 3.5-1.37-1.15-5.3-8.12-5.3-9.42 0-1.18.6-1.84 1.25-2.55.31-.34.63-.68.9-1.1l.75-1.14c.82-1.22 1.01-1.5 1.23-3.82.17-1.88.38-2.17.93-2.91.22-.3.5-.7.87-1.3.17-.3.5-.56.8-.82.7-.6 1.4-1.18.36-2.07-2.6-2.23-8.24 3.55-9.22 4.7-2.78 3.29-6.55 7.77-6.22 11.93.08.94 2.09 9.32 2.92 9.81ZM116.75 116.14c-.33.4-.66.78-.62 1.29.12 1.79.13 1.78.35 1.67.17-.08.46-.22 1.02.3.16.15.63.36 1.2.62 1.33.6 3.16 1.42 2.6 2.12-.28.36-1.04.4-1.85.42-.8.04-1.65.08-2.1.44-.35.28-.56.83-.76 1.32-.16.4-.3.78-.5.92-1.56 1.17-2.17 1.27-5.48 1.27 2.2-.62-3.45-4.51-4.02-3.27.53-1.16-.17-2.38-.85-3.54-.4-.68-.78-1.34-.89-1.96-.14-.8-.11-1.59-.09-2.36.06-1.75.1-3.41-1.76-4.88.63-.08.99-.53 1.34-.97.38-.47.75-.94 1.45-.96.87 2.37 2.9 2.54 5.03 2.71.98.08 1.99.17 2.92.46.3.1.57.17.84.24 1.05.28 1.9.5 2.52 1.58.74 1.28.18 1.95-.35 2.58ZM173.2-4.11c0-1.08-1.99-.92-3.45-.8-.4.02-.76.05-1.03.05.63.25 1 .42 1.24.54.2.1.32.15.45.2.26.06.53.06 1.34.04l1.44-.03ZM-39.75-2.61c-.2.65-.4 1.23-.03 1.36-1.09.22-.88-1.77-.77-2.9.03-.28.05-.5.05-.63 1.44 0 1.07 1.16.75 2.17ZM117.76-4.86h-3.58c.3.14.62.32.94.5 1.33.74 2.63 1.46 2.64-.5ZM172.3 4.14c.43-.08.7-.05.85-.03.09.02.14.03.16 0 .04-.03.03-.1 0-.3-.04-.3-.12-.85-.12-1.87-1.02.02-2.63 2.18-.9 2.2h.01ZM44.89 126.51h1.79c-.37-.08-1.44-.18-1.8 0ZM44.95 71.71c.63-.08 1.17-.4 1.72-.7.78-.43 1.55-.86 2.54-.62 1.02.25 1.4.9 1.67 1.4.15.27.28.5.47.57 2.72 1.03 3.16-.9 3.63-3.93.08-.54.1-1.01.12-1.44.04-1.06.08-1.87 1.04-2.9.55-.59 1.45-.9 2.34-1.2.65-.22 1.3-.45 1.8-.77a9.8 9.8 0 0 0 2.8-2.78c.3-.4.63-.85 1.04-1.33.92-1.1 2.27-2.15 3.66-3.24 3.76-2.94 7.88-6.16 5.11-11.24-2.97-5.46-4.15-.85-5.06 2.71-.34 1.37-.65 2.58-1 3-4.48 5.4-5.45.13-6.04-3.03-.1-.51-.18-.97-.26-1.32-1.26-4.95-2.98-1.38-4.4 1.56-.42.89-.82 1.72-1.17 2.24a7.8 7.8 0 0 1-1.46 1.53 5.57 5.57 0 0 0-1.6 1.9c-.24.5-.12 1.15 0 1.8.18 1.1.38 2.23-.94 2.9-1.4.75-3-.14-4.42-.92-1.08-.6-2.06-1.14-2.77-.88-2.25.8-.23 3.54 1.39 5.73.74 1 1.4 1.9 1.52 2.43.34 1.55-.27 2.9-.88 4.25-.61 1.36-1.23 2.73-.85 4.3ZM9.52 34.33H9.3h.23ZM.12 41.5c-.43 1.4-1.57 2.56-2.7 3.72-1.29 1.32-2.57 2.62-2.8 4.25-.36 2.63 1.66 3.97 3.75 5.35.66.44 1.33.89 1.93 1.38a9.29 9.29 0 0 1 3 3.61c.12.27.14.72.16 1.18.04.68.07 1.39.4 1.62 1.78 1.26 2.77.4 3.96-.64a8.62 8.62 0 0 1 1.96-1.4c2.61-1.23 2.65-1.2 4.21-.26.32.2.7.42 1.17.68l.68.41c1.44.88 2.46 1.5 4.22-1.06.7-1.02.67-2.83.63-4.7-.06-3.14-.13-6.47 3.3-6.66-1.52-.68-.85-2.7-.16-4.77.71-2.1 1.43-4.26-.22-5-4-1.81-5.17 6.75-5.84 11.65-.22 1.61-.38 2.83-.58 3.14-1.6 2.6-7.32 4.8-8.96.97-.3-.68-.08-1.41.14-2.16.22-.72.43-1.46.2-2.16-.36-1.03-.94-1.4-1.61-1.84a7.11 7.11 0 0 1-1.14-.86c-2.78-2.67-2.68-2.84-1.29-5.1l.83-1.38c.3-.53.53-1.37.8-2.28.58-2.08 1.29-4.56 3.12-4.84-1 0-2.04-.24-3.08-.5-1.97-.46-3.9-.93-5.37.44-1.03.96-.85 2.69-.68 4.33.1 1.08.2 2.13-.03 2.9ZM65.5 10.9l-.9-1.2c4.2-.06 7.5-4.53 2.91-7.06 1.87 1.02 3.27-.12 4.4-1.04 1.44-1.17 2.46-2 3.44 2.24l.27 1.07c.22.86.46 1.82.56 2.48.2 1.4.16 1.57 0 2.35l-.09.46c-.08.46-.25.78-.4 1.07-.35.63-.62 1.14.1 2.63.39.78.85 1.38 1.3 1.96.8 1.05 1.54 2 1.51 3.68 0 .47-.2.84-.4 1.25a3.46 3.46 0 0 0-.38 2.87c.23.84.63 1.63 1.04 2.43.49.95.98 1.9 1.15 2.94-1.73-.07-2.83-1.43-3.82-2.64-.35-.43-.68-.84-1.02-1.17-.76-.74-1.69-1.26-2.58-1.77-.78-.45-1.54-.88-2.16-1.43-1.72-1.56-1.78-2.36-1.9-3.84-.03-.47-.07-1-.17-1.67-.38-2.44-1.46-3.83-2.84-5.62ZM65.15 36.8c2.2-.98-.14-5.47-2.18-5.64-1.43-.13-5.26 3.09-5.5 4 1.22-.23 2.48.36 3.71.93 1.38.65 2.73 1.27 3.97.72ZM11.35 29.55c1.01.62 3.03 3.24.1 3.1-.75-.3-1.61-.5-2.46-.68-1.8-.4-3.54-.79-4.05-2.13.56-.01 1.26-.15 2.01-.29 1.57-.3 3.35-.63 4.4 0ZM33.07 51.36c-1.07.05-2.14-.24-3.1-.5-2.03-.54-3.54-.95-3.39 2.27.8.05 1.55.2 2.24.33 2.07.41 3.6.71 4.25-2.1ZM-.27 19.32c-.1.52-.18 1.02-.58 1.15a30.5 30.5 0 0 0-.56-.14c-1.69-.4-4.68-1.12-3.95-2.77.9-2 2.61-1.12 4.13-.34.69.36 1.33.7 1.85.73-.66.1-.78.76-.89 1.37ZM91.3 46.57a6.25 6.25 0 0 1 .02-3.58c-2.2.01-2.03 3.55-.02 3.58Z"/><path d="m64.5 9.39.06.24c.71-.04.23-.2-.07-.24ZM100.06 44.32c.47.67.52 1.66.58 2.66.09 1.51.17 3.07 1.68 3.62 1.52.56 2.3-.7 3.12-2.06.7-1.15 1.44-2.36 2.7-2.6.84-.18 1.7.24 2.58.66.82.4 1.66.8 2.53.74 2.5-.16 6.46-2.7 6.26-4.97a6.74 6.74 0 0 1-2.82-.24c-.74-.17-1.46-.35-2.3-.3-.86.05-1.7.3-2.52.55-.77.23-1.53.46-2.24.5-3.26.17-3.24-.2-3.16-1.36.03-.52.08-1.2-.15-2.06a12.3 12.3 0 0 1-.18-.78c-.12-.56-.16-.8-.75-1.63-.26-.37-.74-.65-1.24-.94-.6-.35-1.22-.71-1.47-1.25-.1-.21 0-.92.12-1.74.2-1.42.43-3.19-.18-3.31-.8 1.18-2.06 2.1-3.31 3.01-1.56 1.14-3.12 2.29-3.82 3.94-1.22 2.86.3 3.98 2.07 5.28.87.64 1.8 1.33 2.49 2.28ZM25.21 60.2c1.68-.4.82-4.15-.44-3.26-.8.56-.77 3.14.44 3.25ZM55.6 35.91ZM-39.74 88.2c.24-.1.46-.27.68-.43.4-.29.82-.59 1.32-.62-.02-.57-2.5-3.04-2.76-3.03l-.06.5c-.16 1.27-.56 4.26.82 3.59ZM66.99-3.94c-.29-.31-.57-.63-.92-.76-.09-.04-.1-.08-.13-.11a.26.26 0 0 0-.04-.05c4.93 0 3.18 2.35 1.87 1.62-.29-.15-.54-.43-.78-.7ZM88.29 122.17c.14.1.03.05-.16-.03-.3-.13-.8-.34-.8-.19-.01.43 2.33 1.18.96.22ZM-32.66 77.55c.3.18.58.35.9.44 1.47.41-2.51.23-2.02-.92.41.06.77.27 1.12.48Z"/></g><path d="M146.72 95.46c-.16.3-.3.57-.35.7 2.15.2 2.73 13.63-4.7 10.83-.65-.25-1-1.85-1.4-3.64-.8-3.58-1.76-7.9-5.6-3.63-1.26 1.4-.54 3.23.18 5.05.83 2.1 1.65 4.18-.53 5.6-3.24 2.1-4.6-.3-5.97-2.75-1.03-1.81-2.06-3.65-3.9-3.67 3.2 2.08 3.08 8.06 2.99 12.56-.03 1.64-.06 3.09.08 4.08a3.87 3.87 0 0 0 1.87-.63 3.42 3.42 0 0 1 1.93-.6c1.2.08 2 .62 2.82 1.17.37.25.73.5 1.13.7.31.16.68.43 1.08.71 1.2.86 2.73 1.95 4.1 1.34.42-.2.5-.97.57-1.83.1-1.05.2-2.22.97-2.6 1.55-.73 1.53.95 1.51 2.6-.01 1.05-.03 2.09.35 2.51 1.36 1.54 7.6 1.89 9.7 1.9.05-.89-.06-1.55-.14-2.06-.18-1.09-.25-1.56 1.41-2.24 2.63-1.06 7.26 1.84 8.77 3.05.32.26.4.77.48 1.23.06.4.12.76.3.88.65.41 6.09.27 6.46.2 2.22-.47 3.63-1.9 3.03-4.86-.48-2.38-2.85-3.47-5.25-4.57-2.57-1.2-5.18-2.39-5.54-5.2-.09-.66.27-1.47.61-2.27.27-.62.54-1.24.58-1.76.07-.8-.1-1.63-.27-2.45-.22-1.07-.44-2.13-.15-3.15.18-.62 3.65-4.84 4.01-4.96h.03-.03c-.6-.01-1.13-.23-1.65-.45a4.27 4.27 0 0 0-1.77-.45c-.1-.02-.42.6-.77 1.31-.46.91-1 1.99-1.28 2.07-3.05.9-2.28-1.25-1.72-2.8.16-.46.3-.86.33-1.12.1-1.1-.09-2.15-.28-3.2-.14-.73-.28-1.47-.31-2.22-.03-.56.1-1.07.23-1.58.17-.7.35-1.39.1-2.2-.05-.16-.68-.01-1.28.12-.53.13-1.03.25-1.04.12-.11-.71.15-1.83.41-2.95.65-2.73 1.3-5.48-3.47-2.33-2.43 1.61-3.42 3.92-4.43 6.27-.86 2.02-1.74 4.07-3.56 5.72.09.02-.32.8-.64 1.44ZM-35.67 117.64c1.35-.73.57-1.37-.36-2.15-.94-.77-2.03-1.67-1.31-2.92.46-.8 1.54-.97 2.65-1.15 1.14-.17 2.3-.36 2.85-1.2.8-1.2.48-2.06.17-2.9-.37-.96-.73-1.9.75-3.32 1.04-1 2.01-1.32 2.86-1.6 1.26-.41 2.23-.73 2.7-3.04.7-3.53-1.06-5.88-2.74-8.12-1.9-2.54-3.7-4.94-1.71-8.77l.32-.6c1.05-1.87 2.87-5.15-.6-6.25-2.52-.8-2.37.12-2.21 1.07.11.71.24 1.45-.78 1.49.21.58-2.85-.1-2.47-.96-.8-.1-1.2-.54-1.58-.97-.55-.63-1.08-1.22-2.78-.68-1.7.53-1.97 2.16-2.2 3.49l-.01.1c-.34 2 .56 3.74 1.43 5.41.72 1.4 1.42 2.74 1.37 4.16v.53c.01.36.02.64-.16 1.12-.56.4-1.2.56-1.92.46-1.1-.23-1.41.2-.92 1.3-.97 1.89-.6 5.1-.29 7.92.15 1.27.29 2.47.29 3.44 0 .67-.12 1.78-.25 3.09-.35 3.41-.84 8.14.25 9.54.63.81 5.57 2.1 6.66 1.5ZM-35.55 66.22c.26 1.76.6 4.05-2.25 3.3-2.03-.53-1.8-2.59-1.59-4.48.25-2.2.47-4.18-2.94-3.26V46.16l.81.08c3.02.28 10.07.94 7.68-3.74 1.94 1.71 4.07.16 5.8-1.1 1.17-.86 2.17-1.59 2.8-1.05-.15-.13-.54 1.24-.92 2.62-.35 1.23-.7 2.47-.88 2.64-.6.56-1.93.72-3.32.88-2.13.26-4.37.53-4.2 2.27.28 2.95 4.55 1.8 8.07.85 2.06-.55 3.86-1.04 4.49-.61.9.63-.22 2.95-1.22 5.04-.55 1.13-1.07 2.2-1.2 2.88-.08.4-.06.82-.04 1.24.03.86.07 1.71-.73 2.4-1.41 1.24-2.72.9-4.06.55-.8-.2-1.6-.41-2.45-.3-3.52.48-3.85 1.19-3.99 4.1-.01.33.06.8.14 1.3ZM-39.65 2.34c1.08.06 2.14.12 3.3.05.61-.03 1.08-.15 1.52-.25.72-.18 1.34-.33 2.4-.03 1.35.39 5.2 3.24 2.4 4.12 4.07-1.28 7.96-4.5 3.63-7.6a35.47 35.47 0 0 0-4.02-2.13l-.41-.2-.25-1.13h-2.81c-1.67-.26-3.81-.17-5.8-.08-.94.04-1.84.08-2.64.08 0 .75.63 1.11 1.31 1.5.94.54 1.97 1.13 1.5 2.84-.16.62-.78.93-1.4 1.23-.7.36-1.41.71-1.41 1.52.94-.01 1.81.04 2.68.09ZM75.74 89.64c-.64.2-1.28.38-1.88.08-.95-.49-1.67-2.34-2.34-4.05-.44-1.1-.84-2.15-1.28-2.72a31.61 31.61 0 0 0-2.37-2.68c-1.8-1.9-3.6-3.76-4.1-6.38-.8-4.08 1.87-7.33 4.54-10.44.2-.21.39-.49.6-.77.95-1.35 2.07-2.92 3.32-.01.64 1.5-.47 2.67-1.56 3.82-.92.96-1.82 1.91-1.65 3.02.49 3.17 3.98 2.13 6 .86.7-.44.98-1.07 1.2-1.58.42-.96.65-1.5 3.15.4 1.18.9 1.65 2.16 2.12 3.42.53 1.48 1.08 2.95 2.76 3.8 3.54 1.77 6.12-.73 5.4-3.82-.45-1.86-2.1-3.5-3.7-5.07a21.31 21.31 0 0 1-2.52-2.78c-3.18-4.59-1.47-14.68 7.06-13.6 2.76.35 4.36 2.65 5.82 4.76.57.8 1.1 1.59 1.69 2.21l.31.34c1.06 1.16 2.83 3.12 4.57 3.06 1.26-.04 1.3-.43 1.33-1 .03-.45.08-1.03.83-1.61l.41-.37c.85-.78 2.48-2.3 2.8-1.27.23.71-.72 1.46-1.56 2.12-.48.37-.92.72-1.1 1.02-1.32 2.24-.85 4.43-.35 6.75l.15.73c.25 1.2.4 2.4.55 3.63.23 1.84.45 3.7 1.01 5.45.27.84.64 1.61 1.01 2.37.63 1.29 1.24 2.55 1.27 4.03l.04 1.49c.03 1.55.08 3.21.06 4.59v.88c.04 1.3.05 1.57-1.79 2.7-1.73 1.07-3.91 1.47-6.1 1.87-1.87.34-3.75.68-5.34 1.45 2.3-1.11.35-4.84-1.18-7.78a17.3 17.3 0 0 1-1.34-2.93c-1.16-4.55-4.38-6.19-6.15-.98-.82 2.43-2.06 2.85-3.31 3.28-1.06.36-2.11.72-2.94 2.28-.4.78-.6 1.53-.74 2.11-.32 1.3-.44 1.76-2.36-.15-.2-.2-.1-.6 0-1.03.1-.54.24-1.11-.14-1.4-.7-.53-1.45-.3-2.2-.08ZM25.66 16.46c.54 1.21.52 2.44.5 3.67-.03 1.38-.06 2.76.7 4.13.61 1.1 1.61 1.93 2.6 2.76l.51.42c.41.35.96.74 1.55 1.17 2.42 1.75 5.66 4.08 4.08 6.54.34-.53 4.75-2.96 5.7-3.3 3.63-1.33 4.96-.18 6.09 3.17.14.43.21 1.07.29 1.8.23 2.2.55 5.15 3.35 4.88 1.63-.16 1.9-1.75 2.16-3.24.17-1.03.34-2 .93-2.45-2.13-.01-1.93-.62-1.66-1.43.13-.4.28-.84.18-1.29.36-.65.52-1.33.48-2.05a4.56 4.56 0 0 0-1.5-2.17c-.82-2.95.11-3.4 1.89-4.26.76-.37 1.68-.82 2.69-1.58 3.57-2.68 4.55-8.87.69-12.03-1.7-1.4-3.33-1.1-4.95-.8-1.3.25-2.58.49-3.89-.14-1.35-.65-1.3-1.27-1.23-1.99.05-.45.1-.95-.2-1.51-.91-1.73-1.92-2.59-3.4-3.85l-.66-.56C39.63-.19 36.29-2.2 31.83 0c-1.94.96-2.21 2.02-2.59 3.45-.1.4-.21.82-.37 1.28-.5 1.5-1.24 2.28-2 3.1-.47.49-.95 1-1.41 1.69-1.7 2.56-1.03 4.2.2 6.94ZM50.53 97.14c-.37-.83-.74-1.65-.51-2.4 2.43-.23 3.76 1 5.17 2.3.6.56 1.22 1.13 1.95 1.6 1.34.89 2.86 1.58 4.37 2.26 1.13.52 2.26 1.03 3.32 1.62 2.52 1.41 2.85 2.23 3.3 3.39.27.67.58 1.45 1.39 2.52.36.47 3.83 2.75 3.85 2.73-3.75-.03-2.96 1.2-1.95 2.76.63.99 1.36 2.11 1.1 3.15-.4 1.69-6.91 6.12-9.06 5.43-2.88-.92-1.54-2.37-.2-3.82.75-.82 1.5-1.64 1.5-2.36-.02-2.16-4.89-6.58-7.49-6.43-2.08.11-2.01.72-1.93 1.45.02.23.05.48 0 .73-.1.6.1 1.08.29 1.57.33.82.67 1.68-.32 3.22-1.85 2.87-5.83 6.43-9.5 6.52-.96.02-5-.91-5.56-1.6-.15-.2-.27-.34-.37-.45-.24-.28-.34-.4-.33-.5 0-.07.07-.14.18-.25.18-.2.49-.52.87-1.25.47-.88 1.24-1.7 1.98-2.47 1.9-2 3.62-3.8-.54-6.07 5.2 2.82 6.64-3.24 7.4-6.42l.1-.47c.13-.5.4-1.22.7-1.96.41-1.05.84-2.16.87-2.78.03-.65-.28-1.33-.59-2.02ZM-7.8 5.76c.62-1.68-4.45-3.7-5.84-3.85-1.4-.15-2.72.25-4.06.66-1.03.31-2.07.62-3.13.68l.5.3C-17.51 5.2-9.36 10.02-7.8 5.76ZM127.24 37.29c-2.09-1.27-10.33-4.32-11.54-1.56-.16.37-1.55-1.53-1.65-1.74-.7-1.55 0-3 .7-4.43a24 24 0 0 0 .44-.93c.2-.48.44-.93.68-1.38.58-1.11 1.15-2.2 1.22-3.49.04-.87-.33-1.75-.69-2.61-.38-.92-.75-1.82-.62-2.68.29-1.82 1.1-2.1 2.2-2.5.57-.19 1.21-.42 1.9-.9 1.67-1.13 1.8-1.67 2.09-2.77.09-.36.2-.78.38-1.3.29-.83.47-1.95.66-3.11.3-1.8.62-3.71 1.36-4.86.92-1.4 1.49-1.38 2.45-1.32a7.1 7.1 0 0 0 1.86-.08 10 10 0 0 0 1.94-.7c1.15-.51 2.38-1.05 3.28-.86.37.07.84.67 1.4 1.38.73.9 1.6 2 2.55 2.38.82.34 1.82.26 2.8.2.9-.07 1.8-.14 2.45.15 1.26.56 1.52 1.27 1.83 2.1.2.53.42 1.12.96 1.77.44.53.94.91 1.42 1.29a5.74 5.74 0 0 1 1.95 2.16c.3.65.28 1.25.26 1.8-.05.98-.08 1.78 1.85 2.37l-.19.19c-1.9 1.94-8.68 8.87-11.31 8.51-2-.27-1.93-1.88-1.85-3.4l.02-.85c0-.67.04-1.34.08-2.02.15-2.15.28-4.29-1.12-6.25-1.96-2.73-4.45-3.42-6.23-.42a5.04 5.04 0 0 0-.56 2.08c-.1.9-.2 1.8-.91 2.6-.63.72-1.36 1.01-2.1 1.32-.47.19-.96.38-1.42.7-3.4 2.22-6.44 5.64-5.11 9.76.94 2.93 2.6 2.98 4.49 3.05 1.36.04 2.84.09 4.27 1.2.73.57.94 1.13 1.16 1.68.28.72.54 1.4 1.95 2 1.2.5 2.63.45 4.05.4 1.09-.04 2.17-.08 3.15.13-.91.52-3.35 4.7-2.85 4.36-3.56 2.98-5.53.76-7.4-1.35-.73-.83-1.44-1.63-2.23-2.1Z" fill="#000" fill-opacity=".2"/><g fill="#000" fill-opacity=".1"><path d="M109.88 125c-.42-1.6-4.19-2.3-5.67-1.5-4.74 2.55 6.75 5.59 5.67 1.5ZM68.14 124.62c-.2-1.48-3.03-3.74-4.87-2.4-1.17-.44.56 2.75.85 3.04 1.53 1.56 4.41 2.3 4.02-.64ZM38.4 123.25c-.57-.2-1.24-.37-1.95-.54-2.03-.49-4.33-1.05-5.1-2.82-.4-.9.26-2.16.92-3.41.86-1.65 1.73-3.29.17-4.12-1.8-.96-2.35.26-2.9 1.48-.28.63-.56 1.26-1.02 1.59-4.52 3.19-4.05.28-3.66-2.18.16-1 .3-1.92.11-2.34-.39-.88-1.36-1.33-2.34-1.78-.76-.35-1.51-.7-1.98-1.26-.82-.95-.75-2.15-.7-3.26.09-1.65.16-3.06-2.77-3-6.28.12-3.54 4.87-1.38 8.61.86 1.5 1.63 2.83 1.7 3.64.1 1.34-.7 2.2-1.48 3.03-.65.7-1.3 1.37-1.37 2.3-.15 1.7 5.21 5.78 5.96 5.56.91.2 2.84.95 1.06 1.68h12.76c.33 0 .71.02 1.1.04 1.33.09 2.78.17 3.2-.61.21-.4.18-2.43-.34-2.61ZM128.02 117.12c-.42 2.86-.83 5.6 3.2 7.24 2.48 1.01-2.12 2.56-3.9 2.07-2.48-.69-3.08-1.86-3.46-4.18-.08-.5 0-1.05.08-1.61.22-1.52.44-3.04-2.53-3.18-2.4-.12-2.53.8-2.24 2.62 0 .05-3.92-.42-3.95-.44-.98-1.12-.4-1.58.2-2.04.33-.26.66-.52.71-.9.23-1.6.34-4.56-2.51-5.45-1.19-.37-2.27-.1-3.33.18-1.36.35-2.69.69-4.15-.4-.52-.39-.81-2.33-1.01-3.68-.12-.75-.2-1.32-.28-1.34.36-.54-1-1.2-2.34-1.85-.97-.48-1.92-.94-2.16-1.34-1.48-2.46 1.52-2.95 4.24-3.4.98-.16 1.94-.31 2.61-.55 1.05-.38 1.8-.71 2.4-.98 1.82-.81 2.1-.93 4.79.65.76.45 1.58 1.07 2.4 1.68.63.47 1.26.94 1.84 1.32-.73.15 3.81 1.89 3.44 1.7.82.4 1.34.6 1.7.73.31.1.5.17.65.3.25.18.39.5.76 1.36l.3.67.25.58c.74 1.65 1.8 4.03 2.31 5.68.46 1.45.22 3.03 0 4.57ZM-40.75 36.57c2.64-.71 4.17 1.8 5.4 3.83.82 1.38 1.52 2.52 2.33 2.26 2.14 1.9 4.2.16 5.92-1.27a9.27 9.27 0 0 1 1.78-1.3c-.11-.06 4.77 1.12 3.78 1.32 6.55 2.28 6.63-2.85 6.7-7.32.02-1.93.05-3.74.6-4.78.98-1.87 2.36-2.59 4.62-3.4.8-.29 1.67-.45 2.54-.62 1.82-.34 3.63-.68 4.66-2.13.19-.27.38-1.12.5-1.72.08-.35.14-.61.17-.62-.58-.15-4.68-1.48-5.1-1.84-.4-.33-.5-.91-.59-1.44-.08-.45-.15-.86-.38-1.07a13.4 13.4 0 0 0-1.96-1.35c-1.07-.65-2.06-1.25-2.84-2.57-.34-.56-.5-1.22-.67-1.86-.41-1.58-.81-3.11-3.5-3.17-2.17-.04-3.46 1.7-4.14 3.18-.3.67-.22 2.52-.13 4.61.22 5.1.5 11.58-4.56 5.58a5.4 5.4 0 0 1-.84-1.33c-.27-.55-.45-.93-1.8-1.7a3.27 3.27 0 0 0-1.65-.35c-.78-.02-1.52-.04-2.18-.99-.68-.98-.34-1.91-.14-2.47.23-.62.28-.77-1.49.05-4.11 1.9-4.27 6.15-4.4 9.71-.03.7-.06 1.39-.12 2.02a14.87 14.87 0 0 1-1.96 6.18c-.99 1.63-3.19 5.25-.55 4.55ZM40.36.37c.74 1.07 1.7 1.79 2.7 2.54.47.34.94.7 1.4 1.1.28.22.58.42.89.62.6.39 1.2.78 1.52 1.4.26.49.16 1.15.07 1.82-.1.76-.21 1.52.22 2.02 1.21 1.4 2.86 1.06 4.6.71 2.3-.47 4.76-.97 6.52 2.6 1.27 2.55 1.89 6.22.24 8.7-.7 1.05-2.23 1.77-3.73 2.47-1.88.89-3.7 1.75-3.83 3.19-.07.83.55 1.44 1.18 2.06.56.55 1.13 1.11 1.28 1.87.13.64-.2 1.4-.52 2.12-.6 1.42-1.16 2.69 1.84 2.61-.05-.02 0-.04.04-.05l.03-.02a4 4 0 0 0 .79-.3c.52-.22 1.16-.5 1.4-.5l.33-.34c.92-.96 3.5-3.65 4.81-3.52 2.58.23 3.58 5.36 2.2 5.62.58.1 1.03.43 1.49.76.81.59 1.67 1.21 3.43.67 1.39-.43 1.73-1.03 2.18-1.83.15-.27.31-.56.53-.86.66-.95 1.03-1.6 1.27-2 .25-.42.36-.6.5-.63.1-.03.21.03.42.14a8.2 8.2 0 0 0 2.5.77l.06-.3c.2-1.15.27-1.6.12-1.94-.1-.22-.29-.4-.6-.69-.24-.23-.57-.54-.98-1-.53-.57-1.14-1.1-1.74-1.63-.43-.38-.86-.76-1.27-1.15-.5-.5-5.13-5.41-4.17-5.65-.93-.17-1.02-2.44-1.11-4.62-.07-1.52-.13-3-.47-3.68-.35-.68-.9-1.27-1.45-1.85-.45-.47-.9-.94-1.23-1.46-.9-1.4-1.04-3.03-1.18-4.7-.14-1.59-.28-3.2-1.1-4.65-.2-.37-.55-.69-.9-1-.33-.3-.66-.59-.86-.93-.13-.23-.37-.45-.6-.65a5.04 5.04 0 0 1-.38-.36c-.7-.78-.78-1.2-.83-1.45a.7.7 0 0 0-.06-.2c-.12-.2-.48-.28-2.2-.6v-.01c-3.15-.61-12.12-.32-14.6 1.74-.35.3-.71 1.1-.99 1.7-.18.4-.32.72-.4.74.37.18.49.36.61.54l.04.05ZM168.56 110.33c-.52 2.23 1.1 4.08 3.18 5.07 1.07.51.98 1.45.87 2.57-.04.37-.08.75-.08 1.15-2.47-.01-7.4-2.84-8.96-4.83-1.63-2.09-1.13-3.1-.36-4.64.24-.46.49-.97.71-1.57.44-1.16.6-2.33.76-3.41.4-2.81.7-4.97 5.53-4.54 0 .55-.33.87-.67 1.22-.45.46-.93.95-.72 2.06.13.7.62 1.09 1.11 1.47.7.55 1.38 1.09 1.02 2.51-.14.55-.64.97-1.16 1.4-.53.46-1.08.92-1.22 1.54ZM10.62 2.44c.85.1 1.48.38 2.1.65.85.38 1.67.75 3.02.6 1.15-.11 2.03-.67 2.92-1.23.51-.33 1.03-.66 1.6-.9 1.4-.58 3.8-.84 6.43-1.12C31.97-.1 38.13-.76 38.68-4.4c-.9 0-2.25-.09-3.83-.19-4.88-.3-11.82-.74-13.43.82-.83.8-.72 1.47-.62 2.04.14.8.24 1.4-2.53 1.86-.9.15-1.56-.09-2.22-.32-1-.37-2-.72-3.86.3-.27.15-3.62 2.1-1.58 2.34ZM162.37 32.42c.58-1.44 1.49-3.74 2.94-3.83.52.44 1.18 1.41 1.77 2.28.5.74.96 1.4 1.22 1.6 1.21.88 1.55.84 2.5.73.42-.04.96-.1 1.73-.1 0 2.23-.61 3.37-1.32 4.68-.46.86-.97 1.8-1.36 3.18-.04.14-.08.41-.12.76-.2 1.7-.63 5.14-3.16 3.16-.62-.49-.64-1.98-.66-3.73-.04-3.23-.1-7.36-3.93-7.81.11-.2.24-.53.4-.92ZM102.33-.92c0 3 1.28 10.24 6.03 5.19 1.17-1.24 2.12-6.23 1.52-7.46-1.78-3.67-7.55-1.14-7.55 2.28ZM-39.18 121.74c-.62-.97-1.22-1.9-1.86-2.36-.59-.43-.5-1.74-.45-2.75.02-.27.04-.53.04-.74.82-.04 1.74.4 2.68.86 1.33.64 2.7 1.31 3.94.64 1.94-1.04.71-1.63-.52-2.22-.67-.32-1.34-.64-1.51-1.04-1.9-4.42 1.88-2.01 3.4-1.04.32.2.54.34.59.34-.46.6-.3 2.25-.12 4.1.34 3.57.76 7.94-2.85 7.48-1.33-.17-2.37-1.77-3.34-3.27ZM-39.86 76.85c.39-.54.8-1.12 1.2-1.43.27-.2.82-.06 1.3.07.37.1.7.2.83.1.23-.15.24-.4.26-.63 0-.23.02-.45.2-.58.52-.35 2.56-1.95 2.54-2.53-.04-1.38-1.35-1.7-2.67-2.02-.95-.23-1.9-.46-2.35-1.1-.12-.16-.05-.9.04-1.86.24-2.67.64-6.97-2.53-5.03-.65-.21-.04 16.33.15 16.21.3-.18.65-.68 1.03-1.2ZM140.32 121.53c.32-2.06.62-4 3.36-3.26.21.05-.09.84-.45 1.8-.55 1.43-1.23 3.23-.5 3.4-.34.06-.38.48-.41.88-.02.2-.03.39-.09.52-.7 1.7-.86 1.7-2.44 1.61-.45-.02-1.01-.05-1.73-.05.1-.05-.5-.82-.65-.94 2.3-.06 2.61-2.07 2.9-3.97ZM137.39 125.49h.02c-.02-.02-.03-.03-.02 0ZM126.5-1.19a7.7 7.7 0 0 0-.07-2.35 11 11 0 0 0-.45-.86h.36c2-.02 7.66-.07 4.51 2.37-.97.76-3.05.86-4.34.84ZM139.1-3.8s3.3 1.83 3.43 1.4c.65-2.3-1.46-2.17-3.33-2.05-.4.02-.8.05-1.14.05.42.09.76.29 1.03.6Z"/><path d="M-4.91 63.96c.48.84.96 1.69 2.06 2.19C.05 67.47.1 68.09.2 69.13c.07.62.14 1.38.82 2.52 1.65 2.79 5.81 2.6 9.11 2.44.68-.03 1.31-.06 1.88-.06.74 0 1.26.03 1.68.06 1.3.08 1.44.1 3.13-1.4.7-.6 1.37-1.32 2.06-2.05.78-.83 1.59-1.67 2.45-2.41 1.86-1.6 6.16-5.62 3.02-7.85 1.53-.35 1.06-3.02-.02-3.61.13-.05 1.46-3.25 1.39-3.42.7.04 1.36.22 2 .39 1.41.37 2.71.72 3.96-.53 1.08-1.07.73-2.62.38-4.18-.3-1.3-.6-2.62-.04-3.64 1.55-2.89 6.63-3.17 9.3-1.44 1.82 1.19 6 5 7.16 6.77 1.98 3.02 1.2 5.71-2.95 5.6-1-.02-1.73-.46-2.26-.78-.79-.48-1.13-.69-1.32 1.15-.08.8.76 1.85 1.45 2.69a11.22 11.22 0 0 1 .97 1.33c1.77 2.7 2.49 3.8 1.15 7.08-.06.17-.13.33-.2.48-.95 2.34-1.28 3.15-.37 5.83 1.05 3.08 1.34 4.39 1.09 7.64l-.06.51c-.16 1.36-.42 3.6 1.87 3.93-.35.53-1.66 4.38-1.34 4.75-1.96-.24-2.27.13-2.85.8-.37.44-.85 1-1.91 1.61-.75.42-1.69.53-2.64.63-1.33.15-2.68.3-3.54 1.33-.78.93-.8 2.45-.84 3.94a9.36 9.36 0 0 1-.37 3c-.58 1.53-1.37 3.41-3.36 4.1-4.8 1.64-4.42-2.59-4.15-5.55.04-.5.09-.98.1-1.38.16-5.04.23-10.4-.73-15.26-.98-4.94-1.8-3.05-2.9-.5-.2.5-.43 1.02-.67 1.51a7.4 7.4 0 0 1-1.79 2.16 7.71 7.71 0 0 0-1.68 1.97c-.31.59-.28 1.2-.26 1.78.04.82.08 1.6-.78 2.22-.65.48-1.41.32-2.11.17-.58-.12-1.11-.23-1.5.03-.73.51-.84 1.94-.96 3.41-.16 2.1-.33 4.3-2.35 4.05-1.98-.24-2.16-2.3-2.31-4.03-.11-1.23-.2-2.29-.9-2.42.37-.1.82-.22 1.3-.33 3.1-.74 7.47-1.78 1.43-3.86 1.85-.18 1.31-2.45 1.07-3.5l-.05-.2c-.07-.3-.42-.55-.77-.8-.36-.25-.73-.52-.79-.84-.12-.72.07-1.08.26-1.44.14-.26.28-.52.3-.91.01-.53.07-1.03.11-1.48.2-1.98.3-3-2.86-1.4-.9.45-1.1 1.07-1.27 1.56-.22.67-.36 1.09-2.16.43-.06-.2-.22-.3-.48-.34-.27.08-.7-.22-1.21-.58-.78-.54-1.74-1.2-2.58-.85-1.66.7-1.03 1.9-.47 2.98.21.4.42.8.49 1.13.55 2.58.2 2.75-.6 3.13-.58.28-1.38.66-2.24 2.1-.71 1.2-.26 2.4.17 3.5.57 1.48 1.09 2.83-1.21 3.87-5.86 2.66-6.78-3.52-6.04-6.46l.08-.34c.8-3.2 1.4-5.58-.11-8.87-1.04-2.26-2.75-3.59-4.58-5.02a31.58 31.58 0 0 1-2.8-2.36c-3.43-3.38-3.7-7.4.22-10.64 3.14-2.6 7.36-3.36 10.65-.65.54.45.88 1.04 1.22 1.63ZM86.86 16.93c.45.21 1.04 1 1.64 1.81.56.75 1.14 1.52 1.63 1.89.6.45 1.26.79 1.9 1.12 1.04.56 2.06 1.1 2.8 2.08 3.04 4.1.8 6.84-1.88 10.1l-.1.11c-2.9 3.54-4.47 14.02-1.33 17.42.5.54 1.28.95 2.1 1.38.9.47 1.85.97 2.5 1.68.39.42.63.92.88 1.42.23.46.46.93.8 1.33 1.22 1.44 4.02 4.31 6.14 4.43.44-2.45 1.27-3.31 3.72-4.66 3.3 1.12 4.88-6.03 4.72-6.91-.32-1.77-1.37-4.19-3.9-4.25-2.3-.06-2.76 1.15-3.21 2.36-.3.78-.58 1.56-1.37 2-2.46 1.36-2.85.26-3.46-1.48a29 29 0 0 0-.32-.88c-.24-.6-.33-1.11-.42-1.58a3.98 3.98 0 0 0-1.1-2.37 5.33 5.33 0 0 0-1.8-1.06c-.85-.36-1.7-.73-2.14-1.46-2.07-3.5 1.1-6 3.99-8.28 1.3-1.02 2.53-2 3.22-3-.17-.06 6.45-2 7.03-2.1.38-.07.87-.13 1.39-.19 2.34-.27 5.48-.63 3.8-2.41-.62-.68-1.64-.9-2.7-1.11-1.22-.26-2.5-.53-3.3-1.53-1.03-1.27-.77-2.71-.5-4.13.2-1.14.4-2.26-.08-3.27-1.42.03-2.77.55-4.1 1.06-2.34.9-4.62 1.79-7.15-.15-1.72-1.33-1.57-3.06-1.41-4.78.12-1.39.25-2.77-.6-3.93-.39-.54-.53-.8-.6-.92-.02-.06-.03-.08-.05-.09l-.03.02c-.08.05-.3.2-1.34-.01-3.03-.65-3.15-.21-3.45.88-.1.35-.2.78-.44 1.25-.47.93-2.52 7.7-1.48 8.2ZM10.6 33.44c-3.42.87-5 .75-9.52.13-.56-.05-1.1-.07-1.66-.05.64-.48 4.78-5.6 4.68-5.67.13.08.02.67-.1 1.32-.12.74-.26 1.56-.1 1.77.7.84 2.58 1.16 4.26 1.46.95.16 1.83.32 2.4.55-.2.1-.18.27.04.5ZM79.33 20.15c.03 0 .16.08.35.19.61.35 1.83 1.05 1.84.89.04-.62.63-1.3 1.19-1.97 1.04-1.22 2.02-2.37-.54-2.88-2.15-.42-4.12 2.14-4.37 3.53.54-.03 1.05.05 1.53.24ZM118.27 70.9a24.6 24.6 0 0 0-2.77-2.67c-2.59-1.07 2.46-6.6 4.3-8.62l.51-.57c.58-.67 1.67-2.92 2.66-4.95.92-1.92 1.76-3.64 1.98-3.66.62-.06 2.05 9.72 2.81 14.88.22 1.49.38 2.6.45 2.97l.1.51c.44 2.3.93 4.86-.84 6.78-1.56 1.69-5.46 3.05-7.56 1.36-1.1-.88-1.12-2.12-1.13-3.35a5.16 5.16 0 0 0-.5-2.67ZM159.65 16.33c.22.93 1.78 3.29 2.94 3.32.06-.43.78-1.77 1.51-3.12.8-1.5 1.61-3 1.5-3.22-1.15-2.31-6.57.33-5.95 3.02ZM79.07 25.5c.63.42 1.3.84 1.67 1.38.72 1.03-.08 3-1.72 2.95.13-.54-.15-1.39-.43-2.25-.34-1.03-.68-2.08-.33-2.61l.8.54ZM136.95 74.33c.54 1.43 1.05 2.8 1.32 3.25.4.66.87 1.3 1.34 1.96.74 1.03 1.5 2.06 1.98 3.16 1.2 2.68.71 4.72.2 6.84-.36 1.54-.73 3.11-.47 5 .68 4.82 4.12 2.8 5.67-.43-1.37-.18 1.95-6.67 3.6-8.01.3-.26.76-.7 1.3-1.23 2.12-2.07 5.63-5.5 7.4-4.22 1.62 1.17.7 2.52-.2 3.86-.63.94-1.26 1.87-1 2.72.04.18.62.01 1.06-.12.3-.09.53-.16.55-.11.01.03.11.05.26.07.32.06.86.15 1 .62.1.32-.07.7-.23 1.06-.14.3-.27.6-.22.84.36 1.7.13 3.27-.1 4.9-.13.93-.27 1.88-.3 2.89-.2 5.7 1.44 2.6 2.6.4.44-.83.8-1.53 1-1.6-2.04-1.62-1.4-7.4 1.75-8.04 1.3-.26 2.33.32 3.29.87 1.22.7 2.33 1.33 3.77.05.56-.49.1-7.65-.2-7.9-.47-.4-1.5-.53-2.45-.66a9.14 9.14 0 0 1-1.5-.27c-1.31-.44-6.6-2.23-2.77-3 .9-.18 1.86.33 2.81.84 1.09.57 2.17 1.14 3.17.73 1.94-.8 1.43-8.67 1.11-13.53-.1-1.35-.17-2.47-.17-3.14-2 .05-3.64 2.87-4.19 4.25-1.56 3.92-2.2 5.05-7.02 7.43a57.6 57.6 0 0 0-3.55 1.73l-.02.01c-.3.18-.76.17-1.2.16-.47 0-.9-.02-1.1.2-.25.28-.1.92.08 1.63.24.96.5 2.06-.09 2.7-2.03 2.16-3.39.77-4.94-.83l-.62-.62-.8-.76c-1.02-.95-2.35-2.2-2.83-3.06-1.66-2.96.06-3.47 2.02-4.05 1.55-.46 3.26-.96 3.52-2.78.18-1.32-1.54-2.18-3.3-3.05-.94-.48-1.9-.96-2.56-1.51-.45-.38-.77-.85-1.09-1.32-.56-.81-1.12-1.63-2.37-1.98-4.87-1.36-11.02 8.46-7.25 10.07.28.12 1.02 2.09 1.72 3.96ZM58.31 125.53c-.3-3.3-5.79-.12-7.35.79l-.2.1h7.62l-.07-.9ZM117.73 125.89c.52-.17 2.31-2.67 2.55-3.2a2.8 2.8 0 0 0-.15.73c-.12 1-.3 2.42-2.4 2.47Z"/></g>',circuits:(t,e)=>'<path d="M15 0h-4v18h4V0ZM23 0h-4v34h53.42a5 5 0 1 0 0-4H23V0Z" fill="#000" fill-opacity=".1"/><path d="M122 34.58a5 5 0 1 0-4 0V64h23v-4h-19V34.58Z" fill="#fff" fill-opacity=".2"/><path d="M114 46h-4v26h31v-4h-27V46ZM27 103.58a5 5 0 1 1 4 0V133H8v-4h19v-25.42Z" fill="#000" fill-opacity=".2"/>',dirty01:(t,e)=>'<g fill-rule="evenodd" clip-rule="evenodd" fill="#000"><path d="M-9.12 122.1c4.36-30.7 13.06-4.57 33.99-9.98 9.24-2.39 1.77-12.82 8.67-17.35 5.82-3.82 13.76-.74 20.43-3.21 9.63-3.57 9.5-10.82 18.48-11.9 8.48-1.03 17.37 2.34 25.93 1.08 16.15-2.4 9.53-34.03 21.64-39.61 12.1-5.6 32.05 4.06 34.66 19.87 2.54 15.42-14.46 72.78-14.46 72.78H-9.12" fill-opacity=".2"/><path d="M35.93 122c37.67 0 41.6-14.75 60.14-21.5 18.53-6.76 34.78 10.71 41-6.27 6.24-16.98 6.2 35.95 6.2 35.95H35.94V122Z" fill-opacity=".1"/><path d="M-2 4.87C9.73 3.75 5.96 16.8 10.6 16.8c1.85 0 4.03-8.46 7.38-8.46 2.46 0 2 5.5 7.32 4.91 5-.54 4.08-4 6.6-4 5.45 0 3.39 20.2 7.74 20.2 4.36 0 5.73-14.8 7.65-20.64 2.43-7.4 16.97-11.56 6.6-14.5H-2.29" fill-opacity=".4"/></g>',dirty02:(t,e)=>'<g fill-rule="evenodd" clip-rule="evenodd" fill="#000"><path d="M100 124.65c-3.19-17.34-9.55-2.58-24.85-5.63-6.76-1.35-1.3-7.25-6.34-9.8-4.26-2.17-10.06-.43-14.94-1.82-7.04-2.02-6.95-6.12-13.5-6.73-6.2-.58-12.7 1.33-18.97.61C9.6 99.93 14.44 82.06 5.58 78.9c-8.85-3.15-23.43 2.3-25.34 11.23-1.86 8.71 10.57 41.12 10.57 41.12h109.2" fill-opacity=".2"/><path d="M136 116.77c-51.24 0-56.58-25.8-81.8-37.61C29 67.34 6.9 97.9-1.56 68.2c-8.48-29.7-8.43 62.86-8.43 62.86h146v-14.3Z" fill-opacity=".1"/><path d="M141.57 3.18c-11.93-.98-5.03 10.8-9.74 10.8-6.97 0-2.1-7.97-10.58-7.78-2.22.06-4.95 1.94-5.11 4.5-.37 5.52 3.71 15.03-1.84 15.3-5.18.25-1.1-9.64-1.65-16.24-.3-3.77-4.18-6.75-6.97-6.75-7.57 0-1.68 15.7-7.13 15.7s-1.2-9.05-5.08-13.84C88.97-.7 74.17-3.44 84.72-6h57.15" fill-opacity=".4"/></g>',dots:(t,e)=>'<g fill="#000"><path d="M27.3 65.2a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM35.7 69.41a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM35.7 82.03a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM35.7 94.66a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM34.1 109.2a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM49.2 107.1a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM27.3 90.45a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM29.2 101.1a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM51.1 103.2a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM42 88.34a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM39.9 103.07a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM29.4 75.72a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM39.9 77.83a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM10.5 94.66a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM8.4 84.14a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM10.5 107.28a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM2.1 90.45a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM4.2 100.97a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM14.7 90.45a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM16.8 100.97a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM8.4 71.52a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM4.2 75.72a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM14.7 65.2a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM16.8 75.72a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM21 96.76a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM23.1 82.03a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM21 109.38a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM35.7 119.9a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM27.3 115.69a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM42 113.59a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM8.4 122a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM4.2 113.59a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM14.7 115.69a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM23.1 119.9a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM21 71.52a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2Z" fill-opacity=".2"/><path d="M117.3 4.2a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM125.7 8.41a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM125.7 21.03a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM125.7 33.66a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM123.6 48.38a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM119.4 27.34a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM117.3 42.07a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM132 27.34a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM129.9 42.07a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM119.4 14.72a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM129.9 16.83a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM100.5 33.66a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM98.4 23.14a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM100.5 46.28a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM92.1 29.45a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM106.8 27.34a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM104.7 42.07a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM100.5 8.41a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM92.1 16.83a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM106.8 2.1a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM104.7 16.83a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM113.1 33.66a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM111 23.14a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM113.1 46.28a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM123.6 61a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM132 52.59a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM104.7 54.69a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM113.1 58.9a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM111 10.52a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2Z" fill-opacity=".1"/></g>',grunge01:(t,e)=>'<path d="M69.1 77c-.08.01-.09.02-.1.11.09-.01.1-.02.1-.1ZM81.25 107.1l.13-.1c1.9 0-1.25.19-.13.1ZM86 85.11c.09-.01.1-.02.1-.1-.08 0-.09.01-.1.1ZM15 92c.01.09.02.1.1.11 0-.09-.01-.1-.1-.1Z" fill="#000" fill-opacity=".4"/>',grunge02:(t,e)=>'<path d="M29.47 34.03c-.1 0-.19-.06-.26-.12-.08-.07-.14-.12-.13.14.01.5.67-.05.4-.02ZM9.33 48.92s.2-.56.03-.74c-.17.17-.18.42-.03.74ZM7.5 52c.06 0 .57-.28.48-.43-.12-.18-.49.34-.49.42ZM22.9 59.14c-.13-.11-.53-.45-.28-.5.14-.03.5.36.32.54v-.01h-.01l-.03-.03ZM26.33 108.46c.13-.02.66-.36.34-.45-.21-.04-.6.5-.34.46ZM52.63 96.34c-.05.05-.2.09-.34.12-.15.04-.26.07-.16.1.19.06.84.16.5-.22ZM4.76 43.63ZM5.1 71.63l.06-.1c1.02 0-.68.19-.07.1ZM80.53 109.92c.09-.02.1-.02.1-.11-.07.01-.08.02-.1.1ZM29.17 117.78c.08-.02.09-.03.1-.11-.08.01-.09.02-.1.1ZM9.01 49.75c.08-.02.09-.03.1-.12-.08.02-.09.03-.1.12ZM65.84 48.74c.02.09.03.1.1.1 0-.08-.01-.09-.1-.1ZM107.28 76.91c-.08.02-.09.03-.1.12.08-.02.09-.03.1-.12Z" fill="#000" fill-opacity=".2"/>'};function R({prng:t,group:e,values:r=[]}){const i=n,s=t.pick(r);return s&&i[e][s]?{name:s,value:i[e][s]}:void 0}const C={$schema:"http://json-schema.org/draft-07/schema#",properties:{baseColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"},default:["ffb300","1e88e5","546e7a","6d4c41","00acc1","f4511e","5e35b1","43a047","757575","3949ab","039be5","7cb342","c0ca33","fb8c00","d81b60","8e24aa","e53935","00897b","fdd835"]},eyes:{type:"array",items:{type:"string",enum:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},default:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},face:{type:"array",items:{type:"string",enum:["round01","round02","square01","square02","square03","square04"]},default:["round01","round02","square01","square02","square03","square04"]},mouth:{type:"array",items:{type:"string",enum:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]},default:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]},mouthProbability:{type:"integer",minimum:0,maximum:100,default:100},sides:{type:"array",items:{type:"string",enum:["antenna01","antenna02","cables01","cables02","round","square","squareAssymetric"]},default:["antenna01","antenna02","cables01","cables02","round","square","squareAssymetric"]},sidesProbability:{type:"integer",minimum:0,maximum:100,default:100},texture:{type:"array",items:{type:"string",enum:["camo01","camo02","circuits","dirty01","dirty02","dots","grunge01","grunge02"]},default:["camo01","camo02","circuits","dirty01","dirty02","dots","grunge01","grunge02"]},textureProbability:{type:"integer",minimum:0,maximum:100,default:50},top:{type:"array",items:{type:"string",enum:["antenna","antennaCrooked","bulb01","glowingBulb01","glowingBulb02","horns","lights","pyramid","radar"]},default:["antenna","antennaCrooked","bulb01","glowingBulb01","glowingBulb02","horns","lights","pyramid","radar"]},topProbability:{type:"integer",minimum:0,maximum:100,default:100}}},P={title:"Bottts",creator:"Pablo Stanley",source:"https://bottts.com/",homepage:"https://twitter.com/pablostanley",license:{name:"Free for personal and commercial use",url:"https://bottts.com/"}},O=({prng:t,options:e})=>{var r,n,i,s,o,a,u,c,l,h;const d=function({prng:t,options:e}){const r=R({prng:t,group:"sides",values:e.sides}),n=R({prng:t,group:"top",values:e.top}),i=R({prng:t,group:"face",values:e.face}),s=R({prng:t,group:"mouth",values:e.mouth}),o=R({prng:t,group:"eyes",values:e.eyes}),a=R({prng:t,group:"texture",values:e.texture});return{sides:t.bool(e.sidesProbability)?r:void 0,top:t.bool(e.topProbability)?n:void 0,face:i,mouth:t.bool(e.mouthProbability)?s:void 0,eyes:o,texture:t.bool(e.textureProbability)?a:void 0}}({prng:t,options:e}),f=function({prng:t,options:e}){var r,n;return{base:(n=t.pick(null!==(r=e.baseColor)&&void 0!==r?r:[],"transparent"),"transparent"===n?n:`#${n}`)}}({prng:t,options:e});return{attributes:{viewBox:"0 0 180 180",fill:"none","shape-rendering":"auto"},body:`<g transform="translate(0 66)">${null!==(n=null===(r=d.sides)||void 0===r?void 0:r.value(d,f))&&void 0!==n?n:""}</g><g transform="translate(41)">${null!==(s=null===(i=d.top)||void 0===i?void 0:i.value(d,f))&&void 0!==s?s:""}</g><g transform="translate(25 44)">${null!==(a=null===(o=d.face)||void 0===o?void 0:o.value(d,f))&&void 0!==a?a:""}</g><g transform="translate(52 124)">${null!==(c=null===(u=d.mouth)||void 0===u?void 0:u.value(d,f))&&void 0!==c?c:""}</g><g transform="translate(38 76)">${null!==(h=null===(l=d.eyes)||void 0===l?void 0:l.value(d,f))&&void 0!==h?h:""}</g>`,extra:()=>({...Object.entries(d).reduce(((t,[e,r])=>(t[e]=null==r?void 0:r.name,t)),{}),...Object.entries(f).reduce(((t,[e,r])=>(t[`${e}Color`]=r,t)),{})})}},N=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=63&i|128):55296==(64512&i)&&n+1<t.length&&56320==(64512&t.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++n)),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=63&i|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=63&i|128)}return e},B={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,o=s?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,c=e>>2,l=(3&e)<<4|o>>4;let h=(15&o)<<2|u>>6,d=63&u;a||(d=64,s||(h=64)),n.push(r[c],r[l],r[h],r[d])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(N(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const e=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const o=i<t.length?r[t.charAt(i)]:64;++i;const a=i<t.length?r[t.charAt(i)]:64;if(++i,null==e||null==s||null==o||null==a)throw new DecodeBase64StringError;const u=e<<2|s>>4;if(n.push(u),64!==o){const t=s<<4&240|o>>2;if(n.push(t),64!==a){const t=o<<6&192|a;n.push(t)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L=function(t){return function(t){const e=N(t);return B.encodeByteArray(e,!0)}(t).replace(/\./g,"")},D=function(t){try{return B.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const U=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,F=()=>{try{return U()||(()=>{if("undefined"==typeof process)return;const t={}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(r){return}const e=t&&D(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},z=t=>{var e,r;return null===(r=null===(e=F())||void 0===e?void 0:e.emulatorHosts)||void 0===r?void 0:r[t]},j=t=>{const e=z(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return"["===e[0]?[e.substring(1,r-1),n]:[e.substring(0,r),n]},V=()=>{var t;return null===(t=F())||void 0===t?void 0:t.config},H=t=>{var e;return null===(e=F())||void 0===e?void 0:e[`_${t}`]};class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,r))}}}function q(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",n=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:n,exp:n+3600,auth_time:n,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[L(JSON.stringify({alg:"none",type:"JWT"})),L(JSON.stringify(s)),""].join(".")}function K(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function W(){return!function(){var t;const e=null===(t=F())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(r.g.process)}catch(n){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $(){try{return"object"==typeof indexedDB}catch(t){return!1}}class FirebaseError extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},n=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(Z,((t,r)=>{const n=e[r];return null!=n?String(n):`<${r}?>`}))}(i,r):"Error",o=`${this.serviceName}: ${s} (${n}).`;return new FirebaseError(n,o,r)}}const Z=/\{\$([^}]+)}/g;function G(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const r=t[i],s=e[i];if(Q(r)&&Q(s)){if(!G(r,s))return!1}else if(r!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Q(t){return null!==t&&"object"==typeof t}function J(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach((t=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Y(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[r,n]=t.split("=");e[decodeURIComponent(r)]=decodeURIComponent(n)}})),e}function X(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}class ObserverProxy{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,r){let n;if(void 0===t&&void 0===e&&void 0===r)throw new Error("Missing Observer.");n=function(t,e){if("object"!=typeof t||null===t)return!1;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:r},void 0===n.next&&(n.next=tt),void 0===n.error&&(n.error=tt),void 0===n.complete&&(n.complete=tt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(t){}})),this.observers.push(n),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function tt(){}function et(t){return t&&t._delegate?t._delegate:t}class Component{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const rt="[DEFAULT]";class Provider{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Deferred;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&t.resolve(r)}catch(r){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),n=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:rt})}catch(e){}for(const[t,r]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});r.resolve(t)}catch(e){}}}}clearInstance(t=rt){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=rt){return this.instances.has(t)}getOptions(t=rt){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[i,s]of this.instancesDeferred.entries()){r===this.normalizeInstanceIdentifier(i)&&s.resolve(n)}return n}onInit(t,e){var r;const n=this.normalizeInstanceIdentifier(e),i=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;i.add(t),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&t(s,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const i of r)try{i(t,e)}catch(n){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===rt?void 0:n),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(t=rt){return this.component?this.component.multipleInstances?t:rt:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class index_esm2017_ComponentContainer{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Provider(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const nt=[];var it;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(it||(it={}));const st={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},ot=it.INFO,at={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},ut=(t,e,...r)=>{if(e<t.logLevel)return;const n=(new Date).toISOString(),i=at[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${n}]  ${t.name}:`,...r)};class Logger{constructor(t){this.name=t,this._logLevel=ot,this._logHandler=ut,this._userLogHandler=null,nt.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in it))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?st[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...t),this._logHandler(this,it.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...t),this._logHandler(this,it.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,it.INFO,...t),this._logHandler(this,it.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,it.WARN,...t),this._logHandler(this,it.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...t),this._logHandler(this,it.ERROR,...t)}}let ct,lt;const ht=new WeakMap,dt=new WeakMap,ft=new WeakMap,pt=new WeakMap,mt=new WeakMap;let gt={get(t,e,r){if(t instanceof IDBTransaction){if("done"===e)return dt.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ft.get(t);if("store"===e)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return vt(t[e])},set:(t,e,r)=>(t[e]=r,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function yt(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(lt||(lt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(bt(this),e),vt(ht.get(this))}:function(...e){return vt(t.apply(bt(this),e))}:function(e,...r){const n=t.call(bt(this),e,...r);return ft.set(n,e.sort?e.sort():[e]),vt(n)}}function wt(t){return"function"==typeof t?yt(t):(t instanceof IDBTransaction&&function(t){if(dt.has(t))return;const e=new Promise(((e,r)=>{const n=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),n()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)}));dt.set(t,e)}(t),e=t,(ct||(ct=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,gt):t);var e}function vt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,r)=>{const n=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(vt(t.result)),n()},s=()=>{r(t.error),n()};t.addEventListener("success",i),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&ht.set(e,t)})).catch((()=>{})),mt.set(e,t),e}(t);if(pt.has(t))return pt.get(t);const e=wt(t);return e!==t&&(pt.set(t,e),mt.set(e,t)),e}const bt=t=>mt.get(t);const _t=["get","getKey","getAll","getAllKeys","count"],Et=["put","add","delete","clear"],St=new Map;function kt(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(St.get(e))return St.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Et.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!_t.includes(r))return;const s=async function(t,...e){const s=this.transaction(t,i?"readwrite":"readonly");let o=s.store;return n&&(o=o.index(e.shift())),(await Promise.all([o[r](...e),i&&s.done]))[0]};return St.set(e,s),s}gt=(t=>({...t,get:(e,r,n)=>kt(e,r)||t.get(e,r,n),has:(e,r)=>!!kt(e,r)||t.has(e,r)}))(gt);class PlatformLoggerServiceImpl{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const At="@firebase/app",It="0.10.16",Mt=new Logger("@firebase/app"),xt="@firebase/app-compat",Tt="@firebase/analytics-compat",Rt="@firebase/analytics",Ct="@firebase/app-check-compat",Pt="@firebase/app-check",Ot="@firebase/auth",Nt="@firebase/auth-compat",Bt="@firebase/database",Lt="@firebase/data-connect",Dt="@firebase/database-compat",Ut="@firebase/functions",Ft="@firebase/functions-compat",zt="@firebase/installations",jt="@firebase/installations-compat",Vt="@firebase/messaging",Ht="@firebase/messaging-compat",qt="@firebase/performance",Kt="@firebase/performance-compat",Wt="@firebase/remote-config",$t="@firebase/remote-config-compat",Zt="@firebase/storage",Gt="@firebase/storage-compat",Qt="@firebase/firestore",Jt="@firebase/vertexai",Yt="@firebase/firestore-compat",Xt="firebase",te="[DEFAULT]",ee={[At]:"fire-core",[xt]:"fire-core-compat",[Rt]:"fire-analytics",[Tt]:"fire-analytics-compat",[Pt]:"fire-app-check",[Ct]:"fire-app-check-compat",[Ot]:"fire-auth",[Nt]:"fire-auth-compat",[Bt]:"fire-rtdb",[Lt]:"fire-data-connect",[Dt]:"fire-rtdb-compat",[Ut]:"fire-fn",[Ft]:"fire-fn-compat",[zt]:"fire-iid",[jt]:"fire-iid-compat",[Vt]:"fire-fcm",[Ht]:"fire-fcm-compat",[qt]:"fire-perf",[Kt]:"fire-perf-compat",[Wt]:"fire-rc",[$t]:"fire-rc-compat",[Zt]:"fire-gcs",[Gt]:"fire-gcs-compat",[Qt]:"fire-fst",[Yt]:"fire-fst-compat",[Jt]:"fire-vertex","fire-js":"fire-js",[Xt]:"fire-js-all"},re=new Map,ne=new Map,ie=new Map;function se(t,e){try{t.container.addComponent(e)}catch(r){Mt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function oe(t){const e=t.name;if(ie.has(e))return Mt.debug(`There were multiple attempts to register component ${e}.`),!1;ie.set(e,t);for(const r of re.values())se(r,t);for(const r of ne.values())se(r,t);return!0}function ae(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ue(t){return void 0!==t.settings}const ce=new ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class FirebaseAppImpl{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Component("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const le="11.0.2";function he(t,e={}){let r=t;if("object"!=typeof e){e={name:e}}const n=Object.assign({name:te,automaticDataCollectionEnabled:!1},e),i=n.name;if("string"!=typeof i||!i)throw ce.create("bad-app-name",{appName:String(i)});if(r||(r=V()),!r)throw ce.create("no-options");const s=re.get(i);if(s){if(G(r,s.options)&&G(n,s.config))return s;throw ce.create("duplicate-app",{appName:i})}const o=new index_esm2017_ComponentContainer(i);for(const u of ie.values())o.addComponent(u);const a=new FirebaseAppImpl(r,n,o);return re.set(i,a),a}function de(t=te){const e=re.get(t);if(!e&&t===te&&V())return he();if(!e)throw ce.create("no-app",{appName:t});return e}function fe(t,e,r){var n;let i=null!==(n=ee[t])&&void 0!==n?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=[`Unable to register library "${i}" with version "${e}":`];return s&&t.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Mt.warn(t.join(" "))}oe(new Component(`${i}-version`,(()=>({library:i,version:e})),"VERSION"))}const pe="firebase-heartbeat-store";let me=null;function ge(){return me||(me=function(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vt(o);return n&&o.addEventListener("upgradeneeded",(t=>{n(vt(o.result),t.oldVersion,t.newVersion,vt(o.transaction),t)})),r&&o.addEventListener("blocked",(t=>r(t.oldVersion,t.newVersion,t))),a.then((t=>{s&&t.addEventListener("close",(()=>s())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(pe)}catch(r){console.warn(r)}}}).catch((t=>{throw ce.create("idb-open",{originalErrorMessage:t.message})}))),me}async function ye(t,e){try{const r=(await ge()).transaction(pe,"readwrite"),n=r.objectStore(pe);await n.put(e,we(t)),await r.done}catch(r){if(r instanceof FirebaseError)Mt.warn(r.message);else{const t=ce.create("idb-set",{originalErrorMessage:null==r?void 0:r.message});Mt.warn(t.message)}}}function we(t){return`${t.name}!${t.options.appId}`}class HeartbeatServiceImpl{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=ve();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some((t=>t.date===n)))return;return this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(r){Mt.warn(r)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=ve(),{heartbeatsToSend:r,unsentEntries:n}=function(t,e=1024){const r=[];let n=t.slice();for(const i of t){const t=r.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),be(r)>e){t.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),be(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),i=L(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Mt.warn(e),""}}}function ve(){return(new Date).toISOString().substring(0,10)}class HeartbeatStorageImpl{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!$()&&new Promise(((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(r){e(r)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await ge()).transaction(pe),r=await e.objectStore(pe).get(we(t));return await e.done,r}catch(e){if(e instanceof FirebaseError)Mt.warn(e.message);else{const t=ce.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Mt.warn(t.message)}}}(this.app);return(null==t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}}}function be(t){return L(JSON.stringify({version:2,heartbeats:t})).length}var _e;_e="",oe(new Component("platform-logger",(t=>new PlatformLoggerServiceImpl(t)),"PRIVATE")),oe(new Component("heartbeat",(t=>new HeartbeatServiceImpl(t)),"PRIVATE")),fe(At,It,_e),fe(At,It,"esm2017"),fe("fire-js","");var Ee,Se,ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},Ae={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(t,e,r){r||(r=0);var n=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)n[i]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(i=0;16>i;++i)n[i]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;e=t.g[0],r=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^r&(i^s))+n[0]+3614090360&4294967295;o=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=(r=(i=(s=(e=r+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(r^i))+n[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(r^s&(e^r))+n[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=r+(e^i&(s^e))+n[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^r&(i^s))+n[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(r^i))+n[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(r^s&(e^r))+n[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=r+(e^i&(s^e))+n[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^r&(i^s))+n[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(r^i))+n[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(r^s&(e^r))+n[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=r+(e^i&(s^e))+n[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^r&(i^s))+n[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(r^i))+n[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(r^s&(e^r))+n[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=r+(e^i&(s^e))+n[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(r^i))+n[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(r^i&(e^r))+n[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^r&(s^e))+n[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=r+(s^e&(i^s))+n[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(r^i))+n[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(r^i&(e^r))+n[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^r&(s^e))+n[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=r+(s^e&(i^s))+n[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(r^i))+n[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(r^i&(e^r))+n[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^r&(s^e))+n[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=r+(s^e&(i^s))+n[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(r^i))+n[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(r^i&(e^r))+n[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^r&(s^e))+n[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=r+(s^e&(i^s))+n[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^i^s)+n[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^r^i)+n[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^r)+n[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=r+(i^s^e)+n[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^i^s)+n[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^r^i)+n[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^r)+n[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=r+(i^s^e)+n[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^i^s)+n[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^r^i)+n[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^r)+n[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=r+(i^s^e)+n[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^i^s)+n[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^r^i)+n[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^r)+n[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=r+(i^s^e)+n[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(r|~s))+n[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(r^(e|~i))+n[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~r))+n[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=r+(s^(i|~e))+n[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(r|~s))+n[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(r^(e|~i))+n[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~r))+n[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=r+(s^(i|~e))+n[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(r|~s))+n[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(r^(e|~i))+n[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~r))+n[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=r+(s^(i|~e))+n[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=r+((o=e+(i^(r|~s))+n[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(r^(e|~i))+n[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~r))+n[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+n[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function n(t,e){this.h=e;for(var r=[],n=!0,i=t.length-1;0<=i;i--){var s=0|t[i];n&&s==e||(r[i]=s,n=!1)}this.g=r}!function(t,e){function r(){}r.prototype=e.prototype,t.D=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.C=function(t,r,n){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[r].apply(t,i)}}(e,(function(){this.blockSize=-1})),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=this.B,s=this.h,o=0;o<e;){if(0==s)for(;o<=n;)r(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(i[s++]=t.charCodeAt(o++),s==this.blockSize){r(this,i),s=0;break}}else for(;o<e;)if(i[s++]=t[o++],s==this.blockSize){r(this,i),s=0;break}}this.h=s,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var r=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&r,r/=256;for(this.u(t),t=Array(16),e=r=0;4>e;++e)for(var n=0;32>n;n+=8)t[r++]=this.g[e]>>>n&255;return t};var i={};function s(t){return-128<=t&&128>t?function(t,e){var r=i;return Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=e(t)}(t,(function(t){return new n([0|t],0>t?-1:0)})):new n([0|t],0>t?-1:0)}function o(t){if(isNaN(t)||!isFinite(t))return a;if(0>t)return d(o(-t));for(var e=[],r=1,i=0;t>=r;i++)e[i]=t/r|0,r*=4294967296;return new n(e,0)}var a=s(0),u=s(1),c=s(16777216);function l(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function h(t){return-1==t.h}function d(t){for(var e=t.g.length,r=[],i=0;i<e;i++)r[i]=~t.g[i];return new n(r,~t.h).add(u)}function f(t,e){return t.add(d(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function m(t,e){this.g=t,this.h=e}function g(t,e){if(l(e))throw Error("division by zero");if(l(t))return new m(a,a);if(h(t))return e=g(d(t),e),new m(d(e.g),d(e.h));if(h(e))return e=g(t,d(e)),new m(d(e.g),e.h);if(30<t.g.length){if(h(t)||h(e))throw Error("slowDivide_ only works with positive integers.");for(var r=u,n=e;0>=n.l(t);)r=y(r),n=y(n);var i=w(r,1),s=w(n,1);for(n=w(n,2),r=w(r,2);!l(n);){var c=s.add(n);0>=c.l(t)&&(i=i.add(r),s=c),n=w(n,1),r=w(r,1)}return e=f(t,i.j(e)),new m(i,e)}for(i=a;0<=t.l(e);){for(r=Math.max(1,Math.floor(t.m()/e.m())),n=48>=(n=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,n-48),c=(s=o(r)).j(e);h(c)||0<c.l(t);)c=(s=o(r-=n)).j(e);l(s)&&(s=u),i=i.add(s),t=f(t,c)}return new m(i,t)}function y(t){for(var e=t.g.length+1,r=[],i=0;i<e;i++)r[i]=t.i(i)<<1|t.i(i-1)>>>31;return new n(r,t.h)}function w(t,e){var r=e>>5;e%=32;for(var i=t.g.length-r,s=[],o=0;o<i;o++)s[o]=0<e?t.i(o+r)>>>e|t.i(o+r+1)<<32-e:t.i(o+r);return new n(s,t.h)}(t=n.prototype).m=function(){if(h(this))return-d(this).m();for(var t=0,e=1,r=0;r<this.g.length;r++){var n=this.i(r);t+=(0<=n?n:4294967296+n)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(l(this))return"0";if(h(this))return"-"+d(this).toString(t);for(var e=o(Math.pow(t,6)),r=this,n="";;){var i=g(r,e).g,s=((0<(r=f(r,i.j(e))).g.length?r.g[0]:r.h)>>>0).toString(t);if(l(r=i))return s+n;for(;6>s.length;)s="0"+s;n=s+n}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return h(t=f(this,t))?-1:l(t)?0:1},t.abs=function(){return h(this)?d(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],i=0,s=0;s<=e;s++){var o=i+(65535&this.i(s))+(65535&t.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(t.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,r[s]=a<<16|o}return new n(r,-2147483648&r[r.length-1]?-1:0)},t.j=function(t){if(l(this)||l(t))return a;if(h(this))return h(t)?d(this).j(d(t)):d(d(this).j(t));if(h(t))return d(this.j(d(t)));if(0>this.l(c)&&0>t.l(c))return o(this.m()*t.m());for(var e=this.g.length+t.g.length,r=[],i=0;i<2*e;i++)r[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var u=this.i(i)>>>16,f=65535&this.i(i),m=t.i(s)>>>16,g=65535&t.i(s);r[2*i+2*s]+=f*g,p(r,2*i+2*s),r[2*i+2*s+1]+=u*g,p(r,2*i+2*s+1),r[2*i+2*s+1]+=f*m,p(r,2*i+2*s+1),r[2*i+2*s+2]+=u*m,p(r,2*i+2*s+2)}for(i=0;i<e;i++)r[i]=r[2*i+1]<<16|r[2*i];for(i=e;i<2*e;i++)r[i]=0;return new n(r,0)},t.A=function(t){return g(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],i=0;i<e;i++)r[i]=this.i(i)&t.i(i);return new n(r,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],i=0;i<e;i++)r[i]=this.i(i)|t.i(i);return new n(r,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),r=[],i=0;i<e;i++)r[i]=this.i(i)^t.i(i);return new n(r,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,Se=Ae.Md5=e,n.prototype.add=n.prototype.add,n.prototype.multiply=n.prototype.j,n.prototype.modulo=n.prototype.A,n.prototype.compare=n.prototype.l,n.prototype.toNumber=n.prototype.m,n.prototype.toString=n.prototype.toString,n.prototype.getBits=n.prototype.i,n.fromNumber=o,n.fromString=function t(e,r){if(0==e.length)throw Error("number format error: empty string");if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if("-"==e.charAt(0))return d(t(e.substring(1),r));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=o(Math.pow(r,8)),i=a,s=0;s<e.length;s+=8){var u=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+u),r);8>u?(u=o(Math.pow(r,u)),i=i.j(u).add(o(c))):i=(i=i.j(n)).add(o(c))}return i},Ee=Ae.Integer=n}).apply(void 0!==ke?ke:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ie,Me,xe,Te,Re,Ce,Pe,Oe,Ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},Be={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,r){return t==Array.prototype||t==Object.prototype||(t[e]=r.value),t};var r=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ne&&Ne];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(t,n){if(n)t:{var i=r;t=t.split(".");for(var s=0;s<t.length-1;s++){var o=t[s];if(!(o in i))break t;i=i[o]}(n=n(s=i[t=t[t.length-1]]))!=s&&null!=n&&e(i,t,{configurable:!0,writable:!0,value:n})}}("Array.prototype.values",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var r=0,n=!1,i={next:function(){if(!n&&r<t.length){var i=r++;return{value:e(i,t[i]),done:!1}}return n=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(t,e){return e}))}}));var n=n||{},i=this||self;function s(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function o(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,r){return t.call.apply(t.bind,arguments)}function u(t,e,r){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function c(t,e,r){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:u).apply(null,arguments)}function l(t,e){var r=Array.prototype.slice.call(arguments,1);return function(){var e=r.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function h(t,e){function r(){}r.prototype=e.prototype,t.aa=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.Qb=function(t,r,n){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[r].apply(t,i)}}function d(t){const e=t.length;if(0<e){const r=Array(e);for(let n=0;n<e;n++)r[n]=t[n];return r}return[]}function f(t,e){for(let r=1;r<arguments.length;r++){const e=arguments[r];if(s(e)){const r=t.length||0,n=e.length||0;t.length=r+n;for(let i=0;i<n;i++)t[r+i]=e[i]}else t.push(e)}}function p(t){return/^[\s\xa0]*$/.test(t)}function m(){var t=i.navigator;return t&&(t=t.userAgent)?t:""}function g(t){return g[" "](t),t}g[" "]=function(){};var y=!(-1==m().indexOf("Gecko")||-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge")||-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE")||-1!=m().indexOf("Edge"));function w(t,e,r){for(const n in t)e.call(r,t[n],n,t)}function v(t){const e={};for(const r in t)e[r]=t[r];return e}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(t,e){let r,n;for(let i=1;i<arguments.length;i++){for(r in n=arguments[i],n)t[r]=n[r];for(let e=0;e<b.length;e++)r=b[e],Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}}function E(t){var e=1;t=t.split(":");const r=[];for(;0<e&&t.length;)r.push(t.shift()),e--;return t.length&&r.push(t.join(":")),r}function S(t){i.setTimeout((()=>{throw t}),0)}function k(){var t=x;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var A=new class na{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Ca),(t=>t.reset()));class Ca{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let I,M=!1,x=new class Aa{constructor(){this.h=this.g=null}add(t,e){const r=A.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}},T=()=>{const t=i.Promise.resolve(void 0);I=()=>{t.then(R)}};var R=()=>{for(var t;t=k();){try{t.h.call(t.g)}catch(r){S(r)}var e=A;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}M=!1};function C(){this.s=this.s,this.C=this.C}function P(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}C.prototype.s=!1,C.prototype.ma=function(){this.s||(this.s=!0,this.N())},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};i.addEventListener("test",t,e),i.removeEventListener("test",t,e)}catch(r){}return t}();function N(t,e){if(P.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var r=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(y){t:{try{g(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==r?e=t.fromElement:"mouseout"==r&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:B[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&N.aa.h.call(this)}}h(N,P);var B={2:"touch",3:"pen",4:"mouse"};N.prototype.h=function(){N.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),D=0;function U(t,e,r,n,i){this.listener=t,this.proxy=null,this.src=e,this.type=r,this.capture=!!n,this.ha=i,this.key=++D,this.da=this.fa=!1}function F(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function z(t){this.src=t,this.g={},this.h=0}function j(t,e){var r=e.type;if(r in t.g){var n,i=t.g[r],s=Array.prototype.indexOf.call(i,e,void 0);(n=0<=s)&&Array.prototype.splice.call(i,s,1),n&&(F(e),0==t.g[r].length&&(delete t.g[r],t.h--))}}function V(t,e,r,n){for(var i=0;i<t.length;++i){var s=t[i];if(!s.da&&s.listener==e&&s.capture==!!r&&s.ha==n)return i}return-1}z.prototype.add=function(t,e,r,n,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=V(t,e,n,i);return-1<o?(e=t[o],r||(e.fa=!1)):((e=new U(e,this.src,s,!!n,i)).fa=r,t.push(e)),e};var H="closure_lm_"+(1e6*Math.random()|0),q={};function K(t,e,r,n,i){if(n&&n.once)return $(t,e,r,n,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)K(t,e[s],r,n,i);return null}return r=tt(r),t&&t[L]?t.K(e,r,o(n)?!!n.capture:!!n,i):W(t,e,r,!1,n,i)}function W(t,e,r,n,i,s){if(!e)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,u=Y(t);if(u||(t[H]=u=new z(t)),(r=u.add(e,r,n,a,s)).proxy)return r;if(n=function(){function t(r){return e.call(t.src,t.listener,r)}const e=J;return t}(),r.proxy=n,n.src=t,n.listener=r,t.addEventListener)O||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),n,i);else if(t.attachEvent)t.attachEvent(Q(e.toString()),n);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(n)}return r}function $(t,e,r,n,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$(t,e[s],r,n,i);return null}return r=tt(r),t&&t[L]?t.L(e,r,o(n)?!!n.capture:!!n,i):W(t,e,r,!0,n,i)}function Z(t,e,r,n,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Z(t,e[s],r,n,i);else n=o(n)?!!n.capture:!!n,r=tt(r),t&&t[L]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(r=V(s=t.g[e],r,n,i))&&(F(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=Y(t))&&(e=t.g[e.toString()],t=-1,e&&(t=V(e,r,n,i)),(r=-1<t?e[t]:null)&&G(r))}function G(t){if("number"!=typeof t&&t&&!t.da){var e=t.src;if(e&&e[L])j(e.i,t);else{var r=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(r,n,t.capture):e.detachEvent?e.detachEvent(Q(r),n):e.addListener&&e.removeListener&&e.removeListener(n),(r=Y(e))?(j(r,t),0==r.h&&(r.src=null,e[H]=null)):F(t)}}}function Q(t){return t in q?q[t]:q[t]="on"+t}function J(t,e){if(t.da)t=!0;else{e=new N(e,this);var r=t.listener,n=t.ha||t.src;t.fa&&G(t),t=r.call(n,e)}return t}function Y(t){return(t=t[H])instanceof z?t:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function tt(t){return"function"==typeof t?t:(t[X]||(t[X]=function(e){return t.handleEvent(e)}),t[X])}function et(){C.call(this),this.i=new z(this),this.M=this,this.F=null}function rt(t,e){var r,n=t.F;if(n)for(r=[];n;n=n.F)r.push(n);if(t=t.M,n=e.type||e,"string"==typeof e)e=new P(e,t);else if(e instanceof P)e.target=e.target||t;else{var i=e;_(e=new P(n,t),i)}if(i=!0,r)for(var s=r.length-1;0<=s;s--){var o=e.g=r[s];i=nt(o,n,!0,e)&&i}if(i=nt(o=e.g=t,n,!0,e)&&i,i=nt(o,n,!1,e)&&i,r)for(s=0;s<r.length;s++)i=nt(o=e.g=r[s],n,!1,e)&&i}function nt(t,e,r,n){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.da&&o.capture==r){var a=o.listener,u=o.ha||o.src;o.fa&&j(t.i,o),i=!1!==a.call(u,n)&&i}}return i&&!n.defaultPrevented}function it(t,e,r){if("function"==typeof t)r&&(t=c(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=c(t.handleEvent,t)}return 2147483647<Number(e)?-1:i.setTimeout(t,e||0)}function st(t){t.g=it((()=>{t.g=null,t.i&&(t.i=!1,st(t))}),t.l);const e=t.h;t.h=null,t.m.apply(null,e)}h(et,C),et.prototype[L]=!0,et.prototype.removeEventListener=function(t,e,r,n){Z(this,t,e,r,n)},et.prototype.N=function(){if(et.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var r=e.g[t],n=0;n<r.length;n++)F(r[n]);delete e.g[t],e.h--}}this.F=null},et.prototype.K=function(t,e,r,n){return this.i.add(String(t),e,!1,r,n)},et.prototype.L=function(t,e,r,n){return this.i.add(String(t),e,!0,r,n)};class eb extends C{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(t){C.call(this),this.h=t,this.g={}}h(ot,C);var at=[];function ut(t){w(t.g,(function(t,e){this.g.hasOwnProperty(e)&&G(t)}),t),t.g={}}ot.prototype.N=function(){ot.aa.N.call(this),ut(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ct=i.JSON.stringify,lt=i.JSON.parse,ht=class{stringify(t){return i.JSON.stringify(t,void 0)}parse(t){return i.JSON.parse(t,void 0)}};function dt(){}function ft(t){return t.h||(t.h=t.i())}function pt(){}dt.prototype.h=null;var mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gt(){P.call(this,"d")}function yt(){P.call(this,"c")}h(gt,P),h(yt,P);var wt={},vt=null;function bt(){return vt=vt||new et}function _t(t){P.call(this,wt.La,t)}function Et(t){const e=bt();rt(e,new _t(e))}function St(t,e){P.call(this,wt.STAT_EVENT,t),this.stat=e}function kt(t){const e=bt();rt(e,new St(e,t))}function At(t,e){P.call(this,wt.Ma,t),this.size=e}function It(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){t()}),e)}function Mt(){this.g=!0}function xt(t,e,r,n){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(t=0;t<r.length;t++)if(Array.isArray(r[t])){var n=r[t];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ct(r)}catch(a){return e}}(t,r)+(n?" "+n:"")}))}wt.La="serverreachability",h(_t,P),wt.STAT_EVENT="statevent",h(St,P),wt.Ma="timingevent",h(At,P),Mt.prototype.xa=function(){this.g=!1},Mt.prototype.info=function(){};var Tt,Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ct={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pt(){}function Ot(t,e,r,n){this.j=t,this.i=e,this.l=r,this.R=n||1,this.U=new ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nt}function Nt(){this.i=null,this.g="",this.h=!1}h(Pt,dt),Pt.prototype.g=function(){return new XMLHttpRequest},Pt.prototype.i=function(){return{}},Tt=new Pt;var Bt={},Lt={};function Dt(t,e,r){t.L=1,t.v=ce(ie(e)),t.m=r,t.P=!0,Ut(t,null)}function Ut(t,e){t.F=Date.now(),jt(t),t.A=ie(t.v);var r=t.A,n=t.R;Array.isArray(n)||(n=[String(n)]),Se(r.i,"t",n),t.C=0,r=t.j.J,t.h=new Nt,t.g=Er(t.j,r?e:null,!t.m),0<t.O&&(t.M=new eb(c(t.Y,t,t.g),t.O)),e=t.U,r=t.g,n=t.ca;var i="readystatechange";Array.isArray(i)||(i&&(at[0]=i.toString()),i=at);for(var s=0;s<i.length;s++){var o=K(r,i[s],n||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}e=t.H?v(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Et(),function(t,e,r,n,i,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+e+"\n"+r+"\n"+o}))}(t.i,t.u,t.A,t.l,t.R,t.m)}function Ft(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.j.Ca)}function zt(t,e){var r=t.C,n=e.indexOf("\n",r);return-1==n?Lt:(r=Number(e.substring(r,n)),isNaN(r)?Bt:(n+=1)+r>e.length?Lt:(e=e.slice(n,n+r),t.C=n+r,e))}function jt(t){t.S=Date.now()+t.I,Vt(t,t.I)}function Vt(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=It(c(t.ba,t),e)}function Ht(t){t.B&&(i.clearTimeout(t.B),t.B=null)}function qt(t){0==t.j.G||t.J||yr(t.j,t)}function Kt(t){Ht(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,ut(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function Wt(t,e){try{var r=t.j;if(0!=r.G&&(r.g==t||Jt(r.h,t)))if(!t.K&&Jt(r.h,t)&&3==r.G){try{var n=r.Da.g.parse(e)}catch(l){n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){t:if(!r.u){if(r.g){if(!(r.g.F+3e3<t.F))break t;gr(r),or(r)}fr(r),kt(18)}}else r.za=i[1],0<r.za-r.T&&37500>i[2]&&r.F&&0==r.v&&!r.C&&(r.C=It(c(r.Za,r),6e3));if(1>=Qt(r.h)&&r.ca){try{r.ca()}catch(l){}r.ca=void 0}}else vr(r,11)}else if((t.K||r.g==t)&&gr(r),!p(e))for(i=r.Da.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(r.T=c[0],c=c[1],2==r.G)if("c"==c[0]){r.K=c[1],r.ia=c[2];const e=c[3];null!=e&&(r.la=e,r.j.info("VER="+r.la));const i=c[4];null!=i&&(r.Aa=i,r.j.info("SVER="+r.Aa));const l=c[5];null!=l&&"number"==typeof l&&0<l&&(n=1.5*l,r.L=n,r.j.info("backChannelRequestTimeoutMs_="+n)),n=r;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=n.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Yt(s,s.h),s.h=null))}if(n.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(n.ya=t,ue(n.I,n.D,t))}}r.G=3,r.l&&r.l.ua(),r.ba&&(r.R=Date.now()-t.F,r.j.info("Handshake RTT: "+r.R+"ms"));var o=t;if((n=r).qa=_r(n,n.J?n.ia:null,n.W),o.K){Xt(n.h,o);var a=o,u=n.L;u&&(a.I=u),a.B&&(Ht(a),jt(a)),n.g=o}else dr(n);0<r.i.length&&ur(r)}else"stop"!=c[0]&&"close"!=c[0]||vr(r,7);else 3==r.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?vr(r,7):sr(r):"noop"!=c[0]&&r.l&&r.l.ta(c),r.v=0)}Et()}catch(l){}}Ot.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==er(t)?e.j():this.Y(t)},Ot.prototype.Y=function(t){try{if(t==this.g)t:{const d=er(this.g);var e=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||rr(this.g)))){this.J||4!=d||7==e||Et(),Ht(this);var r=this.g.Z();this.X=r;e:if(Ft(this)){var n=rr(this.g);t="";var s=n.length,o=4==er(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Kt(this),qt(this);var a="";break e}this.h.i=new i.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:!(o&&e==s-1)});n.length=0,this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==r,function(t,e,r,n,i,s,o){t.info((function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+e+"\n"+r+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,r),this.o){if(this.T&&!this.K){e:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(u)){var l=u;break e}}l=null}if(!(r=l)){this.o=!1,this.s=3,kt(12),Kt(this),qt(this);break t}xt(this.i,this.l,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wt(this,r)}if(this.P){let t;for(r=!0;!this.J&&this.C<a.length;){if(t=zt(this,a),t==Lt){4==d&&(this.s=4,kt(14),r=!1),xt(this.i,this.l,null,"[Incomplete Response]");break}if(t==Bt){this.s=4,kt(15),xt(this.i,this.l,a,"[Invalid Chunk]"),r=!1;break}xt(this.i,this.l,t,null),Wt(this,t)}if(Ft(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,kt(16),r=!1),this.o=this.o&&r,r){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),pr(h),h.M=!0,kt(11))}}else xt(this.i,this.l,a,"[Invalid Chunked Response]"),Kt(this),qt(this)}else xt(this.i,this.l,a,null),Wt(this,a);4==d&&Kt(this),this.o&&!this.J&&(4==d?yr(this.j,this):(this.o=!1,jt(this)))}else(function(t){const e={};t=(t.g&&2<=er(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<t.length;n++){if(p(t[n]))continue;var r=E(t[n]);const i=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const s=e[i]||[];e[i]=s,s.push(r)}!function(t,e){for(const r in t)e.call(void 0,t[r],r,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==r&&0<a.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Kt(this),qt(this)}}}catch(Le){}},Ot.prototype.cancel=function(){this.J=!0,Kt(this)},Ot.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.i,this.A),2!=this.L&&(Et(),kt(17)),Kt(this),this.s=2,qt(this)):Vt(this,this.S-t)};var $t=class{constructor(t,e){this.g=t,this.map=e}};function Zt(t){this.l=t||10,i.PerformanceNavigationTiming?t=0<(t=i.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Qt(t){return t.h?1:t.g?t.g.size:0}function Jt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Yt(t,e){t.g?t.g.add(e):t.h=e}function Xt(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function te(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const r of t.g.values())e=e.concat(r.D);return e}return d(t.i)}function ee(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var r=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(s(t)||"string"==typeof t){var e=[];t=t.length;for(var r=0;r<t;r++)e.push(r);return e}e=[],r=0;for(const n in t)e[r++]=n;return e}}}(t),n=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(s(t)){for(var e=[],r=t.length,n=0;n<r;n++)e.push(t[n]);return e}for(n in e=[],r=0,t)e[r++]=t[n];return e}(t),i=n.length,o=0;o<i;o++)e.call(void 0,n[o],r&&r[o],t)}Zt.prototype.cancel=function(){if(this.i=te(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var re=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ne(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof ne){this.h=t.h,se(this,t.j),this.o=t.o,this.g=t.g,oe(this,t.s),this.l=t.l;var e=t.i,r=new ve;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),ae(this,r),this.m=t.m}else t&&(e=String(t).match(re))?(this.h=!1,se(this,e[1]||"",!0),this.o=le(e[2]||""),this.g=le(e[3]||"",!0),oe(this,e[4]),this.l=le(e[5]||"",!0),ae(this,e[6]||"",!0),this.m=le(e[7]||"")):(this.h=!1,this.i=new ve(null,this.h))}function ie(t){return new ne(t)}function se(t,e,r){t.j=r?le(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function oe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function ae(t,e,r){e instanceof ve?(t.i=e,function(t,e){e&&!t.j&&(be(t),t.i=null,t.g.forEach((function(t,e){var r=e.toLowerCase();e!=r&&(_e(this,e),Se(this,r,t))}),t)),t.j=e}(t.i,t.h)):(r||(e=he(e,ye)),t.i=new ve(e,t.h))}function ue(t,e,r){t.i.set(e,r)}function ce(t){return ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function le(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function he(t,e,r){return"string"==typeof t?(t=encodeURI(t).replace(e,de),r&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function de(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ne.prototype.toString=function(){var t=[],e=this.j;e&&t.push(he(e,pe,!0),":");var r=this.g;return(r||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(he(e,pe,!0),"@"),t.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.s)&&t.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&t.push("/"),t.push(he(r,"/"==r.charAt(0)?ge:me,!0))),(r=this.i.toString())&&t.push("?",r),(r=this.m)&&t.push("#",he(r,we)),t.join("")};var fe,pe=/[#\/\?@]/g,me=/[#\?:]/g,ge=/[#\?]/g,ye=/[#\?@]/g,we=/#/g;function ve(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function be(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var r=0;r<t.length;r++){var n=t[r].indexOf("="),i=null;if(0<=n){var s=t[r].substring(0,n);i=t[r].substring(n+1)}else s=t[r];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,r){t.add(decodeURIComponent(e.replace(/\+/g," ")),r)})))}function _e(t,e){be(t),e=ke(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ee(t,e){return be(t),e=ke(t,e),t.g.has(e)}function Se(t,e,r){_e(t,e),0<r.length&&(t.i=null,t.g.set(ke(t,e),d(r)),t.h+=r.length)}function ke(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ae(t,e,r,n,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),n(r)}catch(s){}}function De(){this.g=new ht}function Fe(t,e,r){const n=r||"";try{ee(t,(function(t,r){let i=t;o(t)&&(i=ct(t)),e.push(n+r+"="+encodeURIComponent(i))}))}catch(i){throw e.push(n+"type="+encodeURIComponent("_badmap")),i}}function ze(t){this.l=t.Ub||null,this.j=t.eb||!1}function je(t,e){et.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ve(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function He(t){t.readyState=4,t.l=null,t.j=null,t.v=null,qe(t)}function qe(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ke(t){let e="";return w(t,(function(t,r){e+=r,e+=":",e+=t,e+="\r\n"})),e}function We(t,e,r){t:{for(n in r){var n=!1;break t}n=!0}n||(r=Ke(r),"string"==typeof t?null!=r&&encodeURIComponent(String(r)):ue(t,e,r))}function $e(t){et.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=ve.prototype).add=function(t,e){be(this),this.i=null,t=ke(this,t);var r=this.g.get(t);return r||this.g.set(t,r=[]),r.push(e),this.h+=1,this},t.forEach=function(t,e){be(this),this.g.forEach((function(r,n){r.forEach((function(r){t.call(e,r,n,this)}),this)}),this)},t.na=function(){be(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let n=0;n<e.length;n++){const i=t[n];for(let t=0;t<i.length;t++)r.push(e[n])}return r},t.V=function(t){be(this);let e=[];if("string"==typeof t)Ee(this,t)&&(e=e.concat(this.g.get(ke(this,t))));else{t=Array.from(this.g.values());for(let r=0;r<t.length;r++)e=e.concat(t[r])}return e},t.set=function(t,e){return be(this),this.i=null,Ee(this,t=ke(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var n=e[r];const s=encodeURIComponent(String(n)),o=this.V(n);for(n=0;n<o.length;n++){var i=s;""!==o[n]&&(i+="="+encodeURIComponent(String(o[n]))),t.push(i)}}return this.i=t.join("&")},h(ze,dt),ze.prototype.g=function(){return new je(this.l,this.j)},ze.prototype.i=(fe={},function(){return fe}),h(je,et),(t=je.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,qe(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||i).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,He(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,qe(this)),this.g&&(this.readyState=3,qe(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ve(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?He(this):qe(this),3==this.readyState&&Ve(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,He(this))},t.Qa=function(t){this.g&&(this.response=t,He(this))},t.ga=function(){this.g&&He(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var r=e.next();!r.done;)r=r.value,t.push(r[0]+": "+r[1]),r=e.next();return t.join("\r\n")},Object.defineProperty(je.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),h($e,et);var Ze=/^https?$/i,Ge=["POST","PUT"];function Qe(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,Je(t),Xe(t)}function Je(t){t.A||(t.A=!0,rt(t,"complete"),rt(t,"error"))}function Ye(t){if(t.h&&void 0!==n&&(!t.v[1]||4!=er(t)||2!=t.Z()))if(t.u&&4==er(t))it(t.Ea,0,t);else if(rt(t,"readystatechange"),4==er(t)){t.h=!1;try{const n=t.Z();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var r;if(!(r=e)){var s;if(s=0===n){var o=String(t.D).match(re)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Ze.test(o?o.toLowerCase():"")}r=s}if(r)rt(t,"complete"),rt(t,"success");else{t.m=6;try{var a=2<er(t)?t.g.statusText:""}catch(u){a=""}t.l=a+" ["+t.Z()+"]",Je(t)}}finally{Xe(t)}}}function Xe(t,e){if(t.g){tr(t);const n=t.g,i=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||rt(t,"ready");try{n.onreadystatechange=i}catch(r){}}}function tr(t){t.I&&(i.clearTimeout(t.I),t.I=null)}function er(t){return t.g?t.g.readyState:0}function rr(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(Ue){return null}}function nr(t,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[t]||e}function ir(t){this.Aa=0,this.i=[],this.j=new Mt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=nr("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=nr("baseRetryDelayMs",5e3,t),this.cb=nr("retryDelaySeedMs",1e4,t),this.Wa=nr("forwardChannelMaxRetries",2,t),this.wa=nr("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Zt(t&&t.concurrentRequestLimit),this.Da=new De,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function sr(t){if(ar(t),3==t.G){var e=t.U++,r=ie(t.I);if(ue(r,"SID",t.K),ue(r,"RID",e),ue(r,"TYPE","terminate"),lr(t,r),(e=new Ot(t,t.j,e)).L=2,e.v=ce(ie(r)),r=!1,i.navigator&&i.navigator.sendBeacon)try{r=i.navigator.sendBeacon(e.v.toString(),"")}catch(n){}!r&&i.Image&&((new Image).src=e.v,r=!0),r||(e.g=Er(e.j,null),e.g.ea(e.v)),e.F=Date.now(),jt(e)}br(t)}function or(t){t.g&&(pr(t),t.g.cancel(),t.g=null)}function ar(t){or(t),t.u&&(i.clearTimeout(t.u),t.u=null),gr(t),t.h.cancel(),t.s&&("number"==typeof t.s&&i.clearTimeout(t.s),t.s=null)}function ur(t){if(!Gt(t.h)&&!t.s){t.s=!0;var e=t.Ga;I||T(),M||(I(),M=!0),x.add(e,t),t.B=0}}function cr(t,e){var r;r=e?e.l:t.U++;const n=ie(t.I);ue(n,"SID",t.K),ue(n,"RID",r),ue(n,"AID",t.T),lr(t,n),t.m&&t.o&&We(n,t.m,t.o),r=new Ot(t,t.j,r,t.B+1),null===t.m&&(r.H=t.o),e&&(t.i=e.D.concat(t.i)),e=hr(t,r,1e3),r.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),Yt(t.h,r),Dt(r,n,e)}function lr(t,e){t.H&&w(t.H,(function(t,r){ue(e,r,t)})),t.l&&ee({},(function(t,r){ue(e,r,t)}))}function hr(t,e,r){r=Math.min(t.i.length,r);var n=t.l?c(t.l.Na,t.l,t):null;t:{var i=t.i;let e=-1;for(;;){const t=["count="+r];-1==e?0<r?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<r;o++){let r=i[o].g;const a=i[o].map;if(r-=e,0>r)e=Math.max(0,i[o].g-100),s=!1;else try{Fe(a,t,"req"+r+"_")}catch(Le){n&&n(a)}}if(s){n=t.join("&");break t}}}return t=t.i.splice(0,r),e.D=t,n}function dr(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;I||T(),M||(I(),M=!0),x.add(e,t),t.v=0}}function fr(t){return!(t.g||t.u||3<=t.v)&&(t.Y++,t.u=It(c(t.Fa,t),wr(t,t.v)),t.v++,!0)}function pr(t){null!=t.A&&(i.clearTimeout(t.A),t.A=null)}function mr(t){t.g=new Ot(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=ie(t.qa);ue(e,"RID","rpc"),ue(e,"SID",t.K),ue(e,"AID",t.T),ue(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&ue(e,"TO",t.ja),ue(e,"TYPE","xmlhttp"),lr(t,e),t.m&&t.o&&We(e,t.m,t.o),t.L&&(t.g.I=t.L);var r=t.g;t=t.ia,r.L=1,r.v=ce(ie(e)),r.m=null,r.P=!0,Ut(r,t)}function gr(t){null!=t.C&&(i.clearTimeout(t.C),t.C=null)}function yr(t,e){var r=null;if(t.g==e){gr(t),pr(t),t.g=null;var n=2}else{if(!Jt(t.h,e))return;r=e.D,Xt(t.h,e),n=1}if(0!=t.G)if(e.o)if(1==n){r=e.m?e.m.length:0,e=Date.now()-e.F;var i=t.B;rt(n=bt(),new At(n,r)),ur(t)}else dr(t);else if(3==(i=e.s)||0==i&&0<e.X||!(1==n&&function(t,e){return!(Qt(t.h)>=t.h.j-(t.s?1:0)||(t.s?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa)||(t.s=It(c(t.Ga,t,e),wr(t,t.B)),t.B++,0)))}(t,e)||2==n&&fr(t)))switch(r&&0<r.length&&(e=t.h,e.i=e.i.concat(r)),i){case 1:vr(t,5);break;case 4:vr(t,10);break;case 3:vr(t,6);break;default:vr(t,2)}}function wr(t,e){let r=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(r*=2),r*e}function vr(t,e){if(t.j.info("Error code "+e),2==e){var r=c(t.fb,t),n=t.Xa;const e=!n;n=new ne(n||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||se(n,"https"),ce(n),e?function(t,e){const r=new Mt;if(i.Image){const n=new Image;n.onload=l(Ae,r,"TestLoadImage: loaded",!0,e,n),n.onerror=l(Ae,r,"TestLoadImage: error",!1,e,n),n.onabort=l(Ae,r,"TestLoadImage: abort",!1,e,n),n.ontimeout=l(Ae,r,"TestLoadImage: timeout",!1,e,n),i.setTimeout((function(){n.ontimeout&&n.ontimeout()}),1e4),n.src=t}else e(!1)}(n.toString(),r):function(t,e){new Mt;const r=new AbortController,n=setTimeout((()=>{r.abort(),Ae(0,0,!1,e)}),1e4);fetch(t,{signal:r.signal}).then((t=>{clearTimeout(n),t.ok?Ae(0,0,!0,e):Ae(0,0,!1,e)})).catch((()=>{clearTimeout(n),Ae(0,0,!1,e)}))}(n.toString(),r)}else kt(2);t.G=0,t.l&&t.l.sa(e),br(t),ar(t)}function br(t){if(t.G=0,t.ka=[],t.l){const e=te(t.h);0==e.length&&0==t.i.length||(f(t.ka,e),f(t.ka,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.ra()}}function _r(t,e,r){var n=r instanceof ne?ie(r):new ne(r);if(""!=n.g)e&&(n.g=e+"."+n.g),oe(n,n.s);else{var s=i.location;n=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new ne(null);n&&se(o,n),e&&(o.g=e),s&&oe(o,s),r&&(o.l=r),n=o}return r=t.D,e=t.ya,r&&e&&ue(n,r,e),ue(n,"VER",t.la),lr(t,n),n}function Er(t,e,r){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new $e(new ze({eb:r})):new $e(t.pa)).Ha(t.J),e}function Sr(){}function kr(){}function Ar(t,e){et.call(this),this.g=new ir(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!p(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!p(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new xr(this)}function Ir(t){gt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const r in e){t=r;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Mr(){yt.call(this),this.status=1}function xr(t){this.g=t}(t=$e.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,r,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tt.g(),this.v=this.o?ft(this.o):ft(Tt),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(o){return void Qe(this,o)}if(t=r||"",r=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var s in n)r.set(s,n[s]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const t of n.keys())r.set(t,n.get(t))}n=Array.from(r.keys()).find((t=>"content-type"==t.toLowerCase())),s=i.FormData&&t instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ge,e,void 0))||n||s||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of r)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tr(this),this.u=!0,this.g.send(t),this.u=!1}catch(o){Qe(this,o)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,rt(this,"complete"),rt(this,"abort"),Xe(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xe(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ye(this):this.bb())},t.bb=function(){Ye(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch(fe){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(fe){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),lt(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=ir.prototype).la=8,t.G=1,t.connect=function(t,e,r,n){kt(0),this.W=t,this.H=e||{},r&&void 0!==n&&(this.H.OSID=r,this.H.OAID=n),this.F=this.X,this.I=_r(this,null,this.W),ur(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Ot(this,this.j,t);let s=this.o;if(this.S&&(s?(s=v(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)t:{for(var e=0,r=0;r<this.i.length;r++){var n=this.i[r];if(void 0===(n="__data__"in n.map&&"string"==typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(e+=n)){e=r;break t}if(4096===e||r===this.i.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=hr(this,i,e),ue(r=ie(this.I),"RID",t),ue(r,"CVER",22),this.D&&ue(r,"X-HTTP-Session-Id",this.D),lr(this,r),s&&(this.O?e="headers="+encodeURIComponent(String(Ke(s)))+"&"+e:this.m&&We(r,this.m,s)),Yt(this.h,i),this.Ua&&ue(r,"TYPE","init"),this.P?(ue(r,"$req",e),ue(r,"SID","null"),i.T=!0,Dt(i,r,null)):Dt(i,r,e),this.G=2}}else 3==this.G&&(t?cr(this,t):0==this.i.length||Gt(this.h)||cr(this))},t.Fa=function(){if(this.u=null,mr(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=It(c(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),or(this),mr(this))},t.Za=function(){null!=this.C&&(this.C=null,or(this),fr(this),kt(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=Sr.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},kr.prototype.g=function(t,e){return new Ar(t,e)},h(Ar,et),Ar.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){sr(this.g)},Ar.prototype.o=function(t){var e=this.g;if("string"==typeof t){var r={};r.__data__=t,t=r}else this.u&&((r={}).__data__=ct(t),t=r);e.i.push(new $t(e.Ya++,t)),3==e.G&&ur(e)},Ar.prototype.N=function(){this.g.l=null,delete this.j,sr(this.g),delete this.g,Ar.aa.N.call(this)},h(Ir,gt),h(Mr,yt),h(xr,Sr),xr.prototype.ua=function(){rt(this.g,"a")},xr.prototype.ta=function(t){rt(this.g,new Ir(t))},xr.prototype.sa=function(t){rt(this.g,new Mr)},xr.prototype.ra=function(){rt(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,Oe=Be.createWebChannelTransport=function(){return new kr},Pe=Be.getStatEventTarget=function(){return bt()},Ce=Be.Event=wt,Re=Be.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,Te=Be.ErrorCode=Rt,Ct.COMPLETE="complete",xe=Be.EventType=Ct,pt.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",et.prototype.listen=et.prototype.K,Me=Be.WebChannel=pt,Be.FetchXmlHttpFactory=ze,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,Ie=Be.XhrIo=$e}).apply(void 0!==Ne?Ne:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Le="@firebase/firestore";class User{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");let De="11.0.2";const Ue=new Logger("@firebase/firestore");function Fe(){return Ue.logLevel}function ze(t,...e){if(Ue.logLevel<=it.DEBUG){const r=e.map(He);Ue.debug(`Firestore (${De}): ${t}`,...r)}}function je(t,...e){if(Ue.logLevel<=it.ERROR){const r=e.map(He);Ue.error(`Firestore (${De}): ${t}`,...r)}}function Ve(t,...e){if(Ue.logLevel<=it.WARN){const r=e.map(He);Ue.warn(`Firestore (${De}): ${t}`,...r)}}function He(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function qe(t="Unexpected state"){const e=`FIRESTORE (${De}) INTERNAL ASSERTION FAILED: `+t;throw je(e),new Error(e)}function Ke(t,e){t||qe()}function We(t,e){return t}const $e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class __PRIVATE_Deferred{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class __PRIVATE_OAuthToken{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(User.UNAUTHENTICATED)))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(t){this.t=t,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ke(void 0===this.o);let r=this.i;const n=t=>this.i!==r?(r=this.i,e(t)):Promise.resolve();let i=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new __PRIVATE_Deferred,t.enqueueRetryable((()=>n(this.currentUser)))};const s=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await n(this.currentUser)}))},o=t=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new __PRIVATE_Deferred)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Ke("string"==typeof e.accessToken),new __PRIVATE_OAuthToken(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ke(null===t||"string"==typeof t),new User(t)}}class __PRIVATE_FirstPartyToken{constructor(t,e,r){this.l=t,this.h=e,this.P=r,this.type="FirstParty",this.user=User.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(t,e,r){this.l=t,this.h=e,this.P=r}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(User.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){Ke(void 0===this.o);const r=t=>{null!=t.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const r=t.token!==this.R;return this.R=t.token,ze("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>r(e)))};const n=t=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>n(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?n(t):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Ke("string"==typeof t.token),this.R=t.token,new AppCheckToken(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ze(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}class __PRIVATE_AutoId{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let r="";for(;r.length<20;){const n=Ze(40);for(let i=0;i<n.length;++i)r.length<20&&n[i]<e&&(r+=t.charAt(n[i]%62))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function Qe(t,e,r){return t.length===e.length&&t.every(((t,n)=>r(t,e[n])))}class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate(t){return Timestamp.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new Timestamp(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new FirestoreError($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new FirestoreError($e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new FirestoreError($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new FirestoreError($e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ge(this.nanoseconds,t.nanoseconds):Ge(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class SnapshotVersion{static fromTimestamp(t){return new SnapshotVersion(t)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class BasePath{constructor(t,e,r){void 0===e?e=0:e>t.length&&qe(),void 0===r?r=t.length-e:r>t.length-e&&qe(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===BasePath.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof BasePath?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const r=t.get(n),i=e.get(n);if(r<i)return-1;if(r>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ResourcePath extends BasePath{construct(t,e,r){return new ResourcePath(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new FirestoreError($e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((t=>t.length>0)))}return new ResourcePath(e)}static emptyPath(){return new ResourcePath([])}}const Je=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(t,e,r){return new FieldPath$1(t,e,r)}static isValidIdentifier(t){return Je.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(t){const e=[];let r="",n=0;const i=()=>{if(0===r.length)throw new FirestoreError($e.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let s=!1;for(;n<t.length;){const e=t[n];if("\\"===e){if(n+1===t.length)throw new FirestoreError($e.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[n+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new FirestoreError($e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=e,n+=2}else"`"===e?(s=!s,n++):"."!==e||s?(r+=e,n++):(i(),n++)}if(i(),s)throw new FirestoreError($e.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new FieldPath$1(e)}static emptyPath(){return new FieldPath$1([])}}class DocumentKey{constructor(t){this.path=t}static fromPath(t){return new DocumentKey(ResourcePath.fromString(t))}static fromName(t){return new DocumentKey(ResourcePath.fromString(t).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ResourcePath.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ResourcePath.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new DocumentKey(new ResourcePath(t.slice()))}}class FieldIndex{constructor(t,e,r,n){this.indexId=t,this.collectionGroup=e,this.fields=r,this.indexState=n}}FieldIndex.UNKNOWN_ID=-1;function Ye(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=SnapshotVersion.fromTimestamp(1e9===n?new Timestamp(r+1,0):new Timestamp(r,n));return new IndexOffset(i,DocumentKey.empty(),e)}function Xe(t){return new IndexOffset(t.readTime,t.key,-1)}class IndexOffset{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function tr(t,e){let r=t.readTime.compareTo(e.readTime);return 0!==r?r:(r=DocumentKey.comparator(t.documentKey,e.documentKey),0!==r?r:Ge(t.largestBatchId,e.largestBatchId))}const er="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function rr(t){if(t.code!==$e.FAILED_PRECONDITION||t.message!==er)throw t;ze("LocalStore","Unexpectedly lost primary lease")}class PersistencePromise{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new PersistencePromise(((r,n)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(r,n)},this.catchCallback=t=>{this.wrapFailure(e,t).next(r,n)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof PersistencePromise?e:PersistencePromise.resolve(e)}catch(t){return PersistencePromise.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):PersistencePromise.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):PersistencePromise.reject(e)}static resolve(t){return new PersistencePromise(((e,r)=>{e(t)}))}static reject(t){return new PersistencePromise(((e,r)=>{r(t)}))}static waitFor(t){return new PersistencePromise(((e,r)=>{let n=0,i=0,s=!1;t.forEach((t=>{++n,t.next((()=>{++i,s&&i===n&&e()}),(t=>r(t)))})),s=!0,i===n&&e()}))}static or(t){let e=PersistencePromise.resolve(!1);for(const r of t)e=e.next((t=>t?PersistencePromise.resolve(t):r()));return e}static forEach(t,e){const r=[];return t.forEach(((t,n)=>{r.push(e.call(this,t,n))})),this.waitFor(r)}static mapArray(t,e){return new PersistencePromise(((r,n)=>{const i=t.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const u=a;e(t[u]).next((t=>{s[u]=t,++o,o===i&&r(s)}),(t=>n(t)))}}))}static doWhile(t,e){return new PersistencePromise(((r,n)=>{const i=()=>{!0===t()?e().next((()=>{i()}),n):r()};i()}))}}function nr(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ir(t){return"IndexedDbTransactionError"===t.name}class __PRIVATE_ListenSequence{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ie(t),this.se=t=>e.writeSequenceNumber(t))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}function sr(t){return null==t}function or(t){return 0===t&&1/t==-1/0}function ar(t){return"number"==typeof t&&Number.isInteger(t)&&!or(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function ur(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=lr(e)),e=cr(t.get(r),e);return lr(e)}function cr(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const e=t.charAt(i);switch(e){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=e}}return r}function lr(t){return t+"\x01\x01"}__PRIVATE_ListenSequence.oe=-1;const hr=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fr=dr,pr=[...fr,"indexConfiguration","indexState","indexEntries"];function mr(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function gr(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function yr(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class SortedMap{constructor(t,e){this.comparator=t,this.root=e||LLRBNode.EMPTY}insert(t,e){return new SortedMap(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(t){return new SortedMap(this.comparator,this.root.remove(t,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(0===n)return e+r.left.size;n<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new SortedMapIterator(this.root,t,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new SortedMapIterator(this.root,t,this.comparator,!0)}}class SortedMapIterator{constructor(t,e,r,n){this.isReverse=n,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?r(t.key,e):1,e&&n&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class LLRBNode{constructor(t,e,r,n,i){this.key=t,this.value=e,this.color=null!=r?r:LLRBNode.RED,this.left=null!=n?n:LLRBNode.EMPTY,this.right=null!=i?i:LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,n,i){return new LLRBNode(null!=t?t:this.key,null!=e?e:this.value,null!=r?r:this.color,null!=n?n:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let n=this;const i=r(t,n.key);return n=i<0?n.copy(null,null,null,n.left.insert(t,e,r),null):0===i?n.copy(null,e,null,null,null):n.copy(null,null,null,null,n.right.insert(t,e,r)),n.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,n=this;if(e(t,n.key)<0)n.left.isEmpty()||n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed()&&(n=n.rotateRight()),n.right.isEmpty()||n.right.isRed()||n.right.left.isRed()||(n=n.moveRedRight()),0===e(t,n.key)){if(n.right.isEmpty())return LLRBNode.EMPTY;r=n.right.min(),n=n.copy(r.key,r.value,null,null,n.right.removeMin())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe();if(this.right.isRed())throw qe();const t=this.left.check();if(t!==this.right.check())throw qe();return t+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1,LLRBNode.EMPTY=new class LLRBEmptyNode{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(t,e,r,n,i){return this}insert(t,e,r){return new LLRBNode(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class SortedSet{constructor(t){this.comparator=t,this.data=new SortedMap(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const n=r.getNext();if(this.comparator(n.key,t[1])>=0)return;e(n.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(t){return new SortedSetIterator(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof SortedSet))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,n=r.getNext().key;if(0!==this.comparator(t,n))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new SortedSet(this.comparator);return e.data=t,e}}class SortedSetIterator{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class FieldMask{constructor(t){this.fields=t,t.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(t){let e=new SortedSet(FieldPath$1.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new FieldMask(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Qe(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ByteString{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+t):t}}(t);return new ByteString(e)}static fromUint8Array(t){const e=function(t){let e="";for(let r=0;r<t.length;++r)e+=String.fromCharCode(t[r]);return e}(t);return new ByteString(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ge(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const wr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(t){if(Ke(!!t),"string"==typeof t){let e=0;const r=wr.exec(t);if(Ke(!!r),r[1]){let t=r[1];t=(t+"000000000").substr(0,9),e=Number(t)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:br(t.seconds),nanos:br(t.nanos)}}function br(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function _r(t){return"string"==typeof t?ByteString.fromBase64String(t):ByteString.fromUint8Array(t)}function Er(t){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Sr(t){const e=t.mapValue.fields.__previous_value__;return Er(e)?Sr(e):e}function kr(t){const e=vr(t.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(e.seconds,e.nanos)}class DatabaseInfo{constructor(t,e,r,n,i,s,o,a,u){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=n,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=u}}class DatabaseId{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof DatabaseId&&t.projectId===this.projectId&&t.database===this.database}}const Ar={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ir(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Er(t)?4:Hr(t)?9007199254740991:jr(t)?10:11:qe()}function Mr(t,e){if(t===e)return!0;const r=Ir(t);if(r!==Ir(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kr(t).isEqual(kr(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const r=vr(t.timestampValue),n=vr(e.timestampValue);return r.seconds===n.seconds&&r.nanos===n.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return _r(t.bytesValue).isEqual(_r(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return br(t.geoPointValue.latitude)===br(e.geoPointValue.latitude)&&br(t.geoPointValue.longitude)===br(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return br(t.integerValue)===br(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const r=br(t.doubleValue),n=br(e.doubleValue);return r===n?or(r)===or(n):isNaN(r)&&isNaN(n)}return!1}(t,e);case 9:return Qe(t.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(t,e){const r=t.mapValue.fields||{},n=e.mapValue.fields||{};if(mr(r)!==mr(n))return!1;for(const i in r)if(r.hasOwnProperty(i)&&(void 0===n[i]||!Mr(r[i],n[i])))return!1;return!0}(t,e);default:return qe()}}function xr(t,e){return void 0!==(t.values||[]).find((t=>Mr(t,e)))}function Tr(t,e){if(t===e)return 0;const r=Ir(t),n=Ir(e);if(r!==n)return Ge(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(t,e){const r=br(t.integerValue||t.doubleValue),n=br(e.integerValue||e.doubleValue);return r<n?-1:r>n?1:r===n?0:isNaN(r)?isNaN(n)?0:-1:1}(t,e);case 3:return Rr(t.timestampValue,e.timestampValue);case 4:return Rr(kr(t),kr(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(t,e){const r=_r(t),n=_r(e);return r.compareTo(n)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const r=t.split("/"),n=e.split("/");for(let i=0;i<r.length&&i<n.length;i++){const t=Ge(r[i],n[i]);if(0!==t)return t}return Ge(r.length,n.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const r=Ge(br(t.latitude),br(e.latitude));return 0!==r?r:Ge(br(t.longitude),br(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Cr(t.arrayValue,e.arrayValue);case 10:return function(t,e){var r,n,i,s;const o=t.fields||{},a=e.fields||{},u=null===(r=o.value)||void 0===r?void 0:r.arrayValue,c=null===(n=a.value)||void 0===n?void 0:n.arrayValue,l=Ge((null===(i=null==u?void 0:u.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==l?l:Cr(u,c)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===Ar.mapValue&&e===Ar.mapValue)return 0;if(t===Ar.mapValue)return 1;if(e===Ar.mapValue)return-1;const r=t.fields||{},n=Object.keys(r),i=e.fields||{},s=Object.keys(i);n.sort(),s.sort();for(let o=0;o<n.length&&o<s.length;++o){const t=Ge(n[o],s[o]);if(0!==t)return t;const e=Tr(r[n[o]],i[s[o]]);if(0!==e)return e}return Ge(n.length,s.length)}(t.mapValue,e.mapValue);default:throw qe()}}function Rr(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ge(t,e);const r=vr(t),n=vr(e),i=Ge(r.seconds,n.seconds);return 0!==i?i:Ge(r.nanos,n.nanos)}function Cr(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const t=Tr(r[i],n[i]);if(t)return t}return Ge(r.length,n.length)}function Pr(t){return Or(t)}function Or(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=vr(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return _r(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return DocumentKey.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return`geo(${t.latitude},${t.longitude})`}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",r=!0;for(const n of t.values||[])r?r=!1:e+=",",e+=Or(n);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let r="{",n=!0;for(const i of e)n?n=!1:r+=",",r+=`${i}:${Or(t.fields[i])}`;return r+"}"}(t.mapValue):qe()}function Nr(t){switch(Ir(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sr(t);return e?16+Nr(e):16;case 5:return 2*t.stringValue.length;case 6:return _r(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce(((t,e)=>t+Nr(e)),0)}(t.arrayValue);case 10:case 11:return function(t){let e=0;return gr(t.fields,((t,r)=>{e+=t.length+Nr(r)})),e}(t.mapValue);default:throw qe()}}function Br(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lr(t){return!!t&&"integerValue"in t}function Dr(t){return!!t&&"arrayValue"in t}function Ur(t){return!!t&&"nullValue"in t}function Fr(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zr(t){return!!t&&"mapValue"in t}function jr(t){var e,r;return"__vector__"===(null===(r=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function Vr(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gr(t.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Vr(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Vr(t.arrayValue.values[r]);return e}return Object.assign({},t)}function Hr(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class ObjectValue{constructor(t){this.value=t}static empty(){return new ObjectValue({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!zr(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vr(e)}setAll(t){let e=FieldPath$1.emptyPath(),r={},n=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,r,n),r={},n=[],e=i.popLast()}t?r[i.lastSegment()]=Vr(t):n.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,r,n)}delete(t){const e=this.field(t.popLast());zr(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Mr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let n=e.mapValue.fields[t.get(r)];zr(n)&&n.mapValue.fields||(n={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=n),e=n}return e.mapValue.fields}applyChanges(t,e,r){gr(e,((e,r)=>t[e]=r));for(const n of r)delete t[n]}clone(){return new ObjectValue(Vr(this.value))}}function qr(t){const e=[];return gr(t.fields,((t,r)=>{const n=new FieldPath$1([t]);if(zr(r)){const t=qr(r.mapValue).fields;if(0===t.length)e.push(n);else for(const r of t)e.push(n.child(r))}else e.push(n)})),new FieldMask(e)}class MutableDocument{constructor(t,e,r,n,i,s,o){this.key=t,this.documentType=e,this.version=r,this.readTime=n,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new MutableDocument(t,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(t,e,r,n){return new MutableDocument(t,1,e,SnapshotVersion.min(),r,n,0)}static newNoDocument(t,e){return new MutableDocument(t,2,e,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(t,e){return new MutableDocument(t,3,e,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(SnapshotVersion.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof MutableDocument&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bound{constructor(t,e){this.position=t,this.inclusive=e}}function Kr(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(n=s.field.isKeyField()?DocumentKey.comparator(DocumentKey.fromName(o.referenceValue),r.key):Tr(o,r.data.field(s.field)),"desc"===s.dir&&(n*=-1),0!==n)break}return n}function Wr(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Mr(t.position[r],e.position[r]))return!1;return!0}class OrderBy{constructor(t,e="asc"){this.field=t,this.dir=e}}function $r(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Filter{}class FieldFilter extends Filter{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,r):new __PRIVATE_KeyFieldFilter(t,e,r):"array-contains"===e?new __PRIVATE_ArrayContainsFilter(t,r):"in"===e?new __PRIVATE_InFilter(t,r):"not-in"===e?new __PRIVATE_NotInFilter(t,r):"array-contains-any"===e?new __PRIVATE_ArrayContainsAnyFilter(t,r):new FieldFilter(t,e,r)}static createKeyFieldInFilter(t,e,r){return"in"===e?new __PRIVATE_KeyFieldInFilter(t,r):new __PRIVATE_KeyFieldNotInFilter(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Tr(e,this.value)):null!==e&&Ir(this.value)===Ir(e)&&this.matchesComparison(Tr(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new CompositeFilter(t,e)}matches(t){return Zr(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zr(t){return"and"===t.op}function Gr(t){return Qr(t)&&Zr(t)}function Qr(t){for(const e of t.filters)if(e instanceof CompositeFilter)return!1;return!0}function Jr(t){if(t instanceof FieldFilter)return t.field.canonicalString()+t.op.toString()+Pr(t.value);if(Gr(t))return t.filters.map((t=>Jr(t))).join(",");{const e=t.filters.map((t=>Jr(t))).join(",");return`${t.op}(${e})`}}function Yr(t,e){return t instanceof FieldFilter?function(t,e){return e instanceof FieldFilter&&t.op===e.op&&t.field.isEqual(e.field)&&Mr(t.value,e.value)}(t,e):t instanceof CompositeFilter?function(t,e){return e instanceof CompositeFilter&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,r,n)=>t&&Yr(r,e.filters[n])),!0)}(t,e):void qe()}function Xr(t){return t instanceof FieldFilter?function(t){return`${t.field.canonicalString()} ${t.op} ${Pr(t.value)}`}(t):t instanceof CompositeFilter?function(t){return t.op.toString()+" {"+t.getFilters().map(Xr).join(" ,")+"}"}(t):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(t,e,r){super(t,e,r),this.key=DocumentKey.fromName(r.referenceValue)}matches(t){const e=DocumentKey.comparator(t.key,this.key);return this.matchesComparison(e)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(t,e){super(t,"in",e),this.keys=tn("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(t,e){super(t,"not-in",e),this.keys=tn("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function tn(t,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map((t=>DocumentKey.fromName(t.referenceValue)))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Dr(e)&&xr(e.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&xr(this.value.arrayValue,e)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(t,e){super(t,"not-in",e)}matches(t){if(xr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!xr(this.value.arrayValue,e)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Dr(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>xr(this.value.arrayValue,t)))}}class __PRIVATE_TargetImpl{constructor(t,e=null,r=[],n=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=n,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function en(t,e=null,r=[],n=[],i=null,s=null,o=null){return new __PRIVATE_TargetImpl(t,e,r,n,i,s,o)}function rn(t){const e=We(t);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Jr(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),sr(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Pr(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Pr(t))).join(",")),e.ue=t}return e.ue}function nn(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!$r(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Yr(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wr(t.startAt,e.startAt)&&Wr(t.endAt,e.endAt)}function sn(t){return DocumentKey.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class __PRIVATE_QueryImpl{constructor(t,e=null,r=[],n=[],i=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=n,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function on(t,e,r,n,i,s,o,a){return new __PRIVATE_QueryImpl(t,e,r,n,i,s,o,a)}function an(t){return new __PRIVATE_QueryImpl(t)}function un(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function cn(t){return null!==t.collectionGroup}function ln(t){const e=We(t);if(null===e.ce){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",n=function(t){let e=new SortedSet(FieldPath$1.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);n.forEach((n=>{t.has(n.canonicalString())||n.isKeyField()||e.ce.push(new OrderBy(n,r))})),t.has(FieldPath$1.keyField().canonicalString())||e.ce.push(new OrderBy(FieldPath$1.keyField(),r))}return e.ce}function hn(t){const e=We(t);return e.le||(e.le=dn(e,ln(t))),e.le}function dn(t,e){if("F"===t.limitType)return en(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new OrderBy(t.field,e)}));const r=t.endAt?new Bound(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Bound(t.startAt.position,t.startAt.inclusive):null;return en(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function fn(t,e){const r=t.filters.concat([e]);return new __PRIVATE_QueryImpl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function pn(t,e,r){return new __PRIVATE_QueryImpl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function mn(t,e){return nn(hn(t),hn(e))&&t.limitType===e.limitType}function gn(t){return`${rn(hn(t))}|lt:${t.limitType}`}function yn(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>Xr(t))).join(", ")}]`),sr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Pr(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Pr(t))).join(",")),`Target(${e})`}(hn(t))}; limitType=${t.limitType})`}function wn(t,e){return e.isFoundDocument()&&function(t,e){const r=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):DocumentKey.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(t,e)&&function(t,e){for(const r of ln(t))if(!r.field.isKeyField()&&null===e.data.field(r.field))return!1;return!0}(t,e)&&function(t,e){for(const r of t.filters)if(!r.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,r){const n=Kr(t,e,r);return t.inclusive?n<=0:n<0}(t.startAt,ln(t),e))&&!(t.endAt&&!function(t,e,r){const n=Kr(t,e,r);return t.inclusive?n>=0:n>0}(t.endAt,ln(t),e))}(t,e)}function vn(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bn(t){return(e,r)=>{let n=!1;for(const i of ln(t)){const t=_n(i,e,r);if(0!==t)return t;n=n||i.field.isKeyField()}return 0}}function _n(t,e,r){const n=t.field.isKeyField()?DocumentKey.comparator(e.key,r.key):function(t,e,r){const n=e.data.field(t),i=r.data.field(t);return null!==n&&null!==i?Tr(n,i):qe()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return qe()}}class ObjectMap{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[n,i]of r)if(this.equalsFn(n,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),n=this.inner[r];if(void 0===n)return this.inner[r]=[[t,e]],void this.innerSize++;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return void(n[i]=[t,e]);n.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return 1===r.length?delete this.inner[e]:r.splice(n,1),this.innerSize--,!0;return!1}forEach(t){gr(this.inner,((e,r)=>{for(const[n,i]of r)t(n,i)}))}isEmpty(){return yr(this.inner)}size(){return this.innerSize}}const En=new SortedMap(DocumentKey.comparator);function Sn(){return En}const kn=new SortedMap(DocumentKey.comparator);function An(...t){let e=kn;for(const r of t)e=e.insert(r.key,r);return e}function In(t){let e=kn;return t.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Mn(){return Tn()}function xn(){return Tn()}function Tn(){return new ObjectMap((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Rn=new SortedMap(DocumentKey.comparator),Cn=new SortedSet(DocumentKey.comparator);function Pn(...t){let e=Cn;for(const r of t)e=e.add(r);return e}const On=new SortedSet(Ge);function Nn(){return On}function Bn(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:or(e)?"-0":e}}function Ln(t){return{integerValue:""+t}}function Dn(t,e){return ar(e)?Ln(e):Bn(t,e)}class TransformOperation{constructor(){this._=void 0}}function Un(t,e,r){return t instanceof __PRIVATE_ServerTimestampTransform?function(t,e){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&Er(e)&&(e=Sr(e)),e&&(r.fields.__previous_value__=e),{mapValue:r}}(r,e):t instanceof __PRIVATE_ArrayUnionTransformOperation?jn(t,e):t instanceof __PRIVATE_ArrayRemoveTransformOperation?Vn(t,e):function(t,e){const r=zn(t,e),n=Hn(r)+Hn(t.Pe);return Lr(r)&&Lr(t.Pe)?Ln(n):Bn(t.serializer,n)}(t,e)}function Fn(t,e,r){return t instanceof __PRIVATE_ArrayUnionTransformOperation?jn(t,e):t instanceof __PRIVATE_ArrayRemoveTransformOperation?Vn(t,e):r}function zn(t,e){return t instanceof __PRIVATE_NumericIncrementTransformOperation?function(t){return Lr(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(t){super(),this.elements=t}}function jn(t,e){const r=qn(e);for(const n of t.elements)r.some((t=>Mr(t,n)))||r.push(n);return{arrayValue:{values:r}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(t){super(),this.elements=t}}function Vn(t,e){let r=qn(e);for(const n of t.elements)r=r.filter((t=>!Mr(t,n)));return{arrayValue:{values:r}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function Hn(t){return br(t.integerValue||t.doubleValue)}function qn(t){return Dr(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class FieldTransform{constructor(t,e){this.field=t,this.transform=e}}class MutationResult{constructor(t,e){this.version=t,this.transformResults=e}}class Precondition{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Precondition}static exists(t){return new Precondition(void 0,t)}static updateTime(t){return new Precondition(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kn(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Mutation{}function Wn(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new __PRIVATE_DeleteMutation(t.key,Precondition.none()):new __PRIVATE_SetMutation(t.key,t.data,Precondition.none());{const r=t.data,n=ObjectValue.empty();let i=new SortedSet(FieldPath$1.comparator);for(let t of e.fields)if(!i.has(t)){let e=r.field(t);null===e&&t.length>1&&(t=t.popLast(),e=r.field(t)),null===e?n.delete(t):n.set(t,e),i=i.add(t)}return new __PRIVATE_PatchMutation(t.key,n,new FieldMask(i.toArray()),Precondition.none())}}function $n(t,e,r){t instanceof __PRIVATE_SetMutation?function(t,e,r){const n=t.value.clone(),i=Yn(t.fieldTransforms,e,r.transformResults);n.setAll(i),e.convertToFoundDocument(r.version,n).setHasCommittedMutations()}(t,e,r):t instanceof __PRIVATE_PatchMutation?function(t,e,r){if(!Kn(t.precondition,e))return void e.convertToUnknownDocument(r.version);const n=Yn(t.fieldTransforms,e,r.transformResults),i=e.data;i.setAll(Jn(t)),i.setAll(n),e.convertToFoundDocument(r.version,i).setHasCommittedMutations()}(t,e,r):function(t,e,r){e.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,r)}function Zn(t,e,r,n){return t instanceof __PRIVATE_SetMutation?function(t,e,r,n){if(!Kn(t.precondition,e))return r;const i=t.value.clone(),s=Xn(t.fieldTransforms,n,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,r,n):t instanceof __PRIVATE_PatchMutation?function(t,e,r,n){if(!Kn(t.precondition,e))return r;const i=Xn(t.fieldTransforms,n,e),s=e.data;return s.setAll(Jn(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===r?null:r.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,r,n):function(t,e,r){return Kn(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):r}(t,e,r)}function Gn(t,e){let r=null;for(const n of t.fieldTransforms){const t=e.data.field(n.field),i=zn(n.transform,t||null);null!=i&&(null===r&&(r=ObjectValue.empty()),r.set(n.field,i))}return r||null}function Qn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Qe(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof __PRIVATE_ArrayUnionTransformOperation&&e instanceof __PRIVATE_ArrayUnionTransformOperation||t instanceof __PRIVATE_ArrayRemoveTransformOperation&&e instanceof __PRIVATE_ArrayRemoveTransformOperation?Qe(t.elements,e.elements,Mr):t instanceof __PRIVATE_NumericIncrementTransformOperation&&e instanceof __PRIVATE_NumericIncrementTransformOperation?Mr(t.Pe,e.Pe):t instanceof __PRIVATE_ServerTimestampTransform&&e instanceof __PRIVATE_ServerTimestampTransform}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(t,e,r,n=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=n,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(t,e,r,n,i=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=n,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Jn(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function Yn(t,e,r){const n=new Map;Ke(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);n.set(s.field,Fn(o,a,r[i]))}return n}function Xn(t,e,r){const n=new Map;for(const i of t){const t=i.transform,s=r.data.field(i.field);n.set(i.field,Un(t,s,e))}return n}class __PRIVATE_DeleteMutation extends Mutation{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MutationBatch{constructor(t,e,r,n){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=n}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let n=0;n<this.mutations.length;n++){const e=this.mutations[n];e.key.isEqual(t.key)&&$n(e,t,r[n])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Zn(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Zn(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=xn();return this.mutations.forEach((n=>{const i=t.get(n.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=e.has(n.key)?null:o;const a=Wn(s,o);null!==a&&r.set(n.key,a),s.isValidDocument()||s.convertToNoDocument(SnapshotVersion.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Pn())}isEqual(t){return this.batchId===t.batchId&&Qe(this.mutations,t.mutations,((t,e)=>Qn(t,e)))&&Qe(this.baseMutations,t.baseMutations,((t,e)=>Qn(t,e)))}}class MutationBatchResult{constructor(t,e,r,n){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=n}static from(t,e,r){Ke(t.mutations.length===r.length);let n=Rn;const i=t.mutations;for(let s=0;s<i.length;s++)n=n.insert(i[s].key,r[s].version);return new MutationBatchResult(t,e,r,n)}}class Overlay{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ExistenceFilter{constructor(t,e){this.count=t,this.unchangedNames=e}}var ti,ei;function ri(t){switch(t){default:return qe();case $e.CANCELLED:case $e.UNKNOWN:case $e.DEADLINE_EXCEEDED:case $e.RESOURCE_EXHAUSTED:case $e.INTERNAL:case $e.UNAVAILABLE:case $e.UNAUTHENTICATED:return!1;case $e.INVALID_ARGUMENT:case $e.NOT_FOUND:case $e.ALREADY_EXISTS:case $e.PERMISSION_DENIED:case $e.FAILED_PRECONDITION:case $e.ABORTED:case $e.OUT_OF_RANGE:case $e.UNIMPLEMENTED:case $e.DATA_LOSS:return!0}}function ni(t){if(void 0===t)return je("GRPC error has no .code"),$e.UNKNOWN;switch(t){case ti.OK:return $e.OK;case ti.CANCELLED:return $e.CANCELLED;case ti.UNKNOWN:return $e.UNKNOWN;case ti.DEADLINE_EXCEEDED:return $e.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return $e.RESOURCE_EXHAUSTED;case ti.INTERNAL:return $e.INTERNAL;case ti.UNAVAILABLE:return $e.UNAVAILABLE;case ti.UNAUTHENTICATED:return $e.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return $e.INVALID_ARGUMENT;case ti.NOT_FOUND:return $e.NOT_FOUND;case ti.ALREADY_EXISTS:return $e.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return $e.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return $e.FAILED_PRECONDITION;case ti.ABORTED:return $e.ABORTED;case ti.OUT_OF_RANGE:return $e.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return $e.UNIMPLEMENTED;case ti.DATA_LOSS:return $e.DATA_LOSS;default:return qe()}}(ei=ti||(ti={}))[ei.OK=0]="OK",ei[ei.CANCELLED=1]="CANCELLED",ei[ei.UNKNOWN=2]="UNKNOWN",ei[ei.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ei[ei.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ei[ei.NOT_FOUND=5]="NOT_FOUND",ei[ei.ALREADY_EXISTS=6]="ALREADY_EXISTS",ei[ei.PERMISSION_DENIED=7]="PERMISSION_DENIED",ei[ei.UNAUTHENTICATED=16]="UNAUTHENTICATED",ei[ei.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ei[ei.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ei[ei.ABORTED=10]="ABORTED",ei[ei.OUT_OF_RANGE=11]="OUT_OF_RANGE",ei[ei.UNIMPLEMENTED=12]="UNIMPLEMENTED",ei[ei.INTERNAL=13]="INTERNAL",ei[ei.UNAVAILABLE=14]="UNAVAILABLE",ei[ei.DATA_LOSS=15]="DATA_LOSS";let ii=null;function si(){return new TextEncoder}const oi=new Ee([4294967295,4294967295],0);function ai(t){const e=si().encode(t),r=new Se;return r.update(e),new Uint8Array(r.digest())}function ui(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ee([r,n],0),new Ee([i,s],0)]}class BloomFilter{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${e}`);if(r<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${r}`);if(t.length>0&&0===this.hashCount)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${r}`);if(0===t.length&&0!==e)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ie=Ee.fromNumber(this.Te)}Ee(t,e,r){let n=t.add(e.multiply(Ee.fromNumber(r)));return 1===n.compare(oi)&&(n=new Ee([n.getBits(0),n.getBits(1)],0)),n.modulo(this.Ie).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=ai(t),[r,n]=ui(e);for(let i=0;i<this.hashCount;i++){const t=this.Ee(r,n,i);if(!this.de(t))return!1}return!0}static create(t,e,r){const n=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new BloomFilter(i,n,e);return r.forEach((t=>s.insert(t))),s}insert(t){if(0===this.Te)return;const e=ai(t),[r,n]=ui(e);for(let i=0;i<this.hashCount;i++){const t=this.Ee(r,n,i);this.Ae(t)}}Ae(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class RemoteEvent{constructor(t,e,r,n,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=n,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const n=new Map;return n.set(t,TargetChange.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new RemoteEvent(SnapshotVersion.min(),n,new SortedMap(Ge),Sn(),Pn())}}class TargetChange{constructor(t,e,r,n,i){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=n,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new TargetChange(r,e,Pn(),Pn(),Pn())}}class __PRIVATE_DocumentWatchChange{constructor(t,e,r,n){this.Re=t,this.removedTargetIds=e,this.key=r,this.Ve=n}}class __PRIVATE_ExistenceFilterChange{constructor(t,e){this.targetId=t,this.me=e}}class __PRIVATE_WatchTargetChange{constructor(t,e,r=ByteString.EMPTY_BYTE_STRING,n=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=n}}class __PRIVATE_TargetState{constructor(){this.fe=0,this.ge=li(),this.pe=ByteString.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Pn(),e=Pn(),r=Pn();return this.ge.forEach(((n,i)=>{switch(i){case 0:t=t.add(n);break;case 2:e=e.add(n);break;case 1:r=r.add(n);break;default:qe()}})),new TargetChange(this.pe,this.ye,t,e,r)}Ce(){this.we=!1,this.ge=li()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class __PRIVATE_WatchChangeAggregator{constructor(t){this.Le=t,this.Be=new Map,this.ke=Sn(),this.qe=ci(),this.Qe=ci(),this.Ke=new SortedMap(Ge)}$e(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(e,t.Ve):this.We(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.We(e,t.key,t.Ve)}Ge(t){this.forEachTarget(t,(e=>{const r=this.ze(e);switch(t.state){case 0:this.je(e)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(e);break;case 3:this.je(e)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),r.De(t.resumeToken));break;default:qe()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach(((t,r)=>{this.je(r)&&e(r)}))}Je(t){const e=t.targetId,r=t.me.count,n=this.Ye(e);if(n){const i=n.target;if(sn(i))if(0===r){const t=new DocumentKey(i.path);this.We(e,t,MutableDocument.newNoDocument(t,SnapshotVersion.min()))}else Ke(1===r);else{const n=this.Ze(e);if(n!==r){const r=this.Xe(t),i=r?this.et(r,t,n):1;if(0!==i){this.He(e);const t=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,t)}null==ii||ii.tt(function(t,e,r,n,i){var s,o,a,u,c,l;const h={localCacheCount:t,existenceFilterCount:e.count,databaseId:r.database,projectId:r.projectId},d=e.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(u=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==u?u:0,padding:null!==(l=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:t=>{var e;return null!==(e=null==n?void 0:n.mightContain(t))&&void 0!==e&&e}}),h}(n,t.me,this.Le.nt(),r,i))}}}}Xe(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:n=0},hashCount:i=0}=e;let s,o;try{s=_r(r).toUint8Array()}catch(t){if(t instanceof __PRIVATE_Base64DecodeError)return Ve("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{o=new BloomFilter(s,n,i)}catch(t){return Ve(t instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===o.Te?null:o}et(t,e,r){return e.me.count===r-this.rt(t,e.targetId)?0:2}rt(t,e){const r=this.Le.getRemoteKeysForTarget(e);let n=0;return r.forEach((r=>{const i=this.Le.nt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${r.path.canonicalString()}`;t.mightContain(s)||(this.We(e,r,null),n++)})),n}it(t){const e=new Map;this.Be.forEach(((r,n)=>{const i=this.Ye(n);if(i){if(r.current&&sn(i.target)){const e=new DocumentKey(i.target.path);this.st(e).has(n)||this.ot(n,e)||this.We(n,e,MutableDocument.newNoDocument(e,t))}r.be&&(e.set(n,r.ve()),r.Ce())}}));let r=Pn();this.Qe.forEach(((t,e)=>{let n=!0;e.forEachWhile((t=>{const e=this.Ye(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(n=!1,!1)})),n&&(r=r.add(t))})),this.ke.forEach(((e,r)=>r.setReadTime(t)));const n=new RemoteEvent(t,e,this.Ke,this.ke,r);return this.ke=Sn(),this.qe=ci(),this.Qe=ci(),this.Ke=new SortedMap(Ge),n}Ue(t,e){if(!this.je(t))return;const r=this.ot(t,e.key)?2:0;this.ze(t).Fe(e.key,r),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t)),this.Qe=this.Qe.insert(e.key,this._t(e.key).add(t))}We(t,e,r){if(!this.je(t))return;const n=this.ze(t);this.ot(t,e)?n.Fe(e,1):n.Me(e),this.Qe=this.Qe.insert(e,this._t(e).delete(t)),this.Qe=this.Qe.insert(e,this._t(e).add(t)),r&&(this.ke=this.ke.insert(e,r))}removeTarget(t){this.Be.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let e=this.Be.get(t);return e||(e=new __PRIVATE_TargetState,this.Be.set(t,e)),e}_t(t){let e=this.Qe.get(t);return e||(e=new SortedSet(Ge),this.Qe=this.Qe.insert(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new SortedSet(Ge),this.qe=this.qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||ze("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ut(t)}He(t){this.Be.set(t,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(t).forEach((e=>{this.We(t,e,null)}))}ot(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function ci(){return new SortedMap(DocumentKey.comparator)}function li(){return new SortedMap(DocumentKey.comparator)}const hi={asc:"ASCENDING",desc:"DESCENDING"},di={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fi={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function pi(t,e){return t.useProto3Json||sr(e)?e:{value:e}}function mi(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gi(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yi(t,e){return mi(t,e.toTimestamp())}function wi(t){return Ke(!!t),SnapshotVersion.fromTimestamp(function(t){const e=vr(t);return new Timestamp(e.seconds,e.nanos)}(t))}function vi(t,e){return bi(t,e).canonicalString()}function bi(t,e){const r=function(t){return new ResourcePath(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?r:r.child(e)}function _i(t){const e=ResourcePath.fromString(t);return Ke(ji(e)),e}function Ei(t,e){return vi(t.databaseId,e.path)}function Si(t,e){const r=_i(e);if(r.get(1)!==t.databaseId.projectId)throw new FirestoreError($e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new FirestoreError($e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new DocumentKey(Mi(r))}function ki(t,e){return vi(t.databaseId,e)}function Ai(t){const e=_i(t);return 4===e.length?ResourcePath.emptyPath():Mi(e)}function Ii(t){return new ResourcePath(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Mi(t){return Ke(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function xi(t,e,r){return{name:Ei(t,e),fields:r.value.mapValue.fields}}function Ti(t,e){let r;if(e instanceof __PRIVATE_SetMutation)r={update:xi(t,e.key,e.value)};else if(e instanceof __PRIVATE_DeleteMutation)r={delete:Ei(t,e.key)};else if(e instanceof __PRIVATE_PatchMutation)r={update:xi(t,e.key,e.data),updateMask:zi(e.fieldMask)};else{if(!(e instanceof __PRIVATE_VerifyMutation))return qe();r={verify:Ei(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const r=e.transform;if(r instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(r instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:r.elements}};if(r instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:r.elements}};if(r instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:e.field.canonicalString(),increment:r.Pe};throw qe()}(0,t)))),e.precondition.isNone||(r.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:yi(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:qe()}(t,e.precondition)),r}function Ri(t,e){return{documents:[ki(t,e.path)]}}function Ci(t,e){const r={structuredQuery:{}},n=e.path;let i;null!==e.collectionGroup?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=ki(t,i);const s=function(t){if(0!==t.length)return Fi(CompositeFilter.create(t,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Di(t.field),direction:Ni(t.dir)}}(t)))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=pi(t,e.limit);return null!==a&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{ct:r,parent:i}}function Pi(t){let e=Ai(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Ke(1===n);const t=r.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];r.where&&(s=function(t){const e=Oi(t);return e instanceof CompositeFilter&&Gr(e)?e.getFilters():[e]}(r.where));let o=[];r.orderBy&&(o=function(t){return t.map((t=>function(t){return new OrderBy(Ui(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(r.orderBy));let a=null;r.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,sr(e)?null:e}(r.limit));let u=null;r.startAt&&(u=function(t){const e=!!t.before,r=t.values||[];return new Bound(r,e)}(r.startAt));let c=null;return r.endAt&&(c=function(t){const e=!t.before,r=t.values||[];return new Bound(r,e)}(r.endAt)),on(e,i,o,s,a,"F",u,c)}function Oi(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ui(t.unaryFilter.field);return FieldFilter.create(e,"==",{doubleValue:NaN});case"IS_NULL":const r=Ui(t.unaryFilter.field);return FieldFilter.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const n=Ui(t.unaryFilter.field);return FieldFilter.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ui(t.unaryFilter.field);return FieldFilter.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(t):void 0!==t.fieldFilter?function(t){return FieldFilter.create(Ui(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return CompositeFilter.create(t.compositeFilter.filters.map((t=>Oi(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return qe()}}(t.compositeFilter.op))}(t):qe()}function Ni(t){return hi[t]}function Bi(t){return di[t]}function Li(t){return fi[t]}function Di(t){return{fieldPath:t.canonicalString()}}function Ui(t){return FieldPath$1.fromServerFormat(t.fieldPath)}function Fi(t){return t instanceof FieldFilter?function(t){if("=="===t.op){if(Fr(t.value))return{unaryFilter:{field:Di(t.field),op:"IS_NAN"}};if(Ur(t.value))return{unaryFilter:{field:Di(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Fr(t.value))return{unaryFilter:{field:Di(t.field),op:"IS_NOT_NAN"}};if(Ur(t.value))return{unaryFilter:{field:Di(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Di(t.field),op:Bi(t.op),value:t.value}}}(t):t instanceof CompositeFilter?function(t){const e=t.getFilters().map((t=>Fi(t)));return 1===e.length?e[0]:{compositeFilter:{op:Li(t.op),filters:e}}}(t):qe()}function zi(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ji(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class TargetData{constructor(t,e,r,n,i=SnapshotVersion.min(),s=SnapshotVersion.min(),o=ByteString.EMPTY_BYTE_STRING,a=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=n,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new TargetData(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class __PRIVATE_LocalSerializer{constructor(t){this.ht=t}}function Vi(t){const e=Pi({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?pn(e,e.limit,"L"):e}class __PRIVATE_FirestoreIndexValueWriter{constructor(){}Et(t,e){this.dt(t,e),e.At()}dt(t,e){if("nullValue"in t)this.Rt(e,5);else if("booleanValue"in t)this.Rt(e,10),e.Vt(t.booleanValue?1:0);else if("integerValue"in t)this.Rt(e,15),e.Vt(br(t.integerValue));else if("doubleValue"in t){const r=br(t.doubleValue);isNaN(r)?this.Rt(e,13):(this.Rt(e,15),or(r)?e.Vt(0):e.Vt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Rt(e,20),"string"==typeof r&&(r=vr(r)),e.ft(`${r.seconds||""}`),e.Vt(r.nanos||0)}else if("stringValue"in t)this.gt(t.stringValue,e),this.yt(e);else if("bytesValue"in t)this.Rt(e,30),e.wt(_r(t.bytesValue)),this.yt(e);else if("referenceValue"in t)this.St(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.Rt(e,45),e.Vt(r.latitude||0),e.Vt(r.longitude||0)}else"mapValue"in t?Hr(t)?this.Rt(e,Number.MAX_SAFE_INTEGER):jr(t)?this.bt(t.mapValue,e):(this.Dt(t.mapValue,e),this.yt(e)):"arrayValue"in t?(this.vt(t.arrayValue,e),this.yt(e)):qe()}gt(t,e){this.Rt(e,25),this.Ct(t,e)}Ct(t,e){e.ft(t)}Dt(t,e){const r=t.fields||{};this.Rt(e,55);for(const n of Object.keys(r))this.gt(n,e),this.dt(r[n],e)}bt(t,e){var r,n;const i=t.fields||{};this.Rt(e,53);const s="value",o=(null===(n=null===(r=i[s].arrayValue)||void 0===r?void 0:r.values)||void 0===n?void 0:n.length)||0;this.Rt(e,15),e.Vt(br(o)),this.gt(s,e),this.dt(i[s],e)}vt(t,e){const r=t.values||[];this.Rt(e,50);for(const n of r)this.dt(n,e)}St(t,e){this.Rt(e,37),DocumentKey.fromName(t).path.forEach((t=>{this.Rt(e,60),this.Ct(t,e)}))}Rt(t,e){t.Vt(e)}yt(t){t.Vt(2)}}__PRIVATE_FirestoreIndexValueWriter.Ft=new __PRIVATE_FirestoreIndexValueWriter;class __PRIVATE_MemoryIndexManager{constructor(){this.ln=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(t,e){return this.ln.add(e),PersistencePromise.resolve()}getCollectionParents(t,e){return PersistencePromise.resolve(this.ln.getEntries(e))}addFieldIndex(t,e){return PersistencePromise.resolve()}deleteFieldIndex(t,e){return PersistencePromise.resolve()}deleteAllFieldIndexes(t){return PersistencePromise.resolve()}createTargetIndexes(t,e){return PersistencePromise.resolve()}getDocumentsMatchingTarget(t,e){return PersistencePromise.resolve(null)}getIndexType(t,e){return PersistencePromise.resolve(0)}getFieldIndexes(t,e){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(t){return PersistencePromise.resolve(null)}getMinOffset(t,e){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(t,e){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(t,e,r){return PersistencePromise.resolve()}updateIndexEntries(t,e){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),n=this.index[e]||new SortedSet(ResourcePath.comparator),i=!n.has(r);return this.index[e]=n.add(r),i}has(t){const e=t.lastSegment(),r=t.popLast(),n=this.index[e];return n&&n.has(r)}getEntries(t){return(this.index[t]||new SortedSet(ResourcePath.comparator)).toArray()}}new Uint8Array(0);const Hi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class LruParams{static withCacheSize(t){return new LruParams(t,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(41943040,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);class __PRIVATE_TargetIdGenerator{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new __PRIVATE_TargetIdGenerator(0)}static Qn(){return new __PRIVATE_TargetIdGenerator(-1)}}function qi([t,e],[r,n]){const i=Ge(t,r);return 0===i?Ge(e,n):i}class __PRIVATE_RollingSequenceNumberBuffer{constructor(t){this.Gn=t,this.buffer=new SortedSet(qi),this.zn=0}jn(){return++this.zn}Hn(t){const e=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();qi(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(t){ze("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ir(t)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await rr(t)}await this.Yn(3e5)}))}}class __PRIVATE_LruGarbageCollectorImpl{constructor(t,e){this.Zn=t,this.params=e}calculateTargetCount(t,e){return this.Zn.Xn(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return PersistencePromise.resolve(__PRIVATE_ListenSequence.oe);const r=new __PRIVATE_RollingSequenceNumberBuffer(e);return this.Zn.forEachTarget(t,(t=>r.Hn(t.sequenceNumber))).next((()=>this.Zn.er(t,(t=>r.Hn(t))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.Zn.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.Zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(Hi)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hi):this.tr(t,e)))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,e){let r,n,i,s,o,a,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),n=this.params.maximumSequenceNumbersToCollect):n=e,s=Date.now(),this.nthSequenceNumber(t,n)))).next((n=>(r=n,o=Date.now(),this.removeTargets(t,r,e)))).next((e=>(i=e,a=Date.now(),this.removeOrphanedDocuments(t,r)))).next((t=>(u=Date.now(),Fe()<=it.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${n} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${t} documents in `+(u-a)+"ms\n"+`Total Duration: ${u-c}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:n,targetsRemoved:i,documentsRemoved:t}))))}}function Ki(t,e){return new __PRIVATE_LruGarbageCollectorImpl(t,e)}class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,MutableDocument.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?PersistencePromise.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class OverlayedDocument{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class LocalDocumentsView{constructor(t,e,r,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=n}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((n=>(r=n,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==r&&Zn(r.mutation,t,FieldMask.empty(),Timestamp.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Pn()).next((()=>e))))}getLocalViewOfDocuments(t,e,r=Pn()){const n=Mn();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,r).next((t=>{let e=An();return t.forEach(((t,r)=>{e=e.insert(t,r.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const r=Mn();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,Pn())))}populateOverlays(t,e,r){const n=[];return r.forEach((t=>{e.has(t)||n.push(t)})),this.documentOverlayCache.getOverlays(t,n).next((t=>{t.forEach(((t,r)=>{e.set(t,r)}))}))}computeViews(t,e,r,n){let i=Sn();const s=Tn(),o=Tn();return e.forEach(((t,e)=>{const o=r.get(e.key);n.has(e.key)&&(void 0===o||o.mutation instanceof __PRIVATE_PatchMutation)?i=i.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),Zn(o.mutation,e,o.mutation.getFieldMask(),Timestamp.now())):s.set(e.key,FieldMask.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var r;return o.set(t,new OverlayedDocument(e,null!==(r=s.get(t))&&void 0!==r?r:null))})),o)))}recalculateAndSaveOverlays(t,e){const r=Tn();let n=new SortedMap(((t,e)=>t-e)),i=Pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=r.get(t)||FieldMask.empty();o=i.applyToLocalView(s,o),r.set(t,o);const a=(n.get(i.batchId)||Pn()).add(t);n=n.insert(i.batchId,a)}))})).next((()=>{const s=[],o=n.getReverseIterator();for(;o.hasNext();){const n=o.getNext(),a=n.key,u=n.value,c=xn();u.forEach((t=>{if(!i.has(t)){const n=Wn(e.get(t),r.get(t));null!==n&&c.set(t,n),i=i.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,c))}return PersistencePromise.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,r,n){return function(t){return DocumentKey.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):cn(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,n):this.getDocumentsMatchingCollectionQuery(t,e,r,n)}getNextDocuments(t,e,r,n){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,n).next((i=>{const s=n-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,n-i.size):PersistencePromise.resolve(Mn());let o=-1,a=i;return s.next((e=>PersistencePromise.forEach(e,((e,r)=>(o<r.largestBatchId&&(o=r.largestBatchId),i.get(e)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,a,e,Pn()))).next((t=>({batchId:o,changes:In(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new DocumentKey(e)).next((t=>{let e=An();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,n){const i=e.collectionGroup;let s=An();return this.indexManager.getCollectionParents(t,i).next((o=>PersistencePromise.forEach(o,(o=>{const a=function(t,e){return new __PRIVATE_QueryImpl(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return this.getDocumentsMatchingCollectionQuery(t,a,r,n).next((t=>{t.forEach(((t,e)=>{s=s.insert(t,e)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,e,r,n){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,i,n)))).next((t=>{i.forEach(((e,r)=>{const n=r.getKey();null===t.get(n)&&(t=t.insert(n,MutableDocument.newInvalidDocument(n)))}));let r=An();return t.forEach(((t,n)=>{const s=i.get(t);void 0!==s&&Zn(s.mutation,n,FieldMask.empty(),Timestamp.now()),wn(e,n)&&(r=r.insert(t,n))})),r}))}}class __PRIVATE_MemoryBundleCache{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,e){return PersistencePromise.resolve(this.Tr.get(e))}saveBundleMetadata(t,e){return this.Tr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:wi(t.createTime)}}(e)),PersistencePromise.resolve()}getNamedQuery(t,e){return PersistencePromise.resolve(this.Ir.get(e))}saveNamedQuery(t,e){return this.Ir.set(e.name,function(t){return{name:t.name,query:Vi(t.bundledQuery),readTime:wi(t.readTime)}}(e)),PersistencePromise.resolve()}}class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.Er=new Map}getOverlay(t,e){return PersistencePromise.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Mn();return PersistencePromise.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&r.set(e,t)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((r,n)=>{this.Tt(t,e,n)})),PersistencePromise.resolve()}removeOverlaysForBatchId(t,e,r){const n=this.Er.get(r);return void 0!==n&&(n.forEach((t=>this.overlays=this.overlays.remove(t))),this.Er.delete(r)),PersistencePromise.resolve()}getOverlaysForCollection(t,e,r){const n=Mn(),i=e.length+1,s=new DocumentKey(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===i&&t.largestBatchId>r&&n.set(t.getKey(),t)}return PersistencePromise.resolve(n)}getOverlaysForCollectionGroup(t,e,r,n){let i=new SortedMap(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>r){let e=i.get(t.largestBatchId);null===e&&(e=Mn(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=Mn(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=n)););return PersistencePromise.resolve(o)}Tt(t,e,r){const n=this.overlays.get(r.key);if(null!==n){const t=this.Er.get(n.largestBatchId).delete(r.key);this.Er.set(n.largestBatchId,t)}this.overlays=this.overlays.insert(r.key,new Overlay(e,r));let i=this.Er.get(e);void 0===i&&(i=Pn(),this.Er.set(e,i)),this.Er.set(e,i.add(r.key))}}class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(t){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,PersistencePromise.resolve()}}class __PRIVATE_ReferenceSet{constructor(){this.dr=new SortedSet(__PRIVATE_DocReference.Ar),this.Rr=new SortedSet(__PRIVATE_DocReference.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,e){const r=new __PRIVATE_DocReference(t,e);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.gr(new __PRIVATE_DocReference(t,e))}pr(t,e){t.forEach((t=>this.removeReference(t,e)))}yr(t){const e=new DocumentKey(new ResourcePath([])),r=new __PRIVATE_DocReference(e,t),n=new __PRIVATE_DocReference(e,t+1),i=[];return this.Rr.forEachInRange([r,n],(t=>{this.gr(t),i.push(t.key)})),i}wr(){this.dr.forEach((t=>this.gr(t)))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const e=new DocumentKey(new ResourcePath([])),r=new __PRIVATE_DocReference(e,t),n=new __PRIVATE_DocReference(e,t+1);let i=Pn();return this.Rr.forEachInRange([r,n],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new __PRIVATE_DocReference(t,0),r=this.dr.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class __PRIVATE_DocReference{constructor(t,e){this.key=t,this.br=e}static Ar(t,e){return DocumentKey.comparator(t.key,e.key)||Ge(t.br,e.br)}static Vr(t,e){return Ge(t.br,e.br)||DocumentKey.comparator(t.key,e.key)}}class __PRIVATE_MemoryMutationQueue{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Dr=1,this.vr=new SortedSet(__PRIVATE_DocReference.Ar)}checkEmpty(t){return PersistencePromise.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,n){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new MutationBatch(i,e,r,n);this.mutationQueue.push(s);for(const o of n)this.vr=this.vr.add(new __PRIVATE_DocReference(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return PersistencePromise.resolve(s)}lookupMutationBatch(t,e){return PersistencePromise.resolve(this.Cr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,n=this.Fr(r),i=n<0?0:n;return PersistencePromise.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(t){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new __PRIVATE_DocReference(e,0),n=new __PRIVATE_DocReference(e,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([r,n],(t=>{const e=this.Cr(t.br);i.push(e)})),PersistencePromise.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new SortedSet(Ge);return e.forEach((t=>{const e=new __PRIVATE_DocReference(t,0),n=new __PRIVATE_DocReference(t,Number.POSITIVE_INFINITY);this.vr.forEachInRange([e,n],(t=>{r=r.add(t.br)}))})),PersistencePromise.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,n=r.length+1;let i=r;DocumentKey.isDocumentKey(i)||(i=i.child(""));const s=new __PRIVATE_DocReference(new DocumentKey(i),0);let o=new SortedSet(Ge);return this.vr.forEachWhile((t=>{const e=t.key.path;return!!r.isPrefixOf(e)&&(e.length===n&&(o=o.add(t.br)),!0)}),s),PersistencePromise.resolve(this.Mr(o))}Mr(t){const e=[];return t.forEach((t=>{const r=this.Cr(t);null!==r&&e.push(r)})),e}removeMutationBatch(t,e){Ke(0===this.Or(e.batchId,"removed")),this.mutationQueue.shift();let r=this.vr;return PersistencePromise.forEach(e.mutations,(n=>{const i=new __PRIVATE_DocReference(n.key,e.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,n.key)})).next((()=>{this.vr=r}))}Ln(t){}containsKey(t,e){const r=new __PRIVATE_DocReference(e,0),n=this.vr.firstAfterOrEqual(r);return PersistencePromise.resolve(e.isEqual(n&&n.key))}performConsistencyCheck(t){return this.mutationQueue.length,PersistencePromise.resolve()}Or(t,e){return this.Fr(t)}Fr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Cr(t){const e=this.Fr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(t){this.Nr=t,this.docs=new SortedMap(DocumentKey.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,n=this.docs.get(r),i=n?n.size:0,s=this.Nr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return PersistencePromise.resolve(r?r.document.mutableCopy():MutableDocument.newInvalidDocument(e))}getEntries(t,e){let r=Sn();return e.forEach((t=>{const e=this.docs.get(t);r=r.insert(t,e?e.document.mutableCopy():MutableDocument.newInvalidDocument(t))})),PersistencePromise.resolve(r)}getDocumentsMatchingQuery(t,e,r,n){let i=Sn();const s=e.path,o=new DocumentKey(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||tr(Xe(o),r)<=0||(n.has(o.key)||wn(e,o))&&(i=i.insert(o.key,o.mutableCopy()))}return PersistencePromise.resolve(i)}getAllFromCollectionGroup(t,e,r,n){qe()}Lr(t,e){return PersistencePromise.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(t){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(t){super(),this.hr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,n)=>{n.isValidDocument()?e.push(this.hr.addEntry(t,n)):this.hr.removeEntry(r)})),PersistencePromise.waitFor(e)}getFromCache(t,e){return this.hr.getEntry(t,e)}getAllFromCache(t,e){return this.hr.getEntries(t,e)}}class __PRIVATE_MemoryTargetCache{constructor(t){this.persistence=t,this.Br=new ObjectMap((t=>rn(t)),nn),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.kr=0,this.qr=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Qr=__PRIVATE_TargetIdGenerator.qn()}forEachTarget(t,e){return this.Br.forEach(((t,r)=>e(r))),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(t){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return PersistencePromise.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.kr&&(this.kr=e),PersistencePromise.resolve()}Un(t){this.Br.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Qr=new __PRIVATE_TargetIdGenerator(e),this.highestTargetId=e),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,e){return this.Un(e),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(t,e){return this.Un(e),PersistencePromise.resolve()}removeTargetData(t,e){return this.Br.delete(e.target),this.qr.yr(e.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(t,e,r){let n=0;const i=[];return this.Br.forEach(((s,o)=>{o.sequenceNumber<=e&&null===r.get(o.targetId)&&(this.Br.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),n++)})),PersistencePromise.waitFor(i).next((()=>n))}getTargetCount(t){return PersistencePromise.resolve(this.targetCount)}getTargetData(t,e){const r=this.Br.get(e)||null;return PersistencePromise.resolve(r)}addMatchingKeys(t,e,r){return this.qr.mr(e,r),PersistencePromise.resolve()}removeMatchingKeys(t,e,r){this.qr.pr(e,r);const n=this.persistence.referenceDelegate,i=[];return n&&e.forEach((e=>{i.push(n.markPotentiallyOrphaned(t,e))})),PersistencePromise.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.qr.yr(e),PersistencePromise.resolve()}getMatchingKeysForTargetId(t,e){const r=this.qr.Sr(e);return PersistencePromise.resolve(r)}containsKey(t,e){return PersistencePromise.resolve(this.qr.containsKey(e))}}class __PRIVATE_MemoryPersistence{constructor(t,e){this.Kr={},this.overlays={},this.$r=new __PRIVATE_ListenSequence(0),this.Ur=!1,this.Ur=!0,this.Wr=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=t(this),this.Gr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(t){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(t)}((t=>this.referenceDelegate.zr(t))),this.serializer=new __PRIVATE_LocalSerializer(e),this.jr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.Kr[t.toKey()];return r||(r=new __PRIVATE_MemoryMutationQueue(e,this.referenceDelegate),this.Kr[t.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,e,r){ze("MemoryPersistence","Starting transaction:",t);const n=new __PRIVATE_MemoryTransaction(this.$r.next());return this.referenceDelegate.Hr(),r(n).next((t=>this.referenceDelegate.Jr(n).next((()=>t)))).toPromise().then((t=>(n.raiseOnCommittedEvent(),t)))}Yr(t,e){return PersistencePromise.or(Object.values(this.Kr).map((r=>()=>r.containsKey(t,e))))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(t){super(),this.currentSequenceNumber=t}}class __PRIVATE_MemoryEagerDelegate{constructor(t){this.persistence=t,this.Zr=new __PRIVATE_ReferenceSet,this.Xr=null}static ei(t){return new __PRIVATE_MemoryEagerDelegate(t)}get ti(){if(this.Xr)return this.Xr;throw qe()}addReference(t,e,r){return this.Zr.addReference(r,e),this.ti.delete(r.toString()),PersistencePromise.resolve()}removeReference(t,e,r){return this.Zr.removeReference(r,e),this.ti.add(r.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(t,e){return this.ti.add(e.toString()),PersistencePromise.resolve()}removeTarget(t,e){this.Zr.yr(e.targetId).forEach((t=>this.ti.add(t.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.ti.add(t.toString())))})).next((()=>r.removeTargetData(t,e)))}Hr(){this.Xr=new Set}Jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.ti,(r=>{const n=DocumentKey.fromPath(r);return this.ni(t,n).next((t=>{t||e.removeEntry(n,SnapshotVersion.min())}))})).next((()=>(this.Xr=null,e.apply(t))))}updateLimboDocument(t,e){return this.ni(t,e).next((t=>{t?this.ti.delete(e.toString()):this.ti.add(e.toString())}))}zr(t){return 0}ni(t,e){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Yr(t,e)])}}class __PRIVATE_MemoryLruDelegate{constructor(t,e){this.persistence=t,this.ri=new ObjectMap((t=>ur(t.path)),((t,e)=>t.isEqual(e))),this.garbageCollector=Ki(this,e)}static ei(t,e){return new __PRIVATE_MemoryLruDelegate(t,e)}Hr(){}Jr(t){return PersistencePromise.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}Xn(t){const e=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}nr(t){let e=0;return this.er(t,(t=>{e++})).next((()=>e))}er(t,e){return PersistencePromise.forEach(this.ri,((r,n)=>this.ir(t,r,n).next((t=>t?PersistencePromise.resolve():e(n)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const n=this.persistence.getRemoteDocumentCache(),i=n.newChangeBuffer();return n.Lr(t,(n=>this.ir(t,n,e).next((t=>{t||(r++,i.removeEntry(n,SnapshotVersion.min()))})))).next((()=>i.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.ri.set(e,t.currentSequenceNumber),PersistencePromise.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.ri.set(r,t.currentSequenceNumber),PersistencePromise.resolve()}removeReference(t,e,r){return this.ri.set(r,t.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument(t,e){return this.ri.set(e,t.currentSequenceNumber),PersistencePromise.resolve()}zr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Nr(t.data.value)),e}ir(t,e,r){return PersistencePromise.or([()=>this.persistence.Yr(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.ri.get(e);return PersistencePromise.resolve(void 0!==t&&t>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class __PRIVATE_LocalViewChanges{constructor(t,e,r,n){this.targetId=t,this.fromCache=e,this.Wi=r,this.Gi=n}static zi(t,e){let r=Pn(),n=Pn();for(const i of e.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:n=n.add(i.doc.key)}return new __PRIVATE_LocalViewChanges(t,e.fromCache,r,n)}}class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class __PRIVATE_QueryEngine{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=W()?8:nr(K())>0?6:4}initialize(t,e){this.Zi=t,this.indexManager=e,this.ji=!0}getDocumentsMatchingQuery(t,e,r,n){const i={result:null};return this.Xi(t,e).next((t=>{i.result=t})).next((()=>{if(!i.result)return this.es(t,e,n,r).next((t=>{i.result=t}))})).next((()=>{if(i.result)return;const r=new QueryContext;return this.ts(t,e,r).next((n=>{if(i.result=n,this.Hi)return this.ns(t,e,r,n.size)}))})).next((()=>i.result))}ns(t,e,r,n){return r.documentReadCount<this.Ji?(Fe()<=it.DEBUG&&ze("QueryEngine","SDK will not create cache indexes for query:",yn(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),PersistencePromise.resolve()):(Fe()<=it.DEBUG&&ze("QueryEngine","Query:",yn(e),"scans",r.documentReadCount,"local documents and returns",n,"documents as results."),r.documentReadCount>this.Yi*n?(Fe()<=it.DEBUG&&ze("QueryEngine","The SDK decides to create cache indexes for query:",yn(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hn(e))):PersistencePromise.resolve())}Xi(t,e){if(un(e))return PersistencePromise.resolve(null);let r=hn(e);return this.indexManager.getIndexType(t,r).next((n=>0===n?null:(null!==e.limit&&1===n&&(e=pn(e,null,"F"),r=hn(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((n=>{const i=Pn(...n);return this.Zi.getDocuments(t,i).next((n=>this.indexManager.getMinOffset(t,r).next((r=>{const s=this.rs(e,n);return this.ss(e,s,i,r.readTime)?this.Xi(t,pn(e,null,"F")):this.os(t,s,e,r)}))))})))))}es(t,e,r,n){return un(e)||n.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.Zi.getDocuments(t,r).next((i=>{const s=this.rs(e,i);return this.ss(e,s,r,n)?PersistencePromise.resolve(null):(Fe()<=it.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),yn(e)),this.os(t,s,e,Ye(n,-1)).next((t=>t)))}))}rs(t,e){let r=new SortedSet(bn(t));return e.forEach(((e,n)=>{wn(t,n)&&(r=r.add(n))})),r}ss(t,e,r,n){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(n)>0)}ts(t,e,r){return Fe()<=it.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",yn(e)),this.Zi.getDocumentsMatchingQuery(t,e,IndexOffset.min(),r)}os(t,e,r,n){return this.Zi.getDocumentsMatchingQuery(t,r,n).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class __PRIVATE_LocalStoreImpl{constructor(t,e,r,n){this.persistence=t,this._s=e,this.serializer=n,this.us=new SortedMap(Ge),this.cs=new ObjectMap((t=>rn(t)),nn),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(r)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LocalDocumentsView(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.us)))}}function Wi(t,e,r,n){return new __PRIVATE_LocalStoreImpl(t,e,r,n)}async function $i(t,e){const r=We(t);return await r.persistence.runTransaction("Handle user change","readonly",(t=>{let n;return r.mutationQueue.getAllMutationBatches(t).next((i=>(n=i,r.Ps(e),r.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],s=[];let o=Pn();for(const t of n){i.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return r.localDocuments.getDocuments(t,o).next((t=>({Ts:t,removedBatchIds:i,addedBatchIds:s})))}))}))}function Zi(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Gr.getLastRemoteSnapshotVersion(t)))}function Gi(t,e,r){let n=Pn(),i=Pn();return r.forEach((t=>n=n.add(t))),e.getEntries(t,n).next((t=>{let n=Sn();return r.forEach(((r,s)=>{const o=t.get(r);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(r)),s.isNoDocument()&&s.version.isEqual(SnapshotVersion.min())?(e.removeEntry(r,s.readTime),n=n.insert(r,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),n=n.insert(r,s)):ze("LocalStore","Ignoring outdated watch update for ",r,". Current version:",o.version," Watch version:",s.version)})),{Is:n,Es:i}}))}function Qi(t,e){const r=We(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Ji(t,e){const r=We(t);return r.persistence.runTransaction("Allocate target","readwrite",(t=>{let n;return r.Gr.getTargetData(t,e).next((i=>i?(n=i,PersistencePromise.resolve(n)):r.Gr.allocateTargetId(t).next((i=>(n=new TargetData(e,i,"TargetPurposeListen",t.currentSequenceNumber),r.Gr.addTargetData(t,n).next((()=>n)))))))})).then((t=>{const n=r.us.get(t.targetId);return(null===n||t.snapshotVersion.compareTo(n.snapshotVersion)>0)&&(r.us=r.us.insert(t.targetId,t),r.cs.set(e,t.targetId)),t}))}async function Yi(t,e,r){const n=We(t),i=n.us.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(t=>n.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!ir(t))throw t;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}n.us=n.us.remove(e),n.cs.delete(i.target)}function Xi(t,e,r){const n=We(t);let i=SnapshotVersion.min(),s=Pn();return n.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,r){const n=We(t),i=n.cs.get(r);return void 0!==i?PersistencePromise.resolve(n.us.get(i)):n.Gr.getTargetData(e,r)}(n,t,hn(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,n.Gr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>n._s.getDocumentsMatchingQuery(t,e,r?i:SnapshotVersion.min(),r?s:Pn()))).next((t=>(ts(n,vn(e),t),{documents:t,ds:s})))))}function ts(t,e,r){let n=t.ls.get(e)||SnapshotVersion.min();r.forEach(((t,e)=>{e.readTime.compareTo(n)>0&&(n=e.readTime)})),t.ls.set(e,n)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=Nn()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class __PRIVATE_MemorySharedClientState{constructor(){this._o=new __PRIVATE_LocalClientState,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,e,r){this.ao[t]=e}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class __PRIVATE_NoopConnectivityMonitor{uo(t){}shutdown(){}}class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let es=null;function rs(){return null===es?es=268435456+Math.round(2147483648*Math.random()):es++,"0x"+es.toString(16)}const ns={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_StreamBridge{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}const is="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class __PRIVATE_RestConnection{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),n=encodeURIComponent(this.databaseId.database);this.Fo=e+"://"+t.host,this.Mo=`projects/${r}/databases/${n}`,this.xo="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${n}`}Oo(t,e,r,n,i){const s=rs(),o=this.No(t,e.toUriEncodedString());ze("RestConnection",`Sending RPC '${t}' ${s}:`,o,r);const a={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(a,n,i),this.Bo(t,o,a,r).then((e=>(ze("RestConnection",`Received RPC '${t}' ${s}: `,e),e)),(e=>{throw Ve("RestConnection",`RPC '${t}' ${s} failed with error: `,e,"url: ",o,"request:",r),e}))}ko(t,e,r,n,i,s){return this.Oo(t,e,r,n,i)}Lo(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+De,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,r)=>t[r]=e)),r&&r.headers.forEach(((e,r)=>t[r]=e))}No(t,e){const r=ns[t];return`${this.Fo}/v1/${e}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,e,r,n){const i=rs();return new Promise(((s,o)=>{const a=new Ie;a.setWithCredentials(!0),a.listenOnce(xe.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Te.NO_ERROR:const e=a.getResponseJson();ze(is,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(e)),s(e);break;case Te.TIMEOUT:ze(is,`RPC '${t}' ${i} timed out`),o(new FirestoreError($e.DEADLINE_EXCEEDED,"Request time out"));break;case Te.HTTP_ERROR:const r=a.getStatus();if(ze(is,`RPC '${t}' ${i} failed with status:`,r,"response text:",a.getResponseText()),r>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values($e).indexOf(e)>=0?e:$e.UNKNOWN}(e.status);o(new FirestoreError(t,e.message))}else o(new FirestoreError($e.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new FirestoreError($e.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{ze(is,`RPC '${t}' ${i} completed.`)}}));const u=JSON.stringify(n);ze(is,`RPC '${t}' ${i} sending request:`,n),a.send(e,"POST",u,r,15)}))}qo(t,e,r){const n=rs(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Oe(),o=Pe(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Lo(a.initMessageHeaders,e,r),a.encodeInitMessageHeaders=!0;const c=i.join("");ze(is,`Creating RPC '${t}' stream ${n}: ${c}`,a);const l=s.createWebChannel(c,a);let h=!1,d=!1;const f=new __PRIVATE_StreamBridge({Eo:e=>{d?ze(is,`Not sending because RPC '${t}' stream ${n} is closed:`,e):(h||(ze(is,`Opening RPC '${t}' stream ${n} transport.`),l.open(),h=!0),ze(is,`RPC '${t}' stream ${n} sending:`,e),l.send(e))},Ao:()=>l.close()}),p=(t,e,r)=>{t.listen(e,(t=>{try{r(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(l,Me.EventType.OPEN,(()=>{d||(ze(is,`RPC '${t}' stream ${n} transport opened.`),f.So())})),p(l,Me.EventType.CLOSE,(()=>{d||(d=!0,ze(is,`RPC '${t}' stream ${n} transport closed`),f.Do())})),p(l,Me.EventType.ERROR,(e=>{d||(d=!0,Ve(is,`RPC '${t}' stream ${n} transport errored:`,e),f.Do(new FirestoreError($e.UNAVAILABLE,"The operation could not be completed")))})),p(l,Me.EventType.MESSAGE,(e=>{var r;if(!d){const i=e.data[0];Ke(!!i);const s=i,o=(null==s?void 0:s.error)||(null===(r=s[0])||void 0===r?void 0:r.error);if(o){ze(is,`RPC '${t}' stream ${n} received error:`,o);const e=o.status;let r=function(t){const e=ti[t];if(void 0!==e)return ni(e)}(e),i=o.message;void 0===r&&(r=$e.INTERNAL,i="Unknown error status: "+e+" with message "+o.message),d=!0,f.Do(new FirestoreError(r,i)),l.close()}else ze(is,`RPC '${t}' stream ${n} received:`,i),f.vo(i)}})),p(o,Ce.STAT_EVENT,(e=>{e.stat===Re.PROXY?ze(is,`RPC '${t}' stream ${n} detected buffering proxy`):e.stat===Re.NOPROXY&&ze(is,`RPC '${t}' stream ${n} detected no buffering proxy`)})),setTimeout((()=>{f.bo()}),0),f}}function ss(){return"undefined"!=typeof document?document:null}function os(t){return new JsonProtoSerializer(t,!0)}class __PRIVATE_ExponentialBackoff{constructor(t,e,r=1e3,n=1.5,i=6e4){this.li=t,this.timerId=e,this.Qo=r,this.Ko=n,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const e=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),n=Math.max(0,e-r);n>0&&ze("ExponentialBackoff",`Backing off for ${n} ms (base delay: ${this.Uo} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,n,(()=>(this.Go=Date.now(),t()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class __PRIVATE_PersistentStream{constructor(t,e,r,n,i,s,o,a){this.li=t,this.Yo=r,this.Zo=n,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new __PRIVATE_ExponentialBackoff(t,e)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,e){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==t?this.r_.reset():e&&e.code===$e.RESOURCE_EXHAUSTED?(je(e.toString()),je("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):e&&e.code===$e.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(e)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),e=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,r])=>{this.Xo===e&&this.I_(t,r)}),(e=>{t((()=>{const t=new FirestoreError($e.UNKNOWN,"Fetching auth token failed: "+e.message);return this.E_(t)}))}))}I_(t,e){const r=this.T_(this.Xo);this.stream=this.d_(t,e),this.stream.Ro((()=>{r((()=>this.listener.Ro()))})),this.stream.mo((()=>{r((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((t=>{r((()=>this.E_(t)))})),this.stream.onMessage((t=>{r((()=>1==++this.n_?this.A_(t):this.onNext(t)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(t){return ze("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return e=>{this.li.enqueueAndForget((()=>this.Xo===t?e():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(t,e,r,n,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,n,s),this.serializer=i}d_(t,e){return this.connection.qo("Listen",t,e)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const e=function(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(Ke(void 0===e||"string"==typeof e),ByteString.fromBase64String(e||"")):(Ke(void 0===e||e instanceof Buffer||e instanceof Uint8Array),ByteString.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?$e.UNKNOWN:ni(t.code);return new FirestoreError(e,t.message||"")}(o);r=new __PRIVATE_WatchTargetChange(n,i,s,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Si(t,n.document.name),s=wi(n.document.updateTime),o=n.document.createTime?wi(n.document.createTime):SnapshotVersion.min(),a=new ObjectValue({mapValue:{fields:n.document.fields}}),u=MutableDocument.newFoundDocument(i,s,o,a),c=n.targetIds||[],l=n.removedTargetIds||[];r=new __PRIVATE_DocumentWatchChange(c,l,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Si(t,n.document),s=n.readTime?wi(n.readTime):SnapshotVersion.min(),o=MutableDocument.newNoDocument(i,s),a=n.removedTargetIds||[];r=new __PRIVATE_DocumentWatchChange([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Si(t,n.document),s=n.removedTargetIds||[];r=new __PRIVATE_DocumentWatchChange([],s,i,null)}else{if(!("filter"in e))return qe();{e.filter;const t=e.filter;t.targetId;const{count:n=0,unchangedNames:i}=t,s=new ExistenceFilter(n,i),o=t.targetId;r=new __PRIVATE_ExistenceFilterChange(o,s)}}return r}(this.serializer,t),r=function(t){if(!("targetChange"in t))return SnapshotVersion.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?SnapshotVersion.min():e.readTime?wi(e.readTime):SnapshotVersion.min()}(t);return this.listener.R_(e,r)}V_(t){const e={};e.database=Ii(this.serializer),e.addTarget=function(t,e){let r;const n=e.target;if(r=sn(n)?{documents:Ri(t,n)}:{query:Ci(t,n).ct},r.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){r.resumeToken=gi(t,e.resumeToken);const n=pi(t,e.expectedCount);null!==n&&(r.expectedCount=n)}else if(e.snapshotVersion.compareTo(SnapshotVersion.min())>0){r.readTime=mi(t,e.snapshotVersion.toTimestamp());const n=pi(t,e.expectedCount);null!==n&&(r.expectedCount=n)}return r}(this.serializer,t);const r=function(t,e){const r=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(this.serializer,t);r&&(e.labels=r),this.c_(e)}m_(t){const e={};e.database=Ii(this.serializer),e.removeTarget=t,this.c_(e)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(t,e,r,n,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,n,s),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(t,e){return this.connection.qo("Write",t,e)}A_(t){return Ke(!!t.streamToken),this.lastStreamToken=t.streamToken,Ke(!t.writeResults||0===t.writeResults.length),this.listener.p_()}onNext(t){Ke(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const e=function(t,e){return t&&t.length>0?(Ke(void 0!==e),t.map((t=>function(t,e){let r=t.updateTime?wi(t.updateTime):wi(e);return r.isEqual(SnapshotVersion.min())&&(r=wi(e)),new MutationResult(r,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),r=wi(t.commitTime);return this.listener.y_(r,e)}w_(){const t={};t.database=Ii(this.serializer),this.c_(t)}g_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>Ti(this.serializer,t)))};this.c_(e)}}class __PRIVATE_DatastoreImpl extends class Datastore{}{constructor(t,e,r,n){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=n,this.S_=!1}b_(){if(this.S_)throw new FirestoreError($e.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,e,r,n){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.Oo(t,bi(e,r),n,i,s))).catch((t=>{throw"FirebaseError"===t.name?(t.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new FirestoreError($e.UNKNOWN,t.toString())}))}ko(t,e,r,n,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.ko(t,bi(e,r),n,s,o,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===$e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new FirestoreError($e.UNKNOWN,t.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(t){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,"Online"===t&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(je(e),this.C_=!1):ze("OnlineStateTracker",e)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class __PRIVATE_RemoteStoreImpl{constructor(t,e,r,n,i){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo((t=>{r.enqueueAndForget((async()=>{ms(this)&&(ze("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=We(t);e.k_.add(4),await us(e),e.K_.set("Unknown"),e.k_.delete(4),await as(e)}(this))}))})),this.K_=new __PRIVATE_OnlineStateTracker(r,n)}}async function as(t){if(ms(t))for(const e of t.q_)await e(!0)}async function us(t){for(const e of t.q_)await e(!1)}function cs(t,e){const r=We(t);r.B_.has(e.targetId)||(r.B_.set(e.targetId,e),ps(r)?fs(r):Ns(r).s_()&&hs(r,e))}function ls(t,e){const r=We(t),n=Ns(r);r.B_.delete(e),n.s_()&&ds(r,e),0===r.B_.size&&(n.s_()?n.a_():ms(r)&&r.K_.set("Unknown"))}function hs(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(SnapshotVersion.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ns(t).V_(e)}function ds(t,e){t.U_.xe(e),Ns(t).m_(e)}function fs(t){t.U_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ns(t).start(),t.K_.F_()}function ps(t){return ms(t)&&!Ns(t).i_()&&t.B_.size>0}function ms(t){return 0===We(t).k_.size}function gs(t){t.U_=void 0}async function ys(t){t.K_.set("Online")}async function ws(t){t.B_.forEach(((e,r)=>{hs(t,e)}))}async function vs(t,e){gs(t),ps(t)?(t.K_.O_(e),fs(t)):t.K_.set("Unknown")}async function bs(t,e,r){if(t.K_.set("Online"),e instanceof __PRIVATE_WatchTargetChange&&2===e.state&&e.cause)try{await async function(t,e){const r=e.cause;for(const n of e.targetIds)t.B_.has(n)&&(await t.remoteSyncer.rejectListen(n,r),t.B_.delete(n),t.U_.removeTarget(n))}(t,e)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _s(t,r)}else if(e instanceof __PRIVATE_DocumentWatchChange?t.U_.$e(e):e instanceof __PRIVATE_ExistenceFilterChange?t.U_.Je(e):t.U_.Ge(e),!r.isEqual(SnapshotVersion.min()))try{const e=await Zi(t.localStore);r.compareTo(e)>=0&&await function(t,e){const r=t.U_.it(e);return r.targetChanges.forEach(((r,n)=>{if(r.resumeToken.approximateByteSize()>0){const i=t.B_.get(n);i&&t.B_.set(n,i.withResumeToken(r.resumeToken,e))}})),r.targetMismatches.forEach(((e,r)=>{const n=t.B_.get(e);if(!n)return;t.B_.set(e,n.withResumeToken(ByteString.EMPTY_BYTE_STRING,n.snapshotVersion)),ds(t,e);const i=new TargetData(n.target,e,r,n.sequenceNumber);hs(t,i)})),t.remoteSyncer.applyRemoteEvent(r)}(t,r)}catch(e){ze("RemoteStore","Failed to raise snapshot:",e),await _s(t,e)}}async function _s(t,e,r){if(!ir(e))throw e;t.k_.add(1),await us(t),t.K_.set("Offline"),r||(r=()=>Zi(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ze("RemoteStore","Retrying IndexedDB access"),await r(),t.k_.delete(1),await as(t)}))}function Es(t,e){return e().catch((r=>_s(t,r,e)))}async function Ss(t){const e=We(t),r=Bs(e);let n=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;ks(e);)try{const t=await Qi(e.localStore,n);if(null===t){0===e.L_.length&&r.a_();break}n=t.batchId,As(e,t)}catch(t){await _s(e,t)}Is(e)&&Ms(e)}function ks(t){return ms(t)&&t.L_.length<10}function As(t,e){t.L_.push(e);const r=Bs(t);r.s_()&&r.f_&&r.g_(e.mutations)}function Is(t){return ms(t)&&!Bs(t).i_()&&t.L_.length>0}function Ms(t){Bs(t).start()}async function xs(t){Bs(t).w_()}async function Ts(t){const e=Bs(t);for(const r of t.L_)e.g_(r.mutations)}async function Rs(t,e,r){const n=t.L_.shift(),i=MutationBatchResult.from(n,e,r);await Es(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ss(t)}async function Cs(t,e){e&&Bs(t).f_&&await async function(t,e){if(function(t){return ri(t)&&t!==$e.ABORTED}(e.code)){const r=t.L_.shift();Bs(t).__(),await Es(t,(()=>t.remoteSyncer.rejectFailedWrite(r.batchId,e))),await Ss(t)}}(t,e),Is(t)&&Ms(t)}async function Ps(t,e){const r=We(t);r.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const n=ms(r);r.k_.add(3),await us(r),n&&r.K_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.k_.delete(3),await as(r)}async function Os(t,e){const r=We(t);e?(r.k_.delete(2),await as(r)):e||(r.k_.add(2),await us(r),r.K_.set("Unknown"))}function Ns(t){return t.W_||(t.W_=function(t,e,r){const n=We(t);return n.b_(),new __PRIVATE_PersistentListenStream(e,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(t.datastore,t.asyncQueue,{Ro:ys.bind(null,t),mo:ws.bind(null,t),po:vs.bind(null,t),R_:bs.bind(null,t)}),t.q_.push((async e=>{e?(t.W_.__(),ps(t)?fs(t):t.K_.set("Unknown")):(await t.W_.stop(),gs(t))}))),t.W_}function Bs(t){return t.G_||(t.G_=function(t,e,r){const n=We(t);return n.b_(),new __PRIVATE_PersistentWriteStream(e,n.connection,n.authCredentials,n.appCheckCredentials,n.serializer,r)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:xs.bind(null,t),po:Cs.bind(null,t),p_:Ts.bind(null,t),y_:Rs.bind(null,t)}),t.q_.push((async e=>{e?(t.G_.__(),await Ss(t)):(await t.G_.stop(),t.L_.length>0&&(ze("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))}))),t.G_}class DelayedOperation{constructor(t,e,r,n,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=n,this.removalCallback=i,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,n,i){const s=Date.now()+r,o=new DelayedOperation(t,e,s,n,i);return o.start(r),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new FirestoreError($e.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ls(t,e){if(je("AsyncQueue",`${e}: ${t}`),ir(t))return new FirestoreError($e.UNAVAILABLE,`${e}: ${t}`);throw t}class DocumentSet{static emptySet(t){return new DocumentSet(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||DocumentKey.comparator(e.key,r.key):(t,e)=>DocumentKey.comparator(t.key,e.key),this.keyedMap=An(),this.sortedSet=new SortedMap(this.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof DocumentSet))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,n=r.getNext().key;if(!t.isEqual(n))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new DocumentSet;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class __PRIVATE_DocumentChangeSet{constructor(){this.z_=new SortedMap(DocumentKey.comparator)}track(t){const e=t.doc.key,r=this.z_.get(e);r?0!==t.type&&3===r.type?this.z_=this.z_.insert(e,t):3===t.type&&1!==r.type?this.z_=this.z_.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.z_=this.z_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.z_=this.z_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.z_=this.z_.remove(e):1===t.type&&2===r.type?this.z_=this.z_.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.z_=this.z_.insert(e,{type:2,doc:t.doc}):qe():this.z_=this.z_.insert(e,t)}j_(){const t=[];return this.z_.inorderTraversal(((e,r)=>{t.push(r)})),t}}class ViewSnapshot{constructor(t,e,r,n,i,s,o,a,u){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=n,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(t,e,r,n,i){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new ViewSnapshot(t,e,DocumentSet.emptySet(e),s,r,n,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(e[n].type!==r[n].type||!e[n].doc.isEqual(r[n].doc))return!1;return!0}}class __PRIVATE_QueryListenersInfo{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((t=>t.Z_()))}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=Ds(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(t,e){const r=We(t),n=r.queries;r.queries=Ds(),n.forEach(((t,r)=>{for(const n of r.J_)n.onError(e)}))}(this,new FirestoreError($e.ABORTED,"Firestore shutting down"))}}function Ds(){return new ObjectMap((t=>gn(t)),mn)}async function Us(t,e){const r=We(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.Y_()&&e.Z_()&&(n=2):(s=new __PRIVATE_QueryListenersInfo,n=e.Z_()?0:1);try{switch(n){case 0:s.H_=await r.onListen(i,!0);break;case 1:s.H_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(t){const r=Ls(t,`Initialization of query '${yn(e.query)}' failed`);return void e.onError(r)}r.queries.set(i,s),s.J_.push(e),e.ea(r.onlineState),s.H_&&e.ta(s.H_)&&Vs(r)}async function Fs(t,e){const r=We(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const t=s.J_.indexOf(e);t>=0&&(s.J_.splice(t,1),0===s.J_.length?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function zs(t,e){const r=We(t);let n=!1;for(const i of e){const t=i.query,e=r.queries.get(t);if(e){for(const t of e.J_)t.ta(i)&&(n=!0);e.H_=i}}n&&Vs(r)}function js(t,e,r){const n=We(t),i=n.queries.get(e);if(i)for(const s of i.J_)s.onError(r);n.queries.delete(e)}function Vs(t){t.X_.forEach((t=>{t.next()}))}var Hs,qs;(qs=Hs||(Hs={})).na="default",qs.Cache="cache";class __PRIVATE_QueryListener{constructor(t,e,r){this.query=t,this.ra=e,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(t){if(!this.options.includeMetadataChanges){const e=[];for(const r of t.docChanges)3!==r.type&&e.push(r);t=new ViewSnapshot(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ia?this.oa(t)&&(this.ra.next(t),e=!0):this._a(t,this.onlineState)&&(this.aa(t),e=!0),this.sa=t,e}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let e=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),e=!0),e}_a(t,e){if(!t.fromCache)return!0;if(!this.Z_())return!0;const r="Offline"!==e;return(!this.options.ua||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}oa(t){if(t.docChanges.length>0)return!0;const e=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}aa(t){t=ViewSnapshot.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==Hs.Cache}}class __PRIVATE_AddedLimboDocument{constructor(t){this.key=t}}class __PRIVATE_RemovedLimboDocument{constructor(t){this.key=t}}class __PRIVATE_View{constructor(t,e){this.query=t,this.da=e,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Pn(),this.mutatedKeys=Pn(),this.Va=bn(t),this.ma=new DocumentSet(this.Va)}get fa(){return this.da}ga(t,e){const r=e?e.pa:new __PRIVATE_DocumentChangeSet,n=e?e.ma:this.ma;let i=e?e.mutatedKeys:this.mutatedKeys,s=n,o=!1;const a="F"===this.query.limitType&&n.size===this.query.limit?n.last():null,u="L"===this.query.limitType&&n.size===this.query.limit?n.first():null;if(t.inorderTraversal(((t,e)=>{const c=n.get(t),l=wn(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(r.track({type:3,doc:l}),f=!0):this.ya(c,l)||(r.track({type:2,doc:l}),f=!0,(a&&this.Va(l,a)>0||u&&this.Va(l,u)<0)&&(o=!0)):!c&&l?(r.track({type:0,doc:l}),f=!0):c&&!l&&(r.track({type:1,doc:c}),f=!0,(a||u)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),r.track({type:1,doc:t})}return{ma:s,pa:r,ss:o,mutatedKeys:i}}ya(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,n){const i=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const s=t.pa.j_();s.sort(((t,e)=>function(t,e){const r=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return r(t)-r(e)}(t.type,e.type)||this.Va(t.doc,e.doc))),this.wa(r),n=null!=n&&n;const o=e&&!n?this.Sa():[],a=0===this.Ra.size&&this.current&&!n?1:0,u=a!==this.Aa;return this.Aa=a,0!==s.length||u?{snapshot:new ViewSnapshot(this.query,t.ma,i,s,t.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:o}:{ba:o}}ea(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ma:this.ma,pa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.da.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach((t=>this.da=this.da.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.da=this.da.delete(t))),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=Pn(),this.ma.forEach((t=>{this.Da(t.key)&&(this.Ra=this.Ra.add(t.key))}));const e=[];return t.forEach((t=>{this.Ra.has(t)||e.push(new __PRIVATE_RemovedLimboDocument(t))})),this.Ra.forEach((r=>{t.has(r)||e.push(new __PRIVATE_AddedLimboDocument(r))})),e}va(t){this.da=t.ds,this.Ra=Pn();const e=this.ga(t.documents);return this.applyChanges(e,!0)}Ca(){return ViewSnapshot.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class LimboResolution{constructor(t){this.key=t,this.Fa=!1}}class __PRIVATE_SyncEngineImpl{constructor(t,e,r,n,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=n,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new ObjectMap((t=>gn(t)),mn),this.Oa=new Map,this.Na=new Set,this.La=new SortedMap(DocumentKey.comparator),this.Ba=new Map,this.ka=new __PRIVATE_ReferenceSet,this.qa={},this.Qa=new Map,this.Ka=__PRIVATE_TargetIdGenerator.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function Ks(t,e,r=!0){const n=fo(t);let i;const s=n.xa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await $s(n,e,r,!0),i}async function Ws(t,e){const r=fo(t);await $s(r,e,!0,!1)}async function $s(t,e,r,n){const i=await Ji(t.localStore,hn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let a;return n&&(a=await Zs(t,e,s,"current"===o,i.resumeToken)),t.isPrimaryClient&&r&&cs(t.remoteStore,i),a}async function Zs(t,e,r,n,i){t.Ua=(e,r,n)=>async function(t,e,r,n){let i=e.view.ga(r);i.ss&&(i=await Xi(t.localStore,e.query,!1).then((({documents:t})=>e.view.ga(t,i))));const s=n&&n.targetChanges.get(e.targetId),o=n&&null!=n.targetMismatches.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,s,o);return oo(t,e.targetId,a.ba),a.snapshot}(t,e,r,n);const s=await Xi(t.localStore,e,!0),o=new __PRIVATE_View(e,s.ds),a=o.ga(s.documents),u=TargetChange.createSynthesizedTargetChangeForCurrentChange(r,n&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);oo(t,r,c.ba);const l=new __PRIVATE_QueryView(e,r,o);return t.xa.set(e,l),t.Oa.has(r)?t.Oa.get(r).push(e):t.Oa.set(r,[e]),c.snapshot}async function Gs(t,e,r){const n=We(t),i=n.xa.get(e),s=n.Oa.get(i.targetId);if(s.length>1)return n.Oa.set(i.targetId,s.filter((t=>!mn(t,e)))),void n.xa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Yi(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&ls(n.remoteStore,i.targetId),io(n,i.targetId)})).catch(rr)):(io(n,i.targetId),await Yi(n.localStore,i.targetId,!0))}async function Qs(t,e){const r=We(t),n=r.xa.get(e),i=r.Oa.get(n.targetId);r.isPrimaryClient&&1===i.length&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),ls(r.remoteStore,n.targetId))}async function Js(t,e){const r=We(t);try{const t=await function(t,e){const r=We(t),n=e.snapshotVersion;let i=r.us;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=r.hs.newChangeBuffer({trackRemovals:!0});i=r.us;const o=[];e.targetChanges.forEach(((s,a)=>{const u=i.get(a);if(!u)return;o.push(r.Gr.removeMatchingKeys(t,s.removedDocuments,a).next((()=>r.Gr.addMatchingKeys(t,s.addedDocuments,a))));let c=u.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?c=c.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,n)),i=i.insert(a,c),function(t,e,r){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size>0}(u,c,s)&&o.push(r.Gr.updateTargetData(t,c))}));let a=Sn(),u=Pn();if(e.documentUpdates.forEach((n=>{e.resolvedLimboDocuments.has(n)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(t,n))})),o.push(Gi(t,s,e.documentUpdates).next((t=>{a=t.Is,u=t.Es}))),!n.isEqual(SnapshotVersion.min())){const e=r.Gr.getLastRemoteSnapshotVersion(t).next((e=>r.Gr.setTargetsMetadata(t,t.currentSequenceNumber,n)));o.push(e)}return PersistencePromise.waitFor(o).next((()=>s.apply(t))).next((()=>r.localDocuments.getLocalViewOfDocuments(t,a,u))).next((()=>a))})).then((t=>(r.us=i,t)))}(r.localStore,e);e.targetChanges.forEach(((t,e)=>{const n=r.Ba.get(e);n&&(Ke(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?n.Fa=!0:t.modifiedDocuments.size>0?Ke(n.Fa):t.removedDocuments.size>0&&(Ke(n.Fa),n.Fa=!1))})),await co(r,t,e)}catch(t){await rr(t)}}function Ys(t,e,r){const n=We(t);if(n.isPrimaryClient&&0===r||!n.isPrimaryClient&&1===r){const t=[];n.xa.forEach(((r,n)=>{const i=n.view.ea(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const r=We(t);r.onlineState=e;let n=!1;r.queries.forEach(((t,r)=>{for(const i of r.J_)i.ea(e)&&(n=!0)})),n&&Vs(r)}(n.eventManager,e),t.length&&n.Ma.R_(t),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Xs(t,e,r){const n=We(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Ba.get(e),s=i&&i.key;if(s){let t=new SortedMap(DocumentKey.comparator);t=t.insert(s,MutableDocument.newNoDocument(s,SnapshotVersion.min()));const r=Pn().add(s),i=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(Ge),t,r);await Js(n,i),n.La=n.La.remove(s),n.Ba.delete(e),uo(n)}else await Yi(n.localStore,e,!1).then((()=>io(n,e,r))).catch(rr)}async function to(t,e){const r=We(t),n=e.batch.batchId;try{const t=await function(t,e){const r=We(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const n=e.batch.keys(),i=r.hs.newChangeBuffer({trackRemovals:!0});return function(t,e,r,n){const i=r.batch,s=i.keys();let o=PersistencePromise.resolve();return s.forEach((t=>{o=o.next((()=>n.getEntry(e,t))).next((e=>{const s=r.docVersions.get(t);Ke(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,r),e.isValidDocument()&&(e.setReadTime(r.commitVersion),n.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(r,t,e,i).next((()=>i.apply(t))).next((()=>r.mutationQueue.performConsistencyCheck(t))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(t,n,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Pn();for(let r=0;r<t.mutationResults.length;++r)t.mutationResults[r].transformResults.length>0&&(e=e.add(t.batch.mutations[r].key));return e}(e)))).next((()=>r.localDocuments.getDocuments(t,n)))}))}(r.localStore,e);no(r,n,null),ro(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await co(r,t)}catch(t){await rr(t)}}async function eo(t,e,r){const n=We(t);try{const t=await function(t,e){const r=We(t);return r.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let n;return r.mutationQueue.lookupMutationBatch(t,e).next((e=>(Ke(null!==e),n=e.keys(),r.mutationQueue.removeMutationBatch(t,e)))).next((()=>r.mutationQueue.performConsistencyCheck(t))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(t,n,e))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,n))).next((()=>r.localDocuments.getDocuments(t,n)))}))}(n.localStore,e);no(n,e,r),ro(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await co(n,t)}catch(r){await rr(r)}}function ro(t,e){(t.Qa.get(e)||[]).forEach((t=>{t.resolve()})),t.Qa.delete(e)}function no(t,e,r){const n=We(t);let i=n.qa[n.currentUser.toKey()];if(i){const t=i.get(e);t&&(r?t.reject(r):t.resolve(),i=i.remove(e)),n.qa[n.currentUser.toKey()]=i}}function io(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Oa.get(e))t.xa.delete(n),r&&t.Ma.Wa(n,r);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach((e=>{t.ka.containsKey(e)||so(t,e)}))}function so(t,e){t.Na.delete(e.path.canonicalString());const r=t.La.get(e);null!==r&&(ls(t.remoteStore,r),t.La=t.La.remove(e),t.Ba.delete(r),uo(t))}function oo(t,e,r){for(const n of r)n instanceof __PRIVATE_AddedLimboDocument?(t.ka.addReference(n.key,e),ao(t,n)):n instanceof __PRIVATE_RemovedLimboDocument?(ze("SyncEngine","Document no longer in limbo: "+n.key),t.ka.removeReference(n.key,e),t.ka.containsKey(n.key)||so(t,n.key)):qe()}function ao(t,e){const r=e.key,n=r.path.canonicalString();t.La.get(r)||t.Na.has(n)||(ze("SyncEngine","New document in limbo: "+r),t.Na.add(n),uo(t))}function uo(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const r=new DocumentKey(ResourcePath.fromString(e)),n=t.Ka.next();t.Ba.set(n,new LimboResolution(r)),t.La=t.La.insert(r,n),cs(t.remoteStore,new TargetData(hn(an(r.path)),n,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.oe))}}async function co(t,e,r){const n=We(t),i=[],s=[],o=[];n.xa.isEmpty()||(n.xa.forEach(((t,a)=>{o.push(n.Ua(a,e,r).then((t=>{var e;if((t||r)&&n.isPrimaryClient){const i=t?!t.fromCache:null===(e=null==r?void 0:r.targetChanges.get(a.targetId))||void 0===e?void 0:e.current;n.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(t){i.push(t);const e=__PRIVATE_LocalViewChanges.zi(a.targetId,t);s.push(e)}})))})),await Promise.all(o),n.Ma.R_(i),await async function(t,e){const r=We(t);try{await r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>PersistencePromise.forEach(e,(e=>PersistencePromise.forEach(e.Wi,(n=>r.persistence.referenceDelegate.addReference(t,e.targetId,n))).next((()=>PersistencePromise.forEach(e.Gi,(n=>r.persistence.referenceDelegate.removeReference(t,e.targetId,n)))))))))}catch(t){if(!ir(t))throw t;ze("LocalStore","Failed to update sequence numbers: "+t)}for(const n of e){const t=n.targetId;if(!n.fromCache){const e=r.us.get(t),n=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(n);r.us=r.us.insert(t,i)}}}(n.localStore,s))}async function lo(t,e){const r=We(t);if(!r.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const t=await $i(r.localStore,e);r.currentUser=e,function(t,e){t.Qa.forEach((t=>{t.forEach((t=>{t.reject(new FirestoreError($e.CANCELLED,e))}))})),t.Qa.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await co(r,t.Ts)}}function ho(t,e){const r=We(t),n=r.Ba.get(e);if(n&&n.Fa)return Pn().add(n.key);{let t=Pn();const n=r.Oa.get(e);if(!n)return t;for(const e of n){const n=r.xa.get(e);t=t.unionWith(n.view.fa)}return t}}function fo(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Js.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ho.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xs.bind(null,e),e.Ma.R_=zs.bind(null,e.eventManager),e.Ma.Wa=js.bind(null,e.eventManager),e}function po(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=to.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eo.bind(null,e),e}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=os(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,e){return null}Ya(t,e){return null}Ha(t){return Wi(this.persistence,new __PRIVATE_QueryEngine,t.initialUser,this.serializer)}ja(t){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.ei,this.serializer)}za(t){return new __PRIVATE_MemorySharedClientState}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,e){Ke(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate);const r=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(r,t.asyncQueue,e)}ja(t){const e=void 0!==this.cacheSizeBytes?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_MemoryPersistence((t=>__PRIVATE_MemoryLruDelegate.ei(t,e)),this.serializer)}}class OnlineComponentProvider{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Ys(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=lo.bind(null,this.syncEngine),await Os(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new __PRIVATE_EventManagerImpl}createDatastore(t){const e=os(t.databaseInfo.databaseId),r=function(t){return new __PRIVATE_WebChannelConnection(t)}(t.databaseInfo);return function(t,e,r,n){return new __PRIVATE_DatastoreImpl(t,e,r,n)}(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return function(t,e,r,n,i){return new __PRIVATE_RemoteStoreImpl(t,e,r,n,i)}(this.localStore,this.datastore,t.asyncQueue,(t=>Ys(this.syncEngine,t,0)),__PRIVATE_BrowserConnectivityMonitor.p()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor)}createSyncEngine(t,e){return function(t,e,r,n,i,s,o){const a=new __PRIVATE_SyncEngineImpl(t,e,r,n,i,s);return o&&(a.$a=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=We(t);ze("RemoteStore","RemoteStore shutting down."),e.k_.add(5),await us(e),e.Q_.shutdown(),e.K_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};class __PRIVATE_AsyncObserver{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):je("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}class FirestoreClient{constructor(t,e,r,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=n,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async t=>{ze("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(r,(t=>(ze("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Ls(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function mo(t,e){t.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async t=>{n.isEqual(t)||(await $i(e.localStore,t),n=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function go(t,e){t.asyncQueue.verifyOperationInProgress();const r=await yo(t);ze("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((t=>Ps(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,r)=>Ps(e.remoteStore,r))),t._onlineComponents=e}async function yo(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await mo(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(t){return"FirebaseError"===t.name?t.code===$e.FAILED_PRECONDITION||t.code===$e.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r))throw r;Ve("Error using user provided cache. Falling back to memory cache: "+r),await mo(t,new __PRIVATE_MemoryOfflineComponentProvider)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),await mo(t,new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));return t._offlineComponents}async function wo(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),await go(t,t._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),await go(t,new OnlineComponentProvider))),t._onlineComponents}function vo(t){return wo(t).then((t=>t.syncEngine))}async function bo(t){const e=await wo(t),r=e.eventManager;return r.onListen=Ks.bind(null,e.syncEngine),r.onUnlisten=Gs.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Ws.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Qs.bind(null,e.syncEngine),r}function _o(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Eo=new Map;function So(t,e,r){if(!r)throw new FirestoreError($e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ko(t){if(!DocumentKey.isDocumentKey(t))throw new FirestoreError($e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ao(t){if(DocumentKey.isDocumentKey(t))throw new FirestoreError($e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Io(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":qe()}function Mo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new FirestoreError($e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Io(t);throw new FirestoreError($e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function xo(t,e){if(e<=0)throw new FirestoreError($e.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class FirestoreSettingsImpl{constructor(t){var e,r;if(void 0===t.host){if(void 0!==t.ssl)throw new FirestoreError($e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new FirestoreError($e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,r,n){if(!0===e&&!0===n)throw new FirestoreError($e.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_o(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new FirestoreError($e.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new FirestoreError($e.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new FirestoreError($e.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Firestore$1{constructor(t,e,r,n){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError($e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new FirestoreError($e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(t.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new FirestoreError($e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Eo.get(t);e&&(ze("ComponentProvider","Removing Datastore"),Eo.delete(t),e.terminate())}(this),Promise.resolve()}}class Query{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Query(this.firestore,t,this._query)}}class DocumentReference{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new DocumentReference(this.firestore,t,this._key)}}class CollectionReference extends Query{constructor(t,e,r){super(t,e,an(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(t))}withConverter(t){return new CollectionReference(this.firestore,t,this._path)}}function To(t,e,...r){if(t=et(t),So("collection","path",e),t instanceof Firestore$1){const n=ResourcePath.fromString(e,...r);return Ao(n),new CollectionReference(t,null,n)}{if(!(t instanceof DocumentReference||t instanceof CollectionReference))throw new FirestoreError($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ResourcePath.fromString(e,...r));return Ao(n),new CollectionReference(t.firestore,null,n)}}class __PRIVATE_AsyncQueueImpl{constructor(t=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.fu=()=>{const t=ss();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.r_.Jo()},this.gu=t;const e=ss();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const e=ss();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise((()=>{}));const e=new __PRIVATE_Deferred;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Iu.push(t),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!ir(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(t){const e=this.gu.then((()=>(this.Ru=!0,t().catch((t=>{this.Au=t,this.Ru=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw je("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Ru=!1,t))))));return this.gu=e,e}enqueueAfterDelay(t,e,r){this.pu(),this.mu.indexOf(t)>-1&&(e=0);const n=DelayedOperation.createAndSchedule(this,t,e,r,(t=>this.Su(t)));return this.du.push(n),n}pu(){this.Au&&qe()}verifyOperationInProgress(){}async bu(){let t;do{t=this.gu,await t}while(t!==this.gu)}Du(t){for(const e of this.du)if(e.timerId===t)return!0;return!1}vu(t){return this.bu().then((()=>{this.du.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.du)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.bu()}))}Cu(t){this.mu.push(t)}Su(t){const e=this.du.indexOf(t);this.du.splice(e,1)}}function Ro(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const n of e)if(n in r&&"function"==typeof r[n])return!0;return!1}(t,["next","error","complete"])}class Firestore extends Firestore$1{constructor(t,e,r,n){super(t,e,r,n),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(null==n?void 0:n.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(t),this._firestoreClient=void 0,await t}}}function Co(t){if(t._terminated)throw new FirestoreError($e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Po(t),t._firestoreClient}function Po(t){var e,r,n;const i=t._freezeSettings(),s=function(t,e,r,n){return new DatabaseInfo(t,e,r,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling,_o(n.experimentalLongPollingOptions),n.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||(null===(r=i.localCache)||void 0===r?void 0:r._offlineComponentProvider)&&(null===(n=i.localCache)||void 0===n?void 0:n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new FirestoreClient(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(t){const e=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}class Bytes{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bytes(ByteString.fromBase64String(t))}catch(t){throw new FirestoreError($e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Bytes(ByteString.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class FieldPath{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new FirestoreError($e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class FieldValue{constructor(t){this._methodName=t}}class GeoPoint{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new FirestoreError($e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new FirestoreError($e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ge(this._lat,t._lat)||Ge(this._long,t._long)}}class VectorValue{constructor(t){this._values=(t||[]).map((t=>t))}toArray(){return this._values.map((t=>t))}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}(this._values,t._values)}}const Oo=/^__.*__$/;class ParsedSetData{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new __PRIVATE_PatchMutation(t,this.data,this.fieldMask,e,this.fieldTransforms):new __PRIVATE_SetMutation(t,this.data,e,this.fieldTransforms)}}function No(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class __PRIVATE_ParseContextImpl{constructor(t,e,r,n,i,s){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=n,void 0===i&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.xu({path:r,Nu:!1});return n.Lu(t),n}Bu(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),n=this.xu({path:r,Nu:!1});return n.Fu(),n}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return Ko(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lu(this.path.get(t))}Lu(t){if(0===t.length)throw this.qu("Document fields must not be empty");if(No(this.Mu)&&Oo.test(t))throw this.qu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||os(t)}$u(t,e,r,n=!1){return new __PRIVATE_ParseContextImpl({Mu:t,methodName:e,Ku:r,path:FieldPath$1.emptyPath(),Nu:!1,Qu:n},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bo(t){const e=t._freezeSettings(),r=os(t._databaseId);return new __PRIVATE_UserDataReader(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Lo(t,e,r,n,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,r,i);jo("Data must be an object, but it was:",o,n);const a=Fo(n,o);let u,c;if(s.merge)u=new FieldMask(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const n of s.mergeFields){const i=Vo(e,n,r);if(!o.contains(i))throw new FirestoreError($e.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Wo(t,i)||t.push(i)}u=new FieldMask(t),c=o.fieldTransforms.filter((t=>u.covers(t.field)))}else u=null,c=o.fieldTransforms;return new ParsedSetData(new ObjectValue(a),u,c)}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue{_toFieldTransform(t){return new FieldTransform(t.path,new __PRIVATE_ServerTimestampTransform)}isEqual(t){return t instanceof __PRIVATE_ServerTimestampFieldValueImpl}}function Do(t,e,r,n=!1){return Uo(r,t.$u(n?4:3,e))}function Uo(t,e){if(zo(t=et(t)))return jo("Unsupported field value:",e,t),Fo(t,e);if(t instanceof FieldValue)return function(t,e){if(!No(e.Mu))throw e.qu(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.qu(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(e);r&&e.fieldTransforms.push(r)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&4!==e.Mu)throw e.qu("Nested arrays are not supported");return function(t,e){const r=[];let n=0;for(const i of t){let t=Uo(i,e.ku(n));null==t&&(t={nullValue:"NULL_VALUE"}),r.push(t),n++}return{arrayValue:{values:r}}}(t,e)}return function(t,e){if(null===(t=et(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Dn(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Timestamp.fromDate(t);return{timestampValue:mi(e.serializer,r)}}if(t instanceof Timestamp){const r=new Timestamp(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:mi(e.serializer,r)}}if(t instanceof GeoPoint)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bytes)return{bytesValue:gi(e.serializer,t._byteString)};if(t instanceof DocumentReference){const r=e.databaseId,n=t.firestore._databaseId;if(!n.isEqual(r))throw e.qu(`Document reference is for database ${n.projectId}/${n.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:vi(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof VectorValue)return function(t,e){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:t.toArray().map((t=>{if("number"!=typeof t)throw e.qu("VectorValues must only contain numeric values.");return Bn(e.serializer,t)}))}}}}}}(t,e);throw e.qu(`Unsupported field value: ${Io(t)}`)}(t,e)}function Fo(t,e){const r={};return yr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gr(t,((t,n)=>{const i=Uo(n,e.Ou(t));null!=i&&(r[t]=i)})),{mapValue:{fields:r}}}function zo(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Timestamp||t instanceof GeoPoint||t instanceof Bytes||t instanceof DocumentReference||t instanceof FieldValue||t instanceof VectorValue)}function jo(t,e,r){if(!zo(r)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(r)){const n=Io(r);throw"an object"===n?e.qu(t+" a custom object"):e.qu(t+" "+n)}}function Vo(t,e,r){if((e=et(e))instanceof FieldPath)return e._internalPath;if("string"==typeof e)return qo(t,e);throw Ko("Field path arguments must be of type string or ",t,!1,void 0,r)}const Ho=new RegExp("[~\\*/\\[\\]]");function qo(t,e,r){if(e.search(Ho)>=0)throw Ko(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new FieldPath(...e.split("."))._internalPath}catch(n){throw Ko(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Ko(t,e,r,n,i){const s=n&&!n.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${n}`),o&&(u+=` in document ${i}`),u+=")"),new FirestoreError($e.INVALID_ARGUMENT,a+t+u)}function Wo(t,e){return t.some((t=>t.isEqual(e)))}class DocumentSnapshot$1{constructor(t,e,r,n,i){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=n,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field($o("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function $o(t,e){return"string"==typeof e?qo(t,e):e instanceof FieldPath?e._internalPath:e._delegate._internalPath}function Zo(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new FirestoreError($e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}class QueryFieldFilterConstraint extends QueryConstraint{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new QueryFieldFilterConstraint(t,e,r)}_apply(t){const e=this._parse(t);return Jo(t._query,e),new Query(t.firestore,t.converter,fn(t._query,e))}_parse(t){const e=Bo(t.firestore),r=function(t,e,r,n,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new FirestoreError($e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Qo(o,s);const e=[];for(const r of o)e.push(Go(n,t,r));a={arrayValue:{values:e}}}else a=Go(n,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Qo(o,s),a=Do(r,e,o,"in"===s||"not-in"===s);return FieldFilter.create(i,s,a)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return r}}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new QueryCompositeFilterConstraint(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:CompositeFilter.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let r=t;const n=e.getFlattenedFilters();for(const i of n)Jo(r,i),r=fn(r,i)}(t._query,e),new Query(t.firestore,t.converter,fn(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new QueryOrderByConstraint(t,e)}_apply(t){const e=function(t,e,r){if(null!==t.startAt)throw new FirestoreError($e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new FirestoreError($e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(e,r)}(t._query,this._field,this._direction);return new Query(t.firestore,t.converter,function(t,e){const r=t.explicitOrderBy.concat([e]);return new __PRIVATE_QueryImpl(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}class QueryLimitConstraint extends QueryConstraint{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new QueryLimitConstraint(t,e,r)}_apply(t){return new Query(t.firestore,t.converter,pn(t._query,this._limit,this._limitType))}}function Go(t,e,r){if("string"==typeof(r=et(r))){if(""===r)throw new FirestoreError($e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cn(e)&&-1!==r.indexOf("/"))throw new FirestoreError($e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(ResourcePath.fromString(r));if(!DocumentKey.isDocumentKey(n))throw new FirestoreError($e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Br(t,new DocumentKey(n))}if(r instanceof DocumentReference)return Br(t,r._key);throw new FirestoreError($e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Io(r)}.`)}function Qo(t,e){if(!Array.isArray(t)||0===t.length)throw new FirestoreError($e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jo(t,e){const r=function(t,e){for(const r of t)for(const t of r.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw r===e.op?new FirestoreError($e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new FirestoreError($e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(t,e="none"){switch(Ir(t)){case 0:return null;case 1:return t.booleanValue;case 2:return br(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(_r(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw qe()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return gr(t,((t,n)=>{r[t]=this.convertValue(n,e)})),r}convertVectorValue(t){var e,r,n;const i=null===(n=null===(r=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===r?void 0:r.values)||void 0===n?void 0:n.map((t=>br(t.doubleValue)));return new VectorValue(i)}convertGeoPoint(t){return new GeoPoint(br(t.latitude),br(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Sr(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(kr(t));default:return null}}convertTimestamp(t){const e=vr(t);return new Timestamp(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=ResourcePath.fromString(t);Ke(ji(r));const n=new DatabaseId(r.get(1),r.get(3)),i=new DocumentKey(r.popFirst(5));return n.isEqual(e)||je(`Document ${i} contains a document reference within a different database (${n.projectId}/${n.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}function Yo(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class SnapshotMetadata{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(t,e,r,n,i,s){super(t,e,r,n,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field($o("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(t={}){return super.data(t)}}class QuerySnapshot{constructor(t,e,r,n){this._firestore=t,this._userDataWriter=e,this._snapshot=n,this.metadata=new SnapshotMetadata(n.hasPendingWrites,n.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,r.key,r,new SnapshotMetadata(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new FirestoreError($e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((r=>{const n=new QueryDocumentSnapshot(t._firestore,t._userDataWriter,r.doc.key,r.doc,new SnapshotMetadata(t._snapshot.mutatedKeys.has(r.doc.key),t._snapshot.fromCache),t.query.converter);return r.doc,{type:"added",doc:n,oldIndex:-1,newIndex:e++}}))}{let r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const n=new QueryDocumentSnapshot(t._firestore,t._userDataWriter,e.doc.key,e.doc,new SnapshotMetadata(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(r=r.add(e.doc),s=r.indexOf(e.doc.key)),{type:Xo(e.type),doc:n,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Xo(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bytes(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new DocumentReference(this.firestore,null,e)}}function ta(t,e){const r=Mo(t.firestore,Firestore),n=function(t,e,...r){if(t=et(t),1===arguments.length&&(e=__PRIVATE_AutoId.newId()),So("doc","path",e),t instanceof Firestore$1){const n=ResourcePath.fromString(e,...r);return ko(n),new DocumentReference(t,null,new DocumentKey(n))}{if(!(t instanceof DocumentReference||t instanceof CollectionReference))throw new FirestoreError($e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ResourcePath.fromString(e,...r));return ko(n),new DocumentReference(t.firestore,t instanceof CollectionReference?t.converter:null,new DocumentKey(n))}}(t),i=Yo(t.converter,e);return ea(r,[Lo(Bo(t.firestore),"addDoc",n._key,i,null!==t.converter,{}).toMutation(n._key,Precondition.exists(!1))]).then((()=>n))}function ea(t,e){return function(t,e){const r=new __PRIVATE_Deferred;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,r){const n=po(t);try{const t=await function(t,e){const r=We(t),n=Timestamp.now(),i=e.reduce(((t,e)=>t.add(e.key)),Pn());let s,o;return r.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=Sn(),u=Pn();return r.hs.getEntries(t,i).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(u=u.add(t))}))})).next((()=>r.localDocuments.getOverlayedDocuments(t,a))).next((i=>{s=i;const o=[];for(const t of e){const e=Gn(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new __PRIVATE_PatchMutation(t.key,e,qr(e.value.mapValue),Precondition.exists(!0)))}return r.mutationQueue.addMutationBatch(t,n,o,e)})).next((e=>{o=e;const n=e.applyToLocalDocumentSet(s,u);return r.documentOverlayCache.saveOverlays(t,e.batchId,n)}))})).then((()=>({batchId:o.batchId,changes:In(s)})))}(n.localStore,e);n.sharedClientState.addPendingMutation(t.batchId),function(t,e,r){let n=t.qa[t.currentUser.toKey()];n||(n=new SortedMap(Ge)),n=n.insert(e,r),t.qa[t.currentUser.toKey()]=n}(n,t.batchId,r),await co(n,t.changes),await Ss(n.remoteStore)}catch(t){const e=Ls(t,"Failed to persist write");r.reject(e)}}(await vo(t),e,r))),r.promise}(Co(t),e)}function ra(t,e,r){const n=r.docs.get(e._key),i=new __PRIVATE_ExpUserDataWriter(t);return new DocumentSnapshot(t,i,e._key,n,new SnapshotMetadata(r.hasPendingWrites,r.fromCache),e.converter)}function ia(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}new WeakMap;!function(t,e=!0){!function(t){De=t}(le),oe(new Component("firestore",((t,{instanceIdentifier:r,options:n})=>{const i=t.getProvider("app").getImmediate(),s=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(t.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new FirestoreError($e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(t.options.projectId,e)}(i,r),i);return n=Object.assign({useFetchStreams:e},n),s._setSettings(n),s}),"PUBLIC").setMultipleInstances(!0)),fe(Le,"4.7.5",t),fe(Le,"4.7.5","esm2017")}();fe("firebase","11.0.2","app");function sa(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;function oa(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aa=oa,ua=new ErrorFactory("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ca=new Logger("@firebase/auth");function la(t,...e){ca.logLevel<=it.ERROR&&ca.error(`Auth (${le}): ${t}`,...e)}function ha(t,...e){throw ma(t,...e)}function da(t,...e){return ma(t,...e)}function fa(t,e,r){const n=Object.assign(Object.assign({},aa()),{[e]:r});return new ErrorFactory("auth","Firebase",n).create(e,{appName:t.name})}function pa(t){return fa(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ma(t,...e){if("string"!=typeof t){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return ua.create(t,...e)}function ga(t,e,...r){if(!t)throw ma(e,...r)}function ya(t){const e="INTERNAL ASSERTION FAILED: "+t;throw la(e),new Error(e)}function wa(t,e){t||ya(e)}function va(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function ba(){return"http:"===_a()||"https:"===_a()}function _a(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Ea(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ba()||function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Delay{constructor(t,e){this.shortDelay=t,this.longDelay=e,wa(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Ea()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sa(t,e){wa(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}class FetchProvider{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ka={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ia=new Delay(3e4,6e4);function Ma(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xa(t,e,r,n,i={}){return Ta(t,i,(async()=>{let i={},s={};n&&("GET"===e?s=n:i={body:JSON.stringify(n)});const o=J(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:a},i);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(u.referrerPolicy="no-referrer"),FetchProvider.fetch()(Pa(t,t.config.apiHost,r,o),u)}))}async function Ta(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},ka),e);try{const e=new NetworkTimeout(t),i=await Promise.race([r(),e.promise]);e.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Na(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const e=i.ok?s.errorMessage:s.error.message,[r,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===r)throw Na(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===r)throw Na(t,"email-already-in-use",s);if("USER_DISABLED"===r)throw Na(t,"user-disabled",s);const a=n[r]||r.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw fa(t,a,o);ha(t,a)}}catch(i){if(i instanceof FirebaseError)throw i;ha(t,"network-request-failed",{message:String(i)})}}async function Ra(t,e,r,n,i={}){const s=await xa(t,e,r,n,i);return"mfaPendingCredential"in s&&ha(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Pa(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Sa(t.config,i):`${t.config.apiScheme}://${i}`}function Oa(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(da(this.auth,"network-request-failed"))),Ia.get())}))}}function Na(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=da(t,e,n);return i.customData._tokenResponse=r,i}function Ba(t){return void 0!==t&&void 0!==t.enterprise}class RecaptchaConfig{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Oa(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function La(t,e){return xa(t,"GET","/v2/recaptchaConfig",Ma(t,e))}async function Da(t,e){return xa(t,"POST","/v1/accounts:lookup",e)}function Ua(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Fa(t){return 1e3*Number(t)}function za(t){const[e,r,n]=t.split(".");if(void 0===e||void 0===r||void 0===n)return la("JWT malformed, contained fewer than 3 sections"),null;try{const t=D(r);return t?JSON.parse(t):(la("Failed to decode base64 JWT payload"),null)}catch(i){return la("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}function ja(t){const e=za(t);return ga(e,"internal-error"),ga(void 0!==e.exp,"internal-error"),ga(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}async function Va(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof FirebaseError&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}class ProactiveRefresh{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}class UserMetadata{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ha(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Va(t,Da(r,{idToken:n}));ga(null==i?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?qa(s.providerUserInfo):[],a=(u=t.providerData,c=o,[...u.filter((t=>!c.some((e=>e.providerId===t.providerId)))),...c]);var u,c;const l=t.isAnonymous,h=!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d=!!l&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new UserMetadata(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}function qa(t){return t.map((t=>{var{providerId:e}=t,r=sa(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}}))}class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ga(t.idToken,"internal-error"),ga(void 0!==t.idToken,"internal-error"),ga(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):ja(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ga(0!==t.length,"internal-error");const e=ja(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return e||!this.accessToken||this.isExpired?(ga(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:n,expiresIn:i}=await async function(t,e){const r=await Ta(t,{},(async()=>{const r=J({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:n,apiKey:i}=t.config,s=Pa(t,n,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(s,{method:"POST",headers:o,body:r})}));return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}(t,e);this.updateTokensAndExpiration(r,n,Number(i))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(t,e){const{refreshToken:r,accessToken:n,expirationTime:i}=e,s=new StsTokenManager;return r&&(ga("string"==typeof r,"internal-error",{appName:t}),s.refreshToken=r),n&&(ga("string"==typeof n,"internal-error",{appName:t}),s.accessToken=n),i&&(ga("number"==typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return ya("not implemented")}}function Ka(t,e){ga("string"==typeof t||void 0===t,"internal-error",{appName:e})}class UserImpl{constructor(t){var{uid:e,auth:r,stsTokenManager:n}=t,i=sa(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new UserMetadata(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await Va(this,this.stsTokenManager.getToken(this.auth,t));return ga(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const r=et(t),n=await r.getIdToken(e),i=za(n);ga(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Ua(Fa(i.auth_time)),issuedAtTime:Ua(Fa(i.iat)),expirationTime:Ua(Fa(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=et(t);await Ha(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(ga(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new UserImpl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){ga(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Ha(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ue(this.auth.app))return Promise.reject(pa(this.auth));const t=await this.getIdToken();return await Va(this,async function(t,e){return xa(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,n,i,s,o,a,u,c;const l=null!==(r=e.displayName)&&void 0!==r?r:void 0,h=null!==(n=e.email)&&void 0!==n?n:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(u=e.createdAt)&&void 0!==u?u:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:w,emailVerified:v,isAnonymous:b,providerData:_,stsTokenManager:E}=e;ga(w&&E,t,"internal-error");const S=StsTokenManager.fromJSON(this.name,E);ga("string"==typeof w,t,"internal-error"),Ka(l,t.name),Ka(h,t.name),ga("boolean"==typeof v,t,"internal-error"),ga("boolean"==typeof b,t,"internal-error"),Ka(d,t.name),Ka(f,t.name),Ka(p,t.name),Ka(m,t.name),Ka(g,t.name),Ka(y,t.name);const k=new UserImpl({uid:w,auth:t,email:h,emailVerified:v,displayName:l,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(k.providerData=_.map((t=>Object.assign({},t)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(t,e,r=!1){const n=new StsTokenManager;n.updateFromServerResponse(e);const i=new UserImpl({uid:e.localId,auth:t,stsTokenManager:n,isAnonymous:r});return await Ha(i),i}static async _fromGetAccountInfoResponse(t,e,r){const n=e.users[0];ga(void 0!==n.localId,"internal-error");const i=void 0!==n.providerUserInfo?qa(n.providerUserInfo):[],s=!(n.email&&n.passwordHash||(null==i?void 0:i.length)),o=new StsTokenManager;o.updateFromIdToken(r);const a=new UserImpl({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s}),u={uid:n.localId,displayName:n.displayName||null,photoURL:n.photoUrl||null,email:n.email||null,emailVerified:n.emailVerified||!1,phoneNumber:n.phoneNumber||null,tenantId:n.tenantId||null,providerData:i,metadata:new UserMetadata(n.createdAt,n.lastLoginAt),isAnonymous:!(n.email&&n.passwordHash||(null==i?void 0:i.length))};return Object.assign(a,u),a}}const Wa=new Map;function $a(t){wa(t instanceof Function,"Expected a class definition");let e=Wa.get(t);return e?(wa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Wa.set(t,e),e)}class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}InMemoryPersistence.type="NONE";const Za=InMemoryPersistence;function Ga(t,e,r){return`firebase:${t}:${e}:${r}`}class PersistenceUserManager{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:n,name:i}=this.auth;this.fullUserKey=Ga(this.userKey,n.apiKey,i),this.fullPersistenceKey=Ga("persistence",n.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?UserImpl._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new PersistenceUserManager($a(Za),t,r);const n=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=n[0]||$a(Za);const s=Ga(r,t.config.apiKey,t.name);let o=null;for(const c of e)try{const e=await c._get(s);if(e){const r=UserImpl._fromJSON(t,e);c!==i&&(o=r),i=c;break}}catch(u){}const a=n.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(s)}catch(u){}}))),new PersistenceUserManager(i,t,r)):new PersistenceUserManager(i,t,r)}}function Qa(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tu(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ja(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ru(e))return"Blackberry";if(nu(e))return"Webos";if(Ya(e))return"Safari";if((e.includes("chrome/")||Xa(e))&&!e.includes("edge/"))return"Chrome";if(eu(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(e);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function Ja(t=K()){return/firefox\//i.test(t)}function Ya(t=K()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xa(t=K()){return/crios\//i.test(t)}function tu(t=K()){return/iemobile/i.test(t)}function eu(t=K()){return/android/i.test(t)}function ru(t=K()){return/blackberry/i.test(t)}function nu(t=K()){return/webos/i.test(t)}function iu(t=K()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function su(){return function(){const t=K();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}function ou(t=K()){return iu(t)||eu(t)||nu(t)||ru(t)||/windows phone/i.test(t)||tu(t)}function au(t,e=[]){let r;switch(t){case"Browser":r=Qa(K());break;case"Worker":r=`${Qa(K())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${le}/${n}`}class AuthMiddlewareQueue{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=e=>new Promise(((r,n)=>{try{r(t(e))}catch(i){n(i)}}));r.onAbort=e,this.queue.push(r);const n=this.queue.length-1;return()=>{this.queue[n]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const t of e)try{t()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==r?void 0:r.message})}}}class PasswordPolicyImpl{constructor(t){var e,r,n,i;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=s.minPasswordLength)&&void 0!==e?e:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=t.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,n,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=null===(e=a.meetsMinPasswordLength)||void 0===e||e),a.isValid&&(a.isValid=null===(r=a.meetsMaxPasswordLength)||void 0===r||r),a.isValid&&(a.isValid=null===(n=a.containsLowercaseLetter)||void 0===n||n),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,n=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),n&&(e.meetsMaxPasswordLength=t.length<=n)}validatePasswordCharacterOptions(t,e){let r;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let n=0;n<t.length;n++)r=t.charAt(n),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,n,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=n)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}class AuthImpl{constructor(t,e,r,n){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ua,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=$a(e)),this._initializationPromise=this.queue((async()=>{var r,n;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,t),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(n=this.currentUser)||void 0===n?void 0:n.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(t,!0)):void 0}async initializeCurrentUserFromIdToken(t){try{const e=await Da(this,{idToken:t}),r=await UserImpl._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(ue(this.app)){const t=this.app.settings.authIdToken;return t?new Promise((e=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(t).then(e,e)))})):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(t);r&&r!==s||!(null==o?void 0:o.user)||(n=o.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ga(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(r){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ha(t)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ue(this.app))return Promise.reject(pa(this));const e=t?et(t):null;return e&&ga(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&ga(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return ue(this.app)?Promise.reject(pa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ue(this.app)?Promise.reject(pa(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence($a(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await async function(t,e={}){return xa(t,"GET","/v2/passwordPolicy",Ma(t,e))}(this),e=new PasswordPolicyImpl(t);null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ErrorFactory("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise(((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged((()=>{r(),t()}),e)}}))}async revokeAccessToken(t){if(this.currentUser){const e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(e.tenantId=this.tenantId),await async function(t,e){return xa(t,"POST","/v2/accounts:revokeToken",Ma(t,e))}(this,e)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&$a(t)||this._popupRedirectResolver;ga(e,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[$a(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,n){if(this._deleted)return()=>{};const i="function"==typeof e?e:e.next.bind(e);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ga(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"==typeof e){const i=t.addObserver(e,r,n);return()=>{s=!0,i()}}{const r=t.addObserver(e);return()=>{s=!0,r()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ga(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=au(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null==e?void 0:e.error)&&function(t,...e){ca.logLevel<=it.WARN&&ca.warn(`Auth (${le}): ${t}`,...e)}(`Error while retrieving App Check token: ${e.error}`),null==e?void 0:e.token}}function uu(t){return et(t)}class Subscription{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const r=new ObserverProxy(t,e);return r.subscribe.bind(r)}((t=>this.observer=t))}get next(){return ga(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lu(t){return cu.loadJS(t)}function hu(t){return`__${t}${Math.floor(1e6*Math.random())}`}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class MockGreCAPTCHA{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const du="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(t){this.type="recaptcha-enterprise",this.auth=uu(t)}async verify(t="verify",e=!1){function r(e,r,n){const i=window.grecaptcha;Ba(i)?i.enterprise.ready((()=>{i.enterprise.execute(e,{action:t}).then((t=>{r(t)})).catch((()=>{r(du)}))})):n(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new MockGreCAPTCHATopLevel).execute("siteKey",{action:"verify"})}return new Promise(((t,n)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,r)=>{La(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((n=>{if(void 0!==n.recaptchaKey){const r=new RecaptchaConfig(n);return null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,e(r.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{r(t)}))}))})(this.auth).then((i=>{if(!e&&Ba(window.grecaptcha))r(i,t,n);else{if("undefined"==typeof window)return void n(new Error("RecaptchaVerifier is only supported in browser"));let e=cu.recaptchaEnterpriseScript;0!==e.length&&(e+=i),lu(e).then((()=>{r(i,t,n)})).catch((t=>{n(t)}))}})).catch((t=>{n(t)}))}))}}async function fu(t,e,r,n=!1,i=!1){const s=new RecaptchaEnterpriseVerifier(t);let o;if(i)o=du;else try{o=await s.verify(r)}catch(u){o=await s.verify(r,!0)}const a=Object.assign({},e);if("mfaSmsEnrollment"===r||"mfaSmsSignIn"===r){if("phoneEnrollmentInfo"in a){const t=a.phoneEnrollmentInfo.phoneNumber,e=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const t=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return n?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function pu(t,e,r,n,i){var s,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=t._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await fu(t,e,r,"getOobCode"===r);return n(t,i)}return n(t,e).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await fu(t,e,r,"getOobCode"===r);return n(t,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(o=t._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await fu(t,e,r);return n(t,i).catch((async i=>{var s;if("AUDIT"===(null===(s=t._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const i=await fu(t,e,r,!1,!0);return n(t,i)}return Promise.reject(i)}))}{const i=await fu(t,e,r,!1,!0);return n(t,i)}}return Promise.reject(i+" provider is not supported.")}async function mu(t){const e=uu(t),r=await La(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new RecaptchaConfig(r);if(null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,n.isAnyProviderEnabled()){new RecaptchaEnterpriseVerifier(e).verify()}}function gu(t,e,r){const n=uu(t);ga(n._canInitEmulator,n,"emulator-config-failed"),ga(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(null==r?void 0:r.disableWarnings),s=yu(e),{host:o,port:a}=function(t){const e=yu(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const t=i[1];return{host:t,port:wu(n.substr(t.length+1))}}{const[t,e]=n.split(":");return{host:t,port:wu(e)}}}(e),u=null===a?"":`:${a}`;n.config.emulator={url:`${s}//${o}${u}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function yu(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wu(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class AuthCredential{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ya("not implemented")}_getIdTokenResponse(t){return ya("not implemented")}_linkToIdToken(t,e){return ya("not implemented")}_getReauthenticationResolver(t){return ya("not implemented")}}async function vu(t,e){return xa(t,"POST","/v1/accounts:signUp",e)}async function bu(t,e){return Ra(t,"POST","/v1/accounts:signInWithPassword",Ma(t,e))}class EmailAuthCredential extends AuthCredential{constructor(t,e,r,n=null){super("password",r),this._email=t,this._password=e,this._tenantId=n}static _fromEmailAndPassword(t,e){return new EmailAuthCredential(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new EmailAuthCredential(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return pu(t,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",bu,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(t,e){return Ra(t,"POST","/v1/accounts:signInWithEmailLink",Ma(t,e))}(t,{email:this._email,oobCode:this._password});default:ha(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return pu(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vu,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(t,e){return Ra(t,"POST","/v1/accounts:signInWithEmailLink",Ma(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:ha(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function _u(t,e){return Ra(t,"POST","/v1/accounts:signInWithIdp",Ma(t,e))}class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new OAuthCredential(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ha("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:r,signInMethod:n}=e,i=sa(e,["providerId","signInMethod"]);if(!r||!n)return null;const s=new OAuthCredential(r,n);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){return _u(t,this.buildRequest())}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,_u(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,_u(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=J(e)}return t}}async function Eu(t,e){return xa(t,"POST","/v1/accounts:sendVerificationCode",Ma(t,e))}const Su={USER_NOT_FOUND:"user-not-found"};class PhoneAuthCredential extends AuthCredential{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new PhoneAuthCredential({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new PhoneAuthCredential({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return Ra(t,"POST","/v1/accounts:signInWithPhoneNumber",Ma(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const r=await Ra(t,"POST","/v1/accounts:signInWithPhoneNumber",Ma(t,e));if(r.temporaryProof)throw Na(t,"account-exists-with-different-credential",r);return r}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return Ra(t,"POST","/v1/accounts:signInWithPhoneNumber",Ma(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Su)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:r,verificationCode:n}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:r,code:n}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:r,phoneNumber:n,temporaryProof:i}=t;return r||e||n||i?new PhoneAuthCredential({verificationId:e,verificationCode:r,phoneNumber:n,temporaryProof:i}):null}}class ActionCodeURL{constructor(t){var e,r,n,i,s,o;const a=Y(X(t)),u=null!==(e=a.apiKey)&&void 0!==e?e:null,c=null!==(r=a.oobCode)&&void 0!==r?r:null,l=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(n=a.mode)&&void 0!==n?n:null);ga(u&&c&&l,"argument-error"),this.apiKey=u,this.operation=l,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=Y(X(t)).link,r=e?Y(X(e)).deep_link_id:null,n=Y(X(t)).deep_link_id;return(n?Y(X(n)).link:null)||n||r||e||t}(t);try{return new ActionCodeURL(e)}catch(r){return null}}}class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(t,e){return EmailAuthCredential._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=ActionCodeURL.parseLink(e);return ga(r,"argument-error"),EmailAuthCredential._fromEmailAndCode(t,r.code,r.tenantId)}}EmailAuthProvider.PROVIDER_ID="password",EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password",EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class FederatedAuthProvider{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(t){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return FacebookAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return FacebookAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(t.oauthAccessToken)}catch(e){return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com",FacebookAuthProvider.PROVIDER_ID="facebook.com";class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return GoogleAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return GoogleAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return GoogleAuthProvider.credential(e,r)}catch(n){return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com",GoogleAuthProvider.PROVIDER_ID="google.com";class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(t){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return GithubAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return GithubAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return GithubAuthProvider.credential(t.oauthAccessToken)}catch(e){return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com",GithubAuthProvider.PROVIDER_ID="github.com";class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(t,e){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return TwitterAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return TwitterAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return TwitterAuthProvider.credential(e,r)}catch(n){return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com",TwitterAuthProvider.PROVIDER_ID="twitter.com";class UserCredentialImpl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,n=!1){const i=await UserImpl._fromIdTokenResponse(t,r,n),s=ku(r);return new UserCredentialImpl({user:i,providerId:s,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const n=ku(r);return new UserCredentialImpl({user:t,providerId:n,_tokenResponse:r,operationType:e})}}function ku(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class MultiFactorError extends FirebaseError{constructor(t,e,r,n){var i;super(e.code,e.message),this.operationType=r,this.user=n,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,n){return new MultiFactorError(t,e,r,n)}}function Au(t,e,r,n){return("reauthenticate"===e?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch((r=>{if("auth/multi-factor-auth-required"===r.code)throw MultiFactorError._fromErrorAndOperation(t,r,e,n);throw r}))}async function Iu(t,e,r=!1){const n=await Va(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return UserCredentialImpl._forOperation(t,"link",n)}async function Mu(t,e,r=!1){const{auth:n}=t;if(ue(n.app))return Promise.reject(pa(n));const i="reauthenticate";try{const s=await Va(t,Au(n,i,e,t),r);ga(s.idToken,n,"internal-error");const o=za(s.idToken);ga(o,n,"internal-error");const{sub:a}=o;return ga(t.uid===a,n,"user-mismatch"),UserCredentialImpl._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&ha(n,"user-mismatch"),s}}async function xu(t,e,r=!1){if(ue(t.app))return Promise.reject(pa(t));const n="signIn",i=await Au(t,n,e),s=await UserCredentialImpl._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}function Tu(t,e){return xa(t,"POST","/v2/accounts/mfaEnrollment:start",Ma(t,e))}new WeakMap;const Ru="__sak";class BrowserPersistenceClass{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ru,"1"),this.storage.removeItem(Ru),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ou(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),n=this.localCache[e];r!==n&&t(e,n,r)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,r)=>{this.notifyListeners(t,r)}));const r=t.key;e?this.detachListener():this.stopPolling();const n=()=>{const t=this.storage.getItem(r);(e||this.localCache[r]!==t)&&this.notifyListeners(r,t)},i=this.storage.getItem(r);su()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(n,10):n()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const n of Array.from(r))n(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}BrowserLocalPersistence.type="LOCAL";const Cu=BrowserLocalPersistence;class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}BrowserSessionPersistence.type="SESSION";const Pu=BrowserSessionPersistence;class Receiver{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const r=new Receiver(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:n,data:i}=e.data,s=this.handlersMap[n];if(!(null==s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:n});const o=Array.from(s).map((async t=>t(e.origin,i))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);e.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ou(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(10*Math.random());return t+r}Receiver.receivers=[];class Sender{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const n="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!n)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const u=Ou("",20);n.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),r);s={messageChannel:n,onMessage(t){const e=t;if(e.data.eventId===u)switch(e.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(e.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),n.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:e},[n.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Nu(){return window}function Bu(){return void 0!==Nu().WorkerGlobalScope&&"function"==typeof Nu().importScripts}const Lu="firebaseLocalStorageDb",Du="firebaseLocalStorage",Uu="fbase_key";class DBPromise{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Fu(t,e){return t.transaction([Du],e?"readwrite":"readonly").objectStore(Du)}function zu(){const t=indexedDB.open(Lu,1);return new Promise(((e,r)=>{t.addEventListener("error",(()=>{r(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(Du,{keyPath:Uu})}catch(n){r(n)}})),t.addEventListener("success",(async()=>{const r=t.result;r.objectStoreNames.contains(Du)?e(r):(r.close(),await function(){const t=indexedDB.deleteDatabase(Lu);return new DBPromise(t).toPromise()}(),e(await zu()))}))}))}async function ju(t,e,r){const n=Fu(t,!0).put({[Uu]:e,value:r});return new DBPromise(n).toPromise()}function Vu(t,e){const r=Fu(t,!0).delete(e);return new DBPromise(r).toPromise()}class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await zu()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(r){if(e++>3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bu()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(Bu()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=r[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){var e;if(this.sender&&this.activeServiceWorker&&((null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zu();return await ju(t,Ru,"1"),await Vu(t,Ru),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((r=>ju(r,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const r=Fu(t,!1).get(e),n=await new DBPromise(r).toPromise();return void 0===n?null:n.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>Vu(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Fu(t,!1).getAll();return new DBPromise(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],r=new Set;if(0!==t.length)for(const{fbase_key:n,value:i}of t)r.add(n),JSON.stringify(this.localCache[n])!==JSON.stringify(i)&&(this.notifyListeners(n,i),e.push(n));for(const n of Object.keys(this.localCache))this.localCache[n]&&!r.has(n)&&(this.notifyListeners(n,null),e.push(n));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const n of Array.from(r))n(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const Hu=IndexedDBLocalPersistence;function qu(t,e){return xa(t,"POST","/v2/accounts/mfaSignIn:start",Ma(t,e))}hu("rcb"),new Delay(3e4,6e4);const Ku="recaptcha";async function Wu(t,e,r){var n;if(!t._getRecaptchaConfig())try{await mu(t)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"==typeof e?{phoneNumber:e}:e,"session"in i){const e=i.session;if("phoneNumber"in i){ga("enroll"===e.type,t,"internal-error");const n={idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=pu(t,n,"mfaSmsEnrollment",(async(t,e)=>{if(e.phoneEnrollmentInfo.captchaResponse===du){ga((null==r?void 0:r.type)===Ku,t,"argument-error");return Tu(t,await $u(t,e,r))}return Tu(t,e)}),"PHONE_PROVIDER");return(await s.catch((t=>Promise.reject(t)))).phoneSessionInfo.sessionInfo}{ga("signin"===e.type,t,"internal-error");const s=(null===(n=i.multiFactorHint)||void 0===n?void 0:n.uid)||i.multiFactorUid;ga(s,t,"missing-multi-factor-info");const o={mfaPendingCredential:e.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=pu(t,o,"mfaSmsSignIn",(async(t,e)=>{if(e.phoneSignInInfo.captchaResponse===du){ga((null==r?void 0:r.type)===Ku,t,"argument-error");return qu(t,await $u(t,e,r))}return qu(t,e)}),"PHONE_PROVIDER");return(await a.catch((t=>Promise.reject(t)))).phoneResponseInfo.sessionInfo}}{const e={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},n=pu(t,e,"sendVerificationCode",(async(t,e)=>{if(e.captchaResponse===du){ga((null==r?void 0:r.type)===Ku,t,"argument-error");return Eu(t,await $u(t,e,r))}return Eu(t,e)}),"PHONE_PROVIDER");return(await n.catch((t=>Promise.reject(t)))).sessionInfo}}finally{null==r||r._reset()}}async function $u(t,e,r){ga(r.type===Ku,t,"argument-error");const n=await r.verify();ga("string"==typeof n,t,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const t=i.phoneEnrollmentInfo.phoneNumber,e=i.phoneEnrollmentInfo.captchaResponse,r=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:n,captchaResponse:e,clientType:r,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const t=i.phoneSignInInfo.captchaResponse,e=i.phoneSignInInfo.clientType,r=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:t,clientType:e,recaptchaVersion:r}}),i}return Object.assign(i,{recaptchaToken:n}),i}class PhoneAuthProvider{constructor(t){this.providerId=PhoneAuthProvider.PROVIDER_ID,this.auth=uu(t)}verifyPhoneNumber(t,e){return Wu(this.auth,t,et(e))}static credential(t,e){return PhoneAuthCredential._fromVerification(t,e)}static credentialFromResult(t){const e=t;return PhoneAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(t){return PhoneAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:r}=t;return e&&r?PhoneAuthCredential._fromTokenResponse(e,r):null}}function Zu(t,e){return e?$a(e):(ga(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}PhoneAuthProvider.PROVIDER_ID="phone",PhoneAuthProvider.PHONE_SIGN_IN_METHOD="phone";class IdpCredential extends AuthCredential{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return _u(t,this._buildIdpRequest())}_linkToIdToken(t,e){return _u(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return _u(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Gu(t){return xu(t.auth,new IdpCredential(t),t.bypassAuthState)}function Qu(t){const{auth:e,user:r}=t;return ga(r,e,"internal-error"),Mu(r,new IdpCredential(t),t.bypassAuthState)}async function Ju(t){const{auth:e,user:r}=t;return ga(r,e,"internal-error"),Iu(r,new IdpCredential(t),t.bypassAuthState)}class AbstractPopupRedirectOperation{constructor(t,e,r,n,i=!1){this.auth=t,this.resolver=r,this.user=n,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:n,tenantId:i,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:r,tenantId:i||void 0,postBody:n||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Gu;case"linkViaPopup":case"linkViaRedirect":return Ju;case"reauthViaPopup":case"reauthViaRedirect":return Qu;default:ha(this.auth,"internal-error")}}resolve(t){wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yu=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(t,e,r,n,i){super(t,e,n,i),this.provider=r,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ga(t,this.auth,"internal-error"),t}async onExecution(){wa(1===this.filter.length,"Popup operations only handle one event");const t=Ou();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(da(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(da(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;(null===(r=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===r?void 0:r.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(da(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,Yu.get())};t()}}PopupOperation.currentPopupAction=null;const Xu=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Xu.get(this.auth._key());if(!t){try{const e=await async function(t,e){const r=rc(e),n=ec(t);if(!(await n._isAvailable()))return!1;const i="true"===await n._get(r);return await n._remove(r),i}(this.resolver,this.auth),r=e?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Xu.set(this.auth._key(),t)}return this.bypassAuthState||Xu.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function tc(t,e){Xu.set(t._key(),e)}function ec(t){return $a(t._redirectPersistence)}function rc(t){return Ga("pendingRedirect",t.config.apiKey,t.name)}async function nc(t,e,r=!1){if(ue(t.app))return Promise.reject(pa(t));const n=uu(t),i=Zu(n,e),s=new RedirectAction(n,i,r),o=await s.execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}class AuthEventManager{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sc(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!sc(t)){const n=(null===(r=t.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";e.onError(da(this.auth,n))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ic(t))}saveEventToCache(t){this.cachedEventUids.add(ic(t)),this.lastProcessedEventTime=Date.now()}}function ic(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function sc({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}const oc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ac=/^https?/;async function uc(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return xa(t,"GET","/v1/projects",e)}(t);for(const n of e)try{if(cc(n))return}catch(r){}ha(t,"unauthorized-domain")}function cc(t){const e=va(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===n?"chrome-extension:"===r&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===r&&i.hostname===n}if(!ac.test(r))return!1;if(oc.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const lc=new Delay(3e4,6e4);function hc(){const t=Nu().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}function dc(t){return new Promise(((e,r)=>{var n,i,s;function o(){hc(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hc(),r(da(t,"network-request-failed"))},timeout:lc.get()})}if(null===(i=null===(n=Nu().gapi)||void 0===n?void 0:n.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Nu().gapi)||void 0===s?void 0:s.load)){const e=hu("iframefcb");return Nu()[e]=()=>{gapi.load?o():r(da(t,"network-request-failed"))},lu(`${cu.gapiScript}?onload=${e}`).catch((t=>r(t)))}o()}})).catch((t=>{throw fc=null,t}))}let fc=null;const pc=new Delay(5e3,15e3),mc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yc(t){const e=t.config;ga(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Sa(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,n={apiKey:e.apiKey,appName:t.name,v:le},i=gc.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${J(n).slice(1)}`}async function wc(t){const e=await function(t){return fc=fc||dc(t),fc}(t),r=Nu().gapi;return ga(r,t,"internal-error"),e.open({where:document.body,url:yc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mc,dontclear:!0},(e=>new Promise((async(r,n)=>{await e.restyle({setHideOnLeave:!1});const i=da(t,"network-request-failed"),s=Nu().setTimeout((()=>{n(i)}),pc.get());function o(){Nu().clearTimeout(s),r(e)}e.ping(o).then(o,(()=>{n(i)}))}))))}const vc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class AuthPopup{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function bc(t,e,r,n=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const u=Object.assign(Object.assign({},vc),{width:n.toString(),height:i.toString(),top:s,left:o}),c=K().toLowerCase();r&&(a=Xa(c)?"_blank":r),Ja(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce(((t,[e,r])=>`${t}${e}=${r},`),"");if(function(t=K()){var e;return iu(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}(e||"",a),new AuthPopup(null);const h=window.open(e||"",a,l);ga(h,t,"popup-blocked");try{h.focus()}catch(d){}return new AuthPopup(h)}const _c="__/auth/handler",Ec="emulator/auth/handler",Sc=encodeURIComponent("fac");async function kc(t,e,r,n,i,s){ga(t.config.authDomain,t,"auth-domain-config-required"),ga(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:le,eventId:i};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof BaseOAuthProvider){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=await t._getAppCheckToken(),c=u?`#${Sc}=${encodeURIComponent(u)}`:"";return`${function({config:t}){if(!t.emulator)return`https://${t.authDomain}/${_c}`;return Sa(t,Ec)}(t)}?${J(a).slice(1)}${c}`}const Ac="webStorageSupport";const Ic=class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pu,this._completeRedirectFn=nc,this._overrideRedirectResult=tc}async _openPopup(t,e,r,n){var i;wa(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return bc(t,await kc(t,e,r,va(),n),Ou())}async _openRedirect(t,e,r,n){await this._originValidation(t);return function(t){Nu().location.href=t}(await kc(t,e,r,va(),n)),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:r}=this.eventManagers[e];return t?Promise.resolve(t):(wa(r,"If manager is not set, promise should be"),r)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch((()=>{delete this.eventManagers[e]})),r}async initAndGetManager(t){const e=await wc(t),r=new AuthEventManager(t);return e.register("authEvent",(e=>{ga(null==e?void 0:e.authEvent,t,"invalid-auth-event");return{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ac,{type:Ac},(r=>{var n;const i=null===(n=null==r?void 0:r[0])||void 0===n?void 0:n[Ac];void 0!==i&&e(!!i),ha(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=uc(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return ou()||Ya()||iu()}};var Mc="@firebase/auth",xc="1.8.1";class AuthInterop{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null==e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ga(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Tc=H("authIdTokenMaxAge")||300;let Rc=null;var Cc;cu={loadJS:t=>new Promise(((e,r)=>{const n=document.createElement("script");var i,s;n.setAttribute("src",t),n.onload=e,n.onerror=t=>{const e=da("internal-error");e.customData=t,r(e)},n.type="text/javascript",n.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(n)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Cc="Browser",oe(new Component("auth",((t,{options:e})=>{const r=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;ga(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:s,authDomain:o,clientPlatform:Cc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:au(Cc)},u=new AuthImpl(r,n,i,a);return function(t,e){const r=(null==e?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map($a);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,null==e?void 0:e.popupRedirectResolver)}(u,e),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,r)=>{t.getProvider("auth-internal").initialize()}))),oe(new Component("auth-internal",(t=>(t=>new AuthInterop(t))(uu(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),fe(Mc,xc,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Cc)),fe(Mc,xc,"esm2017");const Pc="firebasestorage.googleapis.com",Oc="storageBucket";class StorageError extends FirebaseError{constructor(t,e,r=0){super(Lc(t),`Firebase Storage: ${e} (${Lc(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Lc(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nc,Bc;function Lc(t){return"storage/"+t}function Dc(){return new StorageError(Nc.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Uc(){return new StorageError(Nc.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fc(){return new StorageError(Nc.CANCELED,"User canceled the upload/download.")}function zc(t){return new StorageError(Nc.INVALID_ARGUMENT,t)}function jc(){return new StorageError(Nc.APP_DELETED,"The Firebase app was deleted.")}!function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Nc||(Nc={}));class Location{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=Location.makeFromUrl(t,e)}catch(i){return new Location(t,"")}if(""===r.path)return r;throw n=t,new StorageError(Nc.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.");var n}static makeFromUrl(t,e){let r=null;const n="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+n+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}const o=e.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${n}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${e===Pc?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${n}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let u=0;u<a.length;u++){const e=a[u],n=e.regex.exec(t);if(n){const t=n[e.indices.bucket];let i=n[e.indices.path];i||(i=""),r=new Location(t,i),e.postModify(r);break}}if(null==r)throw function(t){return new StorageError(Nc.INVALID_URL,"Invalid URL '"+t+"'.")}(t);return r}}class FailRequest{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Vc(t,e,r,n){if(n<e)throw zc(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw zc(`Invalid value for '${t}'. Expected ${r} or less.`)}function Hc(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){r=r+(e(n)+"="+e(t[n]))+"&"}return r=r.slice(0,-1),r}function qc(t,e){const r=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==e.indexOf(t);return r||n||i}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Bc||(Bc={}));class NetworkRequest{constructor(t,e,r,n,i,s,o,a,u,c,l,h=!0){this.url_=t,this.method_=e,this.headers_=r,this.body_=n,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=l,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()}))}start_(){const t=(t,e)=>{if(e)return void t(!1,new RequestEndStatus(!1,null,!0));const r=this.connectionFactory_();this.pendingConnection_=r;const n=t=>{const e=t.loaded,r=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,r)};null!==this.progressCallback_&&r.addUploadProgressListener(n),r.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&r.removeUploadProgressListener(n),this.pendingConnection_=null;const e=r.getErrorCode()===Bc.NO_ERROR,i=r.getStatus();if(!e||qc(i,this.additionalRetryCodes_)&&this.retry){const e=r.getErrorCode()===Bc.ABORT;return void t(!1,new RequestEndStatus(!1,null,e))}const s=-1!==this.successCodes_.indexOf(i);t(!0,new RequestEndStatus(s,r))}))},e=(t,e)=>{const r=this.resolve_,n=this.reject_,i=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(i,i.getResponse());!function(t){return void 0!==t}(t)?r():r(t)}catch(s){n(s)}else if(null!==i){const t=Dc();t.serverResponse=i.getErrorText(),this.errorCallback_?n(this.errorCallback_(i,t)):n(t)}else if(e.canceled){n(this.appDelete_?jc():Fc())}else{n(Uc())}};this.canceled_?e(0,new RequestEndStatus(!1,null,!0)):this.backoffId_=function(t,e,r){let n=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...t){c||(c=!0,e.apply(null,t))}function h(e){i=setTimeout((()=>{i=null,t(f,u())}),e)}function d(){s&&clearTimeout(s)}function f(t,...e){if(c)return void d();if(t)return d(),void l.call(null,t,...e);if(u()||o)return d(),void l.call(null,t,...e);let r;n<64&&(n*=2),1===a?(a=2,r=0):r=1e3*(n+Math.random()),h(r)}let p=!1;function m(t){p||(p=!0,d(),c||(null!==i?(t||(a=2),clearTimeout(i),h(0)):t||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),r),m}(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function Kc(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}class Reference{constructor(t,e){this._service=t,this._location=e instanceof Location?e:Location.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Reference(t,e)}get root(){const t=new Location(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Kc(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new Location(this._location.bucket,t);return new Reference(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function(t){return new StorageError(Nc.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function Wc(t,e){const r=null==e?void 0:e[Oc];return null==r?null:Location.makeFromBucketSpec(r,t)}class FirebaseStorageImpl{constructor(t,e,r,n,i){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=n,this._firebaseVersion=i,this._bucket=null,this._host=Pc,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=n?Location.makeFromBucketSpec(n,this._host):Wc(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=Location.makeFromBucketSpec(this._url,t):this._bucket=Wc(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Vc("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Vc("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});if(t){return(await t.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((t=>t.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Reference(this,t)}_makeRequest(t,e,r,n,i=!0){if(this._deleted)return new FailRequest(jc());{const s=function(t,e,r,n,i,s,o=!0){const a=Hc(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,r),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,n),new NetworkRequest(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(t,this._appId,r,n,e,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(t,e){const[r,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,r,n).getPromise()}}const $c="@firebase/storage",Zc="0.13.4",Gc="storage";function Qc(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new FirebaseStorageImpl(r,n,i,e,le)}oe(new Component(Gc,Qc,"PUBLIC").setMultipleInstances(!0)),fe($c,Zc,""),fe($c,Zc,"esm2017");he({apiKey:"AIzaSyBtosLmQsThd_Pv1HAnqiaQkW2xBnT8tck",authDomain:"lucky-swaps.firebaseapp.com",projectId:"lucky-swaps",storageBucket:"lucky-swaps.firebasestorage.app",messagingSenderId:"964563142829",appId:"1:964563142829:web:7b4b7d7ab29909c8f19e24"}),function(t=de()){const e=ae(t,"auth");if(e.isInitialized())return e.getImmediate();const r=function(t,e){const r=ae(t,"auth");if(r.isInitialized()){const t=r.getImmediate();if(G(r.getOptions(),null!=e?e:{}))return t;ha(t,"already-initialized")}return r.initialize({options:e})}(t,{popupRedirectResolver:Ic,persistence:[Hu,Cu,Pu]}),n=H("authTokenSyncURL");if(n&&"boolean"==typeof isSecureContext&&isSecureContext){const t=new URL(n,location.origin);if(location.origin===t.origin){const e=(i=t.toString(),async t=>{const e=t&&await t.getIdTokenResult(),r=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>Tc)return;const n=null==e?void 0:e.token;Rc!==n&&(Rc=n,await fetch(i,{method:n?"POST":"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}}))});!function(t,e,r){et(t).beforeAuthStateChanged(e,r)}(r,e,(()=>e(r.currentUser))),function(t,e,r,n){et(t).onIdTokenChanged(e,r,n)}(r,(t=>e(t)))}}var i;const s=z("auth");s&&gu(r,`http://${s}`)}();const Jc=function(t,e){const r="string"==typeof t?t:e||"(default)",n=ae("object"==typeof t?t:de(),"firestore").getImmediate({identifier:r});if(!n._initialized){const t=j("firestore");t&&function(t,e,r,n={}){var i;const s=(t=Mo(t,Firestore$1))._getSettings(),o=`${e}:${r}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ve("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let e,r;if("string"==typeof n.mockUserToken)e=n.mockUserToken,r=User.MOCK_USER;else{e=q(n.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=n.mockUserToken.sub||n.mockUserToken.user_id;if(!s)throw new FirestoreError($e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");r=new User(s)}t._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(e,r))}}(n,...t)}return n}();!function(t=de(),e){const r=ae(t=et(t),Gc).getImmediate({identifier:e}),n=j("storage");n&&function(t,e,r,n={}){!function(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken="string"==typeof i?i:q(i,t.app.options.projectId))}(t,e,r,n)}(r,...n)}();var Yc=r(9166),Xc=r(2540);function tl(){var t;const e=(0,Yc._)(),[r,n]=(0,o.useState)({messages:[{sender:{name:"Caroline Nexon",avatar:null,status:"bg-green-400"},payload:"We need to start betting more",created:ia()}]}),s=(0,o.useRef)(null);(0,o.useEffect)((()=>{var t;const e=function(t,...e){var r,n,i;t=et(t);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof e[o]||Ro(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Ro(e[o])){const t=e[o];e[o]=null===(r=t.next)||void 0===r?void 0:r.bind(t),e[o+1]=null===(n=t.error)||void 0===n?void 0:n.bind(t),e[o+2]=null===(i=t.complete)||void 0===i?void 0:i.bind(t)}let u,c,l;if(t instanceof DocumentReference)c=Mo(t.firestore,Firestore),l=an(t._key.path),u={next:r=>{e[o]&&e[o](ra(c,t,r))},error:e[o+1],complete:e[o+2]};else{const r=Mo(t,Query);c=Mo(r.firestore,Firestore),l=r._query;const n=new __PRIVATE_ExpUserDataWriter(c);u={next:t=>{e[o]&&e[o](new QuerySnapshot(c,n,r,t))},error:e[o+1],complete:e[o+2]},Zo(t._query)}return function(t,e,r,n){const i=new __PRIVATE_AsyncObserver(n),s=new __PRIVATE_QueryListener(e,i,r);return t.asyncQueue.enqueueAndForget((async()=>Us(await bo(t),s))),()=>{i.eu(),t.asyncQueue.enqueueAndForget((async()=>Fs(await bo(t),s)))}}(Co(c),l,a,u)}(function(t,e,...r){let n=[];e instanceof AppliableConstraint&&n.push(e),n=n.concat(r),function(t){const e=t.filter((t=>t instanceof QueryCompositeFilterConstraint)).length,r=t.filter((t=>t instanceof QueryFieldFilterConstraint)).length;if(e>1||e>0&&r>0)throw new FirestoreError($e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}(To(Jc,"messages"),function(t,e="asc"){const r=e,n=$o("orderBy",t);return QueryOrderByConstraint._create(n,r)}("created","desc"),(xo("limit",t=50),QueryLimitConstraint._create("limit",t,"F"))),(t=>{const e=[];t.forEach((t=>{const r=(0,d.A)({},t.data());r.created&&e.push(r)}));const i=e.sort(((t,e)=>+t.created-+e.created));n((0,d.A)({},r,{messages:i}))}));return()=>e}),[]),(0,o.useEffect)((()=>{}),[r]);const a=(0,f.F7)(),[u,c]=(0,o.useState)("");if(!e.chatVisible)return null;const l=!!a.address;function h(){s&&s.current&&s.current.scrollIntoView({behavior:"smooth"})}function p(t){let e=null;if(t.sender.avatar)e=t.sender.avatar;else{e=S(i,{seed:t.sender.name}).toDataUri()}return(0,Xc.jsx)("img",{className:"w-10 h-10 rounded",alt:"",src:e})}function m(t){return(0,Xc.jsx)("span",{className:`absolute bottom-0 left-8 transform translate-y-1/4 w-3.5 h-3.5 ${t.sender.status} border-2 border-white dark:border-gray-800 rounded-full`})}function g(t){return(0,Xc.jsx)("span",{className:"text-sm text-gray-400 w-32",children:t.payload})}function y(t){return ul(t.sender.name.toString())}function w(t){return t.created.seconds?t.created.toDate().toLocaleTimeString():"-"}return(0,Xc.jsx)(Xc.Fragment,{children:(0,Xc.jsx)("div",{className:"container mx-auto rounded-lg bg-primary text-primary-content",children:(0,Xc.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,Xc.jsx)("div",{className:"p-2",children:(0,Xc.jsx)("div",{className:"max-w-md min-h-80 mx-auto bg-gray-100 shadow-lg rounded-lg md:max-w-lg",children:(0,Xc.jsx)("div",{className:"md:flex",children:(0,Xc.jsxs)("div",{className:"w-full p-2 overflow-y-scroll",children:[(0,Xc.jsx)("ul",{children:null==r||null==(t=r.messages)?void 0:t.map((t=>function(t){return(0,Xc.jsx)("li",{className:"flex justify-between items-center bg-white mt-2 p-2 hover:shadow-lg rounded cursor-pointer transition",children:(0,Xc.jsxs)("div",{className:"flex ml-2",children:[(0,Xc.jsxs)("div",{className:"relative",children:[p(t),m(t)]}),(0,Xc.jsxs)("div",{className:"flex flex-col ml-2",children:[(0,Xc.jsxs)("span",{className:"font-medium text-black",children:[y(t)," ",(0,Xc.jsx)("span",{className:"text-gray-300 text-sm",children:w(t)})," ",(0,Xc.jsx)("i",{className:"fa fa-star text-green-400"})]})," ",(0,Xc.jsx)("span",{className:"text-sm",children:g(t)})]})]})})}(t)))}),(0,Xc.jsx)("span",{ref:s})]})})})}),(0,Xc.jsx)("div",{className:"h-full",children:(0,Xc.jsxs)("div",{className:"flex items-center py-2 px-3 rounded-lg dark:bg-gray-700",children:[(0,Xc.jsx)("button",{type:"button",disabled:!0,className:"disabled:pointer-events-none inline-flex justify-center p-2 text-gray-500 rounded-lg cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600",children:(0,Xc.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Xc.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),(0,Xc.jsx)("button",{type:"button",disabled:!0,className:"disabled:pointer-events-none p-2 text-gray-500 rounded-lg cursor-pointer hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-600",children:(0,Xc.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Xc.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z",clipRule:"evenodd"})})}),(0,Xc.jsx)("textarea",{id:"chat",rows:1,disabled:!l,className:"block mx-4 p-2.5 w-full text-sm text-gray-900 bg-white disabled:bg-gray-200 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:l?"Your message...":"Not connected",value:u,onChange:t=>c(t.target.value)}),(0,Xc.jsx)("button",{type:"button",disabled:!l&&!u,className:`disabled:pointer-events-none inline-flex justify-center p-2 ${u?"text-blue-600":"text-gray-600"} rounded-full cursor-pointer hover:bg-blue-100 dark:text-blue-500 dark:hover:bg-gray-600`,onClick:async function(){const t={sender:{name:a.address.toString(),avatar:null,status:"bg-green-400"},payload:u,created:ia()};await ta(To(Jc,"messages"),t),h(),setTimeout((()=>h()),500),c("")},children:(0,Xc.jsx)("svg",{className:"w-6 h-6 rotate-90",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,Xc.jsx)("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})})]})})})}function el(){const t=(0,Yc._)();return(0,Xc.jsx)("button",{className:"btn btn-primary rounded-btn",onClick:()=>t.setChatVisible(!t.chatVisible),children:(0,Xc.jsx)("svg",{fill:"#000000",height:"32",width:"32",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 60 60",children:(0,Xc.jsxs)("g",{children:[(0,Xc.jsx)("path",{d:"M44.348,12.793H2.652C1.189,12.793,0,13.982,0,15.445v43.762l9.414-9.414h34.934c1.463,0,2.652-1.19,2.652-2.653V15.445 C47,13.982,45.811,12.793,44.348,12.793z M10,35.777c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S12.206,35.777,10,35.777z M23,35.777c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S25.206,35.777,23,35.777z M36,35.777c-2.206,0-4-1.794-4-4s1.794-4,4-4 s4,1.794,4,4S38.206,35.777,36,35.777z"}),(0,Xc.jsx)("path",{d:"M57.348,0.793H12.652C11.189,0.793,10,1.982,10,3.445v7.348h34.348c2.565,0,4.652,2.087,4.652,4.652v25.332h11V3.445 C60,1.982,58.811,0.793,57.348,0.793z"})]})})})}const rl={level:5,experience:750,nextLevelExperience:1e3,achievements:["First Swap","Lucky Streak: Win 3 times in a row","High Roller: Swap 1000 tokens"],dailyChallenges:["Complete 5 swaps today for bonus XP!"]};function nl(){const{achievements:t,dailyChallenges:e,level:r,experience:n,nextLevelExperience:i}=rl;return(0,Yc._)().gamificationVisible?(0,Xc.jsxs)("div",{className:"stats stats-vertical shadow",children:[(0,Xc.jsxs)("div",{className:"stat",children:[(0,Xc.jsx)("div",{className:"stat-title",children:"Total Winnings"}),(0,Xc.jsx)("div",{className:"stat-value",children:"31K SOL"}),(0,Xc.jsx)("div",{className:"stat-desc",children:"\u2197\ufe0e 5K SOL (18%) Last 24h"})]}),(0,Xc.jsxs)("div",{className:"stat",children:[(0,Xc.jsx)("div",{className:"stat-title",children:"Total Swaps"}),(0,Xc.jsx)("div",{className:"stat-value",children:"4,200"}),(0,Xc.jsx)("div",{className:"stat-desc",children:"\u2197\ufe0e 400 (22%) Last 24h"})]}),(0,Xc.jsxs)("div",{className:"stat",children:[(0,Xc.jsx)("div",{className:"stat-title",children:"Your Progress"}),(0,Xc.jsxs)("div",{className:"stat-value",children:["Level ",r]}),(0,Xc.jsxs)("div",{className:"stat-desc",children:[(0,Xc.jsx)("div",{children:(0,Xc.jsx)("progress",{className:"progress progress-primary w-full",value:n,max:i})}),(0,Xc.jsxs)("div",{className:"text-right",children:[n,"/",i," XP"]})]})]}),(0,Xc.jsxs)("div",{className:"stat",children:[(0,Xc.jsx)("div",{className:"stat-title",children:"Achievements"}),(0,Xc.jsx)("div",{className:"stat-value",children:(0,Xc.jsx)("ul",{className:"text-sm list-disc list-inside",children:t.map(((t,e)=>(0,Xc.jsx)("li",{children:t},e)))})}),(0,Xc.jsx)("div",{className:"stat-desc"})]}),(0,Xc.jsxs)("div",{className:"stat",children:[(0,Xc.jsx)("div",{className:"stat-title",children:"Challenges"}),(0,Xc.jsx)("div",{className:"stat-value",children:(0,Xc.jsx)("ul",{className:"text-sm list-disc list-inside",children:e.map(((t,e)=>(0,Xc.jsx)("li",{children:t},e)))})}),(0,Xc.jsx)("div",{className:"stat-desc"})]})]}):null}function il(){const t=(0,Yc._)();return(0,Xc.jsx)("button",{className:"btn btn-primary rounded-btn",onClick:()=>t.setGamificationVisible(!t.gamificationVisible),children:(0,Xc.jsx)("svg",{fill:"#000000",height:"32",width:"32",version:"1.1",id:"Capa_2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 470.001 470.001",children:(0,Xc.jsx)("g",{children:(0,Xc.jsx)("g",{children:(0,Xc.jsxs)("g",{children:[(0,Xc.jsx)("path",{d:"M469.413,349.114l-31.938-223.211c-2.786-19.467-12.513-37.35-27.387-50.355c-15.022-13.134-34.296-20.367-54.271-20.367 c-28.272,0-54.562,14.564-69.647,38.296H183.831c-15.086-23.732-41.375-38.296-69.647-38.296 c-19.976,0-39.249,7.233-54.271,20.367c-14.874,13.005-24.601,30.888-27.387,50.355L0.587,349.114 C0.197,351.837,0,354.598,0,357.32c0,31.706,25.794,57.5,57.5,57.5c23.729,0,45.335-14.904,53.764-37.086l28.159-74.133 c6.787,5.304,15.316,8.476,24.578,8.476c15.783,0,29.457-9.191,35.96-22.5h70.079c6.503,13.309,20.177,22.5,35.96,22.5 c9.261,0,17.79-3.173,24.578-8.476l28.16,74.134c8.428,22.182,30.034,37.085,53.763,37.085c31.706,0,57.5-25.794,57.5-57.5 C470,354.598,469.803,351.837,469.413,349.114z M164,297.077c-13.785,0-25-11.215-25-25c0-13.785,11.215-25,25-25 c13.785,0,25,11.215,25,25C189,285.862,177.785,297.077,164,297.077z M306,297.077c-13.785,0-25-11.215-25-25 c0-13.785,11.215-25,25-25c13.785,0,25,11.215,25,25C331,285.862,319.785,297.077,306,297.077z M412.5,399.82 c-17.54,0-33.511-11.017-39.74-27.413l-31.181-82.086c2.819-5.475,4.421-11.674,4.421-18.244c0-22.056-17.944-40-40-40 c-22.056,0-40,17.944-40,40c0,0.84,0.035,1.672,0.086,2.5h-62.172c0.051-0.828,0.086-1.66,0.086-2.5c0-22.056-17.944-40-40-40 c-22.056,0-40,17.944-40,40c0,6.57,1.602,12.769,4.421,18.244l-31.18,82.086C91.011,388.803,75.04,399.82,57.5,399.82 c-23.435,0-42.5-19.065-42.5-42.5c0-2.013,0.146-4.059,0.437-6.081l1.383-9.662l64.232,13.398c0.517,0.108,1.031,0.16,1.539,0.16 c3.477,0,6.596-2.432,7.334-5.97c0.846-4.055-1.756-8.028-5.811-8.874l-65.165-13.593l21.704-151.683 c13.65,26.774,41.475,45.165,73.532,45.165c45.49,0,82.5-37.009,82.5-82.5c0-2.46-0.109-4.939-0.325-7.369 c-0.367-4.126-4.008-7.169-8.135-6.807c-4.126,0.367-7.173,4.009-6.807,8.135c0.177,1.989,0.267,4.021,0.267,6.041 c0,37.22-30.28,67.5-67.5,67.5c-37.22,0-67.5-30.28-67.5-67.5c0-0.801-0.128-1.572-0.361-2.296l1.053-7.357 c4.719-32.978,33.44-57.847,66.809-57.847c24.348,0,46.902,13.209,58.861,34.473c1.328,2.362,3.827,3.823,6.537,3.823H290.42 c2.71,0,5.209-1.461,6.537-3.823c11.959-21.264,34.514-34.473,58.861-34.473c33.368,0,62.09,24.869,66.809,57.847l1.053,7.357 c-0.233,0.724-0.361,1.495-0.361,2.296c0,37.22-30.28,67.5-67.5,67.5c-37.22,0-67.5-30.28-67.5-67.5 c0-2.019,0.09-4.051,0.267-6.041c0.366-4.126-2.681-7.768-6.807-8.135c-4.108-0.363-7.768,2.681-8.135,6.807 c-0.216,2.429-0.325,4.908-0.325,7.369c0,45.491,37.01,82.5,82.5,82.5c32.057,0,59.882-18.391,73.532-45.165l21.704,151.683 l-65.164,13.594c-4.055,0.846-6.656,4.818-5.811,8.874c0.738,3.539,3.856,5.97,7.334,5.97c0.508,0,1.023-0.052,1.539-0.16 l64.231-13.399l1.383,9.662c0.29,2.022,0.437,4.068,0.437,6.081C455,380.754,435.935,399.82,412.5,399.82z"}),(0,Xc.jsx)("path",{d:"M149.184,130.18h-27.5v-27.5c0-4.142-3.357-7.5-7.5-7.5s-7.5,3.358-7.5,7.5v27.5h-27.5c-4.143,0-7.5,3.358-7.5,7.5 c0,4.142,3.357,7.5,7.5,7.5h27.5v27.5c0,4.142,3.357,7.5,7.5,7.5s7.5-3.358,7.5-7.5v-27.5h27.5c4.143,0,7.5-3.358,7.5-7.5 C156.684,133.538,153.326,130.18,149.184,130.18z"}),(0,Xc.jsx)("path",{d:"M355.816,180.18c23.435,0,42.5-19.065,42.5-42.5s-19.065-42.5-42.5-42.5s-42.5,19.065-42.5,42.5 S332.382,180.18,355.816,180.18z M355.816,110.18c15.163,0,27.5,12.336,27.5,27.5s-12.337,27.5-27.5,27.5 c-15.163,0-27.5-12.336-27.5-27.5S340.653,110.18,355.816,110.18z"}),(0,Xc.jsx)("path",{d:"M246.781,244.577H223.22c-4.143,0-7.5,3.358-7.5,7.5c0,4.142,3.357,7.5,7.5,7.5h23.562c4.143,0,7.5-3.358,7.5-7.5 C254.282,247.935,250.924,244.577,246.781,244.577z"})]})})})})})}function sl({children:t,links:e}){const{pathname:r}=(0,a.zy)();(0,Yc._)();return(0,Xc.jsxs)("div",{className:"h-full flex flex-col",children:[(0,Xc.jsxs)("div",{className:"navbar bg-base-300 flex-col md:flex-row space-y-2 md:space-y-0",children:[(0,Xc.jsxs)("div",{className:"flex-1",children:[(0,Xc.jsx)(u.N_,{className:"btn btn-ghost normal-case text-xl",to:"/",children:(0,Xc.jsx)("img",{className:"h-4 md:h-6",alt:"Logo",src:"/assets/logo.png"})}),(0,Xc.jsx)("ul",{className:"menu menu-horizontal px-1 space-x-2",children:e.map((({label:t,path:e})=>(0,Xc.jsx)("li",{children:(0,Xc.jsx)(u.N_,{className:r.startsWith(e)?"active":"",to:e,children:t})},e)))})]}),(0,Xc.jsx)("div",{className:"flex-none space-x-2",children:(0,Xc.jsx)(s.U,{})})]}),(0,Xc.jsx)(l.m,{children:(0,Xc.jsx)(c.hd,{})}),(0,Xc.jsxs)("div",{className:"flex-grow mx-4 lg:mx-auto",children:[(0,Xc.jsx)(o.Suspense,{fallback:(0,Xc.jsx)("div",{className:"text-center my-32",children:(0,Xc.jsx)("span",{className:"loading loading-spinner loading-lg"})}),children:(0,Xc.jsxs)("div",{className:"flex w-full",children:[(0,Xc.jsx)("div",{className:"grid flex-grow",children:(0,Xc.jsx)(nl,{})}),(0,Xc.jsx)("div",{className:"grid flex-grow",children:t}),(0,Xc.jsx)("div",{className:"grid flex-grow",children:(0,Xc.jsx)(tl,{})})]})}),(0,Xc.jsx)(h.l$,{position:"bottom-right"})]}),(0,Xc.jsxs)("footer",{className:"footer footer-center bg-base-200 text-base-content rounded p-10",children:[(0,Xc.jsxs)("nav",{className:"grid grid-flow-col gap-4",children:[(0,Xc.jsx)("a",{className:"link link-hover",href:"mailto:info@luckyswaps.app",children:"About Us"}),(0,Xc.jsx)("a",{className:"link link-hover",href:"mailto:info@luckyswaps.app",children:"Contact"}),(0,Xc.jsxs)("div",{className:"flex-none space-x-2",children:[(0,Xc.jsx)(il,{}),(0,Xc.jsx)(el,{})]})]}),(0,Xc.jsx)("nav",{children:(0,Xc.jsxs)("div",{className:"grid grid-flow-col gap-4",children:[(0,Xc.jsx)("a",{children:(0,Xc.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"optimizeQuality",fillRule:"evenodd",clipRule:"evenodd",viewBox:"0 0 512 462.799",className:"fill-current",width:"24",height:"24",children:(0,Xc.jsx)("path",{fillRule:"nonzero",d:"M403.229 0h78.506L310.219 196.04 512 462.799H354.002L230.261 301.007 88.669 462.799h-78.56l183.455-209.683L0 0h161.999l111.856 147.88L403.229 0zm-27.556 415.805h43.505L138.363 44.527h-46.68l283.99 371.278z"})})}),(0,Xc.jsx)("a",{children:(0,Xc.jsx)("svg",{width:"24",height:"24",viewBox:"0 -28.5 256 256",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",className:"fill-current",children:(0,Xc.jsx)("g",{children:(0,Xc.jsx)("path",{d:"M216.856339,16.5966031 C200.285002,8.84328665 182.566144,3.2084988 164.041564,0 C161.766523,4.11318106 159.108624,9.64549908 157.276099,14.0464379 C137.583995,11.0849896 118.072967,11.0849896 98.7430163,14.0464379 C96.9108417,9.64549908 94.1925838,4.11318106 91.8971895,0 C73.3526068,3.2084988 55.6133949,8.86399117 39.0420583,16.6376612 C5.61752293,67.146514 -3.4433191,116.400813 1.08711069,164.955721 C23.2560196,181.510915 44.7403634,191.567697 65.8621325,198.148576 C71.0772151,190.971126 75.7283628,183.341335 79.7352139,175.300261 C72.104019,172.400575 64.7949724,168.822202 57.8887866,164.667963 C59.7209612,163.310589 61.5131304,161.891452 63.2445898,160.431257 C105.36741,180.133187 151.134928,180.133187 192.754523,160.431257 C194.506336,161.891452 196.298154,163.310589 198.110326,164.667963 C191.183787,168.842556 183.854737,172.420929 176.223542,175.320965 C180.230393,183.341335 184.861538,190.991831 190.096624,198.16893 C211.238746,191.588051 232.743023,181.531619 254.911949,164.955721 C260.227747,108.668201 245.831087,59.8662432 216.856339,16.5966031 Z M85.4738752,135.09489 C72.8290281,135.09489 62.4592217,123.290155 62.4592217,108.914901 C62.4592217,94.5396472 72.607595,82.7145587 85.4738752,82.7145587 C98.3405064,82.7145587 108.709962,94.5189427 108.488529,108.914901 C108.508531,123.290155 98.3405064,135.09489 85.4738752,135.09489 Z M170.525237,135.09489 C157.88039,135.09489 147.510584,123.290155 147.510584,108.914901 C147.510584,94.5396472 157.658606,82.7145587 170.525237,82.7145587 C183.391518,82.7145587 193.761324,94.5189427 193.539891,108.914901 C193.539891,123.290155 183.391518,135.09489 170.525237,135.09489 Z",fillRule:"nonzero"})})})}),(0,Xc.jsx)("a",{children:(0,Xc.jsxs)("svg",{className:"fill-current",width:"24",height:"24",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[(0,Xc.jsx)("title",{children:"telegram"}),(0,Xc.jsx)("path",{d:"M22.122 10.040c0.006-0 0.014-0 0.022-0 0.209 0 0.403 0.065 0.562 0.177l-0.003-0.002c0.116 0.101 0.194 0.243 0.213 0.403l0 0.003c0.020 0.122 0.031 0.262 0.031 0.405 0 0.065-0.002 0.129-0.007 0.193l0-0.009c-0.225 2.369-1.201 8.114-1.697 10.766-0.21 1.123-0.623 1.499-1.023 1.535-0.869 0.081-1.529-0.574-2.371-1.126-1.318-0.865-2.063-1.403-3.342-2.246-1.479-0.973-0.52-1.51 0.322-2.384 0.221-0.23 4.052-3.715 4.127-4.031 0.004-0.019 0.006-0.040 0.006-0.062 0-0.078-0.029-0.149-0.076-0.203l0 0c-0.052-0.034-0.117-0.053-0.185-0.053-0.045 0-0.088 0.009-0.128 0.024l0.002-0.001q-0.198 0.045-6.316 4.174c-0.445 0.351-1.007 0.573-1.619 0.599l-0.006 0c-0.867-0.105-1.654-0.298-2.401-0.573l0.074 0.024c-0.938-0.306-1.683-0.467-1.619-0.985q0.051-0.404 1.114-0.827 6.548-2.853 8.733-3.761c1.607-0.853 3.47-1.555 5.429-2.010l0.157-0.031zM15.93 1.025c-8.302 0.020-15.025 6.755-15.025 15.060 0 8.317 6.742 15.060 15.060 15.060s15.060-6.742 15.060-15.060c0-8.305-6.723-15.040-15.023-15.060h-0.002q-0.035-0-0.070 0z"})]})})]})}),(0,Xc.jsxs)("aside",{children:[(0,Xc.jsxs)("p",{children:["Copyright \xa9 ",(new Date).getFullYear()," - All right reserved"]}),(0,Xc.jsx)("img",{className:"h-5 md:h-7",alt:"Logo",src:"/assets/footer-logo.png"})]})]})]})}function ol({children:t,title:e,hide:r,show:n,submit:i,submitDisabled:s,submitLabel:a}){const u=(0,o.useRef)(null);return(0,o.useEffect)((()=>{u.current&&(n?u.current.showModal():u.current.close())}),[n,u]),(0,Xc.jsxs)("dialog",{className:"modal",ref:u,children:[(0,Xc.jsxs)("div",{className:"modal-box space-y-5",children:[(0,Xc.jsx)("form",{method:"dialog",children:(0,Xc.jsx)("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:()=>r(),children:"\u2715"})}),(0,Xc.jsx)("h3",{className:"font-bold text-lg",children:e}),t,(0,Xc.jsx)("div",{className:"modal-action",children:(0,Xc.jsxs)("div",{className:"join space-x-2",children:[i?(0,Xc.jsx)("button",{className:"btn btn-xs lg:btn-md btn-primary",onClick:i,disabled:s,children:a||"Save"}):null,(0,Xc.jsx)("button",{onClick:r,className:"btn",children:"Close"})]})})]}),(0,Xc.jsx)("form",{method:"dialog",className:"modal-backdrop",children:(0,Xc.jsx)("button",{onClick:()=>r(),children:"close"})})]})}function al({children:t,title:e,subtitle:r}){return(0,Xc.jsx)("div",{className:"hero py-[64px]",children:(0,Xc.jsx)("div",{className:"hero-content text-center",children:(0,Xc.jsxs)("div",{className:"max-w-2xl",children:["string"==typeof e?(0,Xc.jsx)("h1",{className:"text-5xl font-bold",children:e}):e,"string"==typeof r?(0,Xc.jsx)("p",{className:"py-6",children:r}):r,t]})})})}function ul(t="",e=4){return t.length>30?t.substring(0,e)+".."+t.substring(t.length-e,t.length):t}function cl(){return(t,e="confirmed")=>{"confirmed"===e?h.Ay.success((0,Xc.jsxs)("div",{className:"text-center",children:[(0,Xc.jsx)("div",{className:"text-lg",children:"Transaction confirmed"}),(0,Xc.jsx)(l.wq,{path:`tx/${t}`,label:"View Transaction",className:"btn btn-xs btn-primary"})]})):h.Ay.success((0,Xc.jsx)("div",{className:"text-center",children:(0,Xc.jsx)("div",{className:"text-lg",children:"Transaction sent"})}))}}function ll(){return t=>{h.Ay.error((0,Xc.jsxs)("div",{className:"text-center",children:[(0,Xc.jsx)("div",{className:"text-lg",children:"Error"}),(0,Xc.jsx)("span",{children:t.toString()})]}))}}},2030:(t,e,r)=>{"use strict";r.d(e,{az:()=>Io,uA:()=>Ao,TI:()=>xo,sS:()=>To});var n={};r.r(n),r.d(n,{NQ:()=>AnchorProvider,BP:()=>Program});var i=r(3017),s=r(5067),o=r(3483),a=r(785),u=r(432);const c=t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)}),l=t=>e=>{const r=(0,a.av)(t,e),{encode:n,decode:i}=c(r),s=r;return s.decode=(t,e)=>{const r=i(t,e);return(0,u.k5)(Buffer.from(r))},s.encode=(e,r,i)=>{const s=(0,u.Bq)(e,t);return n(s,r,i)},s},h=t=>e=>{const r=(0,a.av)(t,e),{encode:n,decode:i}=c(r),s=r;return s.decode=(t,e)=>{const r=i(t,e);return(0,u.cI)(Buffer.from(r))},s.encode=(e,r,i)=>{const s=(0,u.zy)(e,t);return n(s,r,i)},s},d=l(8);h(8),l(16),h(16),l(24),h(24),l(32),h(32);var f=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,p=Math.ceil,m=Math.floor,g="[BigNumber Error] ",y=g+"Number primitive has more than 15 significant digits: ",w=1e14,v=14,b=9007199254740991,_=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],E=1e7,S=1e9;function k(t){var e=0|t;return t>0||t===e?e:e-1}function A(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=v-e.length;r--;e="0"+e);s+=e}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function I(t,e){var r,n,i=t.c,s=e.c,o=t.s,a=e.s,u=t.e,c=e.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=u==c,!i||!s)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=i.length)<(c=s.length)?u:c,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return u==c?0:u>c^r?1:-1}function M(t,e,r,n){if(t<e||t>r||t!==m(t))throw Error(g+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function x(t){var e=t.c.length-1;return k(t.e/v)==e&&t.c[e]%2!=0}function T(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function R(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(++e>(n=t.length)){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var C=function t(e){var r,n,i,s,o,a,u,c,l,h,d=q.prototype={constructor:q,toString:null,valueOf:null},C=new q(1),P=20,O=4,N=-7,B=21,L=-1e7,D=1e7,U=!1,F=1,z=0,j={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},V="0123456789abcdefghijklmnopqrstuvwxyz",H=!0;function q(t,e){var r,s,o,a,u,c,l,h,d=this;if(!(d instanceof q))return new q(t,e);if(null==e){if(t&&!0===t._isBigNumber)return d.s=t.s,void(!t.c||t.e>D?d.c=d.e=null:t.e<L?d.c=[d.e=0]:(d.e=t.e,d.c=t.c.slice()));if((c="number"==typeof t)&&0*t==0){if(d.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,u=t;u>=10;u/=10,a++);return void(a>D?d.c=d.e=null:(d.e=a,d.c=[t]))}h=String(t)}else{if(!f.test(h=String(t)))return i(d,h,c);d.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(a=h.indexOf("."))>-1&&(h=h.replace(".","")),(u=h.search(/e/i))>0?(a<0&&(a=u),a+=+h.slice(u+1),h=h.substring(0,u)):a<0&&(a=h.length)}else{if(M(e,2,V.length,"Base"),10==e&&H)return Z(d=new q(t),P+d.e+1,O);if(h=String(t),c="number"==typeof t){if(0*t!=0)return i(d,h,c,e);if(d.s=1/t<0?(h=h.slice(1),-1):1,q.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(y+t)}else d.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(r=V.slice(0,e),a=u=0,l=h.length;u<l;u++)if(r.indexOf(s=h.charAt(u))<0){if("."==s){if(u>a){a=l;continue}}else if(!o&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){o=!0,u=-1,a=0;continue}return i(d,String(t),c,e)}c=!1,(a=(h=n(h,e,10,d.s)).indexOf("."))>-1?h=h.replace(".",""):a=h.length}for(u=0;48===h.charCodeAt(u);u++);for(l=h.length;48===h.charCodeAt(--l););if(h=h.slice(u,++l)){if(l-=u,c&&q.DEBUG&&l>15&&(t>b||t!==m(t)))throw Error(y+d.s*t);if((a=a-u-1)>D)d.c=d.e=null;else if(a<L)d.c=[d.e=0];else{if(d.e=a,d.c=[],u=(a+1)%v,a<0&&(u+=v),u<l){for(u&&d.c.push(+h.slice(0,u)),l-=v;u<l;)d.c.push(+h.slice(u,u+=v));u=v-(h=h.slice(u)).length}else u-=l;for(;u--;h+="0");d.c.push(+h)}}else d.c=[d.e=0]}function K(t,e,r,n){var i,s,o,a,u;if(null==r?r=O:M(r,0,8),!t.c)return t.toString();if(i=t.c[0],o=t.e,null==e)u=A(t.c),u=1==n||2==n&&(o<=N||o>=B)?T(u,o):R(u,o,"0");else if(s=(t=Z(new q(t),e,r)).e,a=(u=A(t.c)).length,1==n||2==n&&(e<=s||s<=N)){for(;a<e;u+="0",a++);u=T(u,s)}else if(e-=o,u=R(u,s,"0"),s+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=s-a)>0)for(s+1==a&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function W(t,e){for(var r,n,i=1,s=new q(t[0]);i<t.length;i++)(!(n=new q(t[i])).s||(r=I(s,n))===e||0===r&&s.s===e)&&(s=n);return s}function $(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*v-1)>D?t.c=t.e=null:r<L?t.c=[t.e=0]:(t.e=r,t.c=e),t}function Z(t,e,r,n){var i,s,o,a,u,c,l,h=t.c,d=_;if(h){t:{for(i=1,a=h[0];a>=10;a/=10,i++);if((s=e-i)<0)s+=v,o=e,u=h[c=0],l=m(u/d[i-o-1]%10);else if((c=p((s+1)/v))>=h.length){if(!n)break t;for(;h.length<=c;h.push(0));u=l=0,i=1,o=(s%=v)-v+1}else{for(u=a=h[c],i=1;a>=10;a/=10,i++);l=(o=(s%=v)-v+i)<0?0:m(u/d[i-o-1]%10)}if(n=n||e<0||null!=h[c+1]||(o<0?u:u%d[i-o-1]),n=r<4?(l||n)&&(0==r||r==(t.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(s>0?o>0?u/d[i-o]:0:h[c-1])%10&1||r==(t.s<0?8:7)),e<1||!h[0])return h.length=0,n?(e-=t.e+1,h[0]=d[(v-e%v)%v],t.e=-e||0):h[0]=t.e=0,t;if(0==s?(h.length=c,a=1,c--):(h.length=c+1,a=d[v-s],h[c]=o>0?m(u/d[i-o]%d[o])*a:0),n)for(;;){if(0==c){for(s=1,o=h[0];o>=10;o/=10,s++);for(o=h[0]+=a,a=1;o>=10;o/=10,a++);s!=a&&(t.e++,h[0]==w&&(h[0]=1));break}if(h[c]+=a,h[c]!=w)break;h[c--]=0,a=1}for(s=h.length;0===h[--s];h.pop());}t.e>D?t.c=t.e=null:t.e<L&&(t.c=[t.e=0])}return t}function G(t){var e,r=t.e;return null===r?t.toString():(e=A(t.c),e=r<=N||r>=B?T(e,r):R(e,r,"0"),t.s<0?"-"+e:e)}return q.clone=t,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(g+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(M(r=t[e],0,S,e),P=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(M(r=t[e],0,8,e),O=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(M(r[0],-S,0,e),M(r[1],0,S,e),N=r[0],B=r[1]):(M(r,-S,S,e),N=-(B=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)M(r[0],-S,-1,e),M(r[1],1,S,e),L=r[0],D=r[1];else{if(M(r,-S,S,e),!r)throw Error(g+e+" cannot be zero: "+r);L=-(D=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(g+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!r,Error(g+"crypto unavailable");U=r}else U=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(M(r=t[e],0,9,e),F=r),t.hasOwnProperty(e="POW_PRECISION")&&(M(r=t[e],0,S,e),z=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(g+e+" not an object: "+r);j=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(g+e+" invalid: "+r);H="0123456789"==r.slice(0,10),V=r}}return{DECIMAL_PLACES:P,ROUNDING_MODE:O,EXPONENTIAL_AT:[N,B],RANGE:[L,D],CRYPTO:U,MODULO_MODE:F,POW_PRECISION:z,FORMAT:j,ALPHABET:V}},q.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!q.DEBUG)return!0;var e,r,n=t.c,i=t.e,s=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&i>=-S&&i<=S&&i===m(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((e=(i+1)%v)<1&&(e+=v),String(n[0]).length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||r>=w||r!==m(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(g+"Invalid BigNumber: "+t)},q.maximum=q.max=function(){return W(arguments,-1)},q.minimum=q.min=function(){return W(arguments,1)},q.random=(s=9007199254740992,o=Math.random()*s&2097151?function(){return m(Math.random()*s)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,i,s,a=0,u=[],c=new q(C);if(null==t?t=P:M(t,0,S),i=p(t/v),U)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));a<i;)(s=131072*e[a]+(e[a+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[a]=r[0],e[a+1]=r[1]):(u.push(s%1e14),a+=2);a=i/2}else{if(!crypto.randomBytes)throw U=!1,Error(g+"crypto unavailable");for(e=crypto.randomBytes(i*=7);a<i;)(s=281474976710656*(31&e[a])+1099511627776*e[a+1]+4294967296*e[a+2]+16777216*e[a+3]+(e[a+4]<<16)+(e[a+5]<<8)+e[a+6])>=9e15?crypto.randomBytes(7).copy(e,a):(u.push(s%1e14),a+=7);a=i/7}if(!U)for(;a<i;)(s=o())<9e15&&(u[a++]=s%1e14);for(i=u[--a],t%=v,i&&t&&(s=_[v-t],u[a]=m(i/s)*s);0===u[a];u.pop(),a--);if(a<0)u=[n=0];else{for(n=-1;0===u[0];u.splice(0,1),n-=v);for(a=1,s=u[0];s>=10;s/=10,a++);a<v&&(n-=v-a)}return c.e=n,c.c=u,c}),q.sum=function(){for(var t=1,e=arguments,r=new q(e[0]);t<e.length;)r=r.plus(e[t++]);return r},n=function(){var t="0123456789";function e(t,e,r,n){for(var i,s,o=[0],a=0,u=t.length;a<u;){for(s=o.length;s--;o[s]*=e);for(o[0]+=n.indexOf(t.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(n,i,s,o,a){var u,c,l,h,d,f,p,m,g=n.indexOf("."),y=P,w=O;for(g>=0&&(h=z,z=0,n=n.replace(".",""),f=(m=new q(i)).pow(n.length-g),z=h,m.c=e(R(A(f.c),f.e,"0"),10,s,t),m.e=m.c.length),l=h=(p=e(n,i,s,a?(u=V,t):(u=t,V))).length;0==p[--h];p.pop());if(!p[0])return u.charAt(0);if(g<0?--l:(f.c=p,f.e=l,f.s=o,p=(f=r(f,m,y,w,s)).c,d=f.r,l=f.e),g=p[c=l+y+1],h=s/2,d=d||c<0||null!=p[c+1],d=w<4?(null!=g||d)&&(0==w||w==(f.s<0?3:2)):g>h||g==h&&(4==w||d||6==w&&1&p[c-1]||w==(f.s<0?8:7)),c<1||!p[0])n=d?R(u.charAt(1),-y,u.charAt(0)):u.charAt(0);else{if(p.length=c,d)for(--s;++p[--c]>s;)p[c]=0,c||(++l,p=[1].concat(p));for(h=p.length;!p[--h];);for(g=0,n="";g<=h;n+=u.charAt(p[g++]));n=R(n,l,u.charAt(0))}return n}}(),r=function(){function t(t,e,r){var n,i,s,o,a=0,u=t.length,c=e%E,l=e/E|0;for(t=t.slice();u--;)a=((i=c*(s=t[u]%E)+(n=l*s+(o=t[u]/E|0)*c)%E*E+a)/r|0)+(n/E|0)+l*o,t[u]=i%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(t[i]!=e[i]){s=t[i]>e[i]?1:-1;break}return s}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,s,o,a){var u,c,l,h,d,f,p,g,y,b,_,E,S,A,I,M,x,T=n.s==i.s?1:-1,R=n.c,C=i.c;if(!(R&&R[0]&&C&&C[0]))return new q(n.s&&i.s&&(R?!C||R[0]!=C[0]:C)?R&&0==R[0]||!C?0*T:T/0:NaN);for(y=(g=new q(T)).c=[],T=s+(c=n.e-i.e)+1,a||(a=w,c=k(n.e/v)-k(i.e/v),T=T/v|0),l=0;C[l]==(R[l]||0);l++);if(C[l]>(R[l]||0)&&c--,T<0)y.push(1),h=!0;else{for(A=R.length,M=C.length,l=0,T+=2,(d=m(a/(C[0]+1)))>1&&(C=t(C,d,a),R=t(R,d,a),M=C.length,A=R.length),S=M,_=(b=R.slice(0,M)).length;_<M;b[_++]=0);x=C.slice(),x=[0].concat(x),I=C[0],C[1]>=a/2&&I++;do{if(d=0,(u=e(C,b,M,_))<0){if(E=b[0],M!=_&&(E=E*a+(b[1]||0)),(d=m(E/I))>1)for(d>=a&&(d=a-1),p=(f=t(C,d,a)).length,_=b.length;1==e(f,b,p,_);)d--,r(f,M<p?x:C,p,a),p=f.length,u=1;else 0==d&&(u=d=1),p=(f=C.slice()).length;if(p<_&&(f=[0].concat(f)),r(b,f,_,a),_=b.length,-1==u)for(;e(C,b,M,_)<1;)d++,r(b,M<_?x:C,_,a),_=b.length}else 0===u&&(d++,b=[0]);y[l++]=d,b[0]?b[_++]=R[S]||0:(b=[R[S]],_=1)}while((S++<A||null!=b[0])&&T--);h=null!=b[0],y[0]||y.splice(0,1)}if(a==w){for(l=1,T=y[0];T>=10;T/=10,l++);Z(g,s+(g.e=l+c*v-1)+1,o,h)}else g.e=c,g.r=+h;return g}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,u=/^([^.]+)\.$/,c=/^\.([^.]+)$/,l=/^-?(Infinity|NaN)$/,h=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,r,n){var i,s=r?e:e.replace(h,"");if(l.test(s))t.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(a,(function(t,e,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?t:e})),n&&(i=n,s=s.replace(u,"$1").replace(c,"0.$1")),e!=s))return new q(s,i);if(q.DEBUG)throw Error(g+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},d.absoluteValue=d.abs=function(){var t=new q(this);return t.s<0&&(t.s=1),t},d.comparedTo=function(t,e){return I(this,new q(t,e))},d.decimalPlaces=d.dp=function(t,e){var r,n,i,s=this;if(null!=t)return M(t,0,S),null==e?e=O:M(e,0,8),Z(new q(s),t+s.e+1,e);if(!(r=s.c))return null;if(n=((i=r.length-1)-k(this.e/v))*v,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},d.dividedBy=d.div=function(t,e){return r(this,new q(t,e),P,O)},d.dividedToIntegerBy=d.idiv=function(t,e){return r(this,new q(t,e),0,1)},d.exponentiatedBy=d.pow=function(t,e){var r,n,i,s,o,a,u,c,l=this;if((t=new q(t)).c&&!t.isInteger())throw Error(g+"Exponent not an integer: "+G(t));if(null!=e&&(e=new q(e)),o=t.e>14,!l.c||!l.c[0]||1==l.c[0]&&!l.e&&1==l.c.length||!t.c||!t.c[0])return c=new q(Math.pow(+G(l),o?t.s*(2-x(t)):+G(t))),e?c.mod(e):c;if(a=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new q(NaN);(n=!a&&l.isInteger()&&e.isInteger())&&(l=l.mod(e))}else{if(t.e>9&&(l.e>0||l.e<-1||(0==l.e?l.c[0]>1||o&&l.c[1]>=24e7:l.c[0]<8e13||o&&l.c[0]<=9999975e7)))return s=l.s<0&&x(t)?-0:0,l.e>-1&&(s=1/s),new q(a?1/s:s);z&&(s=p(z/v+2))}for(o?(r=new q(.5),a&&(t.s=1),u=x(t)):u=(i=Math.abs(+G(t)))%2,c=new q(C);;){if(u){if(!(c=c.times(l)).c)break;s?c.c.length>s&&(c.c.length=s):n&&(c=c.mod(e))}if(i){if(0===(i=m(i/2)))break;u=i%2}else if(Z(t=t.times(r),t.e+1,1),t.e>14)u=x(t);else{if(0===(i=+G(t)))break;u=i%2}l=l.times(l),s?l.c&&l.c.length>s&&(l.c.length=s):n&&(l=l.mod(e))}return n?c:(a&&(c=C.div(c)),e?c.mod(e):s?Z(c,z,O,undefined):c)},d.integerValue=function(t){var e=new q(this);return null==t?t=O:M(t,0,8),Z(e,e.e+1,t)},d.isEqualTo=d.eq=function(t,e){return 0===I(this,new q(t,e))},d.isFinite=function(){return!!this.c},d.isGreaterThan=d.gt=function(t,e){return I(this,new q(t,e))>0},d.isGreaterThanOrEqualTo=d.gte=function(t,e){return 1===(e=I(this,new q(t,e)))||0===e},d.isInteger=function(){return!!this.c&&k(this.e/v)>this.c.length-2},d.isLessThan=d.lt=function(t,e){return I(this,new q(t,e))<0},d.isLessThanOrEqualTo=d.lte=function(t,e){return-1===(e=I(this,new q(t,e)))||0===e},d.isNaN=function(){return!this.s},d.isNegative=function(){return this.s<0},d.isPositive=function(){return this.s>0},d.isZero=function(){return!!this.c&&0==this.c[0]},d.minus=function(t,e){var r,n,i,s,o=this,a=o.s;if(e=(t=new q(t,e)).s,!a||!e)return new q(NaN);if(a!=e)return t.s=-e,o.plus(t);var u=o.e/v,c=t.e/v,l=o.c,h=t.c;if(!u||!c){if(!l||!h)return l?(t.s=-e,t):new q(h?o:NaN);if(!l[0]||!h[0])return h[0]?(t.s=-e,t):new q(l[0]?o:3==O?-0:0)}if(u=k(u),c=k(c),l=l.slice(),a=u-c){for((s=a<0)?(a=-a,i=l):(c=u,i=h),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(s=(a=l.length)<(e=h.length))?a:e,a=e=0;e<n;e++)if(l[e]!=h[e]){s=l[e]<h[e];break}if(s&&(i=l,l=h,h=i,t.s=-t.s),(e=(n=h.length)-(r=l.length))>0)for(;e--;l[r++]=0);for(e=w-1;n>a;){if(l[--n]<h[n]){for(r=n;r&&!l[--r];l[r]=e);--l[r],l[n]+=w}l[n]-=h[n]}for(;0==l[0];l.splice(0,1),--c);return l[0]?$(t,l,c):(t.s=3==O?-1:1,t.c=[t.e=0],t)},d.modulo=d.mod=function(t,e){var n,i,s=this;return t=new q(t,e),!s.c||!t.s||t.c&&!t.c[0]?new q(NaN):!t.c||s.c&&!s.c[0]?new q(s):(9==F?(i=t.s,t.s=1,n=r(s,t,0,3),t.s=i,n.s*=i):n=r(s,t,0,F),(t=s.minus(n.times(t))).c[0]||1!=F||(t.s=s.s),t)},d.multipliedBy=d.times=function(t,e){var r,n,i,s,o,a,u,c,l,h,d,f,p,m,g,y=this,b=y.c,_=(t=new q(t,e)).c;if(!(b&&_&&b[0]&&_[0]))return!y.s||!t.s||b&&!b[0]&&!_||_&&!_[0]&&!b?t.c=t.e=t.s=null:(t.s*=y.s,b&&_?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=k(y.e/v)+k(t.e/v),t.s*=y.s,(u=b.length)<(h=_.length)&&(p=b,b=_,_=p,i=u,u=h,h=i),i=u+h,p=[];i--;p.push(0));for(m=w,g=E,i=h;--i>=0;){for(r=0,d=_[i]%g,f=_[i]/g|0,s=i+(o=u);s>i;)r=((c=d*(c=b[--o]%g)+(a=f*c+(l=b[o]/g|0)*d)%g*g+p[s]+r)/m|0)+(a/g|0)+f*l,p[s--]=c%m;p[s]=r}return r?++n:p.splice(0,1),$(t,p,n)},d.negated=function(){var t=new q(this);return t.s=-t.s||null,t},d.plus=function(t,e){var r,n=this,i=n.s;if(e=(t=new q(t,e)).s,!i||!e)return new q(NaN);if(i!=e)return t.s=-e,n.minus(t);var s=n.e/v,o=t.e/v,a=n.c,u=t.c;if(!s||!o){if(!a||!u)return new q(i/0);if(!a[0]||!u[0])return u[0]?t:new q(a[0]?n:0*i)}if(s=k(s),o=k(o),a=a.slice(),i=s-o){for(i>0?(o=s,r=u):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=u.length)<0&&(r=u,u=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+u[e]+i)/w|0,a[e]=w===a[e]?0:a[e]%w;return i&&(a=[i].concat(a),++o),$(t,a,o)},d.precision=d.sd=function(t,e){var r,n,i,s=this;if(null!=t&&t!==!!t)return M(t,1,S),null==e?e=O:M(e,0,8),Z(new q(s),t,e);if(!(r=s.c))return null;if(n=(i=r.length-1)*v+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return t&&s.e+1>n&&(n=s.e+1),n},d.shiftedBy=function(t){return M(t,-9007199254740991,b),this.times("1e"+t)},d.squareRoot=d.sqrt=function(){var t,e,n,i,s,o=this,a=o.c,u=o.s,c=o.e,l=P+4,h=new q("0.5");if(1!==u||!a||!a[0])return new q(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+G(o)))||u==1/0?(((e=A(a)).length+c)%2==0&&(e+="0"),u=Math.sqrt(+e),c=k((c+1)/2)-(c<0||c%2),n=new q(e=u==1/0?"5e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new q(u+""),n.c[0])for((u=(c=n.e)+l)<3&&(u=0);;)if(s=n,n=h.times(s.plus(r(o,s,l,1))),A(s.c).slice(0,u)===(e=A(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(Z(n,n.e+P+2,1),t=!n.times(n).eq(o));break}if(!i&&(Z(s,s.e+P+2,0),s.times(s).eq(o))){n=s;break}l+=4,u+=4,i=1}return Z(n,n.e+P+1,O,t)},d.toExponential=function(t,e){return null!=t&&(M(t,0,S),t++),K(this,t,e,1)},d.toFixed=function(t,e){return null!=t&&(M(t,0,S),t=t+this.e+1),K(this,t,e)},d.toFormat=function(t,e,r){var n,i=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=j;else if("object"!=typeof r)throw Error(g+"Argument not an object: "+r);if(n=i.toFixed(t,e),i.c){var s,o=n.split("."),a=+r.groupSize,u=+r.secondaryGroupSize,c=r.groupSeparator||"",l=o[0],h=o[1],d=i.s<0,f=d?l.slice(1):l,p=f.length;if(u&&(s=a,a=u,u=s,p-=s),a>0&&p>0){for(s=p%a||a,l=f.substr(0,s);s<p;s+=a)l+=c+f.substr(s,a);u>0&&(l+=c+f.slice(s)),d&&(l="-"+l)}n=h?l+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):l}return(r.prefix||"")+n+(r.suffix||"")},d.toFraction=function(t){var e,n,i,s,o,a,u,c,l,h,d,f,p=this,m=p.c;if(null!=t&&(!(u=new q(t)).isInteger()&&(u.c||1!==u.s)||u.lt(C)))throw Error(g+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+G(u));if(!m)return new q(p);for(e=new q(C),l=n=new q(C),i=c=new q(C),f=A(m),o=e.e=f.length-p.e-1,e.c[0]=_[(a=o%v)<0?v+a:a],t=!t||u.comparedTo(e)>0?o>0?e:l:u,a=D,D=1/0,u=new q(f),c.c[0]=0;h=r(u,e,0,1),1!=(s=n.plus(h.times(i))).comparedTo(t);)n=i,i=s,l=c.plus(h.times(s=l)),c=s,e=u.minus(h.times(s=e)),u=s;return s=r(t.minus(n),i,0,1),c=c.plus(s.times(l)),n=n.plus(s.times(i)),c.s=l.s=p.s,d=r(l,i,o*=2,O).minus(p).abs().comparedTo(r(c,n,o,O).minus(p).abs())<1?[l,i]:[c,n],D=a,d},d.toNumber=function(){return+G(this)},d.toPrecision=function(t,e){return null!=t&&M(t,1,S),K(this,t,e,2)},d.toString=function(t){var e,r=this,i=r.s,s=r.e;return null===s?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=s<=N||s>=B?T(A(r.c),s):R(A(r.c),s,"0"):10===t&&H?e=R(A((r=Z(new q(r),P+s+1,O)).c),r.e,"0"):(M(t,2,V.length,"Base"),e=n(R(A(r.c),s,"0"),10,t,i,!0)),i<0&&r.c[0]&&(e="-"+e)),e},d.valueOf=d.toJSON=function(){return G(this)},d._isBigNumber=!0,d[Symbol.toStringTag]="BigNumber",d[Symbol.for("nodejs.util.inspect.custom")]=d.valueOf,null!=e&&q.set(e),q}();new C("1e+18");const P=t=>{const e=(0,a.av)(32,t),{encode:r,decode:n}=c(e),i=e;return i.decode=(t,e)=>{const r=n(t,e);return new o.PublicKey(r)},i.encode=(t,e,n)=>{const i=t.toBuffer();return r(i,e,n)},i},O=new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),N=(new o.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"));new o.PublicKey("So11111111111111111111111111111111111111112"),new o.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");class TokenError extends Error{constructor(t){super(t)}}class errors_TokenOwnerOffCurveError extends TokenError{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}const B=(0,a.w3)([(0,a.DH)("mintAuthorityOption"),P("mintAuthority"),d("supply"),(0,a.u8)("decimals"),(t=>{const e=(0,a.u8)(t),{encode:r,decode:n}=c(e),i=e;return i.decode=(t,e)=>!!n(t,e),i.encode=(t,e,n)=>{const i=Number(t);return r(i,e,n)},i})("isInitialized"),(0,a.DH)("freezeAuthorityOption"),P("freezeAuthority")]);B.span;function L(t,e,r=!1,n=O,i=N){if(!r&&!o.PublicKey.isOnCurve(e.toBuffer()))throw new errors_TokenOwnerOffCurveError;const[s]=o.PublicKey.findProgramAddressSync([e.toBuffer(),n.toBuffer(),t.toBuffer()],i);return s}const D=Buffer.from("state"),U=Buffer.from("reserve");function F(t){return o.PublicKey.findProgramAddressSync([D],t)}function z(t,e){return o.PublicKey.findProgramAddressSync([U,t.toBuffer()],e)}function j(t,e){return L(t,e,!0)}const V="Lucky7RXZNtywxBXrGibRqrC3FcJYdvr34nFpU6DJVX",H="D665VLt9rdGpwBuUGQuRqCK2FhA9nYXBdYewWexFwcFj",q="JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4",K=11,W=1e3,$=4294967295,Z=4294967295;async function G(t,e){const[r]=z(t,e.programId);return!!(await e.account.reserve.fetchNullable(r))}async function Q(t){if(await G(new o.PublicKey(t.inputMint),t.program))return!0;if(await G(new o.PublicKey(t.outputMint),t.program))return!1;throw new Error("Either input, or output mint must be reserve mint!")}async function J(t){const[e]=F(t.program.programId);return await Q(t)?j(t.inputMint,e):j(t.outputMint,e)}var Y=r(5225),X=r.n(Y),tt=r(260),et=r.n(tt);async function rt(t){let e=t.amount;if(!(await Q(t))){e/=function(t){if(!Number.isInteger(t)||t<0||t>$)throw new Error(`Threshold must be an integer between 0 and ${$}`);if(0===t)return 0;const e=t;try{const t=BigInt(W)*BigInt($+1)/BigInt(e);if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("Multiplier calculation resulted in a number too large");return Number(t)}catch(r){if(r instanceof Error)throw new Error(`Calculation error: ${r.message}`);throw r}}(t.threshold)}const r=function(t){const e=Object.entries(t).filter((([t,e])=>null!=e)).map((([t,e])=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`));return e.length>0?`?${e.join("&")}`:""}((0,i.A)({},t.jupiterQuoteParams,{inputMint:t.inputMint,outputMint:t.outputMint,amount:t.amount,restrictIntermediateTokens:!0,maxAccounts:t.jupiterQuoteParams.maxAccounts||64-K})),n=await(await X()("https://quote-api.jup.ag/v6/quote"+r)).json();if(n.error)throw new Error("Failed to get swap instructions: "+n.error);return n}async function nt(t){const e=await async function(t){var e;const[r]=F(t.program.programId),n=await Q(t),s=await J(t),o=await rt(t),a=null!=(e=t.userTargetAccount)?e:L(t.outputMint,t.payerAccount),u=(0,i.A)({},t.jupiterSwapParams,{quoteResponse:o,userPublicKey:n?r.toBase58():t.payerAccount.toBase58(),destinationTokenAccount:n?a.toBase58():s.toBase58(),useSharedAccounts:!0,trackingAccount:void 0}),c=await(await X()("https://quote-api.jup.ag/v6/swap-instructions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).json();if(c.error)throw new Error("Failed to get swap instructions: "+c.error);const l=await(await X()("https://quote-api.jup.ag/v6/swap-instructions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,i.A)({},u,{userPublicKey:t.payerAccount.toBase58(),destinationTokenAccount:a.toBase58()}))})).json();if(l.error)throw new Error("Failed to get swap instructions: "+l.error);return c.setupInstructionsUser=l.setupInstructions,c}(t);return await async function(t,e,r){var n,i;const[s]=F(t.program.programId),a=await Q(t),u=await J(t),c=await async function(t){let e;return await Q(t)?[e]=z(t.inputMint,t.program.programId):[e]=z(t.outputMint,t.program.programId),e}(t),l=null!=(n=t.userSourceAccount)?n:L(t.inputMint,t.payerAccount),h=null!=(i=t.userTargetAccount)?i:L(t.outputMint,t.payerAccount);a&&(e.swapInstruction.accounts.find((t=>t.pubkey==s.toString())).isSigner=!1);const d={programId:null==r||r.includes("mainnet")?V:H,accounts:[{pubkey:t.payerAccount.toBase58(),isSigner:!0,isWritable:!0},{pubkey:l.toBase58(),isSigner:!1,isWritable:!0},{pubkey:h.toBase58(),isSigner:!1,isWritable:!0},{pubkey:s.toBase58(),isSigner:!1,isWritable:!0},{pubkey:c.toBase58(),isSigner:!1,isWritable:!0},{pubkey:u.toBase58(),isSigner:!1,isWritable:!0},{pubkey:O.toBase58(),isSigner:!1,isWritable:!0},{pubkey:o.SystemProgram.programId.toBase58(),isSigner:!1,isWritable:!0},{pubkey:o.SYSVAR_RECENT_BLOCKHASHES_PUBKEY.toBase58(),isSigner:!1,isWritable:!0},{pubkey:o.SYSVAR_INSTRUCTIONS_PUBKEY.toBase58(),isSigner:!1,isWritable:!0},{pubkey:q,isSigner:!1,isWritable:!0},...e.swapInstruction.accounts],data:e.swapInstruction.data},f=Buffer.from(d.data,"base64"),p=t.program.coder.instruction.encode("swap",{threshold:new(et())(t.threshold),jupiterData:f});return d.data=p.toString("base64"),e.swapInstruction=d,e}(t,e)}var it=r(6503),st=r(1755),ot=r.n(st),at=r(2115),ut=r.n(at),ct=r(5553),lt=r.n(ct),ht=r(114);r(5515);function dt(t){let e=t.length;for(;--e>=0;)t[e]=0}const ft=256,pt=286,mt=30,gt=15,yt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),wt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),vt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_t=new Array(576);dt(_t);const Et=new Array(60);dt(Et);const St=new Array(512);dt(St);const kt=new Array(256);dt(kt);const At=new Array(29);dt(At);const It=new Array(mt);function Mt(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let xt,Tt,Rt;function Ct(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}dt(It);const Pt=t=>t<256?St[t]:St[256+(t>>>7)],Ot=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},Nt=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,Ot(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},Bt=(t,e,r)=>{Nt(t,r[2*e],r[2*e+1])},Lt=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},Dt=(t,e,r)=>{const n=new Array(16);let i,s,o=0;for(i=1;i<=gt;i++)o=o+r[i-1]<<1,n[i]=o;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=Lt(n[e]++,e))}},Ut=t=>{let e;for(e=0;e<pt;e++)t.dyn_ltree[2*e]=0;for(e=0;e<mt;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Ft=t=>{t.bi_valid>8?Ot(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},zt=(t,e,r,n)=>{const i=2*e,s=2*r;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[r]},jt=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&zt(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!zt(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},Vt=(t,e,r)=>{let n,i,s,o,a=0;if(0!==t.sym_next)do{n=255&t.pending_buf[t.sym_buf+a++],n+=(255&t.pending_buf[t.sym_buf+a++])<<8,i=t.pending_buf[t.sym_buf+a++],0===n?Bt(t,i,e):(s=kt[i],Bt(t,s+ft+1,e),o=yt[s],0!==o&&(i-=At[s],Nt(t,i,o)),n--,s=Pt(n),Bt(t,s,r),o=wt[s],0!==o&&(n-=It[s],Nt(t,n,o)))}while(a<t.sym_next);Bt(t,256,e)},Ht=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,u,c=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<s;o++)0!==r[2*o]?(t.heap[++t.heap_len]=c=o,t.depth[o]=0):r[2*o+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,r[2*u]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=n[2*u+1]);for(e.max_code=c,o=t.heap_len>>1;o>=1;o--)jt(t,r,o);u=s;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],jt(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,r[2*u]=r[2*o]+r[2*a],t.depth[u]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,r[2*o+1]=r[2*a+1]=u,t.heap[1]=u++,jt(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,u=e.stat_desc.max_length;let c,l,h,d,f,p,m=0;for(d=0;d<=gt;d++)t.bl_count[d]=0;for(r[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<573;c++)l=t.heap[c],d=r[2*r[2*l+1]+1]+1,d>u&&(d=u,m++),r[2*l+1]=d,l>n||(t.bl_count[d]++,f=0,l>=a&&(f=o[l-a]),p=r[2*l],t.opt_len+=p*(d+f),s&&(t.static_len+=p*(i[2*l+1]+f)));if(0!==m){do{for(d=u-1;0===t.bl_count[d];)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[u]--,m-=2}while(m>0);for(d=u;0!==d;d--)for(l=t.bl_count[d];0!==l;)h=t.heap[--c],h>n||(r[2*h+1]!==d&&(t.opt_len+=(d-r[2*h+1])*r[2*h],r[2*h+1]=d),l--)}})(t,e),Dt(r,c,t.bl_count)},qt=(t,e,r)=>{let n,i,s=-1,o=e[1],a=0,u=7,c=4;for(0===o&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=e[2*(n+1)+1],++a<u&&i===o||(a<c?t.bl_tree[2*i]+=a:0!==i?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,s=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4))},Kt=(t,e,r)=>{let n,i,s=-1,o=e[1],a=0,u=7,c=4;for(0===o&&(u=138,c=3),n=0;n<=r;n++)if(i=o,o=e[2*(n+1)+1],!(++a<u&&i===o)){if(a<c)do{Bt(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==s&&(Bt(t,i,t.bl_tree),a--),Bt(t,16,t.bl_tree),Nt(t,a-3,2)):a<=10?(Bt(t,17,t.bl_tree),Nt(t,a-3,3)):(Bt(t,18,t.bl_tree),Nt(t,a-11,7));a=0,s=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4)}};let Wt=!1;const $t=(t,e,r,n)=>{Nt(t,0+(n?1:0),3),Ft(t),Ot(t,r),Ot(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r};var Zt=t=>{Wt||((()=>{let t,e,r,n,i;const s=new Array(16);for(r=0,n=0;n<28;n++)for(At[n]=r,t=0;t<1<<yt[n];t++)kt[r++]=n;for(kt[r-1]=n,i=0,n=0;n<16;n++)for(It[n]=i,t=0;t<1<<wt[n];t++)St[i++]=n;for(i>>=7;n<mt;n++)for(It[n]=i<<7,t=0;t<1<<wt[n]-7;t++)St[256+i++]=n;for(e=0;e<=gt;e++)s[e]=0;for(t=0;t<=143;)_t[2*t+1]=8,t++,s[8]++;for(;t<=255;)_t[2*t+1]=9,t++,s[9]++;for(;t<=279;)_t[2*t+1]=7,t++,s[7]++;for(;t<=287;)_t[2*t+1]=8,t++,s[8]++;for(Dt(_t,287,s),t=0;t<mt;t++)Et[2*t+1]=5,Et[2*t]=Lt(t,5);xt=new Mt(_t,yt,257,pt,gt),Tt=new Mt(Et,wt,0,mt,gt),Rt=new Mt(new Array(0),vt,0,19,7)})(),Wt=!0),t.l_desc=new Ct(t.dyn_ltree,xt),t.d_desc=new Ct(t.dyn_dtree,Tt),t.bl_desc=new Ct(t.bl_tree,Rt),t.bi_buf=0,t.bi_valid=0,Ut(t)},Gt=(t,e,r,n)=>{let i,s,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<ft;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),Ht(t,t.l_desc),Ht(t,t.d_desc),o=(t=>{let e;for(qt(t,t.dyn_ltree,t.l_desc.max_code),qt(t,t.dyn_dtree,t.d_desc.max_code),Ht(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*bt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==e?$t(t,e,r,n):4===t.strategy||s===i?(Nt(t,2+(n?1:0),3),Vt(t,_t,Et)):(Nt(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for(Nt(t,e-257,5),Nt(t,r-1,5),Nt(t,n-4,4),i=0;i<n;i++)Nt(t,t.bl_tree[2*bt[i]+1],3);Kt(t,t.dyn_ltree,e-1),Kt(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),Vt(t,t.dyn_ltree,t.dyn_dtree)),Ut(t),n&&Ft(t)},Qt=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(kt[r]+ft+1)]++,t.dyn_dtree[2*Pt(e)]++),t.sym_next===t.sym_end),Jt={_tr_init:Zt,_tr_stored_block:$t,_tr_flush_block:Gt,_tr_tally:Qt,_tr_align:t=>{Nt(t,2,3),Bt(t,256,_t),(t=>{16===t.bi_valid?(Ot(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var Yt=(t,e,r,n)=>{let i=65535&t,s=t>>>16&65535,o=0;for(;0!==r;){o=r>2e3?2e3:r,r-=o;do{i=i+e[n++]|0,s=s+i|0}while(--o);i%=65521,s%=65521}return i|s<<16};const Xt=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var te=(t,e,r,n)=>{const i=Xt,s=n+r;t^=-1;for(let o=n;o<s;o++)t=t>>>8^i[255&(t^e[o])];return~t},ee={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},re={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ne,_tr_stored_block:ie,_tr_flush_block:se,_tr_tally:oe,_tr_align:ae}=Jt,{Z_NO_FLUSH:ue,Z_PARTIAL_FLUSH:ce,Z_FULL_FLUSH:le,Z_FINISH:he,Z_BLOCK:de,Z_OK:fe,Z_STREAM_END:pe,Z_STREAM_ERROR:me,Z_DATA_ERROR:ge,Z_BUF_ERROR:ye,Z_DEFAULT_COMPRESSION:we,Z_FILTERED:ve,Z_HUFFMAN_ONLY:be,Z_RLE:_e,Z_FIXED:Ee,Z_DEFAULT_STRATEGY:Se,Z_UNKNOWN:ke,Z_DEFLATED:Ae}=re,Ie=258,Me=262,xe=42,Te=113,Re=666,Ce=(t,e)=>(t.msg=ee[e],e),Pe=t=>2*t-(t>4?9:0),Oe=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Ne=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do{r=t.head[--n],t.head[n]=r>=i?r-i:0}while(--e);e=i,n=e;do{r=t.prev[--n],t.prev[n]=r>=i?r-i:0}while(--e)};let Be=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const Le=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},De=(t,e)=>{se(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Le(t.strm)},Ue=(t,e)=>{t.pending_buf[t.pending++]=e},Fe=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},ze=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=Yt(t.adler,e,i,r):2===t.state.wrap&&(t.adler=te(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},je=(t,e)=>{let r,n,i=t.max_chain_length,s=t.strstart,o=t.prev_length,a=t.nice_match;const u=t.strstart>t.w_size-Me?t.strstart-(t.w_size-Me):0,c=t.window,l=t.w_mask,h=t.prev,d=t.strstart+Ie;let f=c[s+o-1],p=c[s+o];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(r=e,c[r+o]===p&&c[r+o-1]===f&&c[r]===c[s]&&c[++r]===c[s+1]){s+=2,r++;do{}while(c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&s<d);if(n=Ie-(d-s),s=d-Ie,n>o){if(t.match_start=e,o=n,n>=a)break;f=c[s+o-1],p=c[s+o]}}}while((e=h[e&l])>u&&0!=--i);return o<=t.lookahead?o:t.lookahead},Ve=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Me)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Ne(t),n+=e),0===t.strm.avail_in)break;if(r=ze(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Be(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Be(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Me&&0!==t.strm.avail_in)},He=(t,e)=>{let r,n,i,s=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,o=0,a=t.strm.avail_in;do{if(r=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,n=t.strstart-t.block_start,r>n+t.strm.avail_in&&(r=n+t.strm.avail_in),r>i&&(r=i),r<s&&(0===r&&e!==he||e===ue||r!==n+t.strm.avail_in))break;o=e===he&&r===n+t.strm.avail_in?1:0,ie(t,0,0,o),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,Le(t.strm),n&&(n>r&&(n=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+n),t.strm.next_out),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n,t.block_start+=n,r-=n),r&&(ze(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(0===o);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?4:e!==ue&&e!==he&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(ze(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,s=i>t.w_size?t.w_size:i,n=t.strstart-t.block_start,(n>=s||(n||e===he)&&e!==ue&&0===t.strm.avail_in&&n<=i)&&(r=n>i?i:n,o=e===he&&0===t.strm.avail_in&&r===n?1:0,ie(t,t.block_start,r,o),t.block_start+=r,Le(t.strm)),o?3:1)},qe=(t,e)=>{let r,n;for(;;){if(t.lookahead<Me){if(Ve(t),t.lookahead<Me&&e===ue)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=Be(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-Me&&(t.match_length=je(t,r)),t.match_length>=3)if(n=oe(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Be(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Be(t,t.ins_h,t.window[t.strstart+1]);else n=oe(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(De(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===he?(De(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(De(t,!1),0===t.strm.avail_out)?1:2},Ke=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<Me){if(Ve(t),t.lookahead<Me&&e===ue)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=Be(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Me&&(t.match_length=je(t,r),t.match_length<=5&&(t.strategy===ve||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=oe(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=Be(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(De(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=oe(t,0,t.window[t.strstart-1]),n&&De(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=oe(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===he?(De(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(De(t,!1),0===t.strm.avail_out)?1:2};function We(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const $e=[new We(0,0,0,0,He),new We(4,4,8,4,qe),new We(4,5,16,8,qe),new We(4,6,32,32,qe),new We(4,4,16,16,Ke),new We(8,16,32,32,Ke),new We(8,16,128,128,Ke),new We(8,32,128,256,Ke),new We(32,128,258,1024,Ke),new We(32,258,258,4096,Ke)];function Ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ae,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Oe(this.dyn_ltree),Oe(this.dyn_dtree),Oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Oe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ge=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==xe&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==Te&&e.status!==Re?1:0},Qe=t=>{if(Ge(t))return Ce(t,me);t.total_in=t.total_out=0,t.data_type=ke;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?xe:Te,t.adler=2===e.wrap?0:1,e.last_flush=-2,ne(e),fe},Je=t=>{const e=Qe(t);var r;return e===fe&&((r=t.state).window_size=2*r.w_size,Oe(r.head),r.max_lazy_match=$e[r.level].max_lazy,r.good_match=$e[r.level].good_length,r.nice_match=$e[r.level].nice_length,r.max_chain_length=$e[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e},Ye=(t,e,r,n,i,s)=>{if(!t)return me;let o=1;if(e===we&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>9||r!==Ae||n<8||n>15||e<0||e>9||s<0||s>Ee||8===n&&1!==o)return Ce(t,me);8===n&&(n=9);const a=new Ze;return t.state=a,a.strm=t,a.status=xe,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=s,a.method=r,Je(t)};var Xe={deflateInit:(t,e)=>Ye(t,e,Ae,15,8,Se),deflateInit2:Ye,deflateReset:Je,deflateResetKeep:Qe,deflateSetHeader:(t,e)=>Ge(t)||2!==t.state.wrap?me:(t.state.gzhead=e,fe),deflate:(t,e)=>{if(Ge(t)||e>de||e<0)return t?Ce(t,me):me;const r=t.state;if(!t.output||0!==t.avail_in&&!t.input||r.status===Re&&e!==he)return Ce(t,0===t.avail_out?ye:me);const n=r.last_flush;if(r.last_flush=e,0!==r.pending){if(Le(t),0===t.avail_out)return r.last_flush=-1,fe}else if(0===t.avail_in&&Pe(e)<=Pe(n)&&e!==he)return Ce(t,ye);if(r.status===Re&&0!==t.avail_in)return Ce(t,ye);if(r.status===xe&&0===r.wrap&&(r.status=Te),r.status===xe){let e=Ae+(r.w_bits-8<<4)<<8,n=-1;if(n=r.strategy>=be||r.level<2?0:r.level<6?1:6===r.level?2:3,e|=n<<6,0!==r.strstart&&(e|=32),e+=31-e%31,Fe(r,e),0!==r.strstart&&(Fe(r,t.adler>>>16),Fe(r,65535&t.adler)),t.adler=1,r.status=Te,Le(t),0!==r.pending)return r.last_flush=-1,fe}if(57===r.status)if(t.adler=0,Ue(r,31),Ue(r,139),Ue(r,8),r.gzhead)Ue(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Ue(r,255&r.gzhead.time),Ue(r,r.gzhead.time>>8&255),Ue(r,r.gzhead.time>>16&255),Ue(r,r.gzhead.time>>24&255),Ue(r,9===r.level?2:r.strategy>=be||r.level<2?4:0),Ue(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Ue(r,255&r.gzhead.extra.length),Ue(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=te(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(Ue(r,0),Ue(r,0),Ue(r,0),Ue(r,0),Ue(r,0),Ue(r,9===r.level?2:r.strategy>=be||r.level<2?4:0),Ue(r,3),r.status=Te,Le(t),0!==r.pending)return r.last_flush=-1,fe;if(69===r.status){if(r.gzhead.extra){let e=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(t.adler=te(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=i,Le(t),0!==r.pending)return r.last_flush=-1,fe;e=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>e&&(t.adler=te(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=te(t.adler,r.pending_buf,r.pending-n,n)),Le(t),0!==r.pending)return r.last_flush=-1,fe;n=0}e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Ue(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=te(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let e,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(t.adler=te(t.adler,r.pending_buf,r.pending-n,n)),Le(t),0!==r.pending)return r.last_flush=-1,fe;n=0}e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Ue(r,e)}while(0!==e);r.gzhead.hcrc&&r.pending>n&&(t.adler=te(t.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Le(t),0!==r.pending))return r.last_flush=-1,fe;Ue(r,255&t.adler),Ue(r,t.adler>>8&255),t.adler=0}if(r.status=Te,Le(t),0!==r.pending)return r.last_flush=-1,fe}if(0!==t.avail_in||0!==r.lookahead||e!==ue&&r.status!==Re){let n=0===r.level?He(r,e):r.strategy===be?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(Ve(t),0===t.lookahead)){if(e===ue)return 1;break}if(t.match_length=0,r=oe(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(De(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===he?(De(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(De(t,!1),0===t.strm.avail_out)?1:2})(r,e):r.strategy===_e?((t,e)=>{let r,n,i,s;const o=t.window;for(;;){if(t.lookahead<=Ie){if(Ve(t),t.lookahead<=Ie&&e===ue)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=t.strstart+Ie;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);t.match_length=Ie-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=oe(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=oe(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(De(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===he?(De(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(De(t,!1),0===t.strm.avail_out)?1:2})(r,e):$e[r.level].func(r,e);if(3!==n&&4!==n||(r.status=Re),1===n||3===n)return 0===t.avail_out&&(r.last_flush=-1),fe;if(2===n&&(e===ce?ae(r):e!==de&&(ie(r,0,0,!1),e===le&&(Oe(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Le(t),0===t.avail_out))return r.last_flush=-1,fe}return e!==he?fe:r.wrap<=0?pe:(2===r.wrap?(Ue(r,255&t.adler),Ue(r,t.adler>>8&255),Ue(r,t.adler>>16&255),Ue(r,t.adler>>24&255),Ue(r,255&t.total_in),Ue(r,t.total_in>>8&255),Ue(r,t.total_in>>16&255),Ue(r,t.total_in>>24&255)):(Fe(r,t.adler>>>16),Fe(r,65535&t.adler)),Le(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?fe:pe)},deflateEnd:t=>{if(Ge(t))return me;const e=t.state.status;return t.state=null,e===Te?Ce(t,ge):fe},deflateSetDictionary:(t,e)=>{let r=e.length;if(Ge(t))return me;const n=t.state,i=n.wrap;if(2===i||1===i&&n.status!==xe||n.lookahead)return me;if(1===i&&(t.adler=Yt(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(Oe(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Ve(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=Be(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,Ve(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,n.wrap=i,fe},deflateInfo:"pako deflate (from Nodeca project)"};const tr=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var er=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)tr(r,e)&&(t[e]=r[e])}}return t},rr=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let e=t[n];r.set(e,i),i+=e.length}return r};let nr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Ro){nr=!1}const ir=new Uint8Array(256);for(let Co=0;Co<256;Co++)ir[Co]=Co>=252?6:Co>=248?5:Co>=240?4:Co>=224?3:Co>=192?2:1;ir[254]=ir[254]=1;var sr=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,n,i,s,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<o&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<o&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|63&r):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|63&r):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|63&r);return e},or=(t,e)=>{const r=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,i;const s=new Array(2*r);for(i=0,n=0;n<r;){let e=t[n++];if(e<128){s[i++]=e;continue}let o=ir[e];if(o>4)s[i++]=65533,n+=o-1;else{for(e&=2===o?31:3===o?15:7;o>1&&n<r;)e=e<<6|63&t[n++],o--;o>1?s[i++]=65533:e<65536?s[i++]=e:(e-=65536,s[i++]=55296|e>>10&1023,s[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&nr)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(s,i)},ar=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+ir[t[r]]>e?r:e};var ur=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const cr=Object.prototype.toString,{Z_NO_FLUSH:lr,Z_SYNC_FLUSH:hr,Z_FULL_FLUSH:dr,Z_FINISH:fr,Z_OK:pr,Z_STREAM_END:mr,Z_DEFAULT_COMPRESSION:gr,Z_DEFAULT_STRATEGY:yr,Z_DEFLATED:wr}=re;function vr(t){this.options=er({level:gr,method:wr,chunkSize:16384,windowBits:15,memLevel:8,strategy:yr},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ur,this.strm.avail_out=0;let r=Xe.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==pr)throw new Error(ee[r]);if(e.header&&Xe.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?sr(e.dictionary):"[object ArrayBuffer]"===cr.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=Xe.deflateSetDictionary(this.strm,t),r!==pr)throw new Error(ee[r]);this._dict_set=!0}}function br(t,e){const r=new vr(e);if(r.push(t,!0),r.err)throw r.msg||ee[r.err];return r.result}vr.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?fr:lr,"string"==typeof t?r.input=sr(t):"[object ArrayBuffer]"===cr.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===hr||s===dr)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=Xe.deflate(r,s),i===mr)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Xe.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===pr;if(0!==r.avail_out){if(s>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},vr.prototype.onData=function(t){this.chunks.push(t)},vr.prototype.onEnd=function(t){t===pr&&(this.result=rr(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var _r={Deflate:vr,deflate:br,deflateRaw:function(t,e){return(e=e||{}).raw=!0,br(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,br(t,e)},constants:re};const Er=16209;var Sr=function(t,e){let r,n,i,s,o,a,u,c,l,h,d,f,p,m,g,y,w,v,b,_,E,S,k,A;const I=t.state;r=t.next_in,k=t.input,n=r+(t.avail_in-5),i=t.next_out,A=t.output,s=i-(e-t.avail_out),o=i+(t.avail_out-257),a=I.dmax,u=I.wsize,c=I.whave,l=I.wnext,h=I.window,d=I.hold,f=I.bits,p=I.lencode,m=I.distcode,g=(1<<I.lenbits)-1,y=(1<<I.distbits)-1;t:do{f<15&&(d+=k[r++]<<f,f+=8,d+=k[r++]<<f,f+=8),w=p[d&g];e:for(;;){if(v=w>>>24,d>>>=v,f-=v,v=w>>>16&255,0===v)A[i++]=65535&w;else{if(!(16&v)){if(64&v){if(32&v){I.mode=16191;break t}t.msg="invalid literal/length code",I.mode=Er;break t}w=p[(65535&w)+(d&(1<<v)-1)];continue e}for(b=65535&w,v&=15,v&&(f<v&&(d+=k[r++]<<f,f+=8),b+=d&(1<<v)-1,d>>>=v,f-=v),f<15&&(d+=k[r++]<<f,f+=8,d+=k[r++]<<f,f+=8),w=m[d&y];;){if(v=w>>>24,d>>>=v,f-=v,v=w>>>16&255,16&v){if(_=65535&w,v&=15,f<v&&(d+=k[r++]<<f,f+=8,f<v&&(d+=k[r++]<<f,f+=8)),_+=d&(1<<v)-1,_>a){t.msg="invalid distance too far back",I.mode=Er;break t}if(d>>>=v,f-=v,v=i-s,_>v){if(v=_-v,v>c&&I.sane){t.msg="invalid distance too far back",I.mode=Er;break t}if(E=0,S=h,0===l){if(E+=u-v,v<b){b-=v;do{A[i++]=h[E++]}while(--v);E=i-_,S=A}}else if(l<v){if(E+=u+l-v,v-=l,v<b){b-=v;do{A[i++]=h[E++]}while(--v);if(E=0,l<b){v=l,b-=v;do{A[i++]=h[E++]}while(--v);E=i-_,S=A}}}else if(E+=l-v,v<b){b-=v;do{A[i++]=h[E++]}while(--v);E=i-_,S=A}for(;b>2;)A[i++]=S[E++],A[i++]=S[E++],A[i++]=S[E++],b-=3;b&&(A[i++]=S[E++],b>1&&(A[i++]=S[E++]))}else{E=i-_;do{A[i++]=A[E++],A[i++]=A[E++],A[i++]=A[E++],b-=3}while(b>2);b&&(A[i++]=A[E++],b>1&&(A[i++]=A[E++]))}break}if(64&v){t.msg="invalid distance code",I.mode=Er;break t}w=m[(65535&w)+(d&(1<<v)-1)]}}break}}while(r<n&&i<o);b=f>>3,r-=b,f-=b<<3,d&=(1<<f)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<o?o-i+257:257-(i-o),I.hold=d,I.bits=f};const kr=15,Ar=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ir=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Mr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Tr=(t,e,r,n,i,s,o,a)=>{const u=a.bits;let c,l,h,d,f,p,m=0,g=0,y=0,w=0,v=0,b=0,_=0,E=0,S=0,k=0,A=null;const I=new Uint16Array(16),M=new Uint16Array(16);let x,T,R,C=null;for(m=0;m<=kr;m++)I[m]=0;for(g=0;g<n;g++)I[e[r+g]]++;for(v=u,w=kr;w>=1&&0===I[w];w--);if(v>w&&(v=w),0===w)return i[s++]=20971520,i[s++]=20971520,a.bits=1,0;for(y=1;y<w&&0===I[y];y++);for(v<y&&(v=y),E=1,m=1;m<=kr;m++)if(E<<=1,E-=I[m],E<0)return-1;if(E>0&&(0===t||1!==w))return-1;for(M[1]=0,m=1;m<kr;m++)M[m+1]=M[m]+I[m];for(g=0;g<n;g++)0!==e[r+g]&&(o[M[e[r+g]]++]=g);if(0===t?(A=C=o,p=20):1===t?(A=Ar,C=Ir,p=257):(A=Mr,C=xr,p=0),k=0,g=0,m=y,f=s,b=v,_=0,h=-1,S=1<<v,d=S-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){x=m-_,o[g]+1<p?(T=0,R=o[g]):o[g]>=p?(T=C[o[g]-p],R=A[o[g]-p]):(T=96,R=0),c=1<<m-_,l=1<<b,y=l;do{l-=c,i[f+(k>>_)+l]=x<<24|T<<16|R}while(0!==l);for(c=1<<m-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,g++,0==--I[m]){if(m===w)break;m=e[r+o[g]]}if(m>v&&(k&d)!==h){for(0===_&&(_=v),f+=y,b=m-_,E=1<<b;b+_<w&&(E-=I[b+_],!(E<=0));)b++,E<<=1;if(S+=1<<b,1===t&&S>852||2===t&&S>592)return 1;h=k&d,i[h]=v<<24|b<<16|f-s}}return 0!==k&&(i[f+k]=m-_<<24|64<<16),a.bits=v,0};const{Z_FINISH:Rr,Z_BLOCK:Cr,Z_TREES:Pr,Z_OK:Or,Z_STREAM_END:Nr,Z_NEED_DICT:Br,Z_STREAM_ERROR:Lr,Z_DATA_ERROR:Dr,Z_MEM_ERROR:Ur,Z_BUF_ERROR:Fr,Z_DEFLATED:zr}=re,jr=16180,Vr=16190,Hr=16191,qr=16192,Kr=16194,Wr=16199,$r=16200,Zr=16206,Gr=16209,Qr=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Jr(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Yr=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<jr||e.mode>16211?1:0},Xr=t=>{if(Yr(t))return Lr;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=jr,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Or},tn=t=>{if(Yr(t))return Lr;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Xr(t)},en=(t,e)=>{let r;if(Yr(t))return Lr;const n=t.state;return e<0?(r=0,e=-e):(r=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Lr:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,tn(t))},rn=(t,e)=>{if(!t)return Lr;const r=new Jr;t.state=r,r.strm=t,r.window=null,r.mode=jr;const n=en(t,e);return n!==Or&&(t.state=null),n};let nn,sn,on=!0;const an=t=>{if(on){nn=new Int32Array(512),sn=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Tr(1,t.lens,0,288,nn,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Tr(2,t.lens,0,32,sn,0,t.work,{bits:5}),on=!1}t.lencode=nn,t.lenbits=9,t.distcode=sn,t.distbits=5},un=(t,e,r,n)=>{let i;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),(n-=i)?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var cn={inflateReset:tn,inflateReset2:en,inflateResetKeep:Xr,inflateInit:t=>rn(t,15),inflateInit2:rn,inflate:(t,e)=>{let r,n,i,s,o,a,u,c,l,h,d,f,p,m,g,y,w,v,b,_,E,S,k=0;const A=new Uint8Array(4);let I,M;const x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Yr(t)||!t.output||!t.input&&0!==t.avail_in)return Lr;r=t.state,r.mode===Hr&&(r.mode=qr),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,c=r.hold,l=r.bits,h=a,d=u,S=Or;t:for(;;)switch(r.mode){case jr:if(0===r.wrap){r.mode=qr;break}for(;l<16;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}if(2&r.wrap&&35615===c){0===r.wbits&&(r.wbits=15),r.check=0,A[0]=255&c,A[1]=c>>>8&255,r.check=te(r.check,A,2,0),c=0,l=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Gr;break}if((15&c)!==zr){t.msg="unknown compression method",r.mode=Gr;break}if(c>>>=4,l-=4,E=8+(15&c),0===r.wbits&&(r.wbits=E),E>15||E>r.wbits){t.msg="invalid window size",r.mode=Gr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&c?16189:Hr,c=0,l=0;break;case 16181:for(;l<16;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}if(r.flags=c,(255&r.flags)!==zr){t.msg="unknown compression method",r.mode=Gr;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=Gr;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&4&r.wrap&&(A[0]=255&c,A[1]=c>>>8&255,r.check=te(r.check,A,2,0)),c=0,l=0,r.mode=16182;case 16182:for(;l<32;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}r.head&&(r.head.time=c),512&r.flags&&4&r.wrap&&(A[0]=255&c,A[1]=c>>>8&255,A[2]=c>>>16&255,A[3]=c>>>24&255,r.check=te(r.check,A,4,0)),c=0,l=0,r.mode=16183;case 16183:for(;l<16;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&4&r.wrap&&(A[0]=255&c,A[1]=c>>>8&255,r.check=te(r.check,A,2,0)),c=0,l=0,r.mode=16184;case 16184:if(1024&r.flags){for(;l<16;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&4&r.wrap&&(A[0]=255&c,A[1]=c>>>8&255,r.check=te(r.check,A,2,0)),c=0,l=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(f=r.length,f>a&&(f=a),f&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+f),E)),512&r.flags&&4&r.wrap&&(r.check=te(r.check,n,f,s)),a-=f,s+=f,r.length-=f),r.length))break t;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===a)break t;f=0;do{E=n[s+f++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E))}while(E&&f<a);if(512&r.flags&&4&r.wrap&&(r.check=te(r.check,n,f,s)),a-=f,s+=f,E)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===a)break t;f=0;do{E=n[s+f++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E))}while(E&&f<a);if(512&r.flags&&4&r.wrap&&(r.check=te(r.check,n,f,s)),a-=f,s+=f,E)break t}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;l<16;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}if(4&r.wrap&&c!==(65535&r.check)){t.msg="header crc mismatch",r.mode=Gr;break}c=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Hr;break;case 16189:for(;l<32;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}t.adler=r.check=Qr(c),c=0,l=0,r.mode=Vr;case Vr:if(0===r.havedict)return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=c,r.bits=l,Br;t.adler=r.check=1,r.mode=Hr;case Hr:if(e===Cr||e===Pr)break t;case qr:if(r.last){c>>>=7&l,l-=7&l,r.mode=Zr;break}for(;l<3;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}switch(r.last=1&c,c>>>=1,l-=1,3&c){case 0:r.mode=16193;break;case 1:if(an(r),r.mode=Wr,e===Pr){c>>>=2,l-=2;break t}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=Gr}c>>>=2,l-=2;break;case 16193:for(c>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Gr;break}if(r.length=65535&c,c=0,l=0,r.mode=Kr,e===Pr)break t;case Kr:r.mode=16195;case 16195:if(f=r.length,f){if(f>a&&(f=a),f>u&&(f=u),0===f)break t;i.set(n.subarray(s,s+f),o),a-=f,s+=f,u-=f,o+=f,r.length-=f;break}r.mode=Hr;break;case 16196:for(;l<14;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}if(r.nlen=257+(31&c),c>>>=5,l-=5,r.ndist=1+(31&c),c>>>=5,l-=5,r.ncode=4+(15&c),c>>>=4,l-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Gr;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;l<3;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}r.lens[x[r.have++]]=7&c,c>>>=3,l-=3}for(;r.have<19;)r.lens[x[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,I={bits:r.lenbits},S=Tr(0,r.lens,0,19,r.lencode,0,r.work,I),r.lenbits=I.bits,S){t.msg="invalid code lengths set",r.mode=Gr;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[c&(1<<r.lenbits)-1],g=k>>>24,y=k>>>16&255,w=65535&k,!(g<=l);){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}if(w<16)c>>>=g,l-=g,r.lens[r.have++]=w;else{if(16===w){for(M=g+2;l<M;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}if(c>>>=g,l-=g,0===r.have){t.msg="invalid bit length repeat",r.mode=Gr;break}E=r.lens[r.have-1],f=3+(3&c),c>>>=2,l-=2}else if(17===w){for(M=g+3;l<M;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}c>>>=g,l-=g,E=0,f=3+(7&c),c>>>=3,l-=3}else{for(M=g+7;l<M;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}c>>>=g,l-=g,E=0,f=11+(127&c),c>>>=7,l-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Gr;break}for(;f--;)r.lens[r.have++]=E}}if(r.mode===Gr)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=Gr;break}if(r.lenbits=9,I={bits:r.lenbits},S=Tr(1,r.lens,0,r.nlen,r.lencode,0,r.work,I),r.lenbits=I.bits,S){t.msg="invalid literal/lengths set",r.mode=Gr;break}if(r.distbits=6,r.distcode=r.distdyn,I={bits:r.distbits},S=Tr(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,I),r.distbits=I.bits,S){t.msg="invalid distances set",r.mode=Gr;break}if(r.mode=Wr,e===Pr)break t;case Wr:r.mode=$r;case $r:if(a>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=c,r.bits=l,Sr(t,d),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,c=r.hold,l=r.bits,r.mode===Hr&&(r.back=-1);break}for(r.back=0;k=r.lencode[c&(1<<r.lenbits)-1],g=k>>>24,y=k>>>16&255,w=65535&k,!(g<=l);){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}if(y&&!(240&y)){for(v=g,b=y,_=w;k=r.lencode[_+((c&(1<<v+b)-1)>>v)],g=k>>>24,y=k>>>16&255,w=65535&k,!(v+g<=l);){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}c>>>=v,l-=v,r.back+=v}if(c>>>=g,l-=g,r.back+=g,r.length=w,0===y){r.mode=16205;break}if(32&y){r.back=-1,r.mode=Hr;break}if(64&y){t.msg="invalid literal/length code",r.mode=Gr;break}r.extra=15&y,r.mode=16201;case 16201:if(r.extra){for(M=r.extra;l<M;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;k=r.distcode[c&(1<<r.distbits)-1],g=k>>>24,y=k>>>16&255,w=65535&k,!(g<=l);){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}if(!(240&y)){for(v=g,b=y,_=w;k=r.distcode[_+((c&(1<<v+b)-1)>>v)],g=k>>>24,y=k>>>16&255,w=65535&k,!(v+g<=l);){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}c>>>=v,l-=v,r.back+=v}if(c>>>=g,l-=g,r.back+=g,64&y){t.msg="invalid distance code",r.mode=Gr;break}r.offset=w,r.extra=15&y,r.mode=16203;case 16203:if(r.extra){for(M=r.extra;l<M;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Gr;break}r.mode=16204;case 16204:if(0===u)break t;if(f=d-u,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Gr;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),m=r.window}else m=i,p=o-r.offset,f=r.length;f>u&&(f=u),u-=f,r.length-=f;do{i[o++]=m[p++]}while(--f);0===r.length&&(r.mode=$r);break;case 16205:if(0===u)break t;i[o++]=r.length,u--,r.mode=$r;break;case Zr:if(r.wrap){for(;l<32;){if(0===a)break t;a--,c|=n[s++]<<l,l+=8}if(d-=u,t.total_out+=d,r.total+=d,4&r.wrap&&d&&(t.adler=r.check=r.flags?te(r.check,i,d,o-d):Yt(r.check,i,d,o-d)),d=u,4&r.wrap&&(r.flags?c:Qr(c))!==r.check){t.msg="incorrect data check",r.mode=Gr;break}c=0,l=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;l<32;){if(0===a)break t;a--,c+=n[s++]<<l,l+=8}if(4&r.wrap&&c!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=Gr;break}c=0,l=0}r.mode=16208;case 16208:S=Nr;break t;case Gr:S=Dr;break t;case 16210:return Ur;default:return Lr}return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=c,r.bits=l,(r.wsize||d!==t.avail_out&&r.mode<Gr&&(r.mode<Zr||e!==Rr))&&un(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,r.total+=d,4&r.wrap&&d&&(t.adler=r.check=r.flags?te(r.check,i,d,t.next_out-d):Yt(r.check,i,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Hr?128:0)+(r.mode===Wr||r.mode===Kr?256:0),(0===h&&0===d||e===Rr)&&S===Or&&(S=Fr),S},inflateEnd:t=>{if(Yr(t))return Lr;let e=t.state;return e.window&&(e.window=null),t.state=null,Or},inflateGetHeader:(t,e)=>{if(Yr(t))return Lr;const r=t.state;return 2&r.wrap?(r.head=e,e.done=!1,Or):Lr},inflateSetDictionary:(t,e)=>{const r=e.length;let n,i,s;return Yr(t)?Lr:(n=t.state,0!==n.wrap&&n.mode!==Vr?Lr:n.mode===Vr&&(i=1,i=Yt(i,e,r,0),i!==n.check)?Dr:(s=un(t,e,r,r),s?(n.mode=16210,Ur):(n.havedict=1,Or)))},inflateInfo:"pako inflate (from Nodeca project)"};var ln=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const hn=Object.prototype.toString,{Z_NO_FLUSH:dn,Z_FINISH:fn,Z_OK:pn,Z_STREAM_END:mn,Z_NEED_DICT:gn,Z_STREAM_ERROR:yn,Z_DATA_ERROR:wn,Z_MEM_ERROR:vn}=re;function bn(t){this.options=er({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ur,this.strm.avail_out=0;let r=cn.inflateInit2(this.strm,e.windowBits);if(r!==pn)throw new Error(ee[r]);if(this.header=new ln,cn.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=sr(e.dictionary):"[object ArrayBuffer]"===hn.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=cn.inflateSetDictionary(this.strm,e.dictionary),r!==pn)))throw new Error(ee[r])}function _n(t,e){const r=new bn(e);if(r.push(t),r.err)throw r.msg||ee[r.err];return r.result}bn.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(o=e===~~e?e:!0===e?fn:dn,"[object ArrayBuffer]"===hn.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=cn.inflate(r,o),s===gn&&i&&(s=cn.inflateSetDictionary(r,i),s===pn?s=cn.inflate(r,o):s===wn&&(s=gn));r.avail_in>0&&s===mn&&r.state.wrap>0&&0!==t[r.next_in];)cn.inflateReset(r),s=cn.inflate(r,o);switch(s){case yn:case wn:case gn:case vn:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(0===r.avail_out||s===mn))if("string"===this.options.to){let t=ar(r.output,r.next_out),e=r.next_out-t,i=or(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(s!==pn||0!==a){if(s===mn)return s=cn.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},bn.prototype.onData=function(t){this.chunks.push(t)},bn.prototype.onEnd=function(t){t===pn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=rr(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var En={Inflate:bn,inflate:_n,inflateRaw:function(t,e){return(e=e||{}).raw=!0,_n(t,e)},ungzip:_n,constants:re};const{Deflate:Sn,deflate:kn,deflateRaw:An,gzip:In}=_r,{Inflate:Mn,inflate:xn,inflateRaw:Tn,ungzip:Rn}=En;var Cn=xn,Pn=r(4124),On=r.n(Pn);const Nn=t=>"version"in t;function Bn(t){return new TextDecoder("utf-8").decode(t)}function Ln(t){return ut().encode(t)}function Dn(t){return t.toString("base64")}function Un(t){return it.Buffer.from(t,"base64")}function Fn(t){return"accounts"in t}const zn=ht.struct([ht.publicKey("authority"),ht.vecU8("data")]);function jn(t,e,r,n){return(null==t?void 0:t.length)?t[0].name?r(t):n(t):e()}function Vn(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const r={};let n=0;return t.args.forEach((t=>{r[t.name]=e[n],n+=1})),r}function Hn(t,e={}){t.forEach((t=>{if(Fn(t))Hn(t.accounts,e[t.name]);else if(!e[t.name])throw new Error(`Account \`${t.name}\` not provided.`)}))}function qn(t){return t instanceof o.PublicKey?t:new o.PublicKey(t)}class StructError extends TypeError{constructor(t,e){let r;const{message:n,...i}=t,{path:s}=t;super(0===s.length?n:"At path: "+s.join(".")+" -- "+n),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[t,...e()]}}}function Kn(t){return"object"==typeof t&&null!=t}function Wn(t){return"string"==typeof t?JSON.stringify(t):""+t}function $n(t,e,r,n){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:u="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Wn(n)+"`"}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*Zn(t,e,r,n){var i;Kn(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const s of t){const t=$n(s,e,r,n);t&&(yield t)}}function*Gn(t,e,r){void 0===r&&(r={});const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&"type"!==e.type&&Kn(e.schema)&&Kn(t)&&!Array.isArray(t)))for(const c in t)void 0===e.schema[c]&&delete t[c];let u=!0;for(const c of e.validator(t,a))u=!1,yield[c,void 0];for(let[c,l,h]of e.entries(t,a)){const e=Gn(l,h,{path:void 0===c?n:[...n,c],branch:void 0===c?i:[...i,l],coerce:s,mask:o});for(const r of e)r[0]?(u=!1,yield[r[0],void 0]):s&&(l=r[1],void 0===c?t=l:t instanceof Map?t.set(c,l):t instanceof Set?t.add(l):Kn(t)&&(t[c]=l))}if(u)for(const c of e.refiner(t,a))u=!1,yield[c,void 0];u&&(yield[void 0,t])}class Struct{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:r,validator:n,refiner:i,coercer:s=t=>t,entries:o=function*(){}}=t;this.type=e,this.schema=r,this.entries=o,this.coercer=s,this.validator=n?(t,e)=>Zn(n(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>Zn(i(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const r=Yn(t,e);if(r[0])throw r[0]}(t,this)}create(t){return Qn(t,this)}is(t){return Jn(t,this)}mask(t){return function(t,e){const r=Yn(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}(t,this)}validate(t,e){return void 0===e&&(e={}),Yn(t,this,e)}}function Qn(t,e){const r=Yn(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function Jn(t,e){return!Yn(t,e)[0]}function Yn(t,e,r){void 0===r&&(r={});const n=Gn(t,e,r),i=function(t){const{done:e,value:r}=t.next();return e?void 0:r}(n);if(i[0]){return[new StructError(i[0],(function*(){for(const t of n)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function Xn(t,e){return new Struct({type:t,schema:null,validator:e})}function ti(t){return new Struct({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+Wn(t)})}function ei(t){const e=Wn(t),r=typeof t;return new Struct({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||"Expected the literal `"+e+"`, but received: "+Wn(r)})}function ri(t){return new Struct({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function ni(){return Xn("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+Wn(t)))}function ii(t){return new Struct({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function si(){return Xn("string",(t=>"string"==typeof t||"Expected a string, but received: "+Wn(t)))}function oi(t){const e=Object.keys(t);return new Struct({type:"type",schema:t,*entries(r){if(Kn(r))for(const n of e)yield[n,r[n],t[n]]},validator:t=>Kn(t)||"Expected an object, but received: "+Wn(t)})}function ai(t){const e=t.map((t=>t.type)).join(" | ");return new Struct({type:"union",schema:null,coercer:(e,r)=>(t.find((t=>{const[r]=t.validate(e,{coerce:!0});return!r}))||ui()).coercer(e,r),validator(r,n){const i=[];for(const e of t){const[...t]=Gn(r,e,n),[s]=t;if(!s[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Wn(r),...i]}})}function ui(){return Xn("unknown",(()=>!0))}async function ci(t,e,r){if(e.length<=99)return await li(t,e,r);{const n=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map(((r,n)=>t.slice(n*e,(n+1)*e)))}(e,99);return(await Promise.all(n.map((e=>li(t,e,r))))).flat()}}async function li(t,e,r){const n=null!=r?r:t.commitment,{value:i,context:s}=await t.getMultipleAccountsInfoAndContext(e,n);return i.map(((t,r)=>null===t?null:{publicKey:e[r],account:t,context:s}))}async function hi(t,e,r,n,i){var s;r&&r.length>0&&e.sign(...r);const a=e._compile(),u=a.serialize(),c=e._serialize(u).toString("base64"),l={encoding:"base64",commitment:null!=n?n:t.commitment};if(i){const t=(Array.isArray(i)?i:a.nonProgramIds()).map((t=>t.toBase58()));l.accounts={encoding:"base64",addresses:t}}r&&r.length>0&&(l.sigVerify=!0);const h=[c,l],d=Qn(await t._rpcRequest("simulateTransaction",h),mi);if("error"in d){let t;if("data"in d.error&&(t=null===(s=d.error.data)||void 0===s?void 0:s.logs,t&&Array.isArray(t))){const e="\n    ",r=e+t.join(e);console.error(d.error.message,r)}throw new o.SendTransactionError("failed to simulate transaction: "+d.error.message,t)}return d.result}function di(t){return function(t,e,r){return new Struct({...t,coercer:(n,i)=>Jn(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}(pi(t),fi,(e=>"error"in e?e:{...e,result:Qn(e.result,t)}))}const fi=pi(ui());function pi(t){return ai([oi({jsonrpc:ei("2.0"),id:si(),result:t}),oi({jsonrpc:ei("2.0"),id:si(),error:oi({code:ui(),message:si(),data:ii(Xn("any",(()=>!0)))})})])}const mi=(gi=oi({err:ri(ai([oi({}),si()])),logs:ri(ti(si())),accounts:ii(ri(ti(ri(oi({executable:Xn("boolean",(t=>"boolean"==typeof t)),owner:si(),lamports:ni(),data:ti(si()),rentEpoch:ii(ni())}))))),unitsConsumed:ii(ni())}),di(oi({context:oi({slot:ni()}),value:gi})));var gi;class AnchorProvider{constructor(t,e,r=AnchorProvider.defaultOptions()){this.connection=t,this.wallet=e,this.opts=r,this.publicKey=null==e?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e=AnchorProvider.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,r){var n,i,s,a;if(void 0===r&&(r=this.opts),Nn(t))e&&t.sign(e);else if(t.feePayer=null!==(n=t.feePayer)&&void 0!==n?n:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,e)for(const o of e)t.partialSign(o);const u=(t=await this.wallet.signTransaction(t)).serialize();try{return await yi(this.connection,u,r)}catch(Ce){if(Ce instanceof ConfirmError){const r=Ln(Nn(t)?(null===(i=t.signatures)||void 0===i?void 0:i[0])||new Uint8Array:null!==(s=t.signature)&&void 0!==s?s:new Uint8Array),n=Nn(t)?0:void 0,u=await this.connection.getTransaction(r,{commitment:"confirmed",maxSupportedTransactionVersion:n});if(u){const t=null===(a=u.meta)||void 0===a?void 0:a.logMessages;throw t?new o.SendTransactionError(Ce.message,t):Ce}throw Ce}throw Ce}}async sendAll(t,e){var r,n,i;void 0===e&&(e=this.opts);const s=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash;let a=t.map((t=>{var e,r;if(Nn(t.tx)){let e=t.tx;return t.signers&&e.sign(t.signers),e}{let n=t.tx,i=null!==(e=t.signers)&&void 0!==e?e:[];return n.feePayer=null!==(r=n.feePayer)&&void 0!==r?r:this.wallet.publicKey,n.recentBlockhash=s,i.forEach((t=>{n.partialSign(t)})),n}}));const u=await this.wallet.signAllTransactions(a),c=[];for(let l=0;l<a.length;l+=1){const t=u[l],s=t.serialize();try{c.push(await yi(this.connection,s,e))}catch(Ce){if(Ce instanceof ConfirmError){const s=Ln(Nn(t)?(null===(r=t.signatures)||void 0===r?void 0:r[0])||new Uint8Array:null!==(n=t.signature)&&void 0!==n?n:new Uint8Array),a=Nn(t)?0:void 0,u=await this.connection.getTransaction(s,{commitment:"confirmed",maxSupportedTransactionVersion:a});if(u){const t=null===(i=u.meta)||void 0===i?void 0:i.logMessages;throw t?new o.SendTransactionError(Ce.message,t):Ce}throw Ce}throw Ce}}return c}async simulate(t,e,r,n){let i,s=(await this.connection.getLatestBlockhash(null!=r?r:this.connection.commitment)).blockhash;if(Nn(t)?(e&&e.length>0&&(t.sign(e),t=await this.wallet.signTransaction(t)),i=await this.connection.simulateTransaction(t,{commitment:r})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=s,e&&e.length>0&&(t=await this.wallet.signTransaction(t)),i=await hi(this.connection,t,e,r,n)),i.value.err)throw new SimulateError(i.value);return i.value}}class SimulateError extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function yi(t,e,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},i=await t.sendRawTransaction(e,n),s=(await t.confirmTransaction(i,r&&r.commitment)).value;if(s.err)throw new ConfirmError(`Raw transaction ${i} failed (${JSON.stringify(s)})`);return i}class ConfirmError extends Error{constructor(t){super(t)}}function wi(){return null===vi?AnchorProvider.local():vi}let vi=null;var bi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};var _i={};Object.defineProperty(_i,"__esModule",{value:!0});var Ei=_i.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=_i.ANCHOR_ERROR__REQUIRE_VIOLATED=_i.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=_i.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=_i.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=_i.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=_i.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=_i.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=_i.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=_i.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=_i.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=_i.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=_i.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=_i.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=_i.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=_i.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=_i.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=_i.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=_i.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=_i.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=_i.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=_i.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=_i.ANCHOR_ERROR__CONSTRAINT_SPACE=_i.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=_i.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=_i.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=_i.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=_i.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=_i.ANCHOR_ERROR__CONSTRAINT_ZERO=_i.ANCHOR_ERROR__CONSTRAINT_ADDRESS=_i.ANCHOR_ERROR__CONSTRAINT_CLOSE=_i.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=_i.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=_i.ANCHOR_ERROR__CONSTRAINT_STATE=_i.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=_i.ANCHOR_ERROR__CONSTRAINT_SEEDS=_i.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=_i.ANCHOR_ERROR__CONSTRAINT_OWNER=_i.ANCHOR_ERROR__CONSTRAINT_RAW=_i.ANCHOR_ERROR__CONSTRAINT_SIGNER=_i.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=_i.ANCHOR_ERROR__CONSTRAINT_MUT=_i.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=_i.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=_i.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=_i.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=_i.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=_i.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=_i.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=_i.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,Si=_i.ANCHOR_ERROR__DEPRECATED=_i.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=_i.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=_i.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=_i.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=_i.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=_i.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=_i.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=_i.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=_i.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=_i.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=_i.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=_i.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=_i.ANCHOR_ERROR__INVALID_PROGRAM_ID=_i.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=_i.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=_i.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=_i.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=_i.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=_i.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=_i.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=_i.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=_i.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=_i.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=_i.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=_i.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=_i.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,ki=_i.ANCHOR_ERROR__INSTRUCTION_MISSING=100,Ai=_i.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,Ii=_i.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,Mi=_i.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,xi=_i.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,Ti=_i.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,Ri=_i.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,Ci=_i.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,Pi=_i.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,Oi=_i.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,Ni=_i.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,Bi=_i.ANCHOR_ERROR__CONSTRAINT_RAW=2003,Li=_i.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,Di=_i.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,Ui=_i.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,Fi=_i.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,zi=_i.ANCHOR_ERROR__CONSTRAINT_STATE=2008,ji=_i.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,Vi=_i.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,Hi=_i.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,qi=_i.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,Ki=_i.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,Wi=_i.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,$i=_i.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,Zi=_i.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,Gi=_i.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Qi=_i.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,Ji=_i.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Yi=_i.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,Xi=_i.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,ts=_i.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,es=_i.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,rs=_i.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,ns=_i.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,is=_i.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,ss=_i.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,os=_i.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,as=_i.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,us=_i.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,cs=_i.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,ls=_i.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,hs=_i.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,ds=_i.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,fs=_i.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,ps=_i.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,ms=_i.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,gs=_i.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,ys=_i.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,ws=_i.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;Ei=_i.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var vs=_i.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,bs=_i.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,_s=_i.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,Es=_i.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,Ss=_i.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,ks=_i.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,As=_i.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,Is=_i.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,Ms=_i.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,xs=_i.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,Ts=_i.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,Rs=_i.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,Cs=_i.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,Ps=_i.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,Os=_i.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,Ns=_i.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,Bs=_i.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,Ls=_i.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,Ds=_i.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,Us=_i.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,Fs=_i.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,zs=_i.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,js=_i.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,Vs=_i.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,Hs=_i.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,qs=_i.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;Si=_i.ANCHOR_ERROR__DEPRECATED=5e3;new Set(["debug-logs"]);const Ks=new Map;function Ws(t){return void 0!==Ks.get(t)}class IdlError extends Error{constructor(t){super(t),this.name="IdlError"}}class ProgramErrorStack{constructor(t){this.stack=t}static parse(t){var e;const r=/^Program (\w*) invoke/,n=/^Program \w* success/,i=[];for(let s=0;s<t.length;s++){if(n.exec(t[s])){i.pop();continue}const a=null===(e=r.exec(t[s]))||void 0===e?void 0:e[1];a&&i.push(new o.PublicKey(a))}return new ProgramErrorStack(i)}}class AnchorError extends Error{constructor(t,e,r,n,i,s){super(r.join("\n").replace("Program log: ","")),this.errorLogs=r,this.logs=n,this.error={errorCode:t,errorMessage:e,comparedValues:s,origin:i},this._programErrorStack=ProgramErrorStack.parse(n)}static parse(t){if(!t)return null;const e=t.findIndex((t=>t.startsWith("Program log: AnchorError")));if(-1===e)return null;const r=t[e],n=[r];let i;if(e+1<t.length)if("Program log: Left:"===t[e+1]){const r=/^Program log: (.*)$/,s=r.exec(t[e+2])[1],a=r.exec(t[e+4])[1];i=[new o.PublicKey(s),new o.PublicKey(a)],n.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const r=/^Program log: (Left|Right): (.*)$/,s=r.exec(t[e+1])[2],o=r.exec(t[e+2])[2];n.push(...t.slice(e+1,e+3)),i=[s,o]}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),u=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(s){const[e,r,o]=s.slice(1,4),a={code:e,number:parseInt(r)};return new AnchorError(a,o,n,t,void 0,i)}if(a){const[e,r,s,o,u]=a.slice(1,6),c={code:s,number:parseInt(o)},l={file:e,line:parseInt(r)};return new AnchorError(c,u,n,t,l,i)}if(u){const[e,r,s,o]=u.slice(1,5),a=e,c={code:r,number:parseInt(s)};return new AnchorError(c,o,n,t,a,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ProgramError extends Error{constructor(t,e,r){super(),this.code=t,this.msg=e,this.logs=r,r&&(this._programErrorStack=ProgramErrorStack.parse(r))}static parse(t,e){const r=t.toString();let n,i;if(r.includes("custom program error:")){let t=r.split("custom program error: ");if(2!==t.length)return null;n=t[1]}else{const t=r.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;n=t[0].match(/([0-9]+)/g)[0]}try{i=parseInt(n)}catch(o){return null}let s=e.get(i);return void 0!==s?new ProgramError(i,s,t.logs):(s=Gs.get(i),void 0!==s?new ProgramError(i,s,t.logs):null)}get program(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack}toString(){return this.msg}}function $s(t,e){Ws("debug-logs")&&console.log("Translating error:",t);const r=AnchorError.parse(t.logs);if(r)return r;const n=ProgramError.parse(t,e);if(n)return n;if(t.logs){const e={get:function(e,r){return"programErrorStack"===r?e.programErrorStack.stack:"program"===r?e.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=ProgramErrorStack.parse(t.logs),new Proxy(t,e)}return t}const Zs={InstructionMissing:ki,InstructionFallbackNotFound:Ai,InstructionDidNotDeserialize:Ii,InstructionDidNotSerialize:Mi,IdlInstructionStub:xi,IdlInstructionInvalidProgram:Ti,IdlAccountNotEmpty:Ri,EventInstructionStub:Ci,ConstraintMut:Pi,ConstraintHasOne:Oi,ConstraintSigner:Ni,ConstraintRaw:Bi,ConstraintOwner:Li,ConstraintRentExempt:Di,ConstraintSeeds:Ui,ConstraintExecutable:Fi,ConstraintState:zi,ConstraintAssociated:ji,ConstraintAssociatedInit:Vi,ConstraintClose:Hi,ConstraintAddress:qi,ConstraintZero:Ki,ConstraintTokenMint:Wi,ConstraintTokenOwner:$i,ConstraintMintMintAuthority:Zi,ConstraintMintFreezeAuthority:Gi,ConstraintMintDecimals:Qi,ConstraintSpace:Ji,ConstraintAccountIsNone:Yi,ConstraintTokenTokenProgram:Xi,ConstraintMintTokenProgram:ts,ConstraintAssociatedTokenTokenProgram:es,ConstraintMintGroupPointerExtension:rs,ConstraintMintGroupPointerExtensionAuthority:ns,ConstraintMintGroupPointerExtensionGroupAddress:is,ConstraintMintGroupMemberPointerExtension:ss,ConstraintMintGroupMemberPointerExtensionAuthority:os,ConstraintMintGroupMemberPointerExtensionMemberAddress:as,ConstraintMintMetadataPointerExtension:us,ConstraintMintMetadataPointerExtensionAuthority:cs,ConstraintMintMetadataPointerExtensionMetadataAddress:ls,ConstraintMintCloseAuthorityExtension:hs,ConstraintMintCloseAuthorityExtensionAuthority:ds,ConstraintMintPermanentDelegateExtension:fs,ConstraintMintPermanentDelegateExtensionDelegate:ps,ConstraintMintTransferHookExtension:ms,ConstraintMintTransferHookExtensionAuthority:gs,ConstraintMintTransferHookExtensionProgramId:ys,RequireViolated:ws,RequireEqViolated:Ei,RequireKeysEqViolated:vs,RequireNeqViolated:bs,RequireKeysNeqViolated:_s,RequireGtViolated:Es,RequireGteViolated:Ss,AccountDiscriminatorAlreadySet:ks,AccountDiscriminatorNotFound:As,AccountDiscriminatorMismatch:Is,AccountDidNotDeserialize:Ms,AccountDidNotSerialize:xs,AccountNotEnoughKeys:Ts,AccountNotMutable:Rs,AccountOwnedByWrongProgram:Cs,InvalidProgramId:Ps,InvalidProgramExecutable:Os,AccountNotSigner:Ns,AccountNotSystemOwned:Bs,AccountNotInitialized:Ls,AccountNotProgramData:Ds,AccountNotAssociatedTokenAccount:Us,AccountSysvarMismatch:Fs,AccountReallocExceedsLimit:zs,AccountDuplicateReallocs:js,DeclaredProgramIdMismatch:Vs,TryingToInitPayerAsProgramAccount:Hs,InvalidNumericConversion:qs,Deprecated:Si},Gs=new Map([[Zs.InstructionMissing,"8 byte instruction identifier not provided"],[Zs.InstructionFallbackNotFound,"Fallback functions are not supported"],[Zs.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Zs.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Zs.IdlInstructionStub,"The program was compiled without idl instructions"],[Zs.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Zs.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[Zs.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[Zs.ConstraintMut,"A mut constraint was violated"],[Zs.ConstraintHasOne,"A has one constraint was violated"],[Zs.ConstraintSigner,"A signer constraint was violated"],[Zs.ConstraintRaw,"A raw constraint was violated"],[Zs.ConstraintOwner,"An owner constraint was violated"],[Zs.ConstraintRentExempt,"A rent exemption constraint was violated"],[Zs.ConstraintSeeds,"A seeds constraint was violated"],[Zs.ConstraintExecutable,"An executable constraint was violated"],[Zs.ConstraintState,"Deprecated Error, feel free to replace with something else"],[Zs.ConstraintAssociated,"An associated constraint was violated"],[Zs.ConstraintAssociatedInit,"An associated init constraint was violated"],[Zs.ConstraintClose,"A close constraint was violated"],[Zs.ConstraintAddress,"An address constraint was violated"],[Zs.ConstraintZero,"Expected zero account discriminant"],[Zs.ConstraintTokenMint,"A token mint constraint was violated"],[Zs.ConstraintTokenOwner,"A token owner constraint was violated"],[Zs.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Zs.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Zs.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Zs.ConstraintSpace,"A space constraint was violated"],[Zs.ConstraintAccountIsNone,"A required account for the constraint is None"],[Zs.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[Zs.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[Zs.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[Zs.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[Zs.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[Zs.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[Zs.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[Zs.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[Zs.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[Zs.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[Zs.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[Zs.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[Zs.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[Zs.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[Zs.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[Zs.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[Zs.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[Zs.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[Zs.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[Zs.RequireViolated,"A require expression was violated"],[Zs.RequireEqViolated,"A require_eq expression was violated"],[Zs.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Zs.RequireNeqViolated,"A require_neq expression was violated"],[Zs.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Zs.RequireGtViolated,"A require_gt expression was violated"],[Zs.RequireGteViolated,"A require_gte expression was violated"],[Zs.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Zs.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[Zs.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[Zs.AccountDidNotDeserialize,"Failed to deserialize the account"],[Zs.AccountDidNotSerialize,"Failed to serialize the account"],[Zs.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Zs.AccountNotMutable,"The given account is not mutable"],[Zs.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Zs.InvalidProgramId,"Program ID was not as expected"],[Zs.InvalidProgramExecutable,"Program account is not executable"],[Zs.AccountNotSigner,"The given account did not sign"],[Zs.AccountNotSystemOwned,"The given account is not owned by the system program"],[Zs.AccountNotInitialized,"The program expected this account to be already initialized"],[Zs.AccountNotProgramData,"The given account is not a program data account"],[Zs.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Zs.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Zs.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Zs.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Zs.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Zs.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[Zs.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[Zs.Deprecated,"The API being used is deprecated and should no longer be used"]]);class IdlCoder{static fieldLayout(t,e=[],r){const n=t.name;switch(t.type){case"bool":return ht.bool(n);case"u8":return ht.u8(n);case"i8":return ht.i8(n);case"u16":return ht.u16(n);case"i16":return ht.i16(n);case"u32":return ht.u32(n);case"i32":return ht.i32(n);case"f32":return ht.f32(n);case"u64":return ht.u64(n);case"i64":return ht.i64(n);case"f64":return ht.f64(n);case"u128":return ht.u128(n);case"i128":return ht.i128(n);case"u256":return ht.u256(n);case"i256":return ht.i256(n);case"bytes":return ht.vecU8(n);case"string":return ht.str(n);case"pubkey":return ht.publicKey(n);default:if("option"in t.type)return ht.option(IdlCoder.fieldLayout({type:t.type.option},e,r),n);if("vec"in t.type)return ht.vec(IdlCoder.fieldLayout({type:t.type.vec},e,r),n);if("array"in t.type){let[i,s]=t.type.array;return s=IdlCoder.resolveArrayLen(s,r),ht.array(IdlCoder.fieldLayout({type:i},e,r),s,n)}if("defined"in t.type){if(!e)throw new IdlError("User defined types not provided");const i=t.type.defined.name,s=e.find((t=>t.name===i));if(!s)throw new IdlError(`Type not found: ${t.name}`);return IdlCoder.typeDefLayout({typeDef:s,types:e,genericArgs:null!=r?r:t.type.defined.generics,name:n})}if("generic"in t.type){const n=null==r?void 0:r.at(0);if("type"!==(null==n?void 0:n.kind))throw new IdlError(`Invalid generic field: ${t.name}`);return IdlCoder.fieldLayout({...t,type:n.type},e)}throw new IdlError(`Not yet implemented: ${JSON.stringify(t.type)}`)}}static typeDefLayout({typeDef:t,types:e,name:r,genericArgs:n}){switch(t.type.kind){case"struct":{const i=jn(t.type.fields,(()=>[]),(r=>r.map((r=>{const i=n?IdlCoder.resolveGenericArgs({type:r.type,typeDef:t,genericArgs:n}):n;return IdlCoder.fieldLayout(r,e,i)}))),(r=>r.map(((r,i)=>{const s=n?IdlCoder.resolveGenericArgs({type:r,typeDef:t,genericArgs:n}):n;return IdlCoder.fieldLayout({name:i.toString(),type:r},e,s)}))));return ht.struct(i,r)}case"enum":{const i=t.type.variants.map((r=>{const i=jn(r.fields,(()=>[]),(r=>r.map((r=>{const i=n?IdlCoder.resolveGenericArgs({type:r.type,typeDef:t,genericArgs:n}):n;return IdlCoder.fieldLayout(r,e,i)}))),(r=>r.map(((r,i)=>{const s=n?IdlCoder.resolveGenericArgs({type:r,typeDef:t,genericArgs:n}):n;return IdlCoder.fieldLayout({name:i.toString(),type:r},e,s)}))));return ht.struct(i,r.name)}));return void 0!==r?ht.rustEnum(i).replicate(r):ht.rustEnum(i,r)}case"type":return IdlCoder.fieldLayout({type:t.type.alias,name:r},e)}}static typeSize(t,e,r){var n;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"pubkey":return 32;default:if("option"in t)return 1+IdlCoder.typeSize(t.option,e,r);if("coption"in t)return 4+IdlCoder.typeSize(t.coption,e,r);if("vec"in t)return 1;if("array"in t){let[n,i]=t.array;return i=IdlCoder.resolveArrayLen(i,r),IdlCoder.typeSize(n,e,r)*i}if("defined"in t){const i=null===(n=e.types)||void 0===n?void 0:n.find((e=>e.name===t.defined.name));if(!i)throw new IdlError(`Type not found: ${JSON.stringify(t)}`);const s=n=>{const s=null!=r?r:t.defined.generics,o=s?IdlCoder.resolveGenericArgs({type:n,typeDef:i,genericArgs:s}):s;return IdlCoder.typeSize(n,e,o)};switch(i.type.kind){case"struct":return jn(i.type.fields,(()=>[0]),(t=>t.map((t=>s(t.type)))),(t=>t.map((t=>s(t))))).reduce(((t,e)=>t+e),0);case"enum":{const t=i.type.variants.map((t=>jn(t.fields,(()=>[0]),(t=>t.map((t=>s(t.type)))),(t=>t.map((t=>s(t))))).reduce(((t,e)=>t+e),0)));return Math.max(...t)+1}case"type":return IdlCoder.typeSize(i.type.alias,e,r)}}if("generic"in t){const n=null==r?void 0:r.at(0);if("type"!==(null==n?void 0:n.kind))throw new IdlError(`Invalid generic: ${t.generic}`);return IdlCoder.typeSize(n.type,e,r)}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}static resolveArrayLen(t,e){if("number"==typeof t)return t;if(e){const r=e.find((t=>"const"===t.kind));"const"===(null==r?void 0:r.kind)&&(t=+r.value)}if("number"!=typeof t)throw new IdlError("Generic array length did not resolve");return t}static resolveGenericArgs({type:t,typeDef:e,genericArgs:r,isDefined:n}){if("object"!=typeof t)return null;for(const i in e.generics){const s=e.generics[i];if("generic"in t&&s.name===t.generic)return[r[i]];if("option"in t){const i=IdlCoder.resolveGenericArgs({type:t.option,typeDef:e,genericArgs:r,isDefined:n});if(!i||!n)return i;if("type"===i[0].kind)return[{kind:"type",type:{option:i[0].type}}]}if("vec"in t){const i=IdlCoder.resolveGenericArgs({type:t.vec,typeDef:e,genericArgs:r,isDefined:n});if(!i||!n)return i;if("type"===i[0].kind)return[{kind:"type",type:{vec:i[0].type}}]}if("array"in t){const[o,a]=t.array,u="object"==typeof a,c=IdlCoder.resolveGenericArgs({type:o,typeDef:e,genericArgs:r,isDefined:n});if(c){for(const t in e.generics.slice(+i)){const n=+i+ +t;u&&e.generics[n].name===a.generic&&c.push(r[n])}if(!n)return c;if("type"===c[0].kind&&"const"===c[1].kind)return[{kind:"type",type:{array:[c[0].type,+c[1].value]}}]}if(u&&s.name===a.generic){const t=r[i];return n?[{kind:"type",type:{array:[o,+t.value]}}]:[t]}return null}if("defined"in t)return t.defined.generics?t.defined.generics.flatMap((t=>{switch(t.kind){case"type":return IdlCoder.resolveGenericArgs({type:t.type,typeDef:e,genericArgs:r,isDefined:!0});case"const":return[t]}})).filter((t=>null!==t)):null}return null}}class BorshInstructionCoder{constructor(t){this.idl=t;const e=t.instructions.map((e=>{const r=e.name,n=e.args.map((e=>IdlCoder.fieldLayout(e,t.types))),i=ht.struct(n,r);return[r,{discriminator:e.discriminator,layout:i}]}));this.ixLayouts=new Map(e);const r=e.map((([t,{discriminator:e,layout:r}])=>[ut().encode(e),{name:t,layout:r}]));this.sighashLayouts=new Map(r)}encode(t,e){const r=it.Buffer.alloc(1e3),n=this.ixLayouts.get(t);if(!n)throw new Error(`Unknown method: ${t}`);const i=n.layout.encode(e,r),s=r.slice(0,i);return it.Buffer.concat([it.Buffer.from(n.discriminator),s])}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?it.Buffer.from(t,"hex"):ut().decode(t));const r=t.slice(0,Qs),n=t.slice(Qs),i=this.sighashLayouts.get(ut().encode(r));return i?{name:i.name,data:i.layout.decode(n)}:null}format(t,e){return InstructionFormatter.format(t,e,this.idl)}}class InstructionFormatter{static format(t,e,r){const n=r.instructions.find((e=>t.name===e.name));if(!n)return console.error("Invalid instruction given"),null;const i=n.args.map((e=>({name:e.name,type:InstructionFormatter.formatIdlType(e.type),data:InstructionFormatter.formatIdlData(e,t.data[e.name],r.types)}))),s=InstructionFormatter.flattenIdlAccounts(n.accounts);return{args:i,accounts:e.map(((t,e)=>e<s.length?{name:s[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("coption"in t)return`COption<${this.formatIdlType(t.coption)}>`;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;if("defined"in t){const e=t.defined.name;if(t.defined.generics){return`${e}<${t.defined.generics.map((t=>{switch(t.kind){case"type":return InstructionFormatter.formatIdlType(t.type);case"const":return t.value}})).join(", ")}>`}return e}throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,r){if("string"==typeof t.type)return e.toString();if("vec"in t.type)return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e,r))).join(", ")+"]";if("option"in t.type)return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,r);if("defined"in t.type){if(!r)throw new Error("User defined types not provided");const n=t.type.defined.name,i=r.find((t=>t.name===n));if(!i)throw new Error(`Type not found: ${n}`);return InstructionFormatter.formatIdlDataDefined(i,e,r)}return"unknown"}static formatIdlDataDefined(t,e,r){switch(t.type.kind){case"struct":return"{ "+jn(t.type.fields,(()=>""),(t=>Object.entries(e).map((([e,n])=>{const i=t.find((t=>t.name===e));if(!i)throw new Error(`Field not found: ${e}`);return e+": "+InstructionFormatter.formatIdlData(i,n,r)})).join(", ")),(t=>Object.entries(e).map((([e,n])=>e+": "+InstructionFormatter.formatIdlData({name:"",type:t[e]},n,r))).join(", ")))+" }";case"enum":{const n=Object.keys(e)[0],i=t.type.variants.find((t=>t.name===n));if(!i)throw new Error(`Unable to find variant: ${n}`);const s=e[n];return jn(i.fields,(()=>n),(t=>{const e=Object.keys(s).map((e=>{const n=s[e],i=t.find((t=>t.name===e));if(!i)throw new Error(`Field not found: ${e}`);return e+": "+InstructionFormatter.formatIdlData(i,n,r)})).join(", ");return`${n} { ${e} }`}),(t=>{const e=Object.entries(s).map((([e,n])=>e+": "+InstructionFormatter.formatIdlData({name:"",type:t[e]},n,r))).join(", ");return`${n} { ${e} }`}))}case"type":return InstructionFormatter.formatIdlType(t.type.alias)}}static flattenIdlAccounts(t,e){return t.map((t=>{const r=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const n=e?`${e} > ${r}`:r;return InstructionFormatter.flattenIdlAccounts(t.accounts,n)}return{...t,name:e?`${e} > ${r}`:r}})).flat()}}const Qs=8;class BorshAccountsCoder{constructor(t){if(this.idl=t,!t.accounts)return void(this.accountLayouts=new Map);const e=t.types;if(!e)throw new Error("Accounts require `idl.types`");const r=t.accounts.map((t=>{const r=e.find((e=>e.name===t.name));if(!r)throw new Error(`Account not found: ${t.name}`);return[t.name,IdlCoder.typeDefLayout({typeDef:r,types:e})]}));this.accountLayouts=new Map(r)}async encode(t,e){const r=it.Buffer.alloc(1e3),n=this.accountLayouts.get(t);if(!n)throw new Error(`Unknown account: ${t}`);const i=n.encode(e,r),s=r.slice(0,i),o=this.accountDiscriminator(t);return it.Buffer.concat([o,s])}decode(t,e){if(this.accountDiscriminator(t).compare(e.slice(0,Qs)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeAny(t){const e=t.slice(0,Qs),r=Array.from(this.accountLayouts.keys()).find((t=>this.accountDiscriminator(t).equals(e)));if(!r)throw new Error("Account not found");return this.decodeUnchecked(r,t)}decodeUnchecked(t,e){const r=e.subarray(Qs),n=this.accountLayouts.get(t);if(!n)throw new Error(`Unknown account: ${t}`);return n.decode(r)}memcmp(t,e){const r=this.accountDiscriminator(t);return{offset:0,bytes:ut().encode(e?it.Buffer.concat([r,e]):r)}}size(t){return Qs+IdlCoder.typeSize({defined:{name:t}},this.idl)}accountDiscriminator(t){var e;const r=null===(e=this.idl.accounts)||void 0===e?void 0:e.find((e=>e.name===t));if(!r)throw new Error(`Account not found: ${t}`);return it.Buffer.from(r.discriminator)}}class BorshEventCoder{constructor(t){var e;if(!t.events)return void(this.layouts=new Map);const r=t.types;if(!r)throw new Error("Events require `idl.types`");const n=t.events.map((t=>{const e=r.find((e=>e.name===t.name));if(!e)throw new Error(`Event not found: ${t.name}`);return[t.name,IdlCoder.typeDefLayout({typeDef:e,types:r})]}));this.layouts=new Map(n),this.discriminators=new Map((null!==(e=t.events)&&void 0!==e?e:[]).map((t=>[Dn(it.Buffer.from(t.discriminator)),t.name])))}decode(t){let e;try{e=Un(t)}catch(s){return null}const r=Dn(e.slice(0,8)),n=this.discriminators.get(r);if(!n)return null;const i=this.layouts.get(n);if(!i)throw new Error(`Unknown event: ${n}`);return{data:i.decode(e.slice(8)),name:n}}}class BorshTypesCoder{constructor(t){const e=t.types;if(!e)return void(this.typeLayouts=new Map);const r=e.filter((t=>!t.generics)).map((t=>[t.name,IdlCoder.typeDefLayout({typeDef:t,types:e})]));this.typeLayouts=new Map(r)}encode(t,e){const r=it.Buffer.alloc(1e3),n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);const i=n.encode(e,r);return r.slice(0,i)}decode(t,e){const r=this.typeLayouts.get(t);if(!r)throw new Error(`Unknown type: ${t}`);return r.decode(e)}}class BorshCoder{constructor(t){this.instruction=new BorshInstructionCoder(t),this.accounts=new BorshAccountsCoder(t),this.events=new BorshEventCoder(t),this.types=new BorshTypesCoder(t)}}class browser_Layout{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,r){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var Js=browser_Layout;class ExternalLayout extends browser_Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class OffsetLayout extends ExternalLayout{constructor(t,e,r){if(!(t instanceof browser_Layout))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,r){return void 0===r&&(r=0),this.layout.encode(t,e,r+this.offset)}}class UInt extends browser_Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntLE(t,r,this.span),this.span}}class UIntBE extends browser_Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntBE(t,r,this.span),this.span}}const Ys=Math.pow(2,32);function Xs(t){const e=Math.floor(t/Ys);return{hi32:e,lo32:t-e*Ys}}function to(t,e){return t*Ys+e}class NearUInt64 extends browser_Layout{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return to(t.readUInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=Xs(t);return e.writeUInt32LE(n.lo32,r),e.writeUInt32LE(n.hi32,r+4),8}}class NearInt64 extends browser_Layout{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return to(t.readInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=Xs(t);return e.writeUInt32LE(n.lo32,r),e.writeInt32LE(n.hi32,r+4),8}}class Structure extends browser_Layout{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof browser_Layout),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===r&&(r=e,e=void 0);for(const s of t)if(0>s.span&&void 0===s.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(i){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(t,e);return e+=i,r+i}),0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(t,e){void 0===e&&(e=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r){void 0===r&&(r=0);const n=r;let i=0,s=0;for(const o of this.fields){let n=o.span;if(s=0<n?n:0,void 0!==o.property){const i=t[o.property];void 0!==i&&(s=o.encode(i,e,r),0>n&&(n=o.getSpan(e,r)))}i=r,r+=n}return i+s-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class UnionDiscriminator{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class Union extends browser_Layout{constructor(t,e,r){const n=t instanceof UInt||t instanceof UIntBE;if(n)t=new UnionLayoutDiscriminator(new OffsetLayout(t));else if(t instanceof ExternalLayout&&t.isCount())t=new UnionLayoutDiscriminator(t);else if(!(t instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof browser_Layout))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&n&&(i+=t.layout.span)),super(i,r),this.discriminator=t,this.usesPrefixDiscriminator=n,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return s(t)},this.configGetSourceVariant=function(t){s=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(t.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(t,e){let r;void 0===e&&(e=0);const n=this.discriminator,i=n.decode(t,e);let s=this.registry[i];if(void 0===s){let o=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(o=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[s.property]=this.defaultLayout.decode(t,e+o)}else r=s.decode(t,e);return r}encode(t,e,r){void 0===r&&(r=0);const n=this.getSourceVariant(t);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(t[n.property],e,r),s+i.encode(t[i.property],e,r+s)}return n.encode(t,e,r)}addVariant(t,e,r){const n=new VariantLayout(this,t,e,r);return this.registry[t]=n,n}getVariant(t,e){let r=t;return Buffer.isBuffer(t)&&(void 0===e&&(e=0),r=this.discriminator.decode(t,e)),this.registry[r]}}class VariantLayout extends browser_Layout{constructor(t,e,r,n){if(!(t instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof browser_Layout))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,n),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,e+r)}decode(t,e){const r=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=n;if(this.layout&&(this.layout.encode(t[this.property],e,r+n),i+=this.layout.getSpan(e,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class Blob$1 extends browser_Layout{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof ExternalLayout||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e){void 0===e&&(e=0);let r=this.span;return 0>r&&(r=this.length.decode(t,e)),t.slice(e,e+r)}encode(t,e,r){let n=this.length;if(this.length instanceof ExternalLayout&&(n=t.length),!Buffer.isBuffer(t)||n!==t.length)throw new TypeError((i="Blob.encode",((s=this).property?i+"["+s.property+"]":i)+" requires (length "+n+") Buffer as src"));var i,s;if(r+n>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),r,n,"hex"),this.length instanceof ExternalLayout&&this.length.encode(n,e,r),n}}var eo=(t,e,r)=>new OffsetLayout(t,e,r),ro=t=>new UInt(4,t),no=t=>new NearInt64(t),io=(t,e,r)=>new Structure(t,e,r),so=(t,e,r)=>new Union(t,e,r),oo=(t,e)=>new Blob$1(t,e);class RustStringLayout extends Js{constructor(t){super(-1,t),this.property=t,this.layout=io([ro("length"),ro("lengthPadding"),oo(eo(ro(),-8),"chars")],this.property)}encode(t,e,r=0){if(null==t)return this.layout.span;const n={chars:Buffer.from(t,"utf8")};return this.layout.encode(n,e,r)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return ro().span+ro().span+new(ot())(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function ao(t){return new RustStringLayout(t)}function uo(t){return oo(32,t)}const co=so(ro("instruction"));co.addVariant(0,io([no("lamports"),no("space"),uo("owner")]),"createAccount"),co.addVariant(1,io([uo("owner")]),"assign"),co.addVariant(2,io([no("lamports")]),"transfer"),co.addVariant(3,io([uo("base"),ao("seed"),no("lamports"),no("space"),uo("owner")]),"createAccountWithSeed"),co.addVariant(4,io([uo("authorized")]),"advanceNonceAccount"),co.addVariant(5,io([no("lamports")]),"withdrawNonceAccount"),co.addVariant(6,io([uo("authorized")]),"initializeNonceAccount"),co.addVariant(7,io([uo("authorized")]),"authorizeNonceAccount"),co.addVariant(8,io([no("space")]),"allocate"),co.addVariant(9,io([uo("base"),ao("seed"),no("space"),uo("owner")]),"allocateWithSeed"),co.addVariant(10,io([uo("base"),ao("seed"),uo("owner")]),"assignWithSeed"),co.addVariant(11,io([no("lamports"),ao("seed"),uo("owner")]),"transferWithSeed");Math.max(...Object.values(co.registry).map((t=>t.span)));class WrappedLayout$1 extends Js{constructor(t,e,r,n){super(t.span,n),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}function lo(t){return new WrappedLayout$1(oo(32),(t=>new o.PublicKey(t)),(t=>t.toBuffer()),t)}io([ro("version"),ro("state"),lo("authorizedPubkey"),lo("nonce"),io([(ho="lamportsPerSignature",new NearUInt64(ho))],"feeCalculator")]);var ho;new o.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),new o.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var fo={exports:{}};!function(t,e){var r="undefined"!=typeof self?self:bi,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in t,o="ArrayBuffer"in t;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function m(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,r=p(e);return e.readAsText(t),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=c(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},d.prototype.delete=function(t){delete this.map[c(t)]},d.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},d.prototype.set=function(t,e){this.map[c(t)]=l(e)},d.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),h(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),h(t)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(t,e){var r,n,i=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),w.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];_.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(Ce){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,r){return new Promise((function(n,s){var o=new v(t,r);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new _(i,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",u)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=d,t.Request=v,t.Response=_),e.Headers=d,e.Request=v,e.Response=_,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(fo,fo.exports);ht.rustEnum([ht.struct([],"uninitialized"),ht.struct([ht.option(ht.publicKey(),"authorityAddress")],"buffer"),ht.struct([ht.publicKey("programdataAddress")],"program"),ht.struct([ht.u64("slot"),ht.option(ht.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,ht.u32());function po(t,e){var r,n;let i={};const s=t.args?t.args.length:0;if(e.length>s){if(e.length!==s+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(n=null===(r=t.args)||void 0===r?void 0:r.map((t=>t.name)))&&void 0!==n?n:[]}`);i=e.pop()}return[e,i]}class InstructionNamespaceFactory{static build(t,e,r){if("_inner"===t.name)throw new IdlError("the _inner name is reserved");const n=(...i)=>{const[s,a]=po(t,[...i]);Hn(t.accounts,a.accounts);const u=n.accounts(a.accounts);return void 0!==a.remainingAccounts&&u.push(...a.remainingAccounts),Ws("debug-logs")&&console.log("Outgoing account metas:",u),new o.TransactionInstruction({keys:u,programId:r,data:e(t.name,Vn(t,...s))})};return n.accounts=e=>InstructionNamespaceFactory.accountsArray(e,t.accounts,r,t.name),n}static accountsArray(t,e,r,n){return t?e.map((e=>{if(Fn(e)){const i=t[e.name];return InstructionNamespaceFactory.accountsArray(i,e.accounts,r,n).flat()}let i;try{i=qn(t[e.name])}catch(Ce){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}const s=e.optional&&i.equals(r);return{pubkey:i,isWritable:Boolean(e.writable&&!s),isSigner:Boolean(e.signer&&!s)}})).flat():[]}}class TransactionFactory{static build(t,e){return(...r)=>{var n,i,s;const[,a]=po(t,[...r]),u=new o.Transaction;if(a.preInstructions&&a.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(n=a.preInstructions)||void 0===n||n.forEach((t=>u.add(t))),null===(i=a.instructions)||void 0===i||i.forEach((t=>u.add(t))),u.add(e(...r)),null===(s=a.postInstructions)||void 0===s||s.forEach((t=>u.add(t))),u}}}class RpcFactory{static build(t,e,r,n){return async(...i)=>{var s;const o=e(...i),[,a]=po(t,[...i]);if(void 0===n.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await n.sendAndConfirm(o,null!==(s=a.signers)&&void 0!==s?s:[],a.options)}catch(Ce){throw $s(Ce,r)}}}}class AccountFactory{static build(t,e,r,n){var i;return(null!==(i=t.accounts)&&void 0!==i?i:[]).reduce(((i,s)=>(i[s.name]=new AccountClient(t,s,r,n,e),i)),{})}}class AccountClient{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(t,e,r,n,i){this._idlAccount=e,this._programId=r,this._provider=null!=n?n:wi(),this._coder=null!=i?i:new BorshCoder(t),this._size=this._coder.accounts.size(e.name)}async fetchNullable(t,e){const{data:r}=await this.fetchNullableAndContext(t,e);return r}async fetchNullableAndContext(t,e){const r=await this.getAccountInfoAndContext(t,e),{value:n,context:i}=r;return{data:n&&0!==n.data.length?this._coder.accounts.decode(this._idlAccount.name,n.data):null,context:i}}async fetch(t,e){const{data:r}=await this.fetchNullableAndContext(t,e);if(null===r)throw new Error(`Account does not exist or has no data ${t.toString()}`);return r}async fetchAndContext(t,e){const{data:r,context:n}=await this.fetchNullableAndContext(t,e);if(null===r)throw new Error(`Account does not exist ${t.toString()}`);return{data:r,context:n}}async fetchMultiple(t,e){return(await this.fetchMultipleAndContext(t,e)).map((t=>t?t.data:null))}async fetchMultipleAndContext(t,e){return(await ci(this._provider.connection,t.map((t=>qn(t))),e)).map((t=>{if(null==t)return null;const{account:e,context:r}=t;return{data:this._coder.accounts.decode(this._idlAccount.name,e.data),context:r}}))}async all(t){const e=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof Buffer?t:void 0),r=[];return null!=(null==e?void 0:e.offset)&&null!=(null==e?void 0:e.bytes)&&r.push({memcmp:{offset:e.offset,bytes:e.bytes}}),null!=(null==e?void 0:e.dataSize)&&r.push({dataSize:e.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const r=mo.get(t.toString());if(r)return r.ee;const n=new(On());t=qn(t);const i=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);n.emit("change",e)}),e);return mo.set(t.toString(),{ee:n,listener:i}),n}async unsubscribe(t){let e=mo.get(t.toString());e?mo&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{mo.delete(t.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const r=this.size;if(void 0===this._provider.publicKey)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return o.SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:r),programId:this._programId})}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(qn(t),e)}async getAccountInfoAndContext(t,e){return await this._provider.connection.getAccountInfoAndContext(qn(t),e)}}const mo=new Map,go="Program log: ",yo="Program data: ";class EventManager{constructor(t,e,r){this._programId=t,this._provider=e,this._eventParser=new EventParser(t,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var r;let n=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(r=this._eventListeners.get(t))&&void 0!==r?r:[]).concat(n)),this._eventCallbacks.set(n,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{if(!t.err)for(const r of this._eventParser.parseLogs(t.logs)){const n=this._eventListeners.get(r.name);n&&n.forEach((n=>{const i=this._eventCallbacks.get(n);if(i){const[,n]=i;n(r.data,e.slot,t.signature)}}))}}))),n}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[r]=e;let n=this._eventListeners.get(r);if(!n)throw new Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(t),n=n.filter((e=>e!==t)),this._eventListeners.set(r,n),0===n.length&&this._eventListeners.delete(r),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class EventParser{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t,e=!1){const r=new LogScanner(t),n=new ExecutionContext;let i=r.next();for(;null!==i;){let[t,s,o]=this.handleLog(n,i,e);t&&(yield t),s&&n.push(s),o&&n.pop(),i=r.next()}}handleLog(t,e,r){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e,r):[null,...this.handleSystemLog(e)]}handleProgramLog(t,e){if(t.startsWith(go)||t.startsWith(yo)){const r=t.startsWith(go)?t.slice(13):t.slice(14),n=this.coder.events.decode(r);if(e&&null===n)throw new Error(`Unable to decode event ${r}`);return[n,null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class ExecutionContext{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class LogScanner{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}class SimulateFactory{static build(t,e,r,n,i,s,o){return async(...a)=>{var u;const c=e(...a),[,l]=po(t,[...a]);let h;if(void 0===n.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{h=await n.simulate(c,l.signers,null===(u=l.options)||void 0===u?void 0:u.commitment)}catch(Ce){throw $s(Ce,r)}if(void 0===h)throw new Error("Unable to simulate transaction");const d=h.logs;if(!d)throw new Error("Simulated logs not found");const f=[];if(o.events){let t=new EventParser(s,i);for(const e of t.parseLogs(d))f.push(e)}return{events:f,raw:d}}}}function wo(t){return new WrappedLayout(oo(8),(t=>browser_u64.fromBuffer(t)),(t=>t.toBuffer()),t)}function vo(t){return new WrappedLayout(oo(32),(t=>new o.PublicKey(t)),(t=>t.toBuffer()),t)}function bo(t,e){return new COptionLayout(t,e)}class WrappedLayout extends Js{constructor(t,e,r,n){super(t.span,n),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}class COptionLayout extends Js{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=ro()}encode(t,e,r=0){return null==t?this.layout.span+this.discriminator.encode(0,e,r):(this.discriminator.encode(1,e,r),this.layout.encode(t,e,r+4)+4)}decode(t,e=0){const r=this.discriminator.decode(t,e);if(0===r)return null;if(1===r)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class browser_u64 extends(ot()){toBuffer(){const t=super.toArray().reverse(),e=Buffer.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return e.copy(r),r}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new browser_u64([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}const _o=io([vo("mint"),vo("owner"),wo("amount"),bo(vo(),"delegate"),(()=>{const t=so((t=>new UInt(1,t))("discriminator"),null,"state");return t.addVariant(0,io([]),"uninitialized"),t.addVariant(1,io([]),"initialized"),t.addVariant(2,io([]),"frozen"),t})(),bo(wo(),"isNative"),wo("delegatedAmount"),bo(vo(),"closeAuthority")]);class AccountsResolver{constructor(t,e,r,n,i,s,o,a){this._args=t,this._accounts=e,this._provider=r,this._programId=n,this._idlIx=i,this._idlTypes=o,this._customResolver=a,this._accountStore=new AccountStore(r,s,n)}args(t){this._args=t}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let t=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(t++,16===t)throw new Error("Reached maximum depth for account resolution")}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const e=t.reduce(((t,e)=>t&&t[e]),this._accounts);if(e&&e.toBase58)return e}set(t,e){let r=this._accounts;t.forEach(((n,i)=>{var s;i===t.length-1&&(r[n]=e),r[n]=null!==(s=r[n])&&void 0!==s?s:{},r=r[n]}))}resolveOptionalsHelper(t,e){const r={};for(const n of e){const e=n.name,i=t[e];void 0!==i&&(Eo(i)?Fn(n)?r[e]=this.resolveOptionalsHelper(i,n.accounts):r[e]=So(i,!0):null!==i?r[e]=qn(i):n.optional&&(r[e]=this._programId))}return r}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:e}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,e}return 0}resolveEventCpi(t,e=[]){for(const r in t){const n=t[r];Fn(n)&&this.resolveEventCpi(n.accounts,[...e,n.name]);const i=+r+1;if(i===t.length)return;const s=t[r].name,a=t[i].name;if("eventAuthority"===s&&"program"===a){const t=[...e,s],r=[...e,a];return this.get(t)||this.set(t,o.PublicKey.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),void(this.get(r)||this.set(r,this._programId))}}}resolveConst(t,e=[]){for(const r of t){const t=r.name;if(Fn(r))this.resolveConst(r.accounts,[...e,t]);else{const n=r;if((n.signer||n.address)&&!this.get([...e,t])){if(n.signer){if(!this._provider.wallet)throw new Error("This function requires the `Provider` interface implementor to have a `wallet` field.");this.set([...e,t],this._provider.wallet.publicKey)}n.address&&this.set([...e,t],qn(n.address))}}}}async resolvePdasAndRelations(t,e=[]){let r=0;for(const n of t){const t=n.name;if(Fn(n))r+=await this.resolvePdasAndRelations(n.accounts,[...e,t]);else{const i=n;if((i.pda||i.relations)&&!this.get([...e,t])){r++;try{if(i.pda){const r=await Promise.all(i.pda.seeds.map((t=>this.toBuffer(t,e))));if(r.some((t=>!t)))continue;const n=await this.parseProgramId(i,e),[s]=o.PublicKey.findProgramAddressSync(r,n);this.set([...e,t],s)}}catch{}try{if(i.relations){const r=this.get([...e,i.relations[0]]);if(r){const n=await this._accountStore.fetchAccount({publicKey:r});this.set([...e,t],n[t])}}}catch{}}}}return r}async parseProgramId(t,e=[]){var r;if(!(null===(r=t.pda)||void 0===r?void 0:r.program))return this._programId;const n=await this.toBuffer(t.pda.program,e);if(!n)throw new Error(`Program seed not resolved: ${t.name}`);return new o.PublicKey(n)}async toBuffer(t,e=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,e);default:throw new Error(`Unexpected seed: ${t}`)}}toBufferConst(t){return this.toBufferValue("bytes",t.value)}async toBufferArg(t){const[e,...r]=t.path.split("."),n=this._idlIx.args.findIndex((t=>t.name===e));if(-1===n)throw new Error(`Unable to find argument for seed: ${e}`);const i=r.reduce(((t,e)=>(null!=t?t:{})[e]),this._args[n]);if(void 0===i)return;const s=this.getType(this._idlIx.args[n].type,r);return this.toBufferValue(s,i)}async toBufferAccount(t,e=[]){const[r,...n]=t.path.split("."),i=this.get([...e,r]);if(!i)return;if(!n.length)return this.toBufferValue("pubkey",i);if(!t.account)throw new Error(`Seed account is required in order to resolve type: ${t.path}`);let s=await this._accountStore.fetchAccount({publicKey:i,name:t.account}),o=n;for(;o.length>0;)s=s[o[0]],o=o.slice(1);if(void 0===s)return;const a=this.getType({defined:{name:t.account}},n);return this.toBufferValue(a,s)}toBufferValue(t,e){switch(t){case"u8":case"i8":return Buffer.from([e]);case"u16":case"i16":return new(ot())(e).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new(ot())(e).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new(ot())(e).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new(ot())(e).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new(ot())(e).toArrayLike(Buffer,"le",32);case"string":case"bytes":return Buffer.from(e);case"pubkey":return e.toBuffer();default:if(null==t?void 0:t.array)return Buffer.from(e);throw new Error(`Unexpected seed type: ${t}`)}}getType(t,e=[]){var r;const n=null===(r=null==t?void 0:t.defined)||void 0===r?void 0:r.name;if(n){if("tokenAccount"===n)switch(e.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${e}`)}const t=this._idlTypes.find((t=>t.name===n));if(!t)throw new Error(`Type not found: ${n}`);const[r,...i]=e,s=t.type.fields.find((t=>t.name===r));if(!s)throw new Error(`Field not found: ${r}`);return this.getType(s.type,i)}return t}}class AccountStore{constructor(t,e,r){this._provider=t,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=e}async fetchAccount({publicKey:t,name:e}){const r=t.toBase58();if(!this._cache.has(r)){const i=await this._provider.connection.getAccountInfo(t);if(null===i)throw new Error(`Account not found: ${r}`);if("tokenAccount"===e){const t=(n=i.data,_o.decode(n));this._cache.set(r,t)}else{const t=await this.getAccountsNs(i.owner);if(t){const e=Object.values(t)[0];if(e){const t=e.coder.accounts.decodeAny(i.data);this._cache.set(r,t)}}}}var n;return this._cache.get(r)}async getAccountsNs(t){const e=t.toBase58();if(!this._idls[e]){const r=await Program.fetchIdl(t,this._provider);if(r){const t=new Program(r,this._provider);this._idls[e]=t.account}}return this._idls[e]}}class MethodsBuilderFactory{static build(t,e,r,n,i,s,o,a,u,c,l){return(...h)=>new MethodsBuilder(h,n,i,s,o,a,t,e,r,u,c,l)}}function Eo(t){return"object"==typeof t&&null!==t&&!("_bn"in t)}function So(t,e){const r={};for(const n in t){const i=t[n];if(null!==i)r[n]=Eo(i)?So(i,!0):qn(i);else if(e)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!")}return r}class MethodsBuilder{constructor(t,e,r,n,i,s,o,a,u,c,l,h){this._args=t,this._ixFn=e,this._txFn=r,this._rpcFn=n,this._simulateFn=i,this._viewFn=s,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new AccountsResolver(t,this._accounts,o,a,u,c,l,h)}args(t){this._args=t,this._accountsResolver.args(t)}accounts(t){return this.accountsPartial(t)}accountsPartial(t){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t,e=!1){return this._preInstructions=e?t.concat(this._preInstructions):this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async rpc(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{pubkeys:await this.pubkeys(),signature:await this.rpc(t)}}async view(t){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:this._signers}}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class ViewFactory{static build(t,e,r,n){const i=e.accounts.find((t=>t.writable)),s=!!e.returns;if(i||!s)return;return async(...i)=>{let s=await r(...i);const o=`Program return: ${t} `;let a=s.raw.find((t=>t.startsWith(o)));if(!a)throw new Error("View expected return log");let u=Un(a.slice(o.length)),c=e.returns;if(!c)throw new Error("View expected return type");return IdlCoder.fieldLayout({type:c},n.types).decode(u)}}}class NamespaceFactory{static build(t,e,r,n,i){const s={},o={},a={},u={},c={},l={},h=function(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var r;let n=null!==(r=t.msg)&&void 0!==r?r:t.name;e.set(t.code,n)})),e}(t),d=t.accounts?AccountFactory.build(t,e,r,n):{};return t.instructions.forEach((f=>{const p=InstructionNamespaceFactory.build(f,((t,r)=>e.instruction.encode(t,r)),r),m=TransactionFactory.build(f,p),g=RpcFactory.build(f,m,h,n),y=SimulateFactory.build(f,m,h,n,e,r,t),w=ViewFactory.build(r,f,y,t),v=MethodsBuilderFactory.build(n,r,f,p,m,g,y,w,d,t.types||[],null==i?void 0:i(f)),b=f.name;o[b]=p,a[b]=m,s[b]=g,u[b]=y,c[b]=v,w&&(l[b]=w)})),[s,o,a,d,u,c,l]}}class Program{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,e=wi(),r,n){const i=function(t){const e=["name","path","account","relations","generic"],r=t=>t.split(".").map(lt()).join("."),n=t=>{for(const i in t){const s=t[i];e.includes(i)?t[i]=Array.isArray(s)?s.map(r):r(s):"object"==typeof s&&n(s)}},i=structuredClone(t);return n(i),i}(t);this._idl=i,this._rawIdl=t,this._provider=e,this._programId=qn(t.address),this._coder=null!=r?r:new BorshCoder(i),this._events=new EventManager(this._programId,e,this._coder);const[s,o,a,u,c,l,h]=NamespaceFactory.build(i,this._coder,this._programId,e,n);this.rpc=s,this.instruction=o,this.transaction=a,this.account=u,this.simulate=c,this.methods=l,this.views=h}static async at(t,e){const r=qn(t),n=await Program.fetchIdl(r,e);if(!n)throw new Error(`IDL not found for program: ${t.toString()}`);return new Program(n,e)}static async fetchIdl(t,e){e=null!=e?e:wi();const r=qn(t),n=await async function(t){const e=(await o.PublicKey.findProgramAddress([],t))[0];return await o.PublicKey.createWithSeed(e,"anchor:idl",t)}(r),i=await e.connection.getAccountInfo(n);if(!i)return null;let s=(a=i.data.slice(8),zn.decode(a));var a;const u=Cn(s.data);return JSON.parse(Bn(u))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}new o.PublicKey("11111111111111111111111111111111");const ko=JSON.parse('{"address":"Lucky7RXZNtywxBXrGibRqrC3FcJYdvr34nFpU6DJVX","metadata":{"name":"luckyswaps","version":"0.1.0","spec":"0.1.0","description":"Created with Anchor"},"instructions":[{"name":"fund_reserve","discriminator":[17,82,71,222,117,210,58,12],"accounts":[{"name":"state","pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"authority","writable":true,"signer":true,"relations":["state"]},{"name":"reserve","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,115,101,114,118,101]},{"kind":"account","path":"mint"}]}},{"name":"mint"},{"name":"vault","writable":true},{"name":"from","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]},{"name":"initialize","discriminator":[175,175,109,31,13,152,155,237],"accounts":[{"name":"state","writable":true,"pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"authority","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"setup_reserve","discriminator":[228,106,40,32,130,22,168,195],"accounts":[{"name":"state","pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"reserve","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,115,101,114,118,101]},{"kind":"account","path":"mint"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"state"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"mint"},{"name":"authority","writable":true,"signer":true,"relations":["state"]},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[]},{"name":"swap","discriminator":[248,198,158,145,225,117,135,200],"accounts":[{"name":"payer","writable":true,"signer":true},{"name":"user_token_account","writable":true},{"name":"user_target_token_account","writable":true},{"name":"state","writable":true,"pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"reserve","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,115,101,114,118,101]},{"kind":"account","path":"reserve.mint","account":"Reserve"}]}},{"name":"vault","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"recent_blockhashes"},{"name":"instruction_sysvar"},{"name":"jupiter_program","address":"JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"}],"args":[{"name":"threshold","type":"u32"},{"name":"jupiter_data","type":"bytes"}]},{"name":"update_house_edge","discriminator":[134,38,169,178,27,198,191,173],"accounts":[{"name":"state","writable":true,"pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"authority","signer":true}],"args":[{"name":"new_house_edge","type":"u16"}]},{"name":"update_max_allowed_multiplier","discriminator":[9,233,202,14,35,85,97,11],"accounts":[{"name":"state","writable":true},{"name":"authority","signer":true}],"args":[{"name":"new_max_allowed_multiplier","type":"u32"}]},{"name":"update_override_random","discriminator":[72,19,93,103,151,133,255,222],"accounts":[{"name":"state","writable":true,"pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"authority","signer":true}],"args":[{"name":"enable_override","type":"bool"},{"name":"value","type":"u32"}]}],"accounts":[{"name":"Reserve","discriminator":[43,242,204,202,26,247,59,127]},{"name":"State","discriminator":[216,146,107,94,104,75,182,177]}],"events":[{"name":"SwapRecord","discriminator":[162,187,123,194,138,56,250,241]}],"errors":[{"code":6000,"name":"MathError","msg":"MathError"},{"code":6001,"name":"AlreadyInitialized","msg":"Program already initialized"},{"code":6002,"name":"ReserveAlreadySetup","msg":"Reserves already set up"},{"code":6003,"name":"Unauthorized","msg":"Unauthorized access"},{"code":6004,"name":"InvalidHouseEdge","msg":"Invalid house edge value"},{"code":6005,"name":"InvalidReserve","msg":"Invalid reserve for the given token"},{"code":6006,"name":"UnexpectedExecutableAccount","msg":"Unexpected executable account in transaction"},{"code":6007,"name":"InvalidInstructionAccounts","msg":"Invalid Instruction Accounts"},{"code":6008,"name":"NoOtherInstructionAllowed","msg":"Other instructions not allowed"},{"code":6009,"name":"Unsupported","msg":"Unsupported Functionality!"},{"code":6010,"name":"InvalidJupiterAccount","msg":"Constraint Error in Jupiter Account"},{"code":6011,"name":"InvalidJupiterData","msg":"Constraint Error in Jupiter Data"},{"code":6012,"name":"InvalidStateConfiguration","msg":"Global state has an invalid value!"},{"code":6013,"name":"BreachMaxAllowedMultiplier","msg":"The max allowed multiplier was breached!"},{"code":6014,"name":"InvalidNewMaxMultiplier","msg":"Invalid new max multiplier!"}],"types":[{"name":"Reserve","type":{"kind":"struct","fields":[{"name":"mint","type":"pubkey"},{"name":"vault","type":"pubkey"},{"name":"total_deposits","type":"u64"},{"name":"total_withdrawals","type":"u64"},{"name":"total_losses_collected","type":"u64"},{"name":"total_wins_paid","type":"u64"},{"name":"padding","type":{"array":["u64",5]}}]}},{"name":"State","type":{"kind":"struct","fields":[{"name":"authority","type":"pubkey"},{"name":"initialized","type":"bool"},{"name":"override_random","type":"bool"},{"name":"override_random_value","type":"u32"},{"name":"house_edge","type":"u16"},{"name":"max_allowed_multiplier","type":"u32"},{"name":"padding","type":{"array":["u32",13]}}]}},{"name":"SwapRecord","type":{"kind":"struct","fields":[{"name":"payer","type":"pubkey"},{"name":"reserve","type":"pubkey"},{"name":"vault","type":"pubkey"},{"name":"amount","type":"u64"},{"name":"threshold","type":"u32"},{"name":"random_number","type":"u32"},{"name":"adjusted_threshold","type":"u32"},{"name":"payer_wins","type":"bool"},{"name":"win_paid","type":"u64"},{"name":"loss_collected","type":"u64"}]}}],"constants":[{"name":"SEED_RESERVE","type":"bytes","value":"[114, 101, 115, 101, 114, 118, 101]"},{"name":"SEED_STATE","type":"bytes","value":"[115, 116, 97, 116, 101]"}]}');function Ao(t){return!!t&&Number.parseFloat(t).toString()===t}function Io(t){const e=Number(t);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:e>=1e3?"compact":"standard",maximumFractionDigits:e>=1e3?1:0}).format(e)}async function Mo(t,e,r,n=!1){if(console.debug(r),!t.signTransaction)throw new Error("Something with wallet setup went wrong");try{const s=await t.signTransaction(r),o=await e.sendTransaction(s);if(n){const t=await e.getLatestBlockhash();await e.confirmTransaction((0,i.A)({signature:o},t),"confirmed")}return{signature:o}}catch(s){throw s&&s.error&&!s.message&&(s.message=s.error),s}}async function xo(t,e,r,n,i){const o=await async function(t,e,r){return await(await fetch(`https://quote-api.jup.ag/v6/quote?inputMint=${t}&outputMint=${e}&amount=${r}&slippageBps=50`)).json()}(r,n,i);if(!t.publicKey)throw Error("Wallet must be connected");const{swapTransaction:a}=await(await fetch("https://quote-api.jup.ag/v6/swap",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quoteResponse:o,userPublicKey:t.publicKey.toString(),wrapAndUnwrapSol:!0})})).json(),u=Buffer.from(a,"base64"),c=s.Kt.deserialize(u);return await Mo(t,e,c)}async function To(t,e,r,i,a,u,c=!1){const l=function(t,e){const r="string"==typeof t?new o.Connection(t,{commitment:"processed"}):t,i=e?e instanceof o.Keypair?new n.Wallet(e):e:new n.Wallet(o.Keypair.generate()),s=new AnchorProvider(r,i,AnchorProvider.defaultOptions());return new Program(ko,s)}(e,t),h=Math.round(Z/+u),d={payerAccount:t.publicKey,inputMint:new s.J3(r),outputMint:new s.J3(i),program:l,amount:a,threshold:h,jupiterQuoteParams:{onlyDirectRoutes:!0},jupiterSwapParams:{}};console.debug("luckyswapparams",{payerAccount:d.payerAccount.toString(),inputMint:d.inputMint.toString(),outputMint:d.outputMint.toString(),program:{programID:d.program.programId.toString()},amount:d.amount.toString(),threshold:d.threshold.toString()},d);const f=await nt(d),{computeBudgetInstructions:p,setupInstructionsUser:m,swapInstruction:g,cleanupInstruction:y,addressLookupTableAddresses:w}=f,v=t=>new s.fH({programId:new s.J3(t.programId),keys:t.accounts.map((t=>({pubkey:new s.J3(t.pubkey),isSigner:t.isSigner,isWritable:t.isWritable}))),data:Buffer.from(t.data,"base64")}),b=[];b.push(...await(async t=>(await e.getMultipleAccountsInfo(t.map((t=>new s.J3(t))))).reduce(((e,r,n)=>{const i=t[n];if(r){const t=new s.kc({key:new s.J3(i),state:s.kc.deserialize(r.data)});e.push(t)}return e}),new Array))(w));const _=(await e.getLatestBlockhash()).blockhash,E=[...m.map(v),v(g)],S=new s.wu({payerKey:t.publicKey,recentBlockhash:_,instructions:E}).compileToV0Message(b),k=new s.Kt(S);return await Mo(t,e,k,c)}},2447:(t,e,r)=>{"use strict";var n=r(3696),i=r(7470),s=r(9348),o=r(8891);window.Buffer=o.Buffer;var a=r(7435),u=r(8036),c=r(2540);const l=(0,n.lazy)((()=>r.e(8166).then(r.bind(r,8166)))),h=(0,n.lazy)((()=>r.e(4985).then(r.bind(r,4985)))),d=(0,n.lazy)((()=>r.e(4901).then(r.bind(r,4901)))),f=(0,n.lazy)((()=>r.e(6229).then(r.bind(r,6229)))),p=(0,n.lazy)((()=>r.e(535).then(r.bind(r,535)))),m=[{label:"Account",path:"/account"},{label:"Swap",path:"/swap"}],g=[{path:"/account/",element:(0,c.jsx)(l,{})},{path:"/account/:address",element:(0,c.jsx)(h,{})},{path:"/clusters",element:(0,c.jsx)(d,{})},{path:"/swap",element:(0,c.jsx)(p,{})},{path:"/swap/:sendMint/:receiveMint",element:(0,c.jsx)(p,{})}];function y(){return(0,c.jsx)(u.$T,{links:m,children:(0,a.Ye)([{index:!0,element:(0,c.jsx)(a.C5,{to:"/dashboard",replace:!0})},{path:"/dashboard",element:(0,c.jsx)(f,{})},...g,{path:"*",element:(0,c.jsx)(a.C5,{to:"/dashboard",replace:!0})}])})}var w=r(6231),v=r(9682),b=r(9739),_=r(3194),E=r(3102),S=r(5257),k=class extends S.Q{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){const n=e.queryKey,i=e.queryHash??(0,b.F$)(n,e);let s=this.get(i);return s||(s=new _.X({cache:this,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){E.j.batch((()=>{this.getAll().forEach((t=>{this.remove(t)}))}))}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find((t=>(0,b.MK)(e,t)))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter((e=>(0,b.MK)(t,e))):e}notify(t){E.j.batch((()=>{this.listeners.forEach((e=>{e(t)}))}))}onFocus(){E.j.batch((()=>{this.getAll().forEach((t=>{t.onFocus()}))}))}onOnline(){E.j.batch((()=>{this.getAll().forEach((t=>{t.onOnline()}))}))}},A=r(9655),I=class extends S.Q{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#r=Date.now()}#e;#r;build(t,e,r){const n=new A.s({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){const e=M(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=M(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter((e=>e!==t));r&&(0===r.length?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(M(t))?.find((t=>"pending"===t.state.status));return!e||e===t}runNext(t){const e=this.#e.get(M(t))?.find((e=>e!==t&&e.state.isPaused));return e?.continue()??Promise.resolve()}clear(){E.j.batch((()=>{this.getAll().forEach((t=>{this.remove(t)}))}))}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find((t=>(0,b.nJ)(e,t)))}findAll(t={}){return this.getAll().filter((e=>(0,b.nJ)(t,e)))}notify(t){E.j.batch((()=>{this.listeners.forEach((e=>{e(t)}))}))}resumePausedMutations(){const t=this.getAll().filter((t=>t.state.isPaused));return E.j.batch((()=>Promise.all(t.map((t=>t.continue().catch(b.lQ))))))}};function M(t){return t.options.scope?.id??String(t.mutationId)}var x=r(3203),T=r(792);function R(t){return{onFetch:(e,r)=>{const n=async()=>{const r=e.options,n=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],s=e.state.data?.pageParams||[],o={pages:[],pageParams:[]};let a=!1;const u=(0,b.ZM)(e.options,e.fetchOptions),c=async(t,r,n)=>{if(a)return Promise.reject();if(null==r&&t.pages.length)return Promise.resolve(t);const i={queryKey:e.queryKey,pageParam:r,direction:n?"backward":"forward",meta:e.options.meta};var s;s=i,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(e.signal.aborted?a=!0:e.signal.addEventListener("abort",(()=>{a=!0})),e.signal)});const o=await u(i),{maxPages:c}=e.options,l=n?b.ZZ:b.y9;return{pages:l(t.pages,o,c),pageParams:l(t.pageParams,r,c)}};let l;if(n&&i.length){const t="backward"===n,e={pages:i,pageParams:s},o=(t?P:C)(r,e);l=await c(e,o,t)}else{l=await c(o,s[0]??r.initialPageParam);const e=t??i.length;for(let t=1;t<e;t++){const t=C(r,l);l=await c(l,t)}}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=n}}}function C(t,{pages:e,pageParams:r}){const n=e.length-1;return t.getNextPageParam(e[n],e,r[n],r)}function P(t,{pages:e,pageParams:r}){return t.getPreviousPageParam?.(e[0],e,r[0],r)}var O=r(720),N=r(9166),B=r(6756),L=r(36);function D({children:t}){const[e,r]=(0,n.useState)(!1),[i,s]=(0,n.useState)(""),[o,a]=(0,n.useState)("");return e?(0,c.jsx)(c.Fragment,{children:t}):(0,c.jsxs)("div",{className:"min-h-full bg-gray-100",children:[(0,c.jsx)(u.sR,{title:"",subtitle:"",children:(0,c.jsx)("img",{alt:"Logo",src:"/assets/logo.png"})}),(0,c.jsx)("div",{className:"max-w-xl mx-auto py-6 sm:px-6 lg:px-8 text-center",children:(0,c.jsx)("div",{className:"space-y-2",children:"Coming soon"})}),(0,c.jsx)("div",{className:"flex justify-center items-center ",children:(0,c.jsx)("div",{className:"p-8 bg-white rounded-lg shadow-md",children:(0,c.jsxs)("form",{onSubmit:t=>{t.preventDefault();"772d0442be0250bfb71a641e0af683f0dcae3d4a0e8232e453b488ae7db26a58"===(0,L.sha256)(i)?(r(!0),a("")):a("Incorrect password")},children:[(0,c.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Enter Password"}),(0,c.jsx)("input",{type:"password",value:i,onChange:t=>s(t.target.value),className:"px-3 py-2 mr-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,c.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Submit"}),o&&(0,c.jsx)("p",{className:"text-red-500 mt-2",children:o})]})})})]})}const U=new class{#n;#i;#s;#o;#a;#u;#c;#l;constructor(t={}){this.#n=t.queryCache||new k,this.#i=t.mutationCache||new I,this.#s=t.defaultOptions||{},this.#o=new Map,this.#a=new Map,this.#u=0}mount(){this.#u++,1===this.#u&&(this.#c=x.m.subscribe((async t=>{t&&(await this.resumePausedMutations(),this.#n.onFocus())})),this.#l=T.t.subscribe((async t=>{t&&(await this.resumePausedMutations(),this.#n.onOnline())})))}unmount(){this.#u--,0===this.#u&&(this.#c?.(),this.#c=void 0,this.#l?.(),this.#l=void 0)}isFetching(t){return this.#n.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#i.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#n.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(void 0===e)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=this.#n.build(this,r);return t.revalidateIfStale&&n.isStaleByTime(r.staleTime)&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return this.#n.findAll(t).map((({queryKey:t,state:e})=>[t,e.data]))}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=this.#n.get(n.queryHash),s=i?.state.data,o=(0,b.Zw)(e,s);if(void 0!==o)return this.#n.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return E.j.batch((()=>this.#n.findAll(t).map((({queryKey:t})=>[t,this.setQueryData(t,e,r)]))))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#n.get(e.queryHash)?.state}removeQueries(t){const e=this.#n;E.j.batch((()=>{e.findAll(t).forEach((t=>{e.remove(t)}))}))}resetQueries(t,e){const r=this.#n,n={type:"active",...t};return E.j.batch((()=>(r.findAll(t).forEach((t=>{t.reset()})),this.refetchQueries(n,e))))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=E.j.batch((()=>this.#n.findAll(t).map((t=>t.cancel(r)))));return Promise.all(n).then(b.lQ).catch(b.lQ)}invalidateQueries(t={},e={}){return E.j.batch((()=>{if(this.#n.findAll(t).forEach((t=>{t.invalidate()})),"none"===t.refetchType)return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)}))}refetchQueries(t={},e){const r={...e,cancelRefetch:e?.cancelRefetch??!0},n=E.j.batch((()=>this.#n.findAll(t).filter((t=>!t.isDisabled())).map((t=>{let e=t.fetch(void 0,r);return r.throwOnError||(e=e.catch(b.lQ)),"paused"===t.state.fetchStatus?Promise.resolve():e}))));return Promise.all(n).then(b.lQ)}fetchQuery(t){const e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);const r=this.#n.build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(b.lQ).catch(b.lQ)}fetchInfiniteQuery(t){return t.behavior=R(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(b.lQ).catch(b.lQ)}resumePausedMutations(){return T.t.isOnline()?this.#i.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#n}getMutationCache(){return this.#i}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,e){this.#o.set((0,b.EN)(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#o.values()];let r={};return e.forEach((e=>{(0,b.Cp)(t,e.queryKey)&&(r={...r,...e.defaultOptions})})),r}setMutationDefaults(t,e){this.#a.set((0,b.EN)(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()];let r={};return e.forEach((e=>{(0,b.Cp)(t,e.mutationKey)&&(r={...r,...e.defaultOptions})})),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=(0,b.F$)(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),!0!==e.enabled&&e.queryFn===b.hT&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#n.clear(),this.#i.clear()}};function F(){return(0,c.jsx)(D,{children:(0,c.jsx)(O.Ht,{client:U,children:(0,c.jsx)(N.A,{children:(0,c.jsx)(B.vS,{children:(0,c.jsx)(w._C,{children:(0,c.jsx)(v.g,{children:(0,c.jsx)(y,{})})})})})})})}i.H(document.getElementById("root")).render((0,c.jsx)(n.StrictMode,{children:(0,c.jsx)(s.I9,{children:(0,c.jsx)(F,{})})}))},744:(t,e,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n.apply(this,arguments)}var i;r.d(e,{AO:()=>h,Gh:()=>P,HS:()=>O,Oi:()=>a,Rr:()=>d,TM:()=>o,pX:()=>D,pb:()=>T,rc:()=>i,sd:()=>C,tH:()=>AbortedDeferredError,ue:()=>m}),function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(i||(i={}));const s="popstate";function o(t){return void 0===t&&(t={}),f((function(t,e){let{pathname:r="/",search:n="",hash:i=""}=d(t.location.hash.substr(1));return l("",{pathname:r,search:n,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){let r=t.document.querySelector("base"),n="";if(r&&r.getAttribute("href")){let e=t.location.href,r=e.indexOf("#");n=-1===r?e:e.slice(0,r)}return n+"#"+("string"==typeof e?e:h(e))}),(function(t,e){u("/"===t.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(e)+")")}),t)}function a(t,e){if(!1===t||null==t)throw new Error(e)}function u(t,e){if(!t){"undefined"!=typeof console&&console.warn(e);try{throw new Error(e)}catch(r){}}}function c(t,e){return{usr:t.state,key:t.key,idx:e}}function l(t,e,r,i){return void 0===r&&(r=null),n({pathname:"string"==typeof t?t:t.pathname,search:"",hash:""},"string"==typeof e?d(e):e,{state:r,key:e&&e.key||i||Math.random().toString(36).substr(2,8)})}function h(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&"?"!==r&&(e+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function d(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function f(t,e,r,o){void 0===o&&(o={});let{window:u=document.defaultView,v5Compat:d=!1}=o,f=u.history,p=i.Pop,m=null,g=y();function y(){return(f.state||{idx:null}).idx}function w(){p=i.Pop;let t=y(),e=null==t?null:t-g;g=t,m&&m({action:p,location:b.location,delta:e})}function v(t){let e="null"!==u.location.origin?u.location.origin:u.location.href,r="string"==typeof t?t:h(t);return a(e,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,e)}null==g&&(g=0,f.replaceState(n({},f.state,{idx:g}),""));let b={get action(){return p},get location(){return t(u,f)},listen(t){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(s,w),m=t,()=>{u.removeEventListener(s,w),m=null}},createHref:t=>e(u,t),createURL:v,encodeLocation(t){let e=v(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){p=i.Push;let n=l(b.location,t,e);r&&r(n,t),g=y()+1;let s=c(n,g),o=b.createHref(n);try{f.pushState(s,"",o)}catch(a){u.location.assign(o)}d&&m&&m({action:p,location:b.location,delta:1})},replace:function(t,e){p=i.Replace;let n=l(b.location,t,e);r&&r(n,t),g=y();let s=c(n,g),o=b.createHref(n);f.replaceState(s,"",o),d&&m&&m({action:p,location:b.location,delta:0})},go:t=>f.go(t)};return b}var p;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(t,e,r){void 0===r&&(r="/");let n=T(("string"==typeof e?d(e):e).pathname||"/",r);if(null==n)return null;let i=g(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let r=t.length===e.length&&t.slice(0,-1).every(((t,r)=>t===e[r]));return r?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o)s=I(i[o],x(n));return s}function g(t,e,r,n){void 0===e&&(e=[]),void 0===r&&(r=[]),void 0===n&&(n="");let i=(t,i,s)=>{let o={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};o.relativePath.startsWith("/")&&(a(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let u=O([n,o.relativePath]),c=r.concat(o);t.children&&t.children.length>0&&(a(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),g(t.children,e,c,u)),(null!=t.path||t.index)&&e.push({path:u,score:A(u,t.index),routesMeta:c})};return t.forEach(((t,e)=>{var r;if(""!==t.path&&null!=(r=t.path)&&r.includes("?"))for(let n of y(t.path))i(t,e,n);else i(t,e)})),e}function y(t){let e=t.split("/");if(0===e.length)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return i?[s,""]:[s];let o=y(n.join("/")),a=[];return a.push(...o.map((t=>""===t?s:[s,t].join("/")))),i&&a.push(...o),a.map((e=>t.startsWith("/")&&""===e?"/":e))}const w=/^:\w+$/,v=3,b=2,_=1,E=10,S=-2,k=t=>"*"===t;function A(t,e){let r=t.split("/"),n=r.length;return r.some(k)&&(n+=S),e&&(n+=b),r.filter((t=>!k(t))).reduce(((t,e)=>t+(w.test(e)?v:""===e?_:E)),n)}function I(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let t=r[o],a=o===r.length-1,u="/"===i?e:e.slice(i.length)||"/",c=M({path:t.relativePath,caseSensitive:t.caseSensitive,end:a},u);if(!c)return null;Object.assign(n,c.params);let l=t.route;s.push({params:n,pathname:O([i,c.pathname]),pathnameBase:N(O([i,c.pathnameBase])),route:l}),"/"!==c.pathnameBase&&(i=O([i,c.pathnameBase]))}return s}function M(t,e){"string"==typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=function(t,e,r){void 0===e&&(e=!1);void 0===r&&(r=!0);u("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((t,e)=>(n.push(e),"/([^\\/]+)")));t.endsWith("*")?(n.push("*"),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,e?void 0:"i");return[s,n]}(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce(((t,e,r)=>{if("*"===e){let t=a[r]||"";o=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(r){return u(!1,'The value for the URL param "'+e+'" will not be decoded because the string "'+t+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+r+")."),t}}(a[r]||"",e),t}),{}),pathname:s,pathnameBase:o,pattern:t}}function x(t){try{return decodeURI(t)}catch(e){return u(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function T(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&"/"!==n?null:t.slice(r)||"/"}function R(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function C(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function P(t,e,r,i){let s;void 0===i&&(i=!1),"string"==typeof t?s=d(t):(s=n({},t),a(!s.pathname||!s.pathname.includes("?"),R("?","pathname","search",s)),a(!s.pathname||!s.pathname.includes("#"),R("#","pathname","hash",s)),a(!s.search||!s.search.includes("#"),R("#","search","hash",s)));let o,u=""===t||""===s.pathname,c=u?"/":s.pathname;if(i||null==c)o=r;else{let t=e.length-1;if(c.startsWith("..")){let e=c.split("/");for(;".."===e[0];)e.shift(),t-=1;s.pathname=e.join("/")}o=t>=0?e[t]:"/"}let l=function(t,e){void 0===e&&(e="/");let{pathname:r,search:n="",hash:i=""}="string"==typeof t?d(t):t,s=r?r.startsWith("/")?r:function(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?r.length>1&&r.pop():"."!==t&&r.push(t)})),r.length>1?r.join("/"):"/"}(r,e):e;return{pathname:s,search:B(n),hash:L(i)}}(s,o),h=c&&"/"!==c&&c.endsWith("/"),f=(u||"."===c)&&r.endsWith("/");return l.pathname.endsWith("/")||!h&&!f||(l.pathname+="/"),l}const O=t=>t.join("/").replace(/\/\/+/g,"/"),N=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),B=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",L=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";class AbortedDeferredError extends Error{}function D(t){return null!=t&&"number"==typeof t.status&&"string"==typeof t.statusText&&"boolean"==typeof t.internal&&"data"in t}const U=["post","put","patch","delete"],F=(new Set(U),["get",...U]);new Set(F),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;Symbol("deferred")},9829:(t,e,r)=>{"use strict";e.I0=e.DH=e.NX=e.u8=e.cY=void 0,e.av=e.O6=e.w3=e.Wg=void 0;const n=r(8891);function i(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function s(t){return i(t),n.Buffer.from(t.buffer,t.byteOffset,t.length)}class Layout{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function o(t,e){return e.property?t+"["+e.property+"]":t}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){i(t);const r=t.length-e;return Math.floor(r/this.elementSpan)}encode(t,e,r){return 0}}class OffsetLayout extends ExternalLayout{constructor(t,e=0,r){if(!(t instanceof Layout))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}}class UInt extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readUIntLE(e,this.span)}encode(t,e,r=0){return s(e).writeUIntLE(t,r,this.span),this.span}}class UIntBE extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readUIntBE(e,this.span)}encode(t,e,r=0){return s(e).writeUIntBE(t,r,this.span),this.span}}class Int extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readIntLE(e,this.span)}encode(t,e,r=0){return s(e).writeIntLE(t,r,this.span),this.span}}class IntBE extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readIntBE(e,this.span)}encode(t,e,r=0){return s(e).writeIntBE(t,r,this.span),this.span}}const a=Math.pow(2,32);function u(t){const e=Math.floor(t/a);return{hi32:e,lo32:t-e*a}}function c(t,e){return t*a+e}class NearUInt64 extends Layout{constructor(t){super(8,t)}decode(t,e=0){const r=s(t),n=r.readUInt32LE(e);return c(r.readUInt32LE(e+4),n)}encode(t,e,r=0){const n=u(t),i=s(e);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}class NearUInt64BE extends Layout{constructor(t){super(8,t)}decode(t,e=0){const r=s(t);return c(r.readUInt32BE(e),r.readUInt32BE(e+4))}encode(t,e,r=0){const n=u(t),i=s(e);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}class NearInt64 extends Layout{constructor(t){super(8,t)}decode(t,e=0){const r=s(t),n=r.readUInt32LE(e);return c(r.readInt32LE(e+4),n)}encode(t,e,r=0){const n=u(t),i=s(e);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}class NearInt64BE extends Layout{constructor(t){super(8,t)}decode(t,e=0){const r=s(t);return c(r.readInt32BE(e),r.readUInt32BE(e+4))}encode(t,e,r=0){const n=u(t),i=s(e);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}class Float extends Layout{constructor(t){super(4,t)}decode(t,e=0){return s(t).readFloatLE(e)}encode(t,e,r=0){return s(e).writeFloatLE(t,r),4}}class FloatBE extends Layout{constructor(t){super(4,t)}decode(t,e=0){return s(t).readFloatBE(e)}encode(t,e,r=0){return s(e).writeFloatBE(t,r),4}}class Double extends Layout{constructor(t){super(8,t)}decode(t,e=0){return s(t).readDoubleLE(e)}encode(t,e,r=0){return s(e).writeDoubleLE(t,r),8}}class DoubleBE extends Layout{constructor(t){super(8,t)}decode(t,e=0){return s(t).readDoubleBE(e)}encode(t,e,r=0){return s(e).writeDoubleBE(t,r),8}}class Sequence extends Layout{constructor(t,e,r){if(!(t instanceof Layout))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(e instanceof ExternalLayout)&&0<t.span&&(n=e*t.span),super(n,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof ExternalLayout&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e=0){const r=[];let n=0,i=this.count;for(i instanceof ExternalLayout&&(i=i.decode(t,e));n<i;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r}encode(t,e,r=0){const n=this.elementLayout,i=t.reduce(((t,i)=>t+n.encode(i,e,r+t)),0);return this.count instanceof ExternalLayout&&this.count.encode(t.length,e,r),i}}class Structure extends Layout{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof Layout),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===r&&(r=e,e=void 0);for(const s of t)if(0>s.span&&void 0===s.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(i){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(t,e);return e+=i,r+i}),0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(t,e=0){i(t);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){const n=r;let i=0,s=0;for(const o of this.fields){let n=o.span;if(s=0<n?n:0,void 0!==o.property){const i=t[o.property];void 0!==i&&(s=o.encode(i,e,r),0>n&&(n=o.getSpan(e,r)))}i=r,r+=n}return i+s-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class UnionDiscriminator{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,r){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class Union extends Layout{constructor(t,e,r){let n;if(t instanceof UInt||t instanceof UIntBE)n=new UnionLayoutDiscriminator(new OffsetLayout(t));else if(t instanceof ExternalLayout&&t.isCount())n=new UnionLayoutDiscriminator(t);else{if(!(t instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");n=t}if(void 0===e&&(e=null),!(null===e||e instanceof Layout))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof UInt||t instanceof UIntBE)&&(i+=n.layout.span)),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=t instanceof UInt||t instanceof UIntBE,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return s(t)},this.configGetSourceVariant=function(t){s=t.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error("unable to infer src variant")}decode(t,e=0){let r;const n=this.discriminator,i=n.decode(t,e),s=this.registry[i];if(void 0===s){const s=this.defaultLayout;let o=0;this.usesPrefixDiscriminator&&(o=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[s.property]=s.decode(t,e+o)}else r=s.decode(t,e);return r}encode(t,e,r=0){const n=this.getSourceVariant(t);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(t[n.property],e,r),s+i.encode(t[i.property],e,r+s)}return n.encode(t,e,r)}addVariant(t,e,r){const n=new VariantLayout(this,t,e,r);return this.registry[t]=n,n}getVariant(t,e=0){let r;return r=t instanceof Uint8Array?this.discriminator.decode(t,e):t,this.registry[r]}}class VariantLayout extends Layout{constructor(t,e,r,n){if(!(t instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof Layout))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,n),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(t,e+r)),r+n}decode(t,e=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=n;if(this.layout&&(this.layout.encode(t[this.property],e,r+n),i+=this.layout.getSpan(e,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function l(t){return 0>t&&(t+=4294967296),t}class BitStructure extends Layout{constructor(t,e,r){if(!(t instanceof UInt||t instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===r&&(r=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let n=0;this._packedSetValue=function(t){return n=l(t),this},this._packedGetValue=function(){return n}}decode(t,e=0){const r=this.makeDestinationObject(),n=this.word.decode(t,e);this._packedSetValue(n);for(const i of this.fields)void 0!==i.property&&(r[i.property]=i.decode(t));return r}encode(t,e,r=0){const n=this.word.decode(e,r);this._packedSetValue(n);for(const i of this.fields)if(void 0!==i.property){const e=t[i.property];void 0!==e&&i.encode(e)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){const r=new BitField(this,t,e);return this.fields.push(r),r}addBoolean(t){const e=new Boolean(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class BitField{constructor(t,e,r){if(!(t instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const n=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-e),this.wordMask=l(this.valueMask<<this.start),this.property=r}decode(t,e){return l(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if("number"!=typeof t||!Number.isInteger(t)||t!==l(t&this.valueMask))throw new TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),r=l(t<<this.start);this.container._packedSetValue(l(e&~this.wordMask)|r)}}class Boolean extends BitField{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){"boolean"==typeof t&&(t=+t),super.encode(t)}}class Blob extends Layout{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof ExternalLayout||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),s(t).slice(e,e+r)}encode(t,e,r){let n=this.length;if(this.length instanceof ExternalLayout&&(n=t.length),!(t instanceof Uint8Array&&n===t.length))throw new TypeError(o("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>e.length)throw new RangeError("encoding overruns Uint8Array");const i=s(t);return s(e).write(i.toString("hex"),r,n,"hex"),this.length instanceof ExternalLayout&&this.length.encode(n,e,r),n}}class CString extends Layout{constructor(t){super(-1,t)}getSpan(t,e=0){i(t);let r=e;for(;r<t.length&&0!==t[r];)r+=1;return 1+r-e}decode(t,e=0){const r=this.getSpan(t,e);return s(t).slice(e,e+r-1).toString("utf-8")}encode(t,e,r=0){"string"!=typeof t&&(t=String(t));const i=n.Buffer.from(t,"utf8"),o=i.length;if(r+o>e.length)throw new RangeError("encoding overruns Buffer");const a=s(e);return i.copy(a,r),a[r+o]=0,o+1}}class UTF8 extends Layout{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return i(t),t.length-e}decode(t,e=0){const r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return s(t).slice(e,e+r).toString("utf-8")}encode(t,e,r=0){"string"!=typeof t&&(t=String(t));const i=n.Buffer.from(t,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(s(e),r),o}}class Constant extends Layout{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,r){return 0}}e.cY=(t,e,r)=>new OffsetLayout(t,e,r),e.u8=t=>new UInt(1,t),e.NX=t=>new UInt(2,t),e.DH=t=>new UInt(4,t),e.I0=t=>new NearUInt64(t),e.Wg=t=>new NearInt64(t),e.w3=(t,e,r)=>new Structure(t,e,r),e.O6=(t,e,r)=>new Sequence(t,e,r),e.av=(t,e)=>new Blob(t,e)},3530:(t,e,r)=>{"use strict";r.d(e,{E:()=>i,w:()=>s});var n=r(3696);const i=(0,n.createContext)({});function s(){return(0,n.useContext)(i)}},8267:(t,e,r)=>{"use strict";r.d(e,{b:()=>a,v:()=>u});var n=r(3696);const i=[],s={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){o("call","select")},connect:()=>Promise.reject(o("call","connect")),disconnect:()=>Promise.reject(o("call","disconnect")),sendTransaction:()=>Promise.reject(o("call","sendTransaction")),signTransaction:()=>Promise.reject(o("call","signTransaction")),signAllTransactions:()=>Promise.reject(o("call","signAllTransactions")),signMessage:()=>Promise.reject(o("call","signMessage")),signIn:()=>Promise.reject(o("call","signIn"))};function o(t,e){const r=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(r),r}Object.defineProperty(s,"wallets",{get:()=>(o("read","wallets"),i)}),Object.defineProperty(s,"wallet",{get:()=>(o("read","wallet"),null)}),Object.defineProperty(s,"publicKey",{get:()=>(o("read","publicKey"),null)});const a=(0,n.createContext)(s);function u(){return(0,n.useContext)(a)}},5067:(t,e,r)=>{"use strict";r.d(e,{kc:()=>AddressLookupTableAccount,Ng:()=>Connection,Sr:()=>ps,J3:()=>PublicKey,P3:()=>Pr,yq:()=>SystemProgram,ZX:()=>Transaction,fH:()=>TransactionInstruction,wu:()=>TransactionMessage,B2:()=>Hr,Kt:()=>VersionedTransaction});var n={};r.r(n),r.d(n,{aK:()=>et,e8:()=>F,DO:()=>U,dJ:()=>rt,OG:()=>nt,My:()=>j,Ph:()=>$,lX:()=>Z,Id:()=>Y,fg:()=>ot,qj:()=>J,aT:()=>W,r4:()=>tt,aY:()=>D,x:()=>ct,lq:()=>G,z:()=>Q,zW:()=>V,Q5:()=>ut});var i=r(8891);function s(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function o(t,...e){if(!((r=t)instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name))throw new Error("Uint8Array expected");var r;if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function a(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");s(t.outputLen),s(t.blockLen)}function u(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function c(t,e){o(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const l="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;const h=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),d=(t,e)=>t<<32-e|t>>>e,f=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],p=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function m(t){for(let e=0;e<t.length;e++)t[e]=p(t[e])}function g(t){return"string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),o(t),t}class Hash{clone(){return this._cloneInto()}}function y(t){const e=e=>t().update(g(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function w(t=32){if(l&&"function"==typeof l.getRandomValues)return l.getRandomValues(new Uint8Array(t));if(l&&"function"==typeof l.randomBytes)return l.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const v=(t,e,r)=>t&e^t&r^e&r;class HashMD extends Hash{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=h(this.buffer)}update(t){u(this);const{view:e,buffer:r,blockLen:n}=this,i=(t=g(t)).length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(e,0),this.pos=0);else{const e=h(t);for(;n<=i-s;s+=n)this.process(e,s)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){u(this),c(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let u=s;u<n;u++)e[u]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=h(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)o.setUint32(4*u,d[u],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return t.length=n,t.pos=o,t.finished=i,t.destroyed=s,n%e&&t.buffer.set(r),t}}const b=BigInt(2**32-1),_=BigInt(32);function E(t,e=!1){return e?{h:Number(t&b),l:Number(t>>_&b)}:{h:0|Number(t>>_&b),l:0|Number(t&b)}}function S(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=E(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const k=(t,e,r)=>t<<r|e>>>32-r,A=(t,e,r)=>e<<r|t>>>32-r,I=(t,e,r)=>e<<r-32|t>>>64-r,M=(t,e,r)=>t<<r-32|e>>>64-r;const x={fromBig:E,split:S,toBig:(t,e)=>BigInt(t>>>0)<<_|BigInt(e>>>0),shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:k,rotlSL:A,rotlBH:I,rotlBL:M,add:function(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,add5H:(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},[T,R]=(()=>x.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))))(),C=new Uint32Array(80),P=new Uint32Array(80);class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:u,El:c,Fh:l,Fl:h,Gh:d,Gl:f,Hh:p,Hl:m}=this;return[t,e,r,n,i,s,o,a,u,c,l,h,d,f,p,m]}set(t,e,r,n,i,s,o,a,u,c,l,h,d,f,p,m){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|l,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(t,e){for(let w=0;w<16;w++,e+=4)C[w]=t.getUint32(e),P[w]=t.getUint32(e+=4);for(let w=16;w<80;w++){const t=0|C[w-15],e=0|P[w-15],r=x.rotrSH(t,e,1)^x.rotrSH(t,e,8)^x.shrSH(t,e,7),n=x.rotrSL(t,e,1)^x.rotrSL(t,e,8)^x.shrSL(t,e,7),i=0|C[w-2],s=0|P[w-2],o=x.rotrSH(i,s,19)^x.rotrBH(i,s,61)^x.shrSH(i,s,6),a=x.rotrSL(i,s,19)^x.rotrBL(i,s,61)^x.shrSL(i,s,6),u=x.add4L(n,a,P[w-7],P[w-16]),c=x.add4H(u,r,o,C[w-7],C[w-16]);C[w]=0|c,P[w]=0|u}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:u,Dl:c,Eh:l,El:h,Fh:d,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;for(let w=0;w<80;w++){const t=x.rotrSH(l,h,14)^x.rotrSH(l,h,18)^x.rotrBH(l,h,41),e=x.rotrSL(l,h,14)^x.rotrSL(l,h,18)^x.rotrBL(l,h,41),v=l&d^~l&p,b=h&f^~h&m,_=x.add5L(y,e,b,R[w],P[w]),E=x.add5H(_,g,t,v,T[w],C[w]),S=0|_,k=x.rotrSH(r,n,28)^x.rotrBH(r,n,34)^x.rotrBH(r,n,39),A=x.rotrSL(r,n,28)^x.rotrBL(r,n,34)^x.rotrBL(r,n,39),I=r&i^r&o^i&o,M=n&s^n&a^s&a;g=0|p,y=0|m,p=0|d,m=0|f,d=0|l,f=0|h,({h:l,l:h}=x.add(0|u,0|c,0|E,0|S)),u=0|o,c=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const O=x.add3L(S,A,M);r=x.add3H(O,E,k,I),n=0|O}({h:r,l:n}=x.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=x.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=x.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:u,l:c}=x.add(0|this.Dh,0|this.Dl,0|u,0|c)),({h:l,l:h}=x.add(0|this.Eh,0|this.El,0|l,0|h)),({h:d,l:f}=x.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:m}=x.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:y}=x.add(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(r,n,i,s,o,a,u,c,l,h,d,f,p,m,g,y)}roundClean(){C.fill(0),P.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const O=y((()=>new SHA512)),N=BigInt(0),B=BigInt(1),L=BigInt(2);function D(t){return t instanceof Uint8Array||null!=t&&"object"==typeof t&&"Uint8Array"===t.constructor.name}function U(t){if(!D(t))throw new Error("Uint8Array expected")}function F(t,e){if("boolean"!=typeof e)throw new Error(`${t} must be valid boolean, got "${e}".`)}const z=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function j(t){U(t);let e="";for(let r=0;r<t.length;r++)e+=z[t[r]];return e}function V(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function H(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}const q={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function K(t){return t>=q._0&&t<=q._9?t-q._0:t>=q._A&&t<=q._F?t-(q._A-10):t>=q._a&&t<=q._f?t-(q._a-10):void 0}function W(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const e=K(t.charCodeAt(s)),r=K(t.charCodeAt(s+1));if(void 0===e||void 0===r){const e=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+s)}n[i]=16*e+r}return n}function $(t){return H(j(t))}function Z(t){return U(t),H(j(Uint8Array.from(t).reverse()))}function G(t,e){return W(t.toString(16).padStart(2*e,"0"))}function Q(t,e){return G(t,e).reverse()}function J(t,e,r){let n;if("string"==typeof e)try{n=W(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else{if(!D(e))throw new Error(`${t} must be hex string or Uint8Array`);n=Uint8Array.from(e)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Y(...t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];U(r),e+=r.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const e=t[n];r.set(e,i),i+=e.length}return r}const X=t=>"bigint"==typeof t&&N<=t;function tt(t,e,r){return X(t)&&X(e)&&X(r)&&e<=t&&t<r}function et(t,e,r,n){if(!tt(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)}function rt(t){let e;for(e=0;t>N;t>>=B,e+=1);return e}const nt=t=>(L<<BigInt(t-1))-B,it=t=>new Uint8Array(t),st=t=>Uint8Array.from(t);function ot(t,e,r){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=it(t),i=it(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...t)=>r(i,n,...t),u=(t=it())=>{i=a(st([0]),t),n=a(),0!==t.length&&(i=a(st([1]),t),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const r=[];for(;t<e;){n=a();const e=n.slice();r.push(e),t+=n.length}return Y(...r)};return(t,e)=>{let r;for(o(),u(t);!(r=e(c()));)u();return o(),r}}const at={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||D(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function ut(t,e,r={}){const n=(e,r,n)=>{const i=at[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const s=t[e];if(!(n&&void 0===s||i(s,t)))throw new Error(`Invalid param ${String(e)}=${s} (${typeof s}), expected ${r}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function ct(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(void 0!==i)return i;const s=t(r,...n);return e.set(r,s),s}}const lt=BigInt(0),ht=BigInt(1),dt=BigInt(2),ft=BigInt(3),pt=BigInt(4),mt=BigInt(5),gt=BigInt(8);BigInt(9),BigInt(16);function yt(t,e){const r=t%e;return r>=lt?r:e+r}function wt(t,e,r){if(r<=lt||e<lt)throw new Error("Expected power/modulo > 0");if(r===ht)return lt;let n=ht;for(;e>lt;)e&ht&&(n=n*t%r),t=t*t%r,e>>=ht;return n}function vt(t,e,r){let n=t;for(;e-- >lt;)n*=n,n%=r;return n}function bt(t,e){if(t===lt||e<=lt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=yt(t,e),n=e,i=lt,s=ht,o=ht,a=lt;for(;r!==lt;){const t=n/r,e=n%r,u=i-o*t,c=s-a*t;n=r,r=e,i=o,s=a,o=u,a=c}if(n!==ht)throw new Error("invert: does not exist");return yt(i,e)}function _t(t){if(t%pt===ft){const e=(t+ht)/pt;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}if(t%gt===mt){const e=(t-mt)/gt;return function(t,r){const n=t.mul(r,dt),i=t.pow(n,e),s=t.mul(r,i),o=t.mul(t.mul(s,dt),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(t){const e=(t-ht)/dt;let r,n,i;for(r=t-ht,n=0;r%dt===lt;r/=dt,n++);for(i=dt;i<t&&wt(i,e,t)!==t-ht;i++);if(1===n){const e=(t+ht)/pt;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}const s=(r+ht)/dt;return function(t,o){if(t.pow(o,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let a=n,u=t.pow(t.mul(t.ONE,i),r),c=t.pow(o,s),l=t.pow(o,r);for(;!t.eql(l,t.ONE);){if(t.eql(l,t.ZERO))return t.ZERO;let e=1;for(let n=t.sqr(l);e<a&&!t.eql(n,t.ONE);e++)n=t.sqr(n);const r=t.pow(u,ht<<BigInt(a-e-1));u=t.sqr(r),c=t.mul(c,r),l=t.mul(l,u),a=e}return c}}(t)}const Et=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function St(t,e){const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function kt(t,e,r=!1,n={}){if(t<=lt)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=St(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=_t(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:nt(i),ZERO:lt,ONE:ht,create:e=>yt(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return lt<=e&&e<t},is0:t=>t===lt,isOdd:t=>(t&ht)===ht,neg:e=>yt(-e,t),eql:(t,e)=>t===e,sqr:e=>yt(e*e,t),add:(e,r)=>yt(e+r,t),sub:(e,r)=>yt(e-r,t),mul:(e,r)=>yt(e*r,t),pow:(t,e)=>function(t,e,r){if(r<lt)throw new Error("Expected power > 0");if(r===lt)return t.ONE;if(r===ht)return e;let n=t.ONE,i=e;for(;r>lt;)r&ht&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ht;return n}(a,t,e),div:(e,r)=>yt(e*bt(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>bt(e,t),sqrt:n.sqrt||(t=>o(a,t)),invertBatch:t=>function(t,e){const r=new Array(e.length),n=e.reduce(((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n))),t.ONE),i=t.inv(n);return e.reduceRight(((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n))),i),r}(a,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?Q(t,s):G(t,s),fromBytes:t=>{if(t.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${t.length}`);return r?Z(t):$(t)}});return Object.freeze(a)}function At(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function It(t){const e=At(t);return e+Math.ceil(e/2)}const Mt=BigInt(0),xt=BigInt(1),Tt=new WeakMap,Rt=new WeakMap;function Ct(t,e){const r=(t,e)=>{const r=e.negate();return t?r:e},n=t=>{if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(`Wrong window size=${t}, should be [1..${e}]`)},i=t=>{n(t);return{windows:Math.ceil(e/t)+1,windowSize:2**(t-1)}};return{constTimeNegate:r,unsafeLadder(e,r){let n=t.ZERO,i=e;for(;r>Mt;)r&xt&&(n=n.add(i)),i=i.double(),r>>=xt;return n},precomputeWindow(t,e){const{windows:r,windowSize:n}=i(e),s=[];let o=t,a=o;for(let i=0;i<r;i++){a=o,s.push(a);for(let t=1;t<n;t++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(e,n,s){const{windows:o,windowSize:a}=i(e);let u=t.ZERO,c=t.BASE;const l=BigInt(2**e-1),h=2**e,d=BigInt(e);for(let t=0;t<o;t++){const e=t*a;let i=Number(s&l);s>>=d,i>a&&(i-=h,s+=xt);const o=e,f=e+Math.abs(i)-1,p=t%2!=0,m=i<0;0===i?c=c.add(r(p,n[o])):u=u.add(r(m,n[f]))}return{p:u,f:c}},wNAFCached(t,e,r){const n=Rt.get(t)||1;let i=Tt.get(t);return i||(i=this.precomputeWindow(t,n),1!==n&&Tt.set(t,r(i))),this.wNAF(n,i,e)},setWindowSize(t,e){n(e),Rt.set(t,e),Tt.delete(t)}}}function Pt(t,e,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach(((t,r)=>{if(!e.isValid(t))throw new Error(`wrong scalar at index ${r}`)})),r.forEach(((e,r)=>{if(!(e instanceof t))throw new Error(`wrong point at index ${r}`)}));const i=rt(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,o=(1<<s)-1,a=new Array(o+1).fill(t.ZERO),u=Math.floor((e.BITS-1)/s)*s;let c=t.ZERO;for(let l=u;l>=0;l-=s){a.fill(t.ZERO);for(let t=0;t<n.length;t++){const e=n[t],i=Number(e>>BigInt(l)&BigInt(o));a[i]=a[i].add(r[t])}let e=t.ZERO;for(let r=a.length-1,n=t.ZERO;r>0;r--)n=n.add(a[r]),e=e.add(n);if(c=c.add(e),0!==l)for(let t=0;t<s;t++)c=c.double()}return c}function Ot(t){return function(t){const e=Et.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});ut(t,e)}(t.Fp),ut(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...St(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Nt=BigInt(0),Bt=BigInt(1),Lt=BigInt(2),Dt=BigInt(8),Ut={zip215:!0};function Ft(t){const e=function(t){const e=Ot(t);return ut(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:u}=e,c=Lt<<BigInt(8*a)-Bt,l=r.create,h=kt(e.n,e.nBitLength),d=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:r.sqrt(t*r.inv(e))}}catch(n){return{isValid:!1,value:Nt}}}),f=e.adjustScalarBytes||(t=>t),p=e.domain||((t,e,r)=>{if(F("phflag",r),e.length||r)throw new Error("Contexts/pre-hash are not supported");return t});function m(t,e){et("coordinate "+t,e,Nt,c)}function g(t){if(!(t instanceof Point))throw new Error("ExtendedPoint expected")}const y=ct(((t,e)=>{const{ex:n,ey:i,ez:s}=t,o=t.is0();null==e&&(e=o?Dt:r.inv(s));const a=l(n*e),u=l(i*e),c=l(s*e);if(o)return{x:Nt,y:Bt};if(c!==Bt)throw new Error("invZ was invalid");return{x:a,y:u}})),w=ct((t=>{const{a:r,d:n}=e;if(t.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=t,u=l(i*i),c=l(s*s),h=l(o*o),d=l(h*h),f=l(u*r);if(l(h*l(f+c))!==l(d+l(n*l(u*c))))throw new Error("bad point: equation left != right (1)");if(l(i*s)!==l(o*a))throw new Error("bad point: equation left != right (2)");return!0}));class Point{constructor(t,e,r,n){this.ex=t,this.ey=e,this.ez=r,this.et=n,m("x",t),m("y",e),m("z",r),m("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(t){if(t instanceof Point)throw new Error("extended point not allowed");const{x:e,y:r}=t||{};return m("x",e),m("y",r),new Point(e,r,Bt,l(e*r))}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.ez)));return t.map(((t,r)=>t.toAffine(e[r]))).map(Point.fromAffine)}static msm(t,e){return Pt(Point,h,t,e)}_setWindowSize(t){_.setWindowSize(this,t)}assertValidity(){w(this)}equals(t){g(t);const{ex:e,ey:r,ez:n}=this,{ex:i,ey:s,ez:o}=t,a=l(e*o),u=l(i*n),c=l(r*o),h=l(s*n);return a===u&&c===h}is0(){return this.equals(Point.ZERO)}negate(){return new Point(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:t}=e,{ex:r,ey:n,ez:i}=this,s=l(r*r),o=l(n*n),a=l(Lt*l(i*i)),u=l(t*s),c=r+n,h=l(l(c*c)-s-o),d=u+o,f=d-a,p=u-o,m=l(h*f),g=l(d*p),y=l(h*p),w=l(f*d);return new Point(m,g,w,y)}add(t){g(t);const{a:r,d:n}=e,{ex:i,ey:s,ez:o,et:a}=this,{ex:u,ey:c,ez:h,et:d}=t;if(r===BigInt(-1)){const t=l((s-i)*(c+u)),e=l((s+i)*(c-u)),r=l(e-t);if(r===Nt)return this.double();const n=l(o*Lt*d),f=l(a*Lt*h),p=f+n,m=e+t,g=f-n,y=l(p*r),w=l(m*g),v=l(p*g),b=l(r*m);return new Point(y,w,b,v)}const f=l(i*u),p=l(s*c),m=l(a*n*d),y=l(o*h),w=l((i+s)*(u+c)-f-p),v=y-m,b=y+m,_=l(p-r*f),E=l(w*v),S=l(b*_),k=l(w*_),A=l(v*b);return new Point(E,S,A,k)}subtract(t){return this.add(t.negate())}wNAF(t){return _.wNAFCached(this,t,Point.normalizeZ)}multiply(t){const e=t;et("scalar",e,Bt,n);const{p:r,f:i}=this.wNAF(e);return Point.normalizeZ([r,i])[0]}multiplyUnsafe(t){const e=t;return et("scalar",e,Nt,n),e===Nt?b:this.equals(b)||e===Bt?this:this.equals(v)?this.wNAF(e).p:_.unsafeLadder(this,e)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return _.unsafeLadder(this,n).is0()}toAffine(t){return y(this,t)}clearCofactor(){const{h:t}=e;return t===Bt?this:this.multiplyUnsafe(t)}static fromHex(t,n=!1){const{d:i,a:s}=e,o=r.BYTES;t=J("pointHex",t,o),F("zip215",n);const a=t.slice(),u=t[o-1];a[o-1]=-129&u;const h=Z(a),f=n?c:r.ORDER;et("pointHex.y",h,Nt,f);const p=l(h*h),m=l(p-Bt),g=l(i*p-s);let{isValid:y,value:w}=d(m,g);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const v=(w&Bt)===Bt,b=!!(128&u);if(!n&&w===Nt&&b)throw new Error("Point.fromHex: x=0 and x_0=1");return b!==v&&(w=l(-w)),Point.fromAffine({x:w,y:h})}static fromPrivateKey(t){return k(t).point}toRawBytes(){const{x:t,y:e}=this.toAffine(),n=Q(e,r.BYTES);return n[n.length-1]|=t&Bt?128:0,n}toHex(){return j(this.toRawBytes())}}Point.BASE=new Point(e.Gx,e.Gy,Bt,l(e.Gx*e.Gy)),Point.ZERO=new Point(Nt,Bt,Bt,Nt);const{BASE:v,ZERO:b}=Point,_=Ct(Point,8*a);function E(t){return yt(t,n)}function S(t){return E(Z(t))}function k(t){const e=a;t=J("private key",t,e);const r=J("hashed private key",s(t),2*e),n=f(r.slice(0,e)),i=r.slice(e,2*e),o=S(n),u=v.multiply(o),c=u.toRawBytes();return{head:n,prefix:i,scalar:o,point:u,pointBytes:c}}function A(t=new Uint8Array,...e){const r=Y(...e);return S(s(p(r,J("context",t),!!i)))}const I=Ut;v._setWindowSize(8);return{CURVE:e,getPublicKey:function(t){return k(t).pointBytes},sign:function(t,e,s={}){t=J("message",t),i&&(t=i(t));const{prefix:o,scalar:u,pointBytes:c}=k(e),l=A(s.context,o,t),h=v.multiply(l).toRawBytes(),d=E(l+A(s.context,h,c,t)*u);return et("signature.s",d,Nt,n),J("result",Y(h,Q(d,r.BYTES)),2*a)},verify:function(t,e,n,s=I){const{context:o,zip215:a}=s,u=r.BYTES;t=J("signature",t,2*u),e=J("message",e),void 0!==a&&F("zip215",a),i&&(e=i(e));const c=Z(t.slice(u,2*u));let l,h,d;try{l=Point.fromHex(n,a),h=Point.fromHex(t.slice(0,u),a),d=v.multiplyUnsafe(c)}catch(p){return!1}if(!a&&l.isSmallOrder())return!1;const f=A(o,h.toRawBytes(),l.toRawBytes(),e);return h.add(l.multiplyUnsafe(f)).subtract(d).clearCofactor().equals(Point.ZERO)},ExtendedPoint:Point,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>o(r.BYTES),precompute:(t=8,e=Point.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}}const zt=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),jt=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Vt=(BigInt(0),BigInt(1)),Ht=BigInt(2),qt=(BigInt(3),BigInt(5)),Kt=BigInt(8);function Wt(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=zt,o=t*t%s*t%s,a=vt(o,Ht,s)*o%s,u=vt(a,Vt,s)*t%s,c=vt(u,qt,s)*u%s,l=vt(c,e,s)*c%s,h=vt(l,r,s)*l%s,d=vt(h,n,s)*h%s,f=vt(d,i,s)*d%s,p=vt(f,i,s)*d%s,m=vt(p,e,s)*c%s;return{pow_p_5_8:vt(m,Ht,s)*t%s,b2:o}}function $t(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Zt(t,e){const r=zt,n=yt(e*e*e,r),i=yt(n*n*e,r);let s=yt(t*n*Wt(t*i).pow_p_5_8,r);const o=yt(e*s*s,r),a=s,u=yt(s*jt,r),c=o===t,l=o===yt(-t,r),h=o===yt(-t*jt,r);return c&&(s=a),(l||h)&&(s=u),((t,e)=>(yt(t,e)&ht)===ht)(s,r)&&(s=yt(-s,r)),{isValid:c||l,value:s}}const Gt=(()=>kt(zt,void 0,!0))(),Qt=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Gt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Kt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:O,randomBytes:w,adjustScalarBytes:$t,uvRatio:Zt}))(),Jt=(()=>Ft(Qt))();var Yt=r(7240),Xt=r.n(Yt),te=r(3718),ee=r.n(te);const re=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ne=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ie=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=0|ne[0],this.B=0|ne[1],this.C=0|ne[2],this.D=0|ne[3],this.E=0|ne[4],this.F=0|ne[5],this.G=0|ne[6],this.H=0|ne[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[t,e,r,n,i,s,o,a]}set(t,e,r,n,i,s,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let h=0;h<16;h++,e+=4)ie[h]=t.getUint32(e,!1);for(let h=16;h<64;h++){const t=ie[h-15],e=ie[h-2],r=d(t,7)^d(t,18)^t>>>3,n=d(e,17)^d(e,19)^e>>>10;ie[h]=n+ie[h-7]+r+ie[h-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:u,H:c}=this;for(let h=0;h<64;h++){const t=c+(d(o,6)^d(o,11)^d(o,25))+((l=o)&a^~l&u)+re[h]+ie[h]|0,e=(d(r,2)^d(r,13)^d(r,22))+v(r,n,i)|0;c=u,u=a,a=o,o=s+t|0,s=i,i=n,n=r,r=t+e|0}var l;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,n,i,s,o,a,u,c)}roundClean(){ie.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const se=y((()=>new SHA256));var oe=r(5375),ae=r(9829),ue=r(1740);class StructError extends TypeError{constructor(t,e){let r;const{message:n,explanation:i,...s}=t,{path:o}=t,a=0===o.length?n:`At path: ${o.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...e()])}}function ce(t){return"object"==typeof t&&null!=t}function le(t){return ce(t)&&!Array.isArray(t)}function he(t){return"symbol"==typeof t?t.toString():"string"==typeof t?JSON.stringify(t):`${t}`}function de(t,e,r,n){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${he(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*fe(t,e,r,n){var i;ce(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const s of t){const t=de(s,e,r,n);t&&(yield t)}}function*pe(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i,mask:o};s&&(t=e.coercer(t,a));let u="valid";for(const c of e.validator(t,a))c.explanation=r.message,u="not_valid",yield[c,void 0];for(let[c,l,h]of e.entries(t,a)){const e=pe(l,h,{path:void 0===c?n:[...n,c],branch:void 0===c?i:[...i,l],coerce:s,mask:o,message:r.message});for(const r of e)r[0]?(u=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):s&&(l=r[1],void 0===c?t=l:t instanceof Map?t.set(c,l):t instanceof Set?t.add(l):ce(t)&&(void 0!==l||c in t)&&(t[c]=l))}if("not_valid"!==u)for(const c of e.refiner(t,a))c.explanation=r.message,u="not_refined",yield[c,void 0];"valid"===u&&(yield[void 0,t])}class Struct{constructor(t){const{type:e,schema:r,validator:n,refiner:i,coercer:s=t=>t,entries:o=function*(){}}=t;this.type=e,this.schema=r,this.entries=o,this.coercer=s,this.validator=n?(t,e)=>fe(n(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>fe(i(t,e),e,this,t):()=>[]}assert(t,e){return function(t,e,r){const n=ye(t,e,{message:r});if(n[0])throw n[0]}(t,this,e)}create(t,e){return me(t,this,e)}is(t){return ge(t,this)}mask(t,e){return function(t,e,r){const n=ye(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}(t,this,e)}validate(t,e={}){return ye(t,this,e)}}function me(t,e,r){const n=ye(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function ge(t,e){return!ye(t,e)[0]}function ye(t,e,r={}){const n=pe(t,e,r),i=function(t){const{done:e,value:r}=t.next();return e?void 0:r}(n);if(i[0]){return[new StructError(i[0],(function*(){for(const t of n)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function we(t,e){return new Struct({type:t,schema:null,validator:e})}function ve(t){return new Struct({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${he(t)}`})}function be(){return we("boolean",(t=>"boolean"==typeof t))}function _e(t){return we("instance",(e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${he(e)}`))}function Ee(t){const e=he(t),r=typeof t;return new Struct({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||`Expected the literal \`${e}\`, but received: ${he(r)}`})}function Se(){return we("never",(()=>!1))}function ke(t){return new Struct({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function Ae(){return we("number",(t=>"number"==typeof t&&!isNaN(t)||`Expected a number, but received: ${he(t)}`))}function Ie(t){return new Struct({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function Me(t,e){return new Struct({type:"record",schema:null,*entries(r){if(ce(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator:t=>le(t)||`Expected an object, but received: ${he(t)}`,coercer:t=>le(t)?{...t}:t})}function xe(){return we("string",(t=>"string"==typeof t||`Expected a string, but received: ${he(t)}`))}function Te(t){const e=Se();return new Struct({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator:t=>Array.isArray(t)||`Expected an array, but received: ${he(t)}`,coercer:t=>Array.isArray(t)?t.slice():t})}function Re(t){const e=Object.keys(t);return new Struct({type:"type",schema:t,*entries(r){if(ce(r))for(const n of e)yield[n,r[n],t[n]]},validator:t=>le(t)||`Expected an object, but received: ${he(t)}`,coercer:t=>le(t)?{...t}:t})}function Ce(t){const e=t.map((t=>t.type)).join(" | ");return new Struct({type:"union",schema:null,coercer(e,r){for(const n of t){const[t,i]=n.validate(e,{coerce:!0,mask:r.mask});if(!t)return i}return e},validator(r,n){const i=[];for(const e of t){const[...t]=pe(r,e,n),[s]=t;if(!s[0])return[];for(const[e]of t)e&&i.push(e)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${he(r)}`,...i]}})}function Pe(){return we("unknown",(()=>!0))}function Oe(t,e,r){return new Struct({...t,coercer:(n,i)=>ge(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var Ne=r(4706),Be=r.n(Ne),Le=r(8042);var De=class extends Le{socket;constructor(t,e,r){super(),this.socket=new window.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=t=>this.emit("message",t.data),this.socket.onerror=t=>this.emit("error",t),this.socket.onclose=t=>{this.emit("close",t.code,t.reason)}}send(t,e,r){const n=r||e;try{this.socket.send(t),n()}catch(i){n(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,r){this.socket.addEventListener(t,e,r)}};function Ue(t,e){return new De(t,e)}var Fe=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},ze=class extends Le{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,e="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...o}={},a,u){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=a||(()=>++this.rpc_id),this.dataPack=u||new Fe,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,r,n){return n||"object"!=typeof r||(n=r,r=null),new Promise(((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o=this.generate_request_id(t,e),a={jsonrpc:"2.0",method:t,params:e||void 0,id:o};this.socket.send(this.dataPack.encode(a),n,(t=>{if(t)return s(t);this.queue[o]={promise:[i,s]},r&&(this.queue[o].timeout=setTimeout((()=>{delete this.queue[o],s(new Error("reply timeout"))}),r))}))}))}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise(((r,n)=>{if(!this.ready)return n(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),(t=>{if(t)return n(t);r()}))}))}async subscribe(t){"string"==typeof t&&(t=[t]);const e=await this.call("rpc.on",t);if("string"==typeof t&&"ok"!==e[t])throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){"string"==typeof t&&(t=[t]);const e=await this.call("rpc.off",t);if("string"==typeof t&&"ok"!==e[t])throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(({data:t})=>{t instanceof ArrayBuffer&&(t=i.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch(e){return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);const e=[t.notification];if(t.params.constructor===Object)e.push(t.params);else for(let r=0;r<t.params.length;r++)e.push(t.params[r]);return Promise.resolve().then((()=>{this.emit.apply(this,e)}))}if(!this.queue[t.id])return t.method?Promise.resolve().then((()=>{this.emit(t.method,t?.params)})):void 0;"error"in t=="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]})),this.socket.addEventListener("error",(t=>this.emit("error",t))),this.socket.addEventListener("close",(({code:r,reason:n})=>{this.ready&&setTimeout((()=>this.emit("close",r,n)),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(t,e)),this.reconnect_interval)))}))}};const je=[],Ve=[],He=[],qe=BigInt(0),Ke=BigInt(1),We=BigInt(2),$e=BigInt(7),Ze=BigInt(256),Ge=BigInt(113);for(let ms=0,gs=Ke,ys=1,ws=0;ms<24;ms++){[ys,ws]=[ws,(2*ys+3*ws)%5],je.push(2*(5*ws+ys)),Ve.push((ms+1)*(ms+2)/2%64);let t=qe;for(let e=0;e<7;e++)gs=(gs<<Ke^(gs>>$e)*Ge)%Ze,gs&We&&(t^=Ke<<(Ke<<BigInt(e))-Ke);He.push(t)}const[Qe,Je]=S(He,!0),Ye=(t,e,r)=>r>32?I(t,e,r):k(t,e,r),Xe=(t,e,r)=>r>32?M(t,e,r):A(t,e,r);class Keccak extends Hash{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,s(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){f||m(this.state32),function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let n=0;n<10;n++)r[n]=t[n]^t[n+10]^t[n+20]^t[n+30]^t[n+40];for(let n=0;n<10;n+=2){const e=(n+8)%10,i=(n+2)%10,s=r[i],o=r[i+1],a=Ye(s,o,1)^r[e],u=Xe(s,o,1)^r[e+1];for(let r=0;r<50;r+=10)t[n+r]^=a,t[n+r+1]^=u}let e=t[2],i=t[3];for(let r=0;r<24;r++){const n=Ve[r],s=Ye(e,i,n),o=Xe(e,i,n),a=je[r];e=t[a],i=t[a+1],t[a]=s,t[a+1]=o}for(let n=0;n<50;n+=10){for(let e=0;e<10;e++)r[e]=t[n+e];for(let e=0;e<10;e++)t[n+e]^=~r[(e+2)%10]&r[(e+4)%10]}t[0]^=Qe[n],t[1]^=Je[n]}r.fill(0)}(this.state32,this.rounds),f||m(this.state32),this.posOut=0,this.pos=0}update(t){u(this);const{blockLen:e,state:r}=this,n=(t=g(t)).length;for(let i=0;i<n;){const s=Math.min(e-this.pos,n-i);for(let e=0;e<s;e++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,128&e&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){u(this,!1),o(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return s(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(c(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return t||(t=new Keccak(e,r,n,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=s,t.destroyed=this.destroyed,t}}const tr=(t,e,r)=>y((()=>new Keccak(e,t,r))),er=tr(1,136,32);class HMAC extends Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,a(t);const r=g(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(t){return u(this),this.iHash.update(t),this}digestInto(t){u(this),o(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return t.finished=n,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const rr=(t,e,r)=>new HMAC(t,e).update(r).digest();function nr(t){void 0!==t.lowS&&F("lowS",t.lowS),void 0!==t.prehash&&F("prehash",t.prehash)}rr.create=(t,e)=>new HMAC(t,e);const{Ph:ir,aT:sr}=n,or={Err:class DERErr extends Error{constructor(t=""){super(t)}},_tlv:{encode:(t,e)=>{const{Err:r}=or;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(1&e.length)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=V(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?V(i.length/2|128):"";return`${V(t)}${s}${i}${e}`},decode(t,e){const{Err:r}=or;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++];let s=0;if(!!(128&i)){const t=127&i;if(!t)throw new r("tlv.decode(long): indefinite length not supported");if(t>4)throw new r("tlv.decode(long): byte length is too big");const o=e.subarray(n,n+t);if(o.length!==t)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(n+=t,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;const o=e.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:e.subarray(n+s)}}},_int:{encode(t){const{Err:e}=or;if(t<ar)throw new e("integer: negative integers are not allowed");let r=V(t);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new e("unexpected assertion");return r},decode(t){const{Err:e}=or;if(128&t[0])throw new e("Invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new e("Invalid signature integer: unnecessary leading zero");return ir(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=or,i="string"==typeof t?sr(t):t;U(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("Invalid signature: left bytes after parsing");const{v:a,l:u}=n.decode(2,s),{v:c,l}=n.decode(2,u);if(l.length)throw new e("Invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(t){const{_tlv:e,_int:r}=or,n=`${e.encode(2,r.encode(t.r))}${e.encode(2,r.encode(t.s))}`;return e.encode(48,n)}},ar=BigInt(0),ur=BigInt(1),cr=(BigInt(2),BigInt(3));BigInt(4);function lr(t){const e=function(t){const e=Ot(t);ut(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,n=kt(e.n,e.nBitLength),i=e.toBytes||((t,e,n)=>{const i=e.toAffine();return Y(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),s=e.fromBytes||(t=>{const e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function o(t){const{a:n,b:i}=e,s=r.sqr(t),o=r.mul(s,t);return r.add(r.add(o,r.mul(t,n)),i)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(t){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:s}=e;if(r&&"bigint"!=typeof t){if(D(t)&&(t=j(t)),"string"!=typeof t||!r.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*n,"0")}let o;try{o="bigint"==typeof t?t:$(J("private key",t,n))}catch(a){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof t}`)}return i&&(o=yt(o,s)),et("private key",o,ur,s),o}function u(t){if(!(t instanceof Point))throw new Error("ProjectivePoint expected")}const c=ct(((t,e)=>{const{px:n,py:i,pz:s}=t;if(r.eql(s,r.ONE))return{x:n,y:i};const o=t.is0();null==e&&(e=o?r.ONE:r.inv(s));const a=r.mul(n,e),u=r.mul(i,e),c=r.mul(s,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:a,y:u}})),l=ct((t=>{if(t.is0()){if(e.allowInfinityPoint&&!r.is0(t.py))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=t.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not FE");const s=r.sqr(i),a=o(n);if(!r.eql(s,a))throw new Error("bad point: equation left != right");if(!t.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class Point{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw new Error("x required");if(null==e||!r.isValid(e))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");Object.freeze(this)}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw new Error("invalid affine point");if(t instanceof Point)throw new Error("projective point not allowed");const i=t=>r.eql(t,r.ZERO);return i(e)&&i(n)?Point.ZERO:new Point(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(Point.fromAffine)}static fromHex(t){const e=Point.fromAffine(s(J("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return Point.BASE.multiply(a(t))}static msm(t,e){return Pt(Point,n,t,e)}_setWindowSize(t){d.setWindowSize(this,t)}assertValidity(){l(this)}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){u(t);const{px:e,py:n,pz:i}=this,{px:s,py:o,pz:a}=t,c=r.eql(r.mul(e,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new Point(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:n}=e,i=r.mul(n,cr),{px:s,py:o,pz:a}=this;let u=r.ZERO,c=r.ZERO,l=r.ZERO,h=r.mul(s,s),d=r.mul(o,o),f=r.mul(a,a),p=r.mul(s,o);return p=r.add(p,p),l=r.mul(s,a),l=r.add(l,l),u=r.mul(t,l),c=r.mul(i,f),c=r.add(u,c),u=r.sub(d,c),c=r.add(d,c),c=r.mul(u,c),u=r.mul(p,u),l=r.mul(i,l),f=r.mul(t,f),p=r.sub(h,f),p=r.mul(t,p),p=r.add(p,l),l=r.add(h,h),h=r.add(l,h),h=r.add(h,f),h=r.mul(h,p),c=r.add(c,h),f=r.mul(o,a),f=r.add(f,f),h=r.mul(f,p),u=r.sub(u,h),l=r.mul(f,d),l=r.add(l,l),l=r.add(l,l),new Point(u,c,l)}add(t){u(t);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:c}=t;let l=r.ZERO,h=r.ZERO,d=r.ZERO;const f=e.a,p=r.mul(e.b,cr);let m=r.mul(n,o),g=r.mul(i,a),y=r.mul(s,c),w=r.add(n,i),v=r.add(o,a);w=r.mul(w,v),v=r.add(m,g),w=r.sub(w,v),v=r.add(n,s);let b=r.add(o,c);return v=r.mul(v,b),b=r.add(m,y),v=r.sub(v,b),b=r.add(i,s),l=r.add(a,c),b=r.mul(b,l),l=r.add(g,y),b=r.sub(b,l),d=r.mul(f,v),l=r.mul(p,y),d=r.add(l,d),l=r.sub(g,d),d=r.add(g,d),h=r.mul(l,d),g=r.add(m,m),g=r.add(g,m),y=r.mul(f,y),v=r.mul(p,v),g=r.add(g,y),y=r.sub(m,y),y=r.mul(f,y),v=r.add(v,y),m=r.mul(g,v),h=r.add(h,m),m=r.mul(b,v),l=r.mul(w,l),l=r.sub(l,m),m=r.mul(w,g),d=r.mul(b,d),d=r.add(d,m),new Point(l,h,d)}subtract(t){return this.add(t.negate())}is0(){return this.equals(Point.ZERO)}wNAF(t){return d.wNAFCached(this,t,Point.normalizeZ)}multiplyUnsafe(t){et("scalar",t,ar,e.n);const n=Point.ZERO;if(t===ar)return n;if(t===ur)return this;const{endo:i}=e;if(!i)return d.unsafeLadder(this,t);let{k1neg:s,k1:o,k2neg:a,k2:u}=i.splitScalar(t),c=n,l=n,h=this;for(;o>ar||u>ar;)o&ur&&(c=c.add(h)),u&ur&&(l=l.add(h)),h=h.double(),o>>=ur,u>>=ur;return s&&(c=c.negate()),a&&(l=l.negate()),l=new Point(r.mul(l.px,i.beta),l.py,l.pz),c.add(l)}multiply(t){const{endo:n,n:i}=e;let s,o;if(et("scalar",t,ur,i),n){const{k1neg:e,k1:i,k2neg:a,k2:u}=n.splitScalar(t);let{p:c,f:l}=this.wNAF(i),{p:h,f}=this.wNAF(u);c=d.constTimeNegate(e,c),h=d.constTimeNegate(a,h),h=new Point(r.mul(h.px,n.beta),h.py,h.pz),s=c.add(h),o=l.add(f)}else{const{p:e,f:r}=this.wNAF(t);s=e,o=r}return Point.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(t,e,r){const n=Point.BASE,i=(t,e)=>e!==ar&&e!==ur&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),s=i(this,e).add(i(t,r));return s.is0()?void 0:s}toAffine(t){return c(this,t)}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===ur)return!0;if(r)return r(Point,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===ur?this:r?r(Point,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return F("isCompressed",t),this.assertValidity(),i(Point,this,t)}toHex(t=!0){return F("isCompressed",t),j(this.toRawBytes(t))}}Point.BASE=new Point(e.Gx,e.Gy,r.ONE),Point.ZERO=new Point(r.ZERO,r.ONE,r.ZERO);const h=e.nBitLength,d=Ct(Point,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:Point,normPrivateKeyToScalar:a,weierstrassEquation:o,isWithinCurveOrder:function(t){return tt(t,ur,e.n)}}}function hr(t){const e=function(t){const e=Ot(t);return ut(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(t){return yt(t,n)}function a(t){return bt(t,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:l,isWithinCurveOrder:h}=lr({...e,toBytes(t,e,n){const i=e.toAffine(),s=r.toBytes(i.x),o=Y;return F("isCompressed",n),n?o(Uint8Array.from([e.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(t){const e=t.length,n=t[0],o=t.subarray(1);if(e!==i||2!==n&&3!==n){if(e===s&&4===n){return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${e} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const t=$(o);if(!tt(t,ur,r.ORDER))throw new Error("Point is not on curve");const e=l(t);let i;try{i=r.sqrt(e)}catch(a){const t=a instanceof Error?": "+a.message:"";throw new Error("Point is not on curve"+t)}return!(1&~n)!==((i&ur)===ur)&&(i=r.neg(i)),{x:t,y:i}}}}),d=t=>j(G(t,e.nByteLength));function f(t){return t>n>>ur}const p=(t,e,r)=>$(t.slice(e,r));class Signature{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){const r=e.nByteLength;return t=J("compactSignature",t,2*r),new Signature(p(t,0,r),p(t,r,2*r))}static fromDER(t){const{r:e,s:r}=or.toSig(J("DER",t));return new Signature(e,r)}assertValidity(){et("r",this.r,ur,n),et("s",this.s,ur,n)}addRecoveryBit(t){return new Signature(this.r,this.s,t)}recoverPublicKey(t){const{r:n,s:i,recovery:s}=this,c=w(J("msgHash",t));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const l=2===s||3===s?n+e.n:n;if(l>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=1&s?"03":"02",f=u.fromHex(h+d(l)),p=a(l),m=o(-c*p),g=o(i*p),y=u.BASE.multiplyAndAddUnsafe(f,m,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new Signature(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return W(this.toDERHex())}toDERHex(){return or.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return W(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const m={isValidPrivateKey(t){try{return c(t),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const t=It(e.n);return function(t,e,r=!1){const n=t.length,i=At(e),s=It(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=yt(r?$(t):Z(t),e-ht)+ht;return r?Q(o,i):G(o,i)}(e.randomBytes(t),e.n)},precompute:(t=8,e=u.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function g(t){const e=D(t),r="string"==typeof t,n=(e||r)&&t.length;return e?n===i||n===s:r?n===2*i||n===2*s:t instanceof u}const y=e.bits2int||function(t){const r=$(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},w=e.bits2int_modN||function(t){return o(y(t))},v=nt(e.nBitLength);function b(t){return et(`num < 2^${e.nBitLength}`,t,ar,v),G(t,e.nByteLength)}function _(t,n,i=E){if(["recovered","canonical"].some((t=>t in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:l}=e;let{lowS:d,prehash:p,extraEntropy:m}=i;null==d&&(d=!0),t=J("msgHash",t),nr(i),p&&(t=J("prehashed msgHash",s(t)));const g=w(t),v=c(n),_=[b(v),b(g)];if(null!=m&&!1!==m){const t=!0===m?l(r.BYTES):m;_.push(J("extraEntropy",t))}const S=Y(..._),k=g;return{seed:S,k2sig:function(t){const e=y(t);if(!h(e))return;const r=a(e),n=u.BASE.multiply(e).toAffine(),i=o(n.x);if(i===ar)return;const s=o(r*o(k+i*v));if(s===ar)return;let c=(n.x===i?0:2)|Number(n.y&ur),l=s;return d&&f(s)&&(l=function(t){return f(t)?o(-t):t}(s),c^=1),new Signature(i,l,c)}}}const E={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return u.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(g(t))throw new Error("first arg must be private key");if(!g(e))throw new Error("second arg must be public key");return u.fromHex(e).multiply(c(t)).toRawBytes(r)},sign:function(t,r,n=E){const{seed:i,k2sig:s}=_(t,r,n),o=e;return ot(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(t,r,n,i=S){const s=t;if(r=J("msgHash",r),n=J("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");nr(i);const{lowS:c,prehash:l}=i;let h,d;try{if("string"==typeof s||D(s))try{h=Signature.fromDER(s)}catch(_){if(!(_ instanceof or.Err))throw _;h=Signature.fromCompact(s)}else{if("object"!=typeof s||"bigint"!=typeof s.r||"bigint"!=typeof s.s)throw new Error("PARSE");{const{r:t,s:e}=s;h=new Signature(t,e)}}d=u.fromHex(n)}catch(E){if("PARSE"===E.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&h.hasHighS())return!1;l&&(r=e.hash(r));const{r:f,s:p}=h,m=w(r),g=a(p),y=o(m*g),v=o(f*g),b=u.BASE.multiplyAndAddUnsafe(d,y,v)?.toAffine();return!!b&&o(b.x)===f},ProjectivePoint:u,Signature,utils:m}}function dr(t){return{hash:t,hmac:(e,...r)=>rr(t,e,function(...t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];o(r),e+=r.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const e=t[n];r.set(e,i),i+=e.length}return r}(...r)),randomBytes:w}}const fr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),pr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),mr=BigInt(1),gr=BigInt(2),yr=(t,e)=>(t+e/gr)/e;function wr(t){const e=fr,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),c=t*t*t%e,l=c*c*t%e,h=vt(l,r,e)*l%e,d=vt(h,r,e)*l%e,f=vt(d,gr,e)*c%e,p=vt(f,i,e)*f%e,m=vt(p,s,e)*p%e,g=vt(m,a,e)*m%e,y=vt(g,u,e)*g%e,w=vt(y,a,e)*m%e,v=vt(w,r,e)*l%e,b=vt(v,o,e)*p%e,_=vt(b,n,e)*c%e,E=vt(_,gr,e);if(!vr.eql(vr.sqr(E),t))throw new Error("Cannot find square root");return E}const vr=kt(fr,void 0,void 0,{sqrt:wr}),br=function(t,e){const r=e=>hr({...t,...dr(e)});return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp:vr,n:pr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=pr,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-mr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=yr(s*t,e),u=yr(-n*t,e);let c=yt(t-a*r-u*i,e),l=yt(-a*n-u*s,e);const h=c>o,d=l>o;if(h&&(c=e-c),d&&(l=e-l),c>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:d,k2:l}}}},se);BigInt(0);br.ProjectivePoint;Jt.utils.randomPrivateKey;const _r=()=>{const t=Jt.utils.randomPrivateKey(),e=Er(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},Er=Jt.getPublicKey;function Sr(t){try{return Jt.ExtendedPoint.fromHex(t),!0}catch{return!1}}const kr=(t,e)=>Jt.sign(t,e.slice(0,32)),Ar=Jt.verify,Ir=t=>i.Buffer.isBuffer(t)?t:t instanceof Uint8Array?i.Buffer.from(t.buffer,t.byteOffset,t.byteLength):i.Buffer.from(t);class index_browser_esm_Struct{constructor(t){Object.assign(this,t)}encode(){return i.Buffer.from((0,oe.serialize)(Mr,this))}static decode(t){return(0,oe.deserialize)(Mr,this,t)}static decodeUnchecked(t){return(0,oe.deserializeUnchecked)(Mr,this,t)}}const Mr=new Map;var xr;const Tr=32;let Rr=1;class PublicKey extends index_browser_esm_Struct{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=ee().decode(t);if(e.length!=Tr)throw new Error("Invalid public key input");this._bn=new(Xt())(e)}else this._bn=new(Xt())(t);if(this._bn.byteLength()>Tr)throw new Error("Invalid public key input")}}static unique(){const t=new PublicKey(Rr);return Rr+=1,new PublicKey(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return ee().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(i.Buffer);if(t.length===Tr)return t;const e=i.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const n=i.Buffer.concat([t.toBuffer(),i.Buffer.from(e),r.toBuffer()]),s=se(n);return new PublicKey(s)}static createProgramAddressSync(t,e){let r=i.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");r=i.Buffer.concat([r,Ir(t)])})),r=i.Buffer.concat([r,e.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);const n=se(r);if(Sr(n))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(n)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r,n=255;for(;0!=n;){try{const s=t.concat(i.Buffer.from([n]));r=this.createProgramAddressSync(s,e)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return Sr(new PublicKey(t).toBytes())}}xr=PublicKey,PublicKey.default=new xr("11111111111111111111111111111111"),Mr.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});new PublicKey("BPFLoader1111111111111111111111111111111111");const Cr=1232,Pr=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach(((t,r)=>{e.set(t.toBase58(),r)}));const r=t=>{const r=e.get(t.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return t.map((t=>({programIdIndex:r(t.programId),accountKeyIndexes:t.keys.map((t=>r(t.pubkey))),data:t.data})))}}const Or=(t="publicKey")=>ae.av(32,t),Nr=(t="signature")=>ae.av(64,t),Br=(t="string")=>{const e=ae.w3([ae.DH("length"),ae.DH("lengthPadding"),ae.av(ae.cY(ae.DH(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),s=e;return s.decode=(t,e)=>r(t,e).chars.toString(),s.encode=(t,e,r)=>{const s={chars:i.Buffer.from(t,"utf8")};return n(s,e,r)},s.alloc=t=>ae.DH().span+ae.DH().span+i.Buffer.from(t,"utf8").length,s};function Lr(t,e){const r=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(e[t.property]);if("count"in t&&"elementLayout"in t){const n=e[t.property];if(Array.isArray(n))return n.length*r(t.elementLayout)}else if("fields"in t)return Lr({layout:t},e[t.property]);return 0};let n=0;return t.layout.fields.forEach((t=>{n+=r(t)})),n}function Dr(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(127&n)<<7*r,r+=1,!(128&n))break}return e}function Ur(t,e){let r=e;for(;;){let e=127&r;if(r>>=7,0==r){t.push(e);break}e|=128,t.push(e)}}function Fr(t,e){if(!t)throw new Error(e||"Assertion failed")}class CompiledKeys{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const r=new Map,n=t=>{const e=t.toBase58();let n=r.get(e);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(e,n)),n},i=n(e);i.isSigner=!0,i.isWritable=!0;for(const s of t){n(s.programId).isInvoked=!0;for(const t of s.keys){const e=n(t.pubkey);e.isSigner||=t.isSigner,e.isWritable||=t.isWritable}}return new CompiledKeys(e,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Fr(t.length<=256,"Max static account keys length exceeded");const e=t.filter((([,t])=>t.isSigner&&t.isWritable)),r=t.filter((([,t])=>t.isSigner&&!t.isWritable)),n=t.filter((([,t])=>!t.isSigner&&t.isWritable)),i=t.filter((([,t])=>!t.isSigner&&!t.isWritable)),s={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Fr(e.length>0,"Expected at least one writable signer key");const[t]=e[0];Fr(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...e.map((([t])=>new PublicKey(t))),...r.map((([t])=>new PublicKey(t))),...n.map((([t])=>new PublicKey(t))),...i.map((([t])=>new PublicKey(t)))]]}extractTableLookup(t){const[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&t.isWritable)),[n,i]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&!t.isWritable));if(0!==e.length||0!==n.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,e){const r=new Array,n=new Array;for(const[i,s]of this.keyMetaMap.entries())if(e(s)){const e=new PublicKey(i),s=t.findIndex((t=>t.equals(e)));s>=0&&(Fr(s<256,"Max lookup table index exceeded"),r.push(s),n.push(e),this.keyMetaMap.delete(i))}return[r,n]}}const zr="Reached end of buffer unexpectedly";function jr(t){if(0===t.length)throw new Error(zr);return t.shift()}function Vr(t,...e){const[r]=e;if(2===e.length?r+(e[1]??0)>t.length:r>=t.length)throw new Error(zr);return t.splice(...e)}class Message{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((t=>new PublicKey(t))),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ee().decode(t.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(t){const e=CompiledKeys.compile(t.instructions,t.payerKey),[r,n]=e.getMessageComponents(),i=new MessageAccountKeys(n).compileInstructions(t.instructions).map((t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:ee().encode(t.data)})));return new Message({header:r,accountKeys:n,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){return t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((t,e)=>!this.isProgramId(e)))}serialize(){const t=this.accountKeys.length;let e=[];Ur(e,t);const r=this.instructions.map((t=>{const{accounts:e,programIdIndex:r}=t,n=Array.from(ee().decode(t.data));let s=[];Ur(s,e.length);let o=[];return Ur(o,n.length),{programIdIndex:r,keyIndicesCount:i.Buffer.from(s),keyIndices:e,dataLength:i.Buffer.from(o),data:n}}));let n=[];Ur(n,r.length);let s=i.Buffer.alloc(Cr);i.Buffer.from(n).copy(s);let o=n.length;r.forEach((t=>{const e=ae.w3([ae.u8("programIdIndex"),ae.av(t.keyIndicesCount.length,"keyIndicesCount"),ae.O6(ae.u8("keyIndex"),t.keyIndices.length,"keyIndices"),ae.av(t.dataLength.length,"dataLength"),ae.O6(ae.u8("userdatum"),t.data.length,"data")]).encode(t,s,o);o+=e})),s=s.slice(0,o);const a=ae.w3([ae.av(1,"numRequiredSignatures"),ae.av(1,"numReadonlySignedAccounts"),ae.av(1,"numReadonlyUnsignedAccounts"),ae.av(e.length,"keyCount"),ae.O6(Or("key"),t,"keys"),Or("recentBlockhash")]),u={numRequiredSignatures:i.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:i.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:i.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:i.Buffer.from(e),keys:this.accountKeys.map((t=>Ir(t.toBytes()))),recentBlockhash:ee().decode(this.recentBlockhash)};let c=i.Buffer.alloc(2048);const l=a.encode(u,c);return s.copy(c,l),c.slice(0,l+s.length)}static from(t){let e=[...t];const r=jr(e);if(r!==(127&r))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const n=jr(e),s=jr(e),o=Dr(e);let a=[];for(let d=0;d<o;d++){const t=Vr(e,0,Tr);a.push(new PublicKey(i.Buffer.from(t)))}const u=Vr(e,0,Tr),c=Dr(e);let l=[];for(let d=0;d<c;d++){const t=jr(e),r=Vr(e,0,Dr(e)),n=Vr(e,0,Dr(e)),s=ee().encode(i.Buffer.from(n));l.push({programIdIndex:t,accounts:r,data:s})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:s},recentBlockhash:ee().encode(i.Buffer.from(u)),accountKeys:a,instructions:l};return new Message(h)}}class MessageV0{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){return t-r<this.addressTableLookups.reduce(((t,e)=>t+e.writableIndexes.length),0)}if(t>=this.header.numRequiredSignatures){return t-e<r-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const r of this.addressTableLookups){const n=t.find((t=>t.key.equals(r.accountKey)));if(!n)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const t of r.writableIndexes){if(!(t<n.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${r.accountKey.toBase58()}`);e.writable.push(n.state.addresses[t])}for(const t of r.readonlyIndexes){if(!(t<n.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${r.accountKey.toBase58()}`);e.readonly.push(n.state.addresses[t])}}return e}static compile(t){const e=CompiledKeys.compile(t.instructions,t.payerKey),r=new Array,n={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const u of i){const t=e.extractTableLookup(u);if(void 0!==t){const[e,{writable:i,readonly:s}]=t;r.push(e),n.writable.push(...i),n.readonly.push(...s)}}const[s,o]=e.getMessageComponents(),a=new MessageAccountKeys(o,n).compileInstructions(t.instructions);return new MessageV0({header:s,staticAccountKeys:o,recentBlockhash:t.recentBlockhash,compiledInstructions:a,addressTableLookups:r})}serialize(){const t=Array();Ur(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),r=Array();Ur(r,this.compiledInstructions.length);const n=this.serializeAddressTableLookups(),i=Array();Ur(i,this.addressTableLookups.length);const s=ae.w3([ae.u8("prefix"),ae.w3([ae.u8("numRequiredSignatures"),ae.u8("numReadonlySignedAccounts"),ae.u8("numReadonlyUnsignedAccounts")],"header"),ae.av(t.length,"staticAccountKeysLength"),ae.O6(Or(),this.staticAccountKeys.length,"staticAccountKeys"),Or("recentBlockhash"),ae.av(r.length,"instructionsLength"),ae.av(e.length,"serializedInstructions"),ae.av(i.length,"addressTableLookupsLength"),ae.av(n.length,"serializedAddressTableLookups")]),o=new Uint8Array(Cr),a=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map((t=>t.toBytes())),recentBlockhash:ee().decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},o);return o.slice(0,a)}serializeInstructions(){let t=0;const e=new Uint8Array(Cr);for(const r of this.compiledInstructions){const n=Array();Ur(n,r.accountKeyIndexes.length);const i=Array();Ur(i,r.data.length);t+=ae.w3([ae.u8("programIdIndex"),ae.av(n.length,"encodedAccountKeyIndexesLength"),ae.O6(ae.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),ae.av(i.length,"encodedDataLength"),ae.av(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(Cr);for(const r of this.addressTableLookups){const n=Array();Ur(n,r.writableIndexes.length);const i=Array();Ur(i,r.readonlyIndexes.length);t+=ae.w3([Or("accountKey"),ae.av(n.length,"encodedWritableIndexesLength"),ae.O6(ae.u8(),r.writableIndexes.length,"writableIndexes"),ae.av(i.length,"encodedReadonlyIndexesLength"),ae.O6(ae.u8(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const r=jr(e),n=127&r;Fr(r!==n,"Expected versioned message but received legacy message");Fr(0===n,`Expected versioned message with version 0 but found version ${n}`);const i={numRequiredSignatures:jr(e),numReadonlySignedAccounts:jr(e),numReadonlyUnsignedAccounts:jr(e)},s=[],o=Dr(e);for(let d=0;d<o;d++)s.push(new PublicKey(Vr(e,0,Tr)));const a=ee().encode(Vr(e,0,Tr)),u=Dr(e),c=[];for(let d=0;d<u;d++){const t=jr(e),r=Vr(e,0,Dr(e)),n=Dr(e),i=new Uint8Array(Vr(e,0,n));c.push({programIdIndex:t,accountKeyIndexes:r,data:i})}const l=Dr(e),h=[];for(let d=0;d<l;d++){const t=new PublicKey(Vr(e,0,Tr)),r=Vr(e,0,Dr(e)),n=Vr(e,0,Dr(e));h.push({accountKey:t,writableIndexes:r,readonlyIndexes:n})}return new MessageV0({header:i,staticAccountKeys:s,recentBlockhash:a,compiledInstructions:c,addressTableLookups:h})}}const Hr={deserializeMessageVersion(t){const e=t[0],r=127&e;return r===e?"legacy":r},deserialize:t=>{const e=Hr.deserializeMessageVersion(t);if("legacy"===e)return Message.from(t);if(0===e)return MessageV0.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let qr=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const Kr=i.Buffer.alloc(Pr).fill(0);class TransactionInstruction{constructor(t){this.keys=void 0,this.programId=void 0,this.data=i.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map((({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r}))),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{const{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((t=>t.toJSON())),signers:this.signatures.map((({publicKey:t})=>t.toJSON()))}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach((t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new TransactionInstruction(t))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let p=0;p<e.length;p++)if(void 0===e[p].programId)throw new Error(`Transaction instruction index ${p} has undefined program id`);const n=[],i=[];e.forEach((t=>{t.keys.forEach((t=>{i.push({...t})}));const e=t.programId.toString();n.includes(e)||n.push(e)})),n.forEach((t=>{i.push({pubkey:new PublicKey(t),isSigner:!1,isWritable:!1})}));const s=[];i.forEach((t=>{const e=t.pubkey.toString(),r=s.findIndex((t=>t.pubkey.toString()===e));r>-1?(s[r].isWritable=s[r].isWritable||t.isWritable,s[r].isSigner=s[r].isSigner||t.isSigner):s.push(t)})),s.sort((function(t,e){if(t.isSigner!==e.isSigner)return t.isSigner?-1:1;if(t.isWritable!==e.isWritable)return t.isWritable?-1:1;return t.pubkey.toBase58().localeCompare(e.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const o=s.findIndex((t=>t.pubkey.equals(r)));if(o>-1){const[t]=s.splice(o,1);t.isSigner=!0,t.isWritable=!0,s.unshift(t)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const p of this.signatures){const t=s.findIndex((t=>t.pubkey.equals(p.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${p.publicKey.toString()}`);s[t].isSigner||(s[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,c=0;const l=[],h=[];s.forEach((({pubkey:t,isSigner:e,isWritable:r})=>{e?(l.push(t.toString()),a+=1,r||(u+=1)):(h.push(t.toString()),r||(c+=1))}));const d=l.concat(h),f=e.map((t=>{const{data:e,programId:r}=t;return{programIdIndex:d.indexOf(r.toString()),accounts:t.keys.map((t=>d.indexOf(t.pubkey.toString()))),data:ee().encode(e)}}));return f.forEach((t=>{Fr(t.programIdIndex>=0),t.accounts.forEach((t=>Fr(t>=0)))})),new Message({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:d,recentBlockhash:t,instructions:f})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);if(this.signatures.length===e.length){if(this.signatures.every(((t,r)=>e[r].equals(t.publicKey))))return t}return this.signatures=e.map((t=>({signature:null,publicKey:t}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter((t=>{const r=t.toString();return!e.has(r)&&(e.add(r),!0)})).map((t=>({signature:null,publicKey:t})))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const t=i.publicKey.toString();e.has(t)||(e.add(t),r.push(i))}this.signatures=r.map((t=>({signature:null,publicKey:t.publicKey})));const n=this._compile();this._partialSign(n,...r)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const t=i.publicKey.toString();e.has(t)||(e.add(t),r.push(i))}const n=this._compile();this._partialSign(n,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach((t=>{const e=kr(r,t.secretKey);this._addSignature(t.publicKey,Ir(e))}))}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Fr(64===e.length);const r=this.signatures.findIndex((e=>t.equals(e.publicKey)));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=i.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const r={};for(const{signature:n,publicKey:i}of this.signatures)null===n?e&&(r.missing||=[]).push(i):Ar(n,t,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),n=this.serializeMessage();if(r){const t=this._getMessageSignednessErrors(n,e);if(t){let e="Signature verification failed.";throw t.invalid&&(e+=`\nInvalid signature for public key${1===t.invalid.length?"":"(s)"} [\`${t.invalid.map((t=>t.toBase58())).join("`, `")}\`].`),t.missing&&(e+=`\nMissing signature for public key${1===t.missing.length?"":"(s)"} [\`${t.missing.map((t=>t.toBase58())).join("`, `")}\`].`),new Error(e)}}return this._serialize(n)}_serialize(t){const{signatures:e}=this,r=[];Ur(r,e.length);const n=r.length+64*e.length+t.length,s=i.Buffer.alloc(n);return Fr(e.length<256),i.Buffer.from(r).copy(s,0),e.forEach((({signature:t},e)=>{null!==t&&(Fr(64===t.length,"signature has invalid length"),i.Buffer.from(t).copy(s,r.length+64*e))})),t.copy(s,r.length+64*e.length),Fr(s.length<=Cr,`Transaction too large: ${s.length} > 1232`),s}get keys(){return Fr(1===this.instructions.length),this.instructions[0].keys.map((t=>t.pubkey))}get programId(){return Fr(1===this.instructions.length),this.instructions[0].programId}get data(){return Fr(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const r=Dr(e);let n=[];for(let s=0;s<r;s++){const t=Vr(e,0,Pr);n.push(ee().encode(i.Buffer.from(t)))}return Transaction.populate(Message.from(e),n)}static populate(t,e=[]){const r=new Transaction;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach(((e,n)=>{const i={signature:e==ee().encode(Kr)?null:ee().decode(e),publicKey:t.accountKeys[n]};r.signatures.push(i)})),t.instructions.forEach((e=>{const n=e.accounts.map((e=>{const n=t.accountKeys[e];return{pubkey:n,isSigner:r.signatures.some((t=>t.publicKey.toString()===n.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));r.instructions.push(new TransactionInstruction({keys:n,programId:t.accountKeys[e.programIdIndex],data:ee().decode(e.data)}))})),r._message=t,r._json=r.toJSON(),r}}class TransactionMessage{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){const{header:r,compiledInstructions:n,recentBlockhash:i}=t,{numRequiredSignatures:s,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a}=r,u=s-o;Fr(u>0,"Message header is invalid");const c=t.staticAccountKeys.length-s-a;Fr(c>=0,"Message header is invalid");const l=t.getAccountKeys(e),h=l.get(0);if(void 0===h)throw new Error("Failed to decompile message because no account keys were found");const d=[];for(const f of n){const t=[];for(const n of f.accountKeyIndexes){const e=l.get(n);if(void 0===e)throw new Error(`Failed to find key for account key index ${n}`);let i;i=n<s?n<u:n<l.staticAccountKeys.length?n-s<c:n-l.staticAccountKeys.length<l.accountKeysFromLookups.writable.length,t.push({pubkey:e,isSigner:n<r.numRequiredSignatures,isWritable:i})}const e=l.get(f.programIdIndex);if(void 0===e)throw new Error(`Failed to find program id for program id index ${f.programIdIndex}`);d.push(new TransactionInstruction({programId:e,data:Ir(f.data),keys:t}))}return new TransactionMessage({payerKey:h,instructions:d,recentBlockhash:i})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class VersionedTransaction{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,void 0!==e)Fr(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const e=[];for(let r=0;r<t.header.numRequiredSignatures;r++)e.push(new Uint8Array(Pr));this.signatures=e}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Ur(e,this.signatures.length);const r=ae.w3([ae.av(e.length,"encodedSignaturesLength"),ae.O6(Nr(),this.signatures.length,"signatures"),ae.av(t.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},n);return n.slice(0,i)}static deserialize(t){let e=[...t];const r=[],n=Dr(e);for(let s=0;s<n;s++)r.push(new Uint8Array(Vr(e,0,Pr)));const i=Hr.deserialize(new Uint8Array(e));return new VersionedTransaction(i,r)}sign(t){const e=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const n of t){const t=r.findIndex((t=>t.equals(n.publicKey)));Fr(t>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[t]=kr(e,n.secretKey)}}addSignature(t,e){Fr(64===e.byteLength,"Signature must be 64 bytes long");const r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((e=>e.equals(t)));Fr(r>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[r]=e}}const Wr=new PublicKey("SysvarC1ock11111111111111111111111111111111"),$r=(new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),new PublicKey("Sysvar1nstructions1111111111111111111111111"),new PublicKey("SysvarRecentB1ockHashes11111111111111111111")),Zr=new PublicKey("SysvarRent111111111111111111111111111111111"),Gr=(new PublicKey("SysvarRewards111111111111111111111111111111"),new PublicKey("SysvarS1otHashes111111111111111111111111111"),new PublicKey("SysvarS1otHistory11111111111111111111111111"),new PublicKey("SysvarStakeHistory1111111111111111111111111"));class SendTransactionError extends Error{constructor({action:t,signature:e,transactionMessage:r,logs:n}){const i=n?`Logs: \n${JSON.stringify(n.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let o;switch(t){case"send":o=`Transaction ${e} resulted in an error. \n${r}. `+i+s;break;case"simulate":o=`Simulation failed. \nMessage: ${r}. \n`+i+s;break;default:o=`Unknown action '${t}'`}super(o),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(null==t||"object"!=typeof t||!("then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((e,r)=>{t.getTransaction(this.signature).then((t=>{if(t&&t.meta&&t.meta.logMessages){const r=t.meta.logMessages;this.transactionLogs=r,e(r)}else r(new Error("Log messages not found"))})).catch(r)}))),await this.transactionLogs}}class SolanaJSONRPCError extends Error{constructor({code:t,message:e,data:r},n){super(null!=n?`${n}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}async function Qr(t,e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i);let o;if(null!=e.recentBlockhash&&null!=e.lastValidBlockHeight)o=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=e.minNonceContextSlot&&null!=e.nonceInfo){const{nonceInstruction:r}=e.nonceInfo,i=r.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else null!=n?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,n&&n.commitment)).value;if(o.err){if(null!=s)throw new SendTransactionError({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`});throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`)}return s}function Jr(t){return new Promise((e=>setTimeout(e,t)))}function Yr(t,e){const r=t.layout.span>=0?t.layout.span:Lr(t,e),n=i.Buffer.alloc(r),s=Object.assign({instruction:t.index},e);return t.layout.encode(s,n),n}const Xr=ae.I0("lamportsPerSignature"),tn=ae.w3([ae.DH("version"),ae.DH("state"),Or("authorizedPubkey"),Or("nonce"),ae.w3([Xr],"feeCalculator")]),en=tn.span;class NonceAccount{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=tn.decode(Ir(t),0);return new NonceAccount({authorizedPubkey:new PublicKey(e.authorizedPubkey),nonce:new PublicKey(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const rn=(nn=8,t=>{const e=(0,ae.av)(nn,t),{encode:r,decode:n}=(t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)}))(e),s=e;return s.decode=(t,e)=>{const r=n(t,e);return(0,ue.k5)(i.Buffer.from(r))},s.encode=(t,e,n)=>{const i=(0,ue.Bq)(t,nn);return r(i,e,n)},s});var nn;const sn=Object.freeze({Create:{index:0,layout:ae.w3([ae.DH("instruction"),ae.Wg("lamports"),ae.Wg("space"),Or("programId")])},Assign:{index:1,layout:ae.w3([ae.DH("instruction"),Or("programId")])},Transfer:{index:2,layout:ae.w3([ae.DH("instruction"),rn("lamports")])},CreateWithSeed:{index:3,layout:ae.w3([ae.DH("instruction"),Or("base"),Br("seed"),ae.Wg("lamports"),ae.Wg("space"),Or("programId")])},AdvanceNonceAccount:{index:4,layout:ae.w3([ae.DH("instruction")])},WithdrawNonceAccount:{index:5,layout:ae.w3([ae.DH("instruction"),ae.Wg("lamports")])},InitializeNonceAccount:{index:6,layout:ae.w3([ae.DH("instruction"),Or("authorized")])},AuthorizeNonceAccount:{index:7,layout:ae.w3([ae.DH("instruction"),Or("authorized")])},Allocate:{index:8,layout:ae.w3([ae.DH("instruction"),ae.Wg("space")])},AllocateWithSeed:{index:9,layout:ae.w3([ae.DH("instruction"),Or("base"),Br("seed"),ae.Wg("space"),Or("programId")])},AssignWithSeed:{index:10,layout:ae.w3([ae.DH("instruction"),Or("base"),Br("seed"),Or("programId")])},TransferWithSeed:{index:11,layout:ae.w3([ae.DH("instruction"),rn("lamports"),Br("seed"),Or("programId")])},UpgradeNonceAccount:{index:12,layout:ae.w3([ae.DH("instruction")])}});class SystemProgram{constructor(){}static createAccount(t){const e=Yr(sn.Create,{lamports:t.lamports,space:t.space,programId:Ir(t.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}static transfer(t){let e,r;if("basePubkey"in t){e=Yr(sn.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:Ir(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{e=Yr(sn.Transfer,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:e})}static assign(t){let e,r;if("basePubkey"in t){e=Yr(sn.AssignWithSeed,{base:Ir(t.basePubkey.toBuffer()),seed:t.seed,programId:Ir(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{e=Yr(sn.Assign,{programId:Ir(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=Yr(sn.CreateWithSeed,{base:Ir(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:Ir(t.programId.toBuffer())});let r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||r.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:r,programId:this.programId,data:e})}static createNonceAccount(t){const e=new Transaction;"basePubkey"in t&&"seed"in t?e.add(SystemProgram.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:en,programId:this.programId})):e.add(SystemProgram.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:en,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(r)),e}static nonceInitialize(t){const e=Yr(sn.InitializeNonceAccount,{authorized:Ir(t.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:$r,isSigner:!1,isWritable:!1},{pubkey:Zr,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new TransactionInstruction(r)}static nonceAdvance(t){const e=Yr(sn.AdvanceNonceAccount),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:$r,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new TransactionInstruction(r)}static nonceWithdraw(t){const e=Yr(sn.WithdrawNonceAccount,{lamports:t.lamports});return new TransactionInstruction({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:$r,isSigner:!1,isWritable:!1},{pubkey:Zr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static nonceAuthorize(t){const e=Yr(sn.AuthorizeNonceAccount,{authorized:Ir(t.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static allocate(t){let e,r;if("basePubkey"in t){e=Yr(sn.AllocateWithSeed,{base:Ir(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:Ir(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{e=Yr(sn.Allocate,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:e})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");class Loader{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/Loader.chunkSize)+1+1)}static async load(t,e,r,n,s){{const i=await t.getMinimumBalanceForRentExemption(s.length),o=await t.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==s.length&&(a=a||new Transaction,a.add(SystemProgram.allocate({accountPubkey:r.publicKey,space:s.length}))),o.owner.equals(n)||(a=a||new Transaction,a.add(SystemProgram.assign({accountPubkey:r.publicKey,programId:n}))),o.lamports<i&&(a=a||new Transaction,a.add(SystemProgram.transfer({fromPubkey:e.publicKey,toPubkey:r.publicKey,lamports:i-o.lamports})))}else a=(new Transaction).add(SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:r.publicKey,lamports:i>0?i:1,space:s.length,programId:n}));null!==a&&await Qr(t,a,[e,r],{commitment:"confirmed"})}const o=ae.w3([ae.DH("instruction"),ae.DH("offset"),ae.DH("bytesLength"),ae.DH("bytesLengthPadding"),ae.O6(ae.u8("byte"),ae.cY(ae.DH(),-8),"bytes")]),a=Loader.chunkSize;let u=0,c=s,l=[];for(;c.length>0;){const s=c.slice(0,a),h=i.Buffer.alloc(a+16);o.encode({instruction:0,offset:u,bytes:s,bytesLength:0,bytesLengthPadding:0},h);const d=(new Transaction).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:h});if(l.push(Qr(t,d,[e,r],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await Jr(1e3/t)}u+=a,c=c.slice(a)}await Promise.all(l);{const s=ae.w3([ae.DH("instruction")]),o=i.Buffer.alloc(s.span);s.encode({instruction:1},o);const a=(new Transaction).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Zr,isSigner:!1,isWritable:!1}],programId:n,data:o}),u="processed",c=await t.sendTransaction(a,[e,r],{preflightCommitment:u}),{context:l,value:h}=await t.confirmTransaction({signature:c,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},u);if(h.err)throw new Error(`Transaction ${c} failed (${JSON.stringify(h)})`);for(;;){try{if(await t.getSlot({commitment:u})>l.slot)break}catch{}await new Promise((t=>setTimeout(t,Math.round(200))))}}return!0}}Loader.chunkSize=932;new PublicKey("BPFLoader2111111111111111111111111111111111");function on(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var an,un;function cn(){if(un)return an;un=1;var t=Object.prototype.toString,e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function r(n,i){var s,o,a,u,c,l,h;if(!0===n)return"true";if(!1===n)return"false";switch(typeof n){case"object":if(null===n)return null;if(n.toJSON&&"function"==typeof n.toJSON)return r(n.toJSON(),i);if("[object Array]"===(h=t.call(n))){for(a="[",o=n.length-1,s=0;s<o;s++)a+=r(n[s],!0)+",";return o>-1&&(a+=r(n[s],!0)),a+"]"}if("[object Object]"===h){for(o=(u=e(n).sort()).length,a="",s=0;s<o;)void 0!==(l=r(n[c=u[s]],!1))&&(a&&(a+=","),a+=JSON.stringify(c)+":"+l),s++;return"{"+a+"}"}return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return an=function(t){var e=r(t,!1);if(void 0!==e)return""+e}}var ln=on(cn());function hn(t){let e=0;for(;t>1;)t/=2,e++;return e}class EpochSchedule{constructor(t,e,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const r=hn(0===(e=t+32+1)?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32)))-hn(32)-1;return[r,t-(this.getSlotsInEpoch(r)-32)]}{const e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+r,e%this.slotsPerEpoch]}var e}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+hn(32)):this.slotsPerEpoch}}var dn=globalThis.fetch;class RpcWebSocketClient extends ze{constructor(t,e,r){super((t=>{const r=Ue(t,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in r?r.socket:r,r}),t,e,r),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class AddressLookupTableAccount{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}(fn,t),r=t.length-56;Fr(r>=0,"lookup table is invalid"),Fr(r%32==0,"lookup table is invalid");const n=r/32,{addresses:i}=ae.w3([ae.O6(Or(),n,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new PublicKey(e.authority[0]):void 0,addresses:i.map((t=>new PublicKey(t)))}}}const fn={index:1,layout:ae.w3([ae.DH("typeIndex"),rn("deactivationSlot"),ae.I0("lastExtendedSlot"),ae.u8("lastExtendedStartIndex"),ae.u8(),ae.O6(Or(),ae.cY(ae.u8(),-1),"authority")])},pn=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const mn=Oe(_e(PublicKey),xe(),(t=>new PublicKey(t))),gn=Te([xe(),Ee("base64")]),yn=Oe(_e(i.Buffer),gn,(t=>i.Buffer.from(t[0],"base64")));function wn(t){let e,r;if("string"==typeof t)e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function vn(t){return t.map((t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t))}function bn(t){return Ce([Re({jsonrpc:Ee("2.0"),id:xe(),result:t}),Re({jsonrpc:Ee("2.0"),id:xe(),error:Re({code:Pe(),message:xe(),data:Ie(we("any",(()=>!0)))})})])}const _n=bn(Pe());function En(t){return Oe(bn(t),_n,(e=>"error"in e?e:{...e,result:me(e.result,t)}))}function Sn(t){return En(Re({context:Re({slot:Ae()}),value:t}))}function kn(t){return Re({context:Re({slot:Ae()}),value:t})}function An(t,e){return 0===t?new MessageV0({header:e.header,staticAccountKeys:e.accountKeys.map((t=>new PublicKey(t))),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:ee().decode(t.data)}))),addressTableLookups:e.addressTableLookups}):new Message(e)}const In=Re({foundation:Ae(),foundationTerm:Ae(),initial:Ae(),taper:Ae(),terminal:Ae()}),Mn=En(ve(ke(Re({epoch:Ae(),effectiveSlot:Ae(),amount:Ae(),postBalance:Ae(),commission:Ie(ke(Ae()))})))),xn=ve(Re({slot:Ae(),prioritizationFee:Ae()})),Tn=Re({total:Ae(),validator:Ae(),foundation:Ae(),epoch:Ae()}),Rn=Re({epoch:Ae(),slotIndex:Ae(),slotsInEpoch:Ae(),absoluteSlot:Ae(),blockHeight:Ie(Ae()),transactionCount:Ie(Ae())}),Cn=Re({slotsPerEpoch:Ae(),leaderScheduleSlotOffset:Ae(),warmup:be(),firstNormalEpoch:Ae(),firstNormalSlot:Ae()}),Pn=Me(xe(),ve(Ae())),On=ke(Ce([Re({}),xe()])),Nn=Re({err:On}),Bn=Ee("receivedSignature"),Ln=Re({"solana-core":xe(),"feature-set":Ie(Ae())}),Dn=Re({program:xe(),programId:mn,parsed:Pe()}),Un=Re({programId:mn,accounts:ve(mn),data:xe()}),Fn=Sn(Re({err:ke(Ce([Re({}),xe()])),logs:ke(ve(xe())),accounts:Ie(ke(ve(ke(Re({executable:be(),owner:xe(),lamports:Ae(),data:ve(xe()),rentEpoch:Ie(Ae())}))))),unitsConsumed:Ie(Ae()),returnData:Ie(ke(Re({programId:xe(),data:Te([xe(),Ee("base64")])}))),innerInstructions:Ie(ke(ve(Re({index:Ae(),instructions:ve(Ce([Dn,Un]))}))))})),zn=Sn(Re({byIdentity:Me(xe(),ve(Ae())),range:Re({firstSlot:Ae(),lastSlot:Ae()})}));const jn=En(In),Vn=En(Tn),Hn=En(xn),qn=En(Rn),Kn=En(Cn),Wn=En(Pn),$n=En(Ae()),Zn=Sn(Re({total:Ae(),circulating:Ae(),nonCirculating:Ae(),nonCirculatingAccounts:ve(mn)})),Gn=Re({amount:xe(),uiAmount:ke(Ae()),decimals:Ae(),uiAmountString:Ie(xe())}),Qn=Sn(ve(Re({address:mn,amount:xe(),uiAmount:ke(Ae()),decimals:Ae(),uiAmountString:Ie(xe())}))),Jn=Sn(ve(Re({pubkey:mn,account:Re({executable:be(),owner:mn,lamports:Ae(),data:yn,rentEpoch:Ae()})}))),Yn=Re({program:xe(),parsed:Pe(),space:Ae()}),Xn=Sn(ve(Re({pubkey:mn,account:Re({executable:be(),owner:mn,lamports:Ae(),data:Yn,rentEpoch:Ae()})}))),ti=Sn(ve(Re({lamports:Ae(),address:mn}))),ei=Re({executable:be(),owner:mn,lamports:Ae(),data:yn,rentEpoch:Ae()}),ri=Re({pubkey:mn,account:ei}),ni=Oe(Ce([_e(i.Buffer),Yn]),Ce([gn,Yn]),(t=>Array.isArray(t)?me(t,yn):t)),ii=Re({executable:be(),owner:mn,lamports:Ae(),data:ni,rentEpoch:Ae()}),si=Re({pubkey:mn,account:ii}),oi=Re({state:Ce([Ee("active"),Ee("inactive"),Ee("activating"),Ee("deactivating")]),active:Ae(),inactive:Ae()}),ai=En(ve(Re({signature:xe(),slot:Ae(),err:On,memo:ke(xe()),blockTime:Ie(ke(Ae()))}))),ui=En(ve(Re({signature:xe(),slot:Ae(),err:On,memo:ke(xe()),blockTime:Ie(ke(Ae()))}))),ci=Re({subscription:Ae(),result:kn(ei)}),li=Re({pubkey:mn,account:ei}),hi=Re({subscription:Ae(),result:kn(li)}),di=Re({parent:Ae(),slot:Ae(),root:Ae()}),fi=Re({subscription:Ae(),result:di}),pi=Ce([Re({type:Ce([Ee("firstShredReceived"),Ee("completed"),Ee("optimisticConfirmation"),Ee("root")]),slot:Ae(),timestamp:Ae()}),Re({type:Ee("createdBank"),parent:Ae(),slot:Ae(),timestamp:Ae()}),Re({type:Ee("frozen"),slot:Ae(),timestamp:Ae(),stats:Re({numTransactionEntries:Ae(),numSuccessfulTransactions:Ae(),numFailedTransactions:Ae(),maxTransactionsPerEntry:Ae()})}),Re({type:Ee("dead"),slot:Ae(),timestamp:Ae(),err:xe()})]),mi=Re({subscription:Ae(),result:pi}),gi=Re({subscription:Ae(),result:kn(Ce([Nn,Bn]))}),yi=Re({subscription:Ae(),result:Ae()}),wi=Re({pubkey:xe(),gossip:ke(xe()),tpu:ke(xe()),rpc:ke(xe()),version:ke(xe())}),vi=Re({votePubkey:xe(),nodePubkey:xe(),activatedStake:Ae(),epochVoteAccount:be(),epochCredits:ve(Te([Ae(),Ae(),Ae()])),commission:Ae(),lastVote:Ae(),rootSlot:ke(Ae())}),bi=En(Re({current:ve(vi),delinquent:ve(vi)})),_i=Ce([Ee("processed"),Ee("confirmed"),Ee("finalized")]),Ei=Re({slot:Ae(),confirmations:ke(Ae()),err:On,confirmationStatus:Ie(_i)}),Si=Sn(ve(ke(Ei))),ki=En(Ae()),Ai=Re({accountKey:mn,writableIndexes:ve(Ae()),readonlyIndexes:ve(Ae())}),Ii=Re({signatures:ve(xe()),message:Re({accountKeys:ve(xe()),header:Re({numRequiredSignatures:Ae(),numReadonlySignedAccounts:Ae(),numReadonlyUnsignedAccounts:Ae()}),instructions:ve(Re({accounts:ve(Ae()),data:xe(),programIdIndex:Ae()})),recentBlockhash:xe(),addressTableLookups:Ie(ve(Ai))})}),Mi=Re({pubkey:mn,signer:be(),writable:be(),source:Ie(Ce([Ee("transaction"),Ee("lookupTable")]))}),xi=Re({accountKeys:ve(Mi),signatures:ve(xe())}),Ti=Re({parsed:Pe(),program:xe(),programId:mn}),Ri=Re({accounts:ve(mn),data:xe(),programId:mn}),Ci=Oe(Ce([Ri,Ti]),Ce([Re({parsed:Pe(),program:xe(),programId:xe()}),Re({accounts:ve(xe()),data:xe(),programId:xe()})]),(t=>me(t,"accounts"in t?Ri:Ti))),Pi=Re({signatures:ve(xe()),message:Re({accountKeys:ve(Mi),instructions:ve(Ci),recentBlockhash:xe(),addressTableLookups:Ie(ke(ve(Ai)))})}),Oi=Re({accountIndex:Ae(),mint:xe(),owner:Ie(xe()),programId:Ie(xe()),uiTokenAmount:Gn}),Ni=Re({writable:ve(mn),readonly:ve(mn)}),Bi=Re({err:On,fee:Ae(),innerInstructions:Ie(ke(ve(Re({index:Ae(),instructions:ve(Re({accounts:ve(Ae()),data:xe(),programIdIndex:Ae()}))})))),preBalances:ve(Ae()),postBalances:ve(Ae()),logMessages:Ie(ke(ve(xe()))),preTokenBalances:Ie(ke(ve(Oi))),postTokenBalances:Ie(ke(ve(Oi))),loadedAddresses:Ie(Ni),computeUnitsConsumed:Ie(Ae())}),Li=Re({err:On,fee:Ae(),innerInstructions:Ie(ke(ve(Re({index:Ae(),instructions:ve(Ci)})))),preBalances:ve(Ae()),postBalances:ve(Ae()),logMessages:Ie(ke(ve(xe()))),preTokenBalances:Ie(ke(ve(Oi))),postTokenBalances:Ie(ke(ve(Oi))),loadedAddresses:Ie(Ni),computeUnitsConsumed:Ie(Ae())}),Di=Ce([Ee(0),Ee("legacy")]),Ui=Re({pubkey:xe(),lamports:Ae(),postBalance:ke(Ae()),rewardType:ke(xe()),commission:Ie(ke(Ae()))}),Fi=En(ke(Re({blockhash:xe(),previousBlockhash:xe(),parentSlot:Ae(),transactions:ve(Re({transaction:Ii,meta:ke(Bi),version:Ie(Di)})),rewards:Ie(ve(Ui)),blockTime:ke(Ae()),blockHeight:ke(Ae())}))),zi=En(ke(Re({blockhash:xe(),previousBlockhash:xe(),parentSlot:Ae(),rewards:Ie(ve(Ui)),blockTime:ke(Ae()),blockHeight:ke(Ae())}))),ji=En(ke(Re({blockhash:xe(),previousBlockhash:xe(),parentSlot:Ae(),transactions:ve(Re({transaction:xi,meta:ke(Bi),version:Ie(Di)})),rewards:Ie(ve(Ui)),blockTime:ke(Ae()),blockHeight:ke(Ae())}))),Vi=En(ke(Re({blockhash:xe(),previousBlockhash:xe(),parentSlot:Ae(),transactions:ve(Re({transaction:Pi,meta:ke(Li),version:Ie(Di)})),rewards:Ie(ve(Ui)),blockTime:ke(Ae()),blockHeight:ke(Ae())}))),Hi=En(ke(Re({blockhash:xe(),previousBlockhash:xe(),parentSlot:Ae(),transactions:ve(Re({transaction:xi,meta:ke(Li),version:Ie(Di)})),rewards:Ie(ve(Ui)),blockTime:ke(Ae()),blockHeight:ke(Ae())}))),qi=En(ke(Re({blockhash:xe(),previousBlockhash:xe(),parentSlot:Ae(),rewards:Ie(ve(Ui)),blockTime:ke(Ae()),blockHeight:ke(Ae())}))),Ki=En(ke(Re({blockhash:xe(),previousBlockhash:xe(),parentSlot:Ae(),transactions:ve(Re({transaction:Ii,meta:ke(Bi)})),rewards:Ie(ve(Ui)),blockTime:ke(Ae())}))),Wi=En(ke(Re({blockhash:xe(),previousBlockhash:xe(),parentSlot:Ae(),signatures:ve(xe()),blockTime:ke(Ae())}))),$i=En(ke(Re({slot:Ae(),meta:ke(Bi),blockTime:Ie(ke(Ae())),transaction:Ii,version:Ie(Di)}))),Zi=En(ke(Re({slot:Ae(),transaction:Pi,meta:ke(Li),blockTime:Ie(ke(Ae())),version:Ie(Di)}))),Gi=Sn(Re({blockhash:xe(),feeCalculator:Re({lamportsPerSignature:Ae()})})),Qi=Sn(Re({blockhash:xe(),lastValidBlockHeight:Ae()})),Ji=Sn(be()),Yi=En(ve(Re({slot:Ae(),numTransactions:Ae(),numSlots:Ae(),samplePeriodSecs:Ae()}))),Xi=Sn(ke(Re({feeCalculator:Re({lamportsPerSignature:Ae()})}))),ts=En(xe()),es=En(xe()),rs=Re({err:On,logs:ve(xe()),signature:xe()}),ns=Re({result:kn(rs),subscription:Ae()}),is={"solana-client":"js/1.95.8"};class Connection{constructor(t,e){let r,n,i,s,o,a;var u;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const t={};return async e=>{const{commitment:r,config:n}=wn(e),i=this._buildArgs([],r,void 0,n),s=ln(i);return t[s]=t[s]??(async()=>{try{const t=me(await this._rpcRequest("getBlockHeight",i),En(Ae()));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get block height information");return t.result}finally{delete t[s]}})(),await t[s]}})(),e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,r=e.wsEndpoint,n=e.httpHeaders,i=e.fetch,s=e.fetchMiddleware,o=e.disableRetryOnRateLimit,a=e.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(t),this._rpcWsEndpoint=r||function(t){const e=t.match(pn);if(null==e)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${o}//${n}${null==a?"":`:${a+1}`}${s}`}(t),this._rpcClient=function(t,e,r,n,i,s){const o=r||dn;let a;return null!=s&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(a=async(t,e)=>{const r=await new Promise(((r,i)=>{try{n(t,e,((t,e)=>r([t,e])))}catch(s){i(s)}}));return await o(...r)}),new(Be())((async(r,n)=>{const s={method:"POST",body:r,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},is)};try{let e,r=5,u=500;for(;e=a?await a(t,s):await o(t,s),429===e.status&&!0!==i&&(r-=1,0!==r);)console.error(`Server responded with ${e.status} ${e.statusText}.  Retrying after ${u}ms delay...`),await Jr(u),u*=2;const c=await e.text();e.ok?n(null,c):n(new Error(`${e.status} ${e.statusText}: ${c}`))}catch(u){u instanceof Error&&n(u)}}),{})}(t,n,i,s,o,a),this._rpcRequest=(u=this._rpcClient,(t,e)=>new Promise(((r,n)=>{u.request(t,e,((t,e)=>{t?n(t):r(e)}))}))),this._rpcBatchRequest=function(t){return e=>new Promise(((r,n)=>{0===e.length&&r([]);const i=e.map((e=>t.request(e.methodName,e.args)));t.request(i,((t,e)=>{t?n(t):r(e)}))}))}(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:r,config:n}=wn(e),i=this._buildArgs([t.toBase58()],r,void 0,n),s=me(await this._rpcRequest("getBalance",i),Sn(Ae()));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get balance for ${t.toBase58()}`);return s.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+e)}))}async getBlockTime(t){const e=me(await this._rpcRequest("getBlockTime",[t]),En(ke(Ae())));if("error"in e)throw new SolanaJSONRPCError(e.error,`failed to get block time for slot ${t}`);return e.result}async getMinimumLedgerSlot(){const t=me(await this._rpcRequest("minimumLedgerSlot",[]),En(Ae()));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const t=me(await this._rpcRequest("getFirstAvailableBlock",[]),$n);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get first available block");return t.result}async getSupply(t){let e={};e="string"==typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||this.commitment}:{commitment:this.commitment};const r=me(await this._rpcRequest("getSupply",[e]),Zn);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get supply");return r.result}async getTokenSupply(t,e){const r=this._buildArgs([t.toBase58()],e),n=me(await this._rpcRequest("getTokenSupply",r),Sn(Gn));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get token supply");return n.result}async getTokenAccountBalance(t,e){const r=this._buildArgs([t.toBase58()],e),n=me(await this._rpcRequest("getTokenAccountBalance",r),Sn(Gn));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get token account balance");return n.result}async getTokenAccountsByOwner(t,e,r){const{commitment:n,config:i}=wn(r);let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const o=this._buildArgs(s,n,"base64",i),a=me(await this._rpcRequest("getTokenAccountsByOwner",o),Jn);if("error"in a)throw new SolanaJSONRPCError(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(t,e,r){let n=[t.toBase58()];"mint"in e?n.push({mint:e.mint.toBase58()}):n.push({programId:e.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),s=me(await this._rpcRequest("getTokenAccountsByOwner",i),Xn);if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get token accounts owned by account ${t.toBase58()}`);return s.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],n=me(await this._rpcRequest("getLargestAccounts",r),ti);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get largest accounts");return n.result}async getTokenLargestAccounts(t,e){const r=this._buildArgs([t.toBase58()],e),n=me(await this._rpcRequest("getTokenLargestAccounts",r),Qn);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get token largest accounts");return n.result}async getAccountInfoAndContext(t,e){const{commitment:r,config:n}=wn(e),i=this._buildArgs([t.toBase58()],r,"base64",n),s=me(await this._rpcRequest("getAccountInfo",i),Sn(ke(ei)));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getParsedAccountInfo(t,e){const{commitment:r,config:n}=wn(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",n),s=me(await this._rpcRequest("getAccountInfo",i),Sn(ke(ii)));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,e){const{commitment:r,config:n}=wn(e),i=t.map((t=>t.toBase58())),s=this._buildArgs([i],r,"jsonParsed",n),o=me(await this._rpcRequest("getMultipleAccounts",s),Sn(ve(ke(ii))));if("error"in o)throw new SolanaJSONRPCError(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:r,config:n}=wn(e),i=t.map((t=>t.toBase58())),s=this._buildArgs([i],r,"base64",n),o=me(await this._rpcRequest("getMultipleAccounts",s),Sn(ve(ke(ei))));if("error"in o)throw new SolanaJSONRPCError(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,r){const{commitment:n,config:i}=wn(e),s=this._buildArgs([t.toBase58()],n,void 0,{...i,epoch:null!=r?r:i?.epoch}),o=me(await this._rpcRequest("getStakeActivation",s),En(oi));if("error"in o)throw new SolanaJSONRPCError(o.error,`failed to get Stake Activation ${t.toBase58()}`);return o.result}async getProgramAccounts(t,e){const{commitment:r,config:n}=wn(e),{encoding:i,...s}=n||{},o=this._buildArgs([t.toBase58()],r,i||"base64",{...s,...s.filters?{filters:vn(s.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",o),u=ve(ri),c=!0===s.withContext?me(a,Sn(u)):me(a,En(u));if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get accounts owned by program ${t.toBase58()}`);return c.result}async getParsedProgramAccounts(t,e){const{commitment:r,config:n}=wn(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",n),s=me(await this._rpcRequest("getProgramAccounts",i),En(ve(si)));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get accounts owned by program ${t.toBase58()}`);return s.result}async confirmTransaction(t,e){let r,n;if("string"==typeof t)r=t;else{const e=t;if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);r=e.signature}try{n=ee().decode(r)}catch(i){throw new Error("signature must be base58 encoded: "+r)}return Fr(64===n.length,"signature has invalid length"),"string"==typeof t?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise(((e,r)=>{null!=t&&(t.aborted?r(t.reason):t.addEventListener("abort",(()=>{r(t.reason)})))}))}getTransactionConfirmationPromise({commitment:t,signature:e}){let r,n,i=!1;return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=r&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:new Promise(((s,o)=>{try{r=this.onSignature(e,((t,e)=>{r=void 0;const n={context:e,value:t};s({__type:qr.PROCESSED,response:n})}),t);const a=new Promise((t=>{null==r?t():n=this._onSubscriptionStateChange(r,(e=>{"subscribed"===e&&t()}))}));(async()=>{if(await a,i)return;const r=await this.getSignatureStatus(e);if(i)return;if(null==r)return;const{context:n,value:u}=r;if(null!=u)if(u?.err)o(u.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===u.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===u.confirmationStatus||"confirmed"===u.confirmationStatus)return}i=!0,s({__type:qr.PROCESSED,response:{context:n,value:u}})}})()}catch(a){o(a)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:r,signature:n}}){let i=!1;const s=new Promise((e=>{const n=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let t=await n();if(!i){for(;t<=r;){if(await Jr(1e3),i)return;if(t=await n(),i)return}e({__type:qr.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:o,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:t,signature:n}),u=this.getCancellationPromise(e);let c;try{const t=await Promise.race([u,a,s]);if(t.__type!==qr.PROCESSED)throw new TransactionExpiredBlockheightExceededError(n);c=t.response}finally{i=!0,o()}return c}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:r,nonceAccountPubkey:n,nonceValue:i,signature:s}}){let o=!1;const a=new Promise((e=>{let s=i,a=null;const u=async()=>{try{const{context:e,value:i}=await this.getNonceAndContext(n,{commitment:t,minContextSlot:r});return a=e.slot,i?.nonce}catch(e){return s}};(async()=>{if(s=await u(),!o)for(;;){if(i!==s)return void e({__type:qr.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await Jr(2e3),o)return;if(s=await u(),o)return}})()})),{abortConfirmation:u,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),l=this.getCancellationPromise(e);let h;try{const e=await Promise.race([l,c,a]);if(e.__type===qr.PROCESSED)h=e.response;else{let n;for(;;){const t=await this.getSignatureStatus(s);if(null==t)break;if(!(t.context.slot<(e.slotInWhichNonceDidAdvance??r))){n=t;break}await Jr(400)}if(!n?.value)throw new TransactionExpiredNonceInvalidError(s);{const e=t||"finalized",{confirmationStatus:r}=n.value;switch(e){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new TransactionExpiredNonceInvalidError(s);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new TransactionExpiredNonceInvalidError(s);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new TransactionExpiredNonceInvalidError(s)}h={context:n.context,value:{err:n.value.err}}}}}finally{o=!0,u()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let r;const n=new Promise((e=>{let n=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":n=this._confirmTransactionInitialTimeout||3e4}r=setTimeout((()=>e({__type:qr.TIMED_OUT,timeoutMs:n})),n)})),{abortConfirmation:i,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let o;try{const t=await Promise.race([s,n]);if(t.__type!==qr.PROCESSED)throw new TransactionExpiredTimeoutError(e,t.timeoutMs/1e3);o=t.response}finally{clearTimeout(r),i()}return o}async getClusterNodes(){const t=me(await this._rpcRequest("getClusterNodes",[]),En(ve(wi)));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(t){const e=this._buildArgs([],t),r=me(await this._rpcRequest("getVoteAccounts",e),bi);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get vote accounts");return r.result}async getSlot(t){const{commitment:e,config:r}=wn(t),n=this._buildArgs([],e,void 0,r),i=me(await this._rpcRequest("getSlot",n),En(Ae()));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get slot");return i.result}async getSlotLeader(t){const{commitment:e,config:r}=wn(t),n=this._buildArgs([],e,void 0,r),i=me(await this._rpcRequest("getSlotLeader",n),En(xe()));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(t,e){const r=[t,e],n=me(await this._rpcRequest("getSlotLeaders",r),En(ve(mn)));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get slot leaders");return n.result}async getSignatureStatus(t,e){const{context:r,value:n}=await this.getSignatureStatuses([t],e);Fr(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(t,e){const r=[t];e&&r.push(e);const n=me(await this._rpcRequest("getSignatureStatuses",r),Si);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get signature status");return n.result}async getTransactionCount(t){const{commitment:e,config:r}=wn(t),n=this._buildArgs([],e,void 0,r),i=me(await this._rpcRequest("getTransactionCount",n),En(Ae()));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get transaction count");return i.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),r=me(await this._rpcRequest("getInflationGovernor",e),jn);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get inflation");return r.result}async getInflationReward(t,e,r){const{commitment:n,config:i}=wn(r),s=this._buildArgs([t.map((t=>t.toBase58()))],n,void 0,{...i,epoch:null!=e?e:i?.epoch}),o=me(await this._rpcRequest("getInflationReward",s),Mn);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get inflation reward");return o.result}async getInflationRate(){const t=me(await this._rpcRequest("getInflationRate",[]),Vn);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(t){const{commitment:e,config:r}=wn(t),n=this._buildArgs([],e,void 0,r),i=me(await this._rpcRequest("getEpochInfo",n),qn);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const t=me(await this._rpcRequest("getEpochSchedule",[]),Kn);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get epoch schedule");const e=t.result;return new EpochSchedule(e.slotsPerEpoch,e.leaderScheduleSlotOffset,e.warmup,e.firstNormalEpoch,e.firstNormalSlot)}async getLeaderSchedule(){const t=me(await this._rpcRequest("getLeaderSchedule",[]),Wn);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(t,e){const r=this._buildArgs([t],e),n=me(await this._rpcRequest("getMinimumBalanceForRentExemption",r),ki);return"error"in n?(console.warn("Unable to fetch minimum balance for rent exemption"),0):n.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),r=me(await this._rpcRequest("getRecentBlockhash",e),Gi);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get recent blockhash");return r.result}async getRecentPerformanceSamples(t){const e=me(await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),Yi);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get recent performance samples");return e.result}async getFeeCalculatorForBlockhash(t,e){const r=this._buildArgs([t],e),n=me(await this._rpcRequest("getFeeCalculatorForBlockhash",r),Xi);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get fee calculator");const{context:i,value:s}=n.result;return{context:i,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(t,e){const r=Ir(t.serialize()).toString("base64"),n=this._buildArgs([r],e),i=me(await this._rpcRequest("getFeeForMessage",n),Sn(ke(Ae())));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(t){const e=t?.lockedWritableAccounts?.map((t=>t.toBase58())),r=e?.length?[e]:[],n=me(await this._rpcRequest("getRecentPrioritizationFees",r),Hn);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get recent prioritization fees");return n.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:r}=wn(t),n=this._buildArgs([],e,void 0,r),i=me(await this._rpcRequest("getLatestBlockhash",n),Qi);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(t,e){const{commitment:r,config:n}=wn(e),i=this._buildArgs([t],r,void 0,n),s=me(await this._rpcRequest("isBlockhashValid",i),Ji);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to determine if the blockhash `"+t+"`is valid");return s.result}async getVersion(){const t=me(await this._rpcRequest("getVersion",[]),En(Ln));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get version");return t.result}async getGenesisHash(){const t=me(await this._rpcRequest("getGenesisHash",[]),En(xe()));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get genesis hash");return t.result}async getBlock(t,e){const{commitment:r,config:n}=wn(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,n),s=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{const t=me(s,ji);if("error"in t)throw t.error;return t.result}case"none":{const t=me(s,zi);if("error"in t)throw t.error;return t.result}default:{const t=me(s,Fi);if("error"in t)throw t.error;const{result:e}=t;return e?{...e,transactions:e.transactions.map((({transaction:t,meta:e,version:r})=>({meta:e,transaction:{...t,message:An(r,t.message)},version:r})))}:null}}}catch(o){throw new SolanaJSONRPCError(o,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:r,config:n}=wn(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n),s=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{const t=me(s,Hi);if("error"in t)throw t.error;return t.result}case"none":{const t=me(s,qi);if("error"in t)throw t.error;return t.result}default:{const t=me(s,Vi);if("error"in t)throw t.error;return t.result}}}catch(o){throw new SolanaJSONRPCError(o,"failed to get block")}}async getBlockProduction(t){let e,r;if("string"==typeof t)r=t;else if(t){const{commitment:n,...i}=t;r=n,e=i}const n=this._buildArgs([],r,"base64",e),i=me(await this._rpcRequest("getBlockProduction",n),zn);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get block production information");return i.result}async getTransaction(t,e){const{commitment:r,config:n}=wn(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,n),s=me(await this._rpcRequest("getTransaction",i),$i);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction");const o=s.result;return o?{...o,transaction:{...o.transaction,message:An(o.version,o.transaction.message)}}:o}async getParsedTransaction(t,e){const{commitment:r,config:n}=wn(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n),s=me(await this._rpcRequest("getTransaction",i),Zi);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction");return s.result}async getParsedTransactions(t,e){const{commitment:r,config:n}=wn(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=me(t,Zi);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get transactions");return e.result}))}async getTransactions(t,e){const{commitment:r,config:n}=wn(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],r,void 0,n)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=me(t,$i);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get transactions");const r=e.result;return r?{...r,transaction:{...r.transaction,message:An(r.version,r.transaction.message)}}:r}))}async getConfirmedBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),n=me(await this._rpcRequest("getConfirmedBlock",r),Ki);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+t+" not found");const s={...i,transactions:i.transactions.map((({transaction:t,meta:e})=>{const r=new Message(t.message);return{meta:e,transaction:{...t,message:r}}}))};return{...s,transactions:s.transactions.map((({transaction:t,meta:e})=>({meta:e,transaction:Transaction.populate(t.message,t.signatures)})))}}async getBlocks(t,e,r){const n=this._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],r),i=me(await this._rpcRequest("getBlocks",n),En(ve(Ae())));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get blocks");return i.result}async getBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=me(await this._rpcRequest("getBlock",r),Wi);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get block");const i=n.result;if(!i)throw new Error("Block "+t+" not found");return i}async getConfirmedBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=me(await this._rpcRequest("getConfirmedBlock",r),Wi);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+t+" not found");return i}async getConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),n=me(await this._rpcRequest("getConfirmedTransaction",r),$i);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get transaction");const i=n.result;if(!i)return i;const s=new Message(i.transaction.message),o=i.transaction.signatures;return{...i,transaction:Transaction.populate(s,o)}}async getParsedConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),n=me(await this._rpcRequest("getConfirmedTransaction",r),Zi);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get confirmed transaction");return n.result}async getParsedConfirmedTransactions(t,e){const r=t.map((t=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([t],e,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((t=>{const e=me(t,Zi);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get confirmed transactions");return e.result}))}async getConfirmedSignaturesForAddress(t,e,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--e<=0||e<i);)try{const t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(n.until=t.signatures[t.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}let s=await this.getSlot("finalized");for(;!("before"in n||++r>s);)try{const t=await this.getConfirmedBlockSignatures(r);t.signatures.length>0&&(n.before=t.signatures[t.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}return(await this.getConfirmedSignaturesForAddress2(t,n)).map((t=>t.signature))}async getConfirmedSignaturesForAddress2(t,e,r){const n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=me(await this._rpcRequest("getConfirmedSignaturesForAddress2",n),ai);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(t,e,r){const n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=me(await this._rpcRequest("getSignaturesForAddress",n),ui);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(t,e){const{context:r,value:n}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==n&&(i=new AddressLookupTableAccount({key:t,state:AddressLookupTableAccount.deserialize(n.data)})),{context:r,value:i}}async getNonceAndContext(t,e){const{context:r,value:n}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==n&&(i=NonceAccount.fromAccountData(n.data)),{context:r,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)}))}async requestAirdrop(t,e){const r=me(await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),ts);if("error"in r)throw new SolanaJSONRPCError(r.error,`airdrop to ${t.toBase58()} failed`);return r.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Jr(100);const t=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!t)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,r=e?e.blockhash:null;for(let n=0;n<50;n++){const t=await this.getLatestBlockhash("finalized");if(r!==t.blockhash)return this._blockhashInfo={latestBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await Jr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:r}=wn(t),n=this._buildArgs([],e,"base64",r),i=me(await this._rpcRequest("getStakeMinimumDelegation",n),Sn(Ae()));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(t,e,r){if("message"in t){const n=t.serialize(),s=i.Buffer.from(n).toString("base64");if(Array.isArray(e)||void 0!==r)throw new Error("Invalid arguments");const o=e||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment),e&&"object"==typeof e&&"innerInstructions"in e&&(o.innerInstructions=e.innerInstructions);const a=[s,o],u=me(await this._rpcRequest("simulateTransaction",a),Fn);if("error"in u)throw new Error("failed to simulate transaction: "+u.error.message);return u.result}let n;if(t instanceof Transaction){let e=t;n=new Transaction,n.feePayer=e.feePayer,n.instructions=t.instructions,n.nonceInfo=e.nonceInfo,n.signatures=e.signatures}else n=Transaction.populate(t),n._message=n._json=void 0;if(void 0!==e&&!Array.isArray(e))throw new Error("Invalid arguments");const s=e;if(n.nonceInfo&&s)n.sign(...s);else{let t=this._disableBlockhashCaching;for(;;){const e=await this._blockhashWithExpiryBlockHeight(t);if(n.lastValidBlockHeight=e.lastValidBlockHeight,n.recentBlockhash=e.blockhash,!s)break;if(n.sign(...s),!n.signature)throw new Error("!signature");const r=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}t=!0}}const o=n._compile(),a=o.serialize(),u=n._serialize(a).toString("base64"),c={encoding:"base64",commitment:this.commitment};if(r){const t=(Array.isArray(r)?r:o.nonProgramIds()).map((t=>t.toBase58()));c.accounts={encoding:"base64",addresses:t}}s&&(c.sigVerify=!0),e&&"object"==typeof e&&"innerInstructions"in e&&(c.innerInstructions=e.innerInstructions);const l=[u,c],h=me(await this._rpcRequest("simulateTransaction",l),Fn);if("error"in h){let t;if("data"in h.error&&(t=h.error.data.logs,t&&Array.isArray(t))){const e="\n    ",r=e+t.join(e);console.error(h.error.message,r)}throw new SendTransactionError({action:"simulate",signature:"",transactionMessage:h.error.message,logs:t})}return h.result}async sendTransaction(t,e,r){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const r=t.serialize();return await this.sendRawTransaction(r,e)}if(void 0===e||!Array.isArray(e))throw new Error("Invalid arguments");const n=e;if(t.nonceInfo)t.sign(...n);else{let e=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(e);if(t.lastValidBlockHeight=r.lastValidBlockHeight,t.recentBlockhash=r.blockhash,t.sign(...n),!t.signature)throw new Error("!signature");const i=t.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}e=!0}}const i=t.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(t,e){const r=Ir(t).toString("base64");return await this.sendEncodedTransaction(r,e)}async sendEncodedTransaction(t,e){const r={encoding:"base64"},n=e&&e.skipPreflight,i=!0===n?"processed":e&&e.preflightCommitment||this.commitment;e&&null!=e.maxRetries&&(r.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(r.minContextSlot=e.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const s=[t,r],o=me(await this._rpcRequest("sendTransaction",s),es);if("error"in o){let t;throw"data"in o.error&&(t=o.error.data.logs),new SendTransactionError({action:n?"send":"simulate",signature:"",transactionMessage:o.error.message,logs:t})}return o.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([t,e])=>{this._setSubscription(t,{...e,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(t,e){const r=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,r!==e.state){const r=this._subscriptionStateChangeCallbacksByHash[t];r&&r.forEach((t=>{try{t(e.state)}catch{}}))}}_onSubscriptionStateChange(t,e){const r=this._subscriptionHashByClientSubscriptionId[t];if(null==r)return()=>{};const n=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return n.add(e),()=>{n.delete(e),0===n.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(t){t instanceof Error&&console.log(`Error when closing socket connection: ${t.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async t=>{const r=this._subscriptionsByHash[t];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[t],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void(await this._updateSubscriptions());await(async()=>{const{args:n,method:i}=r;try{this._setSubscription(t,{...r,state:"subscribing"});const e=await this._rpcWebSocket.call(i,n);this._setSubscription(t,{...r,serverSubscriptionId:e,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[e]=r.callbacks,await this._updateSubscriptions()}catch(s){if(console.error(`Received ${s instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:n,error:s}),!e())return;this._setSubscription(t,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(t,{...r,state:"unsubscribing"}),this._setSubscription(t,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(s){if(s instanceof Error&&console.error(`${i} error:`,s.message),!e())return;return this._setSubscription(t,{...r,state:"subscribed"}),void(await this._updateSubscriptions())}}this._setSubscription(t,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(t,e){const r=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==r&&r.forEach((t=>{try{t(...e)}catch(r){console.error(r)}}))}_wsOnAccountNotification(t){const{result:e,subscription:r}=me(t,ci);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){const r=this._nextClientSubscriptionId++,n=ln([t.method,e]),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=n,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const e=this._subscriptionsByHash[n];Fr(void 0!==e,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),e.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){const{commitment:n,config:i}=wn(r),s=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:r}=me(t,hi);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,n){const{commitment:i,config:s}=wn(r),o=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",s||(n?{filters:vn(n)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,r){const n=this._buildArgs(["object"==typeof t?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:r}=me(t,ns);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:r}=me(t,fi);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:r}=me(t,mi);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,n){const i=e||this._commitment;if(i||r||n){let e={};r&&(e.encoding=r),i&&(e.commitment=i),n&&(e=Object.assign(e,n)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,r,n){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,n)}_wsOnSignatureNotification(t){const{result:e,subscription:r}=me(t,gi);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,r){const n=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(t,r)=>{if("status"===t.type){e(t.result,r);try{this.removeSignatureListener(i)}catch(n){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(t,e,r){const{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],n,void 0,i),o=this._makeSubscription({callback:(t,r)=>{e(t,r);try{this.removeSignatureListener(o)}catch(n){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:r}=me(t,yi);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class Keypair{constructor(t){this._keypair=void 0,this._keypair=t??_r()}static generate(){return new Keypair(_r())}static fromSecretKey(t,e){if(64!==t.byteLength)throw new Error("bad secret key size");const r=t.slice(32,64);if(!e||!e.skipValidation){const e=t.slice(0,32),n=Er(e);for(let t=0;t<32;t++)if(r[t]!==n[t])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:r,secretKey:t})}static fromSeed(t){const e=Er(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),new Keypair({publicKey:e,secretKey:r})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const ss=Object.freeze({CreateLookupTable:{index:0,layout:ae.w3([ae.DH("instruction"),rn("recentSlot"),ae.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:ae.w3([ae.DH("instruction")])},ExtendLookupTable:{index:2,layout:ae.w3([ae.DH("instruction"),rn(),ae.O6(Or(),ae.cY(ae.DH(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ae.w3([ae.DH("instruction")])},CloseLookupTable:{index:4,layout:ae.w3([ae.DH("instruction")])}});class AddressLookupTableProgram{constructor(){}static createLookupTable(t){const[e,r]=PublicKey.findProgramAddressSync([t.authority.toBuffer(),(0,ue.Bq)(BigInt(t.recentSlot),8)],this.programId),n=Yr(ss.CreateLookupTable,{recentSlot:BigInt(t.recentSlot),bumpSeed:r}),i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:i,data:n}),e]}static freezeLookupTable(t){const e=Yr(ss.FreezeLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:r,data:e})}static extendLookupTable(t){const e=Yr(ss.ExtendLookupTable,{addresses:t.addresses.map((t=>t.toBytes()))}),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&r.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:r,data:e})}static deactivateLookupTable(t){const e=Yr(ss.DeactivateLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:r,data:e})}static closeLookupTable(t){const e=Yr(ss.CloseLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:r,data:e})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");const os=Object.freeze({RequestUnits:{index:0,layout:ae.w3([ae.u8("instruction"),ae.DH("units"),ae.DH("additionalFee")])},RequestHeapFrame:{index:1,layout:ae.w3([ae.u8("instruction"),ae.DH("bytes")])},SetComputeUnitLimit:{index:2,layout:ae.w3([ae.u8("instruction"),ae.DH("units")])},SetComputeUnitPrice:{index:3,layout:ae.w3([ae.u8("instruction"),rn("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(t){const e=Yr(os.RequestUnits,t);return new TransactionInstruction({keys:[],programId:this.programId,data:e})}static requestHeapFrame(t){const e=Yr(os.RequestHeapFrame,t);return new TransactionInstruction({keys:[],programId:this.programId,data:e})}static setComputeUnitLimit(t){const e=Yr(os.SetComputeUnitLimit,t);return new TransactionInstruction({keys:[],programId:this.programId,data:e})}static setComputeUnitPrice(t){const e=Yr(os.SetComputeUnitPrice,{microLamports:BigInt(t.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:e})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const as=ae.w3([ae.u8("numSignatures"),ae.u8("padding"),ae.NX("signatureOffset"),ae.NX("signatureInstructionIndex"),ae.NX("publicKeyOffset"),ae.NX("publicKeyInstructionIndex"),ae.NX("messageDataOffset"),ae.NX("messageDataSize"),ae.NX("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,instructionIndex:s}=t;Fr(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),Fr(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const o=as.span,a=o+e.length,u=a+n.length,c=i.Buffer.alloc(u+r.length),l=s??65535;return as.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:o,publicKeyInstructionIndex:l,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:l},c),c.fill(e,o),c.fill(n,a),c.fill(r,u),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:c})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;Fr(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const t=Keypair.fromSecretKey(e),i=t.publicKey.toBytes(),s=kr(r,t.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");br.utils.isValidPrivateKey;const us=br.getPublicKey,cs=ae.w3([ae.u8("numSignatures"),ae.NX("signatureOffset"),ae.u8("signatureInstructionIndex"),ae.NX("ethAddressOffset"),ae.u8("ethAddressInstructionIndex"),ae.NX("messageDataOffset"),ae.NX("messageDataSize"),ae.u8("messageInstructionIndex"),ae.av(20,"ethAddress"),ae.av(64,"signature"),ae.u8("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(t){Fr(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return i.Buffer.from(er(Ir(t))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,recoveryId:i,instructionIndex:s}=t;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(e),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:r,signature:n,recoveryId:s,instructionIndex:o=0}=t;let a;a="string"==typeof e?e.startsWith("0x")?i.Buffer.from(e.substr(2),"hex"):i.Buffer.from(e,"hex"):e,Fr(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const u=12+a.length,c=u+n.length+1,l=i.Buffer.alloc(cs.span+r.length);return cs.encode({numSignatures:1,signatureOffset:u,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:o,signature:Ir(n),ethAddress:Ir(a),recoveryId:s},l),l.fill(Ir(r),cs.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:l})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;Fr(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const t=Ir(e),s=us(t,!1).slice(1),o=i.Buffer.from(er(Ir(r))),[a,u]=((t,e)=>{const r=br.sign(t,e);return[r.toCompactRawBytes(),r.recovery]})(o,t);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:a,recoveryId:u,instructionIndex:n})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}var ls;Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const hs=new PublicKey("StakeConfig11111111111111111111111111111111");class Lockup{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}}ls=Lockup,Lockup.default=new ls(0,0,PublicKey.default);const ds=Object.freeze({Initialize:{index:0,layout:ae.w3([ae.DH("instruction"),((t="authorized")=>ae.w3([Or("staker"),Or("withdrawer")],t))(),((t="lockup")=>ae.w3([ae.Wg("unixTimestamp"),ae.Wg("epoch"),Or("custodian")],t))()])},Authorize:{index:1,layout:ae.w3([ae.DH("instruction"),Or("newAuthorized"),ae.DH("stakeAuthorizationType")])},Delegate:{index:2,layout:ae.w3([ae.DH("instruction")])},Split:{index:3,layout:ae.w3([ae.DH("instruction"),ae.Wg("lamports")])},Withdraw:{index:4,layout:ae.w3([ae.DH("instruction"),ae.Wg("lamports")])},Deactivate:{index:5,layout:ae.w3([ae.DH("instruction")])},Merge:{index:7,layout:ae.w3([ae.DH("instruction")])},AuthorizeWithSeed:{index:8,layout:ae.w3([ae.DH("instruction"),Or("newAuthorized"),ae.DH("stakeAuthorizationType"),Br("authoritySeed"),Or("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(t){const{stakePubkey:e,authorized:r,lockup:n}=t,i=n||Lockup.default,s=Yr(ds.Initialize,{authorized:{staker:Ir(r.staker.toBuffer()),withdrawer:Ir(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Ir(i.custodian.toBuffer())}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Zr,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new TransactionInstruction(o)}static createAccountWithSeed(t){const e=new Transaction;e.add(SystemProgram.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(t){const e=new Transaction;e.add(SystemProgram.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:r,votePubkey:n}=t,i=Yr(ds.Delegate);return(new Transaction).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Wr,isSigner:!1,isWritable:!1},{pubkey:Gr,isSigner:!1,isWritable:!1},{pubkey:hs,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=t,o=Yr(ds.Authorize,{newAuthorized:Ir(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Wr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=t,u=Yr(ds.AuthorizeWithSeed,{newAuthorized:Ir(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:Ir(i.toBuffer())}),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Wr,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:c,programId:this.programId,data:u})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=t,s=Yr(ds.Split,{lamports:i});return new TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(t,e){const r=new Transaction;return r.add(SystemProgram.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),r.add(this.splitInstruction(t))}static splitWithSeed(t,e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:s,seed:o,lamports:a}=t,u=new Transaction;return u.add(SystemProgram.allocate({accountPubkey:i,basePubkey:s,seed:o,space:this.space,programId:this.programId})),e&&e>0&&u.add(SystemProgram.transfer({fromPubkey:t.authorizedPubkey,toPubkey:i,lamports:e})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:r,authorizedPubkey:n}=t,i=Yr(ds.Merge);return(new Transaction).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wr,isSigner:!1,isWritable:!1},{pubkey:Gr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=t,o=Yr(ds.Withdraw,{lamports:i}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Wr,isSigner:!1,isWritable:!1},{pubkey:Gr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:a,programId:this.programId,data:o})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:r}=t,n=Yr(ds.Deactivate);return(new Transaction).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Wr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111"),StakeProgram.space=200;const fs=Object.freeze({InitializeAccount:{index:0,layout:ae.w3([ae.DH("instruction"),((t="voteInit")=>ae.w3([Or("nodePubkey"),Or("authorizedVoter"),Or("authorizedWithdrawer"),ae.u8("commission")],t))()])},Authorize:{index:1,layout:ae.w3([ae.DH("instruction"),Or("newAuthorized"),ae.DH("voteAuthorizationType")])},Withdraw:{index:3,layout:ae.w3([ae.DH("instruction"),ae.Wg("lamports")])},UpdateValidatorIdentity:{index:4,layout:ae.w3([ae.DH("instruction")])},AuthorizeWithSeed:{index:10,layout:ae.w3([ae.DH("instruction"),((t="voteAuthorizeWithSeedArgs")=>ae.w3([ae.DH("voteAuthorizationType"),Or("currentAuthorityDerivedKeyOwnerPubkey"),Br("currentAuthorityDerivedKeySeed"),Or("newAuthorized")],t))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:r,voteInit:n}=t,i=Yr(fs.InitializeAccount,{voteInit:{nodePubkey:Ir(n.nodePubkey.toBuffer()),authorizedVoter:Ir(n.authorizedVoter.toBuffer()),authorizedWithdrawer:Ir(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Zr,isSigner:!1,isWritable:!1},{pubkey:Wr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new TransactionInstruction(s)}static createAccount(t){const e=new Transaction;return e.add(SystemProgram.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=t,s=Yr(fs.Authorize,{newAuthorized:Ir(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Wr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:o,programId:this.programId,data:s})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:o}=t,a=Yr(fs.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ir(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:Ir(i.toBuffer()),voteAuthorizationType:s.index}}),u=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Wr,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:u,programId:this.programId,data:a})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=t,s=Yr(fs.Withdraw,{lamports:n}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:o,programId:this.programId,data:s})}static safeWithdraw(t,e,r){if(t.lamports>e-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return VoteProgram.withdraw(t)}static updateValidatorIdentity(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,nodePubkey:n}=t,i=Yr(fs.UpdateValidatorIdentity),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:s,programId:this.programId,data:i})}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111"),VoteProgram.space=3762;new PublicKey("Va1idator1nfo111111111111111111111111111111"),Re({name:xe(),website:Ie(xe()),details:Ie(xe()),iconUrl:Ie(xe()),keybaseUsername:Ie(xe())});new PublicKey("Vote111111111111111111111111111111111111111"),ae.w3([Or("nodePubkey"),Or("authorizedWithdrawer"),ae.u8("commission"),ae.I0(),ae.O6(ae.w3([ae.I0("slot"),ae.DH("confirmationCount")]),ae.cY(ae.DH(),-8),"votes"),ae.u8("rootSlotValid"),ae.I0("rootSlot"),ae.I0(),ae.O6(ae.w3([ae.I0("epoch"),Or("authorizedVoter")]),ae.cY(ae.DH(),-8),"authorizedVoters"),ae.w3([ae.O6(ae.w3([Or("authorizedPubkey"),ae.I0("epochOfLastAuthorizedSwitch"),ae.I0("targetEpoch")]),32,"buf"),ae.I0("idx"),ae.u8("isEmpty")],"priorVoters"),ae.I0(),ae.O6(ae.w3([ae.I0("epoch"),ae.I0("credits"),ae.I0("prevCredits")]),ae.cY(ae.DH(),-8),"epochCredits"),ae.w3([ae.I0("slot"),ae.I0("timestamp")],"lastTimestamp")]);const ps=1e9},2993:(t,e,r)=>{"use strict";var n=r(1817).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,s=0;t[r]===u;)i++,r++;for(var o=(t.length-r)*c+1>>>0,l=new Uint8Array(o);r<t.length;){var h=e[t.charCodeAt(r)];if(255===h)return;for(var d=0,f=o-1;(0!==h||d<s)&&-1!==f;f--,d++)h+=a*l[f]>>>0,l[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=d,r++}for(var p=o-s;p!==o&&0===l[p];)p++;var m=n.allocUnsafe(i+(o-p));m.fill(0,0,i);for(var g=i;p!==o;)m[g++]=l[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,s=0,o=e.length;s!==o&&0===e[s];)s++,r++;for(var c=(o-s)*l+1>>>0,h=new Uint8Array(c);s!==o;){for(var d=e[s],f=0,p=c-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=256*h[p]>>>0,h[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,s++}for(var m=c-i;m!==c&&0===h[m];)m++;for(var g=u.repeat(r);m<c;++m)g+=t.charAt(h[m]);return g},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},3718:(t,e,r)=>{var n=r(2993);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},3203:(t,e,r)=>{"use strict";r.d(e,{m:()=>s});var n=r(5257),i=r(9739),s=new class extends n.Q{#h;#d;#f;constructor(){super(),this.#f=t=>{if(!i.S$&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#d||this.setEventListener(this.#f)}onUnsubscribe(){this.hasListeners()||(this.#d?.(),this.#d=void 0)}setEventListener(t){this.#f=t,this.#d?.(),this.#d=t((t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()}))}setFocused(t){this.#h!==t&&(this.#h=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach((e=>{e(t)}))}isFocused(){return"boolean"==typeof this.#h?this.#h:"hidden"!==globalThis.document?.visibilityState}}},9655:(t,e,r)=>{"use strict";r.d(e,{$:()=>a,s:()=>o});var n=r(3102),i=r(183),s=r(5039),o=class extends i.k{#p;#i;#m;constructor(t){super(),this.mutationId=t.mutationId,this.#i=t.mutationCache,this.#p=[],this.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#p.includes(t)||(this.#p.push(t),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#p=this.#p.filter((e=>e!==t)),this.scheduleGc(),this.#i.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#p.length||("pending"===this.state.status?this.scheduleGc():this.#i.remove(this))}continue(){return this.#m?.continue()??this.execute(this.state.variables)}async execute(t){this.#m=(0,s.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(t,e)=>{this.#g({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#g({type:"pause"})},onContinue:()=>{this.#g({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#i.canRun(this)});const e="pending"===this.state.status,r=!this.#m.canStart();try{if(!e){this.#g({type:"pending",variables:t,isPaused:r}),await(this.#i.config.onMutate?.(t,this));const e=await(this.options.onMutate?.(t));e!==this.state.context&&this.#g({type:"pending",context:e,variables:t,isPaused:r})}const n=await this.#m.start();return await(this.#i.config.onSuccess?.(n,t,this.state.context,this)),await(this.options.onSuccess?.(n,t,this.state.context)),await(this.#i.config.onSettled?.(n,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(n,null,t,this.state.context)),this.#g({type:"success",data:n}),n}catch(n){try{throw await(this.#i.config.onError?.(n,t,this.state.context,this)),await(this.options.onError?.(n,t,this.state.context)),await(this.#i.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,n,t,this.state.context)),n}finally{this.#g({type:"error",error:n})}}finally{this.#i.runNext(this)}}#g(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),n.j.batch((()=>{this.#p.forEach((e=>{e.onMutationUpdate(t)})),this.#i.notify({mutation:this,type:"updated",action:t})}))}};function a(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},3102:(t,e,r)=>{"use strict";r.d(e,{j:()=>n});var n=function(){let t=[],e=0,r=t=>{t()},n=t=>{t()},i=t=>setTimeout(t,0);const s=n=>{e?t.push(n):i((()=>{r(n)}))},o=()=>{const e=t;t=[],e.length&&i((()=>{n((()=>{e.forEach((t=>{r(t)}))}))}))};return{batch:t=>{let r;e++;try{r=t()}finally{e--,e||o()}return r},batchCalls:t=>(...e)=>{s((()=>{t(...e)}))},schedule:s,setNotifyFunction:t=>{r=t},setBatchNotifyFunction:t=>{n=t},setScheduler:t=>{i=t}}}()},792:(t,e,r)=>{"use strict";r.d(e,{t:()=>s});var n=r(5257),i=r(9739),s=new class extends n.Q{#y=!0;#d;#f;constructor(){super(),this.#f=t=>{if(!i.S$&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#d||this.setEventListener(this.#f)}onUnsubscribe(){this.hasListeners()||(this.#d?.(),this.#d=void 0)}setEventListener(t){this.#f=t,this.#d?.(),this.#d=t(this.setOnline.bind(this))}setOnline(t){this.#y!==t&&(this.#y=t,this.listeners.forEach((e=>{e(t)})))}isOnline(){return this.#y}}},3194:(t,e,r)=>{"use strict";r.d(e,{X:()=>a,k:()=>u});var n=r(9739),i=r(3102),s=r(5039),o=r(183),a=class extends o.k{#w;#v;#b;#m;#s;#_;constructor(t){super(),this.#_=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#b=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#w=t.state||function(t){const e="function"==typeof t.initialData?t.initialData():t.initialData,r=void 0!==e,n=r?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=this.#w,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#m?.promise}setOptions(t){this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#b.remove(this)}setData(t,e){const r=(0,n.pl)(this.state.data,t,this.options);return this.#g({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#g({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#m?.promise;return this.#m?.cancel(t),e?e.then(n.lQ).catch(n.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#w)}isActive(){return this.observers.some((t=>!1!==t.options.enabled))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((t=>t.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(t=0){return this.state.isInvalidated||void 0===this.state.data||!(0,n.j3)(this.state.dataUpdatedAt,t)}onFocus(){const t=this.observers.find((t=>t.shouldFetchOnWindowFocus()));t?.refetch({cancelRefetch:!1}),this.#m?.continue()}onOnline(){const t=this.observers.find((t=>t.shouldFetchOnReconnect()));t?.refetch({cancelRefetch:!1}),this.#m?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#b.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter((e=>e!==t)),this.observers.length||(this.#m&&(this.#_?this.#m.cancel({revert:!0}):this.#m.cancelRetry()),this.scheduleGc()),this.#b.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#g({type:"invalidate"})}fetch(t,e){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#m)return this.#m.continueRetry(),this.#m.promise;if(t&&this.setOptions(t),!this.options.queryFn){const t=this.observers.find((t=>t.options.queryFn));t&&this.setOptions(t.options)}const r=new AbortController,i=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(this.#_=!0,r.signal)})},o={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{const t=(0,n.ZM)(this.options,e),r={queryKey:this.queryKey,meta:this.meta};return i(r),this.#_=!1,this.options.persister?this.options.persister(t,r,this):t(r)}};i(o),this.options.behavior?.onFetch(o,this),this.#v=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===o.fetchOptions?.meta||this.#g({type:"fetch",meta:o.fetchOptions?.meta});const a=t=>{(0,s.wm)(t)&&t.silent||this.#g({type:"error",error:t}),(0,s.wm)(t)||(this.#b.config.onError?.(t,this),this.#b.config.onSettled?.(this.state.data,t,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#m=(0,s.II)({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:t=>{void 0!==t?(this.setData(t),this.#b.config.onSuccess?.(t,this),this.#b.config.onSettled?.(t,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):a(new Error(`${this.queryHash} data is undefined`))},onError:a,onFail:(t,e)=>{this.#g({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#g({type:"pause"})},onContinue:()=>{this.#g({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#m.start()}#g(t){this.state=(e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...u(e.data,this.options),fetchMeta:t.meta??null};case"success":return{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return(0,s.wm)(r)&&r.revert&&this.#v?{...this.#v,fetchStatus:"idle"}:{...e,error:r,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),i.j.batch((()=>{this.observers.forEach((t=>{t.onQueryUpdate()})),this.#b.notify({query:this,type:"updated",action:t})}))}};function u(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,s.v_)(e.networkMode)?"fetching":"paused",...void 0===t&&{error:null,status:"pending"}}}},183:(t,e,r)=>{"use strict";r.d(e,{k:()=>i});var n=r(9739),i=class{#E;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,n.gn)(this.gcTime)&&(this.#E=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(n.S$?1/0:3e5))}clearGcTimeout(){this.#E&&(clearTimeout(this.#E),this.#E=void 0)}}},5039:(t,e,r)=>{"use strict";r.d(e,{II:()=>l,v_:()=>a,wm:()=>c});var n=r(3203),i=r(792),s=r(9739);function o(t){return Math.min(1e3*2**t,3e4)}function a(t){return"online"!==(t??"online")||i.t.isOnline()}var u=class{constructor(t){this.revert=t?.revert,this.silent=t?.silent}};function c(t){return t instanceof u}function l(t){let e,r,c,l=!1,h=0,d=!1;const f=new Promise(((t,e)=>{r=t,c=e})),p=()=>n.m.isFocused()&&("always"===t.networkMode||i.t.isOnline())&&t.canRun(),m=()=>a(t.networkMode)&&t.canRun(),g=n=>{d||(d=!0,t.onSuccess?.(n),e?.(),r(n))},y=r=>{d||(d=!0,t.onError?.(r),e?.(),c(r))},w=()=>new Promise((r=>{e=t=>{(d||p())&&r(t)},t.onPause?.()})).then((()=>{e=void 0,d||t.onContinue?.()})),v=()=>{if(d)return;let e;const r=0===h?t.initialPromise:void 0;try{e=r??t.fn()}catch(n){e=Promise.reject(n)}Promise.resolve(e).then(g).catch((e=>{if(d)return;const r=t.retry??(s.S$?0:3),n=t.retryDelay??o,i="function"==typeof n?n(h,e):n,a=!0===r||"number"==typeof r&&h<r||"function"==typeof r&&r(h,e);!l&&a?(h++,t.onFail?.(h,e),(0,s.yy)(i).then((()=>p()?void 0:w())).then((()=>{l?y(e):v()}))):y(e)}))};return{promise:f,cancel:e=>{d||(y(new u(e)),t.abort?.())},continue:()=>(e?.(),f),cancelRetry:()=>{l=!0},continueRetry:()=>{l=!1},canStart:m,start:()=>(m()?v():w().then(v),f)}}},5257:(t,e,r)=>{"use strict";r.d(e,{Q:()=>n});var n=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},9739:(t,e,r)=>{"use strict";r.d(e,{Cp:()=>d,EN:()=>h,F$:()=>l,MK:()=>u,S$:()=>n,ZM:()=>S,ZZ:()=>_,Zw:()=>s,f8:()=>p,gn:()=>o,hT:()=>E,j3:()=>a,lQ:()=>i,nJ:()=>c,pl:()=>v,y9:()=>b,yy:()=>w});var n="undefined"==typeof window||"Deno"in globalThis;function i(){}function s(t,e){return"function"==typeof t?t(e):t}function o(t){return"number"==typeof t&&t>=0&&t!==1/0}function a(t,e){return Math.max(t+(e||0)-Date.now(),0)}function u(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o)if(n){if(e.queryHash!==l(o,e.options))return!1}else if(!d(e.queryKey,o))return!1;if("all"!==r){const t=e.isActive();if("active"===r&&!t)return!1;if("inactive"===r&&t)return!1}return("boolean"!=typeof a||e.isStale()===a)&&((!i||i===e.state.fetchStatus)&&!(s&&!s(e)))}function c(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(h(e.options.mutationKey)!==h(s))return!1}else if(!d(e.options.mutationKey,s))return!1}return(!n||e.state.status===n)&&!(i&&!i(e))}function l(t,e){return(e?.queryKeyHashFn||h)(t)}function h(t){return JSON.stringify(t,((t,e)=>g(e)?Object.keys(e).sort().reduce(((t,r)=>(t[r]=e[r],t)),{}):e))}function d(t,e){return t===e||typeof t==typeof e&&(!(!t||!e||"object"!=typeof t||"object"!=typeof e)&&!Object.keys(e).some((r=>!d(t[r],e[r]))))}function f(t,e){if(t===e)return t;const r=m(t)&&m(e);if(r||g(t)&&g(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,a=r?[]:{};let u=0;for(let c=0;c<o;c++){const i=r?c:s[c];(!r&&n.includes(i)||r)&&void 0===t[i]&&void 0===e[i]?(a[i]=void 0,u++):(a[i]=f(t[i],e[i]),a[i]===t[i]&&void 0!==t[i]&&u++)}return i===o&&u===i?t:a}return e}function p(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function m(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function g(t){if(!y(t))return!1;const e=t.constructor;if(void 0===e)return!0;const r=e.prototype;return!!y(r)&&(!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(t)===Object.prototype)}function y(t){return"[object Object]"===Object.prototype.toString.call(t)}function w(t){return new Promise((e=>{setTimeout(e,t)}))}function v(t,e,r){return"function"==typeof r.structuralSharing?r.structuralSharing(t,e):!1!==r.structuralSharing?f(t,e):e}function b(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function _(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var E=Symbol(),S=(t,e)=>!t.queryFn&&e?.initialPromise?()=>e.initialPromise:t.queryFn&&t.queryFn!==E?t.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`))},720:(t,e,r)=>{"use strict";r.d(e,{Ht:()=>a,jE:()=>o});var n=r(3696),i=r(2540),s=n.createContext(void 0),o=t=>{const e=n.useContext(s);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},a=({client:t,children:e})=>(n.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]),(0,i.jsx)(s.Provider,{value:t,children:e}))},514:(t,e,r)=>{"use strict";r.d(e,{n:()=>h});var n=r(3696),i=r(9655),s=r(3102),o=r(5257),a=r(9739),u=class extends o.Q{#S;#k=void 0;#A;#I;constructor(t,e){super(),this.#S=t,this.setOptions(e),this.bindMethods(),this.#M()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#S.defaultMutationOptions(t),(0,a.f8)(this.options,e)||this.#S.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#A,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,a.EN)(e.mutationKey)!==(0,a.EN)(this.options.mutationKey)?this.reset():"pending"===this.#A?.state.status&&this.#A.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#A?.removeObserver(this)}onMutationUpdate(t){this.#M(),this.#x(t)}getCurrentResult(){return this.#k}reset(){this.#A?.removeObserver(this),this.#A=void 0,this.#M(),this.#x()}mutate(t,e){return this.#I=e,this.#A?.removeObserver(this),this.#A=this.#S.getMutationCache().build(this.#S,this.options),this.#A.addObserver(this),this.#A.execute(t)}#M(){const t=this.#A?.state??(0,i.$)();this.#k={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#x(t){s.j.batch((()=>{if(this.#I&&this.hasListeners()){const e=this.#k.variables,r=this.#k.context;"success"===t?.type?(this.#I.onSuccess?.(t.data,e,r),this.#I.onSettled?.(t.data,null,e,r)):"error"===t?.type&&(this.#I.onError?.(t.error,e,r),this.#I.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach((t=>{t(this.#k)}))}))}},c=r(720),l=r(2719);function h(t,e){const r=(0,c.jE)(e),[i]=n.useState((()=>new u(r,t)));n.useEffect((()=>{i.setOptions(t)}),[i,t]);const o=n.useSyncExternalStore(n.useCallback((t=>i.subscribe(s.j.batchCalls(t))),[i]),(()=>i.getCurrentResult()),(()=>i.getCurrentResult())),a=n.useCallback(((t,e)=>{i.mutate(t,e).catch(l.l)}),[i]);if(o.error&&(0,l.G)(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}},7073:(t,e,r)=>{"use strict";r.d(e,{I:()=>M});var n=r(9739),i=r(3102),s=r(3203),o=r(5257),a=r(3194),u=class extends o.Q{constructor(t,e){super(),this.options=e,this.#S=t,this.#T=null,this.bindMethods(),this.setOptions(e)}#S;#R=void 0;#C=void 0;#k=void 0;#P;#O;#T;#N;#B;#L;#D;#U;#F;#z=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#R.addObserver(this),c(this.#R,this.options)?this.#j():this.updateResult(),this.#V())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return l(this.#R,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return l(this.#R,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#H(),this.#q(),this.#R.removeObserver(this)}setOptions(t,e){const r=this.options,i=this.#R;if(this.options=this.#S.defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.#K(),this.#R.setOptions(this.options),r._defaulted&&!(0,n.f8)(this.options,r)&&this.#S.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#R,observer:this});const s=this.hasListeners();s&&h(this.#R,i,this.options,r)&&this.#j(),this.updateResult(e),!s||this.#R===i&&this.options.enabled===r.enabled&&this.options.staleTime===r.staleTime||this.#W();const o=this.#$();!s||this.#R===i&&this.options.enabled===r.enabled&&o===this.#F||this.#Z(o)}getOptimisticResult(t){const e=this.#S.getQueryCache().build(this.#S,t),r=this.createResult(e,t);return function(t,e){if(!(0,n.f8)(t.getCurrentResult(),e))return!0;return!1}(this,r)&&(this.#k=r,this.#O=this.options,this.#P=this.#R.state),r}getCurrentResult(){return this.#k}trackResult(t,e){const r={};return Object.keys(t).forEach((n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})})),r}trackProp(t){this.#z.add(t)}getCurrentQuery(){return this.#R}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#S.defaultQueryOptions(t),r=this.#S.getQueryCache().build(this.#S,e);return r.isFetchingOptimistic=!0,r.fetch().then((()=>this.createResult(r,e)))}fetch(t){return this.#j({...t,cancelRefetch:t.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#k)))}#j(t){this.#K();let e=this.#R.fetch(this.options,t);return t?.throwOnError||(e=e.catch(n.lQ)),e}#W(){if(this.#H(),n.S$||this.#k.isStale||!(0,n.gn)(this.options.staleTime))return;const t=(0,n.j3)(this.#k.dataUpdatedAt,this.options.staleTime)+1;this.#D=setTimeout((()=>{this.#k.isStale||this.updateResult()}),t)}#$(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#R):this.options.refetchInterval)??!1}#Z(t){this.#q(),this.#F=t,!n.S$&&!1!==this.options.enabled&&(0,n.gn)(this.#F)&&0!==this.#F&&(this.#U=setInterval((()=>{(this.options.refetchIntervalInBackground||s.m.isFocused())&&this.#j()}),this.#F))}#V(){this.#W(),this.#Z(this.#$())}#H(){this.#D&&(clearTimeout(this.#D),this.#D=void 0)}#q(){this.#U&&(clearInterval(this.#U),this.#U=void 0)}createResult(t,e){const r=this.#R,i=this.options,s=this.#k,o=this.#P,u=this.#O,l=t!==r?t.state:this.#C,{state:f}=t;let p,m={...f},g=!1;if(e._optimisticResults){const n=this.hasListeners(),s=!n&&c(t,e),o=n&&h(t,r,e,i);(s||o)&&(m={...m,...(0,a.k)(f.data,t.options)}),"isRestoring"===e._optimisticResults&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:w,status:v}=m;if(e.select&&void 0!==m.data)if(s&&m.data===o?.data&&e.select===this.#N)p=this.#B;else try{this.#N=e.select,p=e.select(m.data),p=(0,n.pl)(s?.data,p,e),this.#B=p,this.#T=null}catch(A){this.#T=A}else p=m.data;if(void 0!==e.placeholderData&&void 0===p&&"pending"===v){let t;if(s?.isPlaceholderData&&e.placeholderData===u?.placeholderData)t=s.data;else if(t="function"==typeof e.placeholderData?e.placeholderData(this.#L?.state.data,this.#L):e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),this.#T=null}catch(A){this.#T=A}void 0!==t&&(v="success",p=(0,n.pl)(s?.data,t,e),g=!0)}this.#T&&(y=this.#T,p=this.#B,w=Date.now(),v="error");const b="fetching"===m.fetchStatus,_="pending"===v,E="error"===v,S=_&&b,k=void 0!==p;return{status:v,fetchStatus:m.fetchStatus,isPending:_,isSuccess:"success"===v,isError:E,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>l.dataUpdateCount||m.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!_,isLoadingError:E&&!k,isPaused:"paused"===m.fetchStatus,isPlaceholderData:g,isRefetchError:E&&k,isStale:d(t,e),refetch:this.refetch}}updateResult(t){const e=this.#k,r=this.createResult(this.#R,this.options);if(this.#P=this.#R.state,this.#O=this.options,void 0!==this.#P.data&&(this.#L=this.#R),(0,n.f8)(r,e))return;this.#k=r;const i={};!1!==t?.listeners&&(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#z.size)return!0;const n=new Set(r??this.#z);return this.options.throwOnError&&n.add("error"),Object.keys(this.#k).some((t=>{const r=t;return this.#k[r]!==e[r]&&n.has(r)}))})()&&(i.listeners=!0),this.#x({...i,...t})}#K(){const t=this.#S.getQueryCache().build(this.#S,this.options);if(t===this.#R)return;const e=this.#R;this.#R=t,this.#C=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#V()}#x(t){i.j.batch((()=>{t.listeners&&this.listeners.forEach((t=>{t(this.#k)})),this.#S.getQueryCache().notify({query:this.#R,type:"observerResultsUpdated"})}))}};function c(t,e){return function(t,e){return!1!==e.enabled&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&l(t,e,e.refetchOnMount)}function l(t,e,r){if(!1!==e.enabled){const n="function"==typeof r?r(t):r;return"always"===n||!1!==n&&d(t,e)}return!1}function h(t,e,r,n){return(t!==e||!1===n.enabled)&&(!r.suspense||"error"!==t.state.status)&&d(t,r)}function d(t,e){return!1!==e.enabled&&t.isStaleByTime(e.staleTime)}var f=r(3696);r(2540);function p(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var m=f.createContext(p()),g=()=>f.useContext(m),y=r(720),w=f.createContext(!1),v=()=>f.useContext(w),b=(w.Provider,r(2719)),_=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},E=t=>{f.useEffect((()=>{t.clearReset()}),[t])},S=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(0,b.G)(r,[t.error,n]),k=t=>{t.suspense&&"number"!=typeof t.staleTime&&(t.staleTime=1e3)},A=(t,e)=>t?.suspense&&e.isPending,I=(t,e,r)=>e.fetchOptimistic(t).catch((()=>{r.clearReset()}));function M(t,e){return function(t,e,r){const n=(0,y.jE)(r),s=v(),o=g(),a=n.defaultQueryOptions(t);a._optimisticResults=s?"isRestoring":"optimistic",k(a),_(a,o),E(o);const[u]=f.useState((()=>new e(n,a))),c=u.getOptimisticResult(a);if(f.useSyncExternalStore(f.useCallback((t=>{const e=s?()=>{}:u.subscribe(i.j.batchCalls(t));return u.updateResult(),e}),[u,s]),(()=>u.getCurrentResult()),(()=>u.getCurrentResult())),f.useEffect((()=>{u.setOptions(a,{listeners:!1})}),[a,u]),A(a,c))throw I(a,u,o);if(S({result:c,errorResetBoundary:o,throwOnError:a.throwOnError,query:n.getQueryCache().get(a.queryHash)}))throw c.error;return a.notifyOnChangeProps?c:u.trackResult(c)}(t,u,e)}},2719:(t,e,r)=>{"use strict";function n(t,e){return"function"==typeof t?t(...e):!!t}function i(){}r.d(e,{G:()=>n,l:()=>i})},1736:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(255!==e[s])throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function l(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,n=0,i=0;t[r]===a;)n++,r++;for(var s=(t.length-r)*u+1>>>0,c=new Uint8Array(s);t[r];){var l=e[t.charCodeAt(r)];if(255===l)return;for(var h=0,d=s-1;(0!==l||h<i)&&-1!==d;d--,h++)l+=o*c[d]>>>0,c[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,r++}for(var f=s-i;f!==s&&0===c[f];)f++;for(var p=new Uint8Array(n+(s-f)),m=n;f!==s;)p[m++]=c[f++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,s=e.length;i!==s&&0===e[i];)i++,r++;for(var u=(s-i)*c+1>>>0,l=new Uint8Array(u);i!==s;){for(var h=e[i],d=0,f=u-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%o>>>0,h=h/o>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=u-n;p!==u&&0===l[p];)p++;for(var m=a.repeat(r);p<u;++p)m+=t.charAt(l[p]);return m},decodeUnsafe:l,decode:function(t){var e=l(t);if(e)return e;throw new Error("Non-base"+o+" character")}}}},7322:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],u=s[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,u)),l=0,h=u>0?o-4:o;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[l++]=255&e);1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,a=0,c=n-i;a<c;a+=o)s.push(u(t,a,a+o>c?c:a+o));1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,n){for(var i,s,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},1740:(t,e)=>{"use strict";e.k5=function(t){{const e=Buffer.from(t);e.reverse();const r=e.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},e.Bq=function(t,e){{const r=t.toString(16),n=Buffer.from(r.padStart(2*e,"0").slice(0,2*e),"hex");return n.reverse(),n}}},7240:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(5066).Buffer}catch(x){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,i){for(var s=0,o=0,a=Math.min(t.length,r),u=e;u<a;u++){var c=t.charCodeAt(u)-48;s*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&o<i,"Invalid character"),s+=o}return s}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){l(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(x){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=f[t],l=p[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(t);r=(h=h.idivn(l)).isZero()?m+r:d[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,d=Math.min(c,e.length-1),f=Math.max(0,c-t.length+1);f<=d;f++){var p=c-f|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}s.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,w=g>>>13,v=0|o[3],b=8191&v,_=v>>>13,E=0|o[4],S=8191&E,k=E>>>13,A=0|o[5],I=8191&A,M=A>>>13,x=0|o[6],T=8191&x,R=x>>>13,C=0|o[7],P=8191&C,O=C>>>13,N=0|o[8],B=8191&N,L=N>>>13,D=0|o[9],U=8191&D,F=D>>>13,z=0|a[0],j=8191&z,V=z>>>13,H=0|a[1],q=8191&H,K=H>>>13,W=0|a[2],$=8191&W,Z=W>>>13,G=0|a[3],Q=8191&G,J=G>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,j))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(d,j)|0))<<13)|0;c=((s=Math.imul(d,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,V))+Math.imul(m,j)|0,s=Math.imul(m,V);var yt=(c+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,q)|0))<<13)|0;c=((s=s+Math.imul(d,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,V))+Math.imul(w,j)|0,s=Math.imul(w,V),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,K)|0;var wt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,$)|0))<<13)|0;c=((s=s+Math.imul(d,Z)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(b,j),i=(i=Math.imul(b,V))+Math.imul(_,j)|0,s=Math.imul(_,V),n=n+Math.imul(y,q)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(w,q)|0,s=s+Math.imul(w,K)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Z)|0;var vt=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Q)|0))<<13)|0;c=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,j),i=(i=Math.imul(S,V))+Math.imul(k,j)|0,s=Math.imul(k,V),n=n+Math.imul(b,q)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,J)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;c=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,V))+Math.imul(M,j)|0,s=Math.imul(M,V),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(k,q)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(w,Q)|0,s=s+Math.imul(w,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;c=((s=s+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(T,j),i=(i=Math.imul(T,V))+Math.imul(R,j)|0,s=Math.imul(R,V),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,K)|0)+Math.imul(M,q)|0,s=s+Math.imul(M,K)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(k,$)|0,s=s+Math.imul(k,Z)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,J)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;c=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,V))+Math.imul(O,j)|0,s=Math.imul(O,V),n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(R,q)|0,s=s+Math.imul(R,K)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(M,$)|0,s=s+Math.imul(M,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,J)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(w,rt)|0,s=s+Math.imul(w,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((s=s+Math.imul(d,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,V))+Math.imul(L,j)|0,s=Math.imul(L,V),n=n+Math.imul(P,q)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,q)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,J)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,X)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(w,st)|0,s=s+Math.imul(w,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var kt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;c=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,V))+Math.imul(F,j)|0,s=Math.imul(F,V),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,K)|0)+Math.imul(L,q)|0,s=s+Math.imul(L,K)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(R,Q)|0,s=s+Math.imul(R,J)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(M,X)|0,s=s+Math.imul(M,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(b,st)|0,i=(i=i+Math.imul(b,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(w,ut)|0,s=s+Math.imul(w,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,dt)|0;var At=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;c=((s=s+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,K))+Math.imul(F,q)|0,s=Math.imul(F,K),n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(L,$)|0,s=s+Math.imul(L,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(M,rt)|0,s=s+Math.imul(M,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(w,ht)|0,s=s+Math.imul(w,dt)|0;var It=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,Z))+Math.imul(F,$)|0,s=Math.imul(F,Z),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(L,Q)|0,s=s+Math.imul(L,J)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(M,st)|0,s=s+Math.imul(M,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(k,ut)|0,s=s+Math.imul(k,ct)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var Mt=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((s=s+Math.imul(w,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,J))+Math.imul(F,Q)|0,s=Math.imul(F,J),n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(L,X)|0,s=s+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(T,st)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(M,ut)|0,s=s+Math.imul(M,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,dt)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,dt)|0;var xt=(c+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(F,X)|0,s=Math.imul(F,tt),n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(L,rt)|0,s=s+Math.imul(L,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(R,ut)|0,s=s+Math.imul(R,ct)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,dt)|0)+Math.imul(M,ht)|0,s=s+Math.imul(M,dt)|0;var Tt=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;c=((s=s+Math.imul(k,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(F,rt)|0,s=Math.imul(F,nt),n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(L,st)|0,s=s+Math.imul(L,ot)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,dt)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,dt)|0;var Rt=(c+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(M,pt)|0))<<13)|0;c=((s=s+Math.imul(M,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,st),i=(i=Math.imul(U,ot))+Math.imul(F,st)|0,s=Math.imul(F,ot),n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(L,ut)|0,s=s+Math.imul(L,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,dt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,dt)|0;var Ct=(c+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((s=s+Math.imul(R,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ct))+Math.imul(F,ut)|0,s=Math.imul(F,ct),n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,dt)|0)+Math.imul(L,ht)|0,s=s+Math.imul(L,dt)|0;var Pt=(c+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(F,ht)|0,s=Math.imul(F,dt);var Ot=(c+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(L,pt)|0))<<13)|0;c=((s=s+Math.imul(L,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Nt=(c+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,mt))+Math.imul(F,pt)|0))<<13)|0;return c=((s=Math.imul(F,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=yt,u[2]=wt,u[3]=vt,u[4]=bt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=kt,u[9]=At,u[10]=It,u[11]=Mt,u[12]=xt,u[13]=Tt,u[14]=Rt,u[15]=Ct,u[16]=Pt,u[17]=Ot,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function y(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function w(t,e,r){return y(t,e,r)}function v(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?y(this,t,e):w(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},v.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},v.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},v.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,d=c,f=0;f<o;f++){var p=r[l+f],m=n[l+f],g=r[l+f+o],y=n[l+f+o],w=h*g-d*y;y=h*y+d*g,g=w,r[l+f]=p+g,n[l+f]=m+y,r[l+f+o]=p-g,n[l+f+o]=m-y,f!==a&&(w=u*h-c*d,d=u*d+c*h,h=w)}},v.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},v.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},v.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},v.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*l[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),w(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/t|0,r=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;!(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;!(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new I(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){I.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(E,_),E.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},E.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(S,_),i(k,_),i(A,_),A.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new E;else if("p224"===t)e=new S;else if("p192"===t)e=new k;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return b[t]=e,e},I.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},I.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},I.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},I.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},I.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},I.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},I.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},I.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},I.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},I.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},I.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},I.prototype.isqr=function(t){return this.imul(t,t.clone())},I.prototype.sqr=function(t){return this.mul(t,t)},I.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},I.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},I.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},I.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},I.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new M(t)},i(M,I),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},5375:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const u=a(r(7240)),c=a(r(1049)),l=o(r(2573)),h=new("function"!=typeof TextDecoder?l.TextDecoder:TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=Buffer.from(t,"utf8")),c.default.encode(Buffer.from(t))},e.baseDecode=function(t){return Buffer.from(c.default.decode(t))};const d=1024;class BorshError extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(d)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(d)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}function f(t,e,r){const n=r.value;r.value=function(...t){try{return n.apply(this,t)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw e}}}e.BinaryWriter=BinaryWriter;class BinaryReader{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new u.default(t,"le")}readU128(){const t=this.readBuffer(16);return new u.default(t,"le")}readU256(){const t=this.readBuffer(32);return new u.default(t,"le")}readU512(){const t=this.readBuffer(64);return new u.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new BorshError(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return h.decode(e)}catch(r){throw new BorshError(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let n=0;n<e;++n)r.push(t());return r}}function p(t){return t.charAt(0).toUpperCase()+t.slice(1)}function m(t,e,r,n,i){try{if("string"==typeof n)i[`write${p(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new BorshError(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new BorshError(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let e=0;e<n[1];e++)m(t,null,r[e],n[0],i)}else i.writeArray(r,(r=>{m(t,e,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),m(t,e,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach(((r,s)=>{m(t,e,s,n.key,i),m(t,e,r,n.value,i)}));break;default:throw new BorshError(`FieldType ${n} unrecognized`)}else g(t,r,i)}catch(s){throw s instanceof BorshError&&s.addToFieldPath(e),s}}function g(t,e,r){if("function"==typeof e.borshSerialize)return void e.borshSerialize(r);const n=t.get(e.constructor);if(!n)throw new BorshError(`Class ${e.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((([n,i])=>{m(t,n,e[n],i,r)}));else{if("enum"!==n.kind)throw new BorshError(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`);{const i=e[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),m(t,o,e[o],a,r);break}}}}}function y(t,e,r,n){try{if("string"==typeof r)return n[`read${p(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"==typeof r[1]){const e=[];for(let i=0;i<r[1];i++)e.push(y(t,null,r[0],n));return e}return n.readArray((()=>y(t,e,r[0],n)))}if("option"===r.kind){return n.readU8()?y(t,e,r.type,n):void 0}if("map"===r.kind){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const s=y(t,e,r.key,n),o=y(t,e,r.value,n);i.set(s,o)}return i}return w(t,r,n)}catch(i){throw i instanceof BorshError&&i.addToFieldPath(e),i}}function w(t,e,r){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new BorshError(`Class ${e.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,s]of t.get(e).fields)n[i]=y(t,i,s,r);return new e(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new BorshError(`Enum index: ${i} is out of range`);const[s,o]=n.values[i],a=y(t,s,o,r);return new e({[s]:a})}throw new BorshError(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}s([f],BinaryReader.prototype,"readU8",null),s([f],BinaryReader.prototype,"readU16",null),s([f],BinaryReader.prototype,"readU32",null),s([f],BinaryReader.prototype,"readU64",null),s([f],BinaryReader.prototype,"readU128",null),s([f],BinaryReader.prototype,"readU256",null),s([f],BinaryReader.prototype,"readU512",null),s([f],BinaryReader.prototype,"readString",null),s([f],BinaryReader.prototype,"readFixedArray",null),s([f],BinaryReader.prototype,"readArray",null),e.BinaryReader=BinaryReader,e.serialize=function(t,e,r=BinaryWriter){const n=new r;return g(t,e,n),n.toArray()},e.deserialize=function(t,e,r,n=BinaryReader){const i=new n(r),s=w(t,e,i);if(i.offset<r.length)throw new BorshError(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s},e.deserializeUnchecked=function(t,e,r,n=BinaryReader){return w(t,e,new n(r))}},6194:(t,e,r)=>{"use strict";var n=r(1817).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,s=0;t[r]===u;)i++,r++;for(var o=(t.length-r)*c+1>>>0,l=new Uint8Array(o);r<t.length;){var h=e[t.charCodeAt(r)];if(255===h)return;for(var d=0,f=o-1;(0!==h||d<s)&&-1!==f;f--,d++)h+=a*l[f]>>>0,l[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=d,r++}for(var p=o-s;p!==o&&0===l[p];)p++;var m=n.allocUnsafe(i+(o-p));m.fill(0,0,i);for(var g=i;p!==o;)m[g++]=l[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,s=0,o=e.length;s!==o&&0===e[s];)s++,r++;for(var c=(o-s)*l+1>>>0,h=new Uint8Array(c);s!==o;){for(var d=e[s],f=0,p=c-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=256*h[p]>>>0,h[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,s++}for(var m=c-i;m!==c&&0===h[m];)m++;for(var g=u.repeat(r);m<c;++m)g+=t.charAt(h[m]);return g},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},1049:(t,e,r)=>{var n=r(6194);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},463:(t,e,r)=>{const n=r(1736);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},8891:(t,e,r)=>{"use strict";const n=r(7322),i=r(8239),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|m(t,e);let n=a(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(G(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer))return f(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return f(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);const i=function(t){if(u.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||Q(t.length)?a(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function f(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return I(this,e,r);case"ascii":return x(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function w(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Q(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){let s,o=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(t,s)===c(e,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(t,s+n)!==c(e,n)){r=!1;break}if(r)return s}return-1}function b(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=e.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(Q(n))return o;t[r+o]=n}return o}function _(t,e,r,n){return Z(W(e,t.length-r),t,r,n)}function E(t,e,r,n){return Z(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function S(t,e,r,n){return Z($(e),t,r,n)}function k(t,e,r,n){return Z(function(t,e){let r,n,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function I(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[i+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(s=u));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(u=(15&e)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(t){const e=t.length;if(e<=M)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=M));return r}(n)}e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=u.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(G(e,Uint8Array))i+e.length>n.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const a=Math.min(s,o),c=this.slice(n,i),l=t.slice(e,r);for(let u=0;u<a;++u)if(c[u]!==l[u]){s=c[u],o=l[u];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return w(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return w(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const M=4096;function x(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function T(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=e;s<r;++s)i+=J[t[s]];return i}function C(t,e,r){const n=t.slice(e,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function P(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,r,n,i,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function N(t,e,r,n,i){V(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function B(t,e,r,n,i){V(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function L(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,s){return e=+e,r>>>=0,s||L(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,s){return e=+e,r>>>=0,s||L(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Y((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=e,i=1,s=this[t+--n];for(;n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Y((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Y((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){O(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){O(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Y((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(t,e=0){return B(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,t,e,r,n-1,-n)}let i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s|0)-o&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,t,e,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s|0)-o&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Y((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(t,e=0){return B(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const s=u.isBuffer(t)?t:u.from(t,n),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=s[i%o]}return this};const F={};function z(t,e,r){F[t]=class NodeError extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function j(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function V(t,e,r,n,i,s){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new F.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){H(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||q(e,t.length-(r+1))}(n,i,s)}function H(t,e){if("number"!=typeof t)throw new F.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,r){if(Math.floor(t)!==t)throw H(t,r),new F.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=j(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function $(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Z(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function G(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Q(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Y(t){return"undefined"==typeof BigInt?X:t}function X(){throw new Error("BigInt not supported")}},8411:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||t,o),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,s),!0;case 6:return l.fn.call(l.context,e,n,i,s,o),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==e||i&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},8239:(t,e)=>{e.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,d=r?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-l)-1,f>>=-l,l+=a;l>0;s=256*s+t[e+h],h+=d,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+t[e+h],h+=d,l-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=c}return(f?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,a,u,c=8*s-i-1,l=(1<<c)-1,h=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(e*u-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[r+f]=255&o,f+=p,o/=256,c-=8);t[r+f-p]|=128*m}},4706:(t,e,r)=>{"use strict";const n=r(9616).v4,i=r(9133),s=function(t,e){if(!(this instanceof s))return new s(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return n()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=s,s.prototype.request=function(t,e,r,n){const s=this;let o=null;const a=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&"object"==typeof t&&"function"==typeof e)n=e,o=t;else{"function"==typeof r&&(n=r,r=void 0);const s="function"==typeof n;try{o=i(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(s)return n(c);throw c}if(!s)return o}let u;try{u=JSON.stringify(o,this.options.replacer)}catch(c){return n(c)}return this.callServer(u,(function(t,e){s._parseResponse(t,e,n)})),o},s.prototype._parseResponse=function(t,e,r){if(t)return void r(t);if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(t){return r(t)}if(3===r.length){if(Array.isArray(n)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return r(null,n.filter(t),n.filter(e))}return r(null,n.error,n.result)}r(null,n)}},9133:(t,e,r)=>{"use strict";const n=r(9616).v4;t.exports=function(t,e,r,i){if("string"!=typeof t)throw new TypeError(t+" must be a string");const s="number"==typeof(i=i||{}).version?i.version:2;if(1!==s&&2!==s)throw new TypeError(s+" must be 1 or 2");const o={method:t};if(2===s&&(o.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(void 0===r){const t="function"==typeof i.generator?i.generator:function(){return n()};o.id=t(o,i)}else 2===s&&null===r?i.notificationIdNull&&(o.id=null):o.id=r;return o}},36:(t,e,r)=>{var n;!function(){"use strict";var e="input is invalid type",i="object"==typeof window,s=i?window:{};s.JS_SHA256_NO_WINDOW&&(i=!1);var o=!i&&"object"==typeof self,a=!s.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;a?s=r.g:o&&(s=self);var u=!s.JS_SHA256_NO_COMMON_JS&&t.exports,c=r.amdO,l=!s.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,h="0123456789abcdef".split(""),d=[-2147483648,8388608,32768,128],f=[24,16,8,0],p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=["hex","array","digest","arrayBuffer"],g=[];!s.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!l||!s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var y=function(t,e){return function(r){return new E(e,!0).update(r)[t]()}},w=function(t){var e=y("hex",t);a&&(e=v(e,t)),e.create=function(){return new E(t)},e.update=function(t){return e.create().update(t)};for(var r=0;r<m.length;++r){var n=m[r];e[n]=y(n,t)}return e},v=function(t,n){var i,o=r(4454),a=r(4987).Buffer,u=n?"sha224":"sha256";i=a.from&&!s.JS_SHA256_NO_BUFFER_FROM?a.from:function(t){return new a(t)};return function(r){if("string"==typeof r)return o.createHash(u).update(r,"utf8").digest("hex");if(null==r)throw new Error(e);return r.constructor===ArrayBuffer&&(r=new Uint8Array(r)),Array.isArray(r)||ArrayBuffer.isView(r)||r.constructor===a?o.createHash(u).update(i(r)).digest("hex"):t(r)}},b=function(t,e){return function(r,n){return new S(r,e,!0).update(n)[t]()}},_=function(t){var e=b("hex",t);e.create=function(e){return new S(e,t)},e.update=function(t,r){return e.create(t).update(r)};for(var r=0;r<m.length;++r){var n=m[r];e[n]=b(n,t)}return e};function E(t,e){e?(g[0]=g[16]=g[1]=g[2]=g[3]=g[4]=g[5]=g[6]=g[7]=g[8]=g[9]=g[10]=g[11]=g[12]=g[13]=g[14]=g[15]=0,this.blocks=g):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function S(t,r,n){var i,s=typeof t;if("string"===s){var o,a=[],u=t.length,c=0;for(i=0;i<u;++i)(o=t.charCodeAt(i))<128?a[c++]=o:o<2048?(a[c++]=192|o>>>6,a[c++]=128|63&o):o<55296||o>=57344?(a[c++]=224|o>>>12,a[c++]=128|o>>>6&63,a[c++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++i)),a[c++]=240|o>>>18,a[c++]=128|o>>>12&63,a[c++]=128|o>>>6&63,a[c++]=128|63&o);t=a}else{if("object"!==s)throw new Error(e);if(null===t)throw new Error(e);if(l&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||l&&ArrayBuffer.isView(t)))throw new Error(e)}t.length>64&&(t=new E(r,!0).update(t).array());var h=[],d=[];for(i=0;i<64;++i){var f=t[i]||0;h[i]=92^f,d[i]=54^f}E.call(this,r,n),this.update(d),this.oKeyPad=h,this.inner=!0,this.sharedMemory=n}E.prototype.update=function(t){if(!this.finalized){var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(l&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||l&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var i,s,o=0,a=t.length,u=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,this.block=u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),r)for(s=this.start;o<a&&s<64;++o)u[s>>>2]|=t[o]<<f[3&s++];else for(s=this.start;o<a&&s<64;++o)(i=t.charCodeAt(o))<128?u[s>>>2]|=i<<f[3&s++]:i<2048?(u[s>>>2]|=(192|i>>>6)<<f[3&s++],u[s>>>2]|=(128|63&i)<<f[3&s++]):i<55296||i>=57344?(u[s>>>2]|=(224|i>>>12)<<f[3&s++],u[s>>>2]|=(128|i>>>6&63)<<f[3&s++],u[s>>>2]|=(128|63&i)<<f[3&s++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++o)),u[s>>>2]|=(240|i>>>18)<<f[3&s++],u[s>>>2]|=(128|i>>>12&63)<<f[3&s++],u[s>>>2]|=(128|i>>>6&63)<<f[3&s++],u[s>>>2]|=(128|63&i)<<f[3&s++]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=u[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>>2]|=d[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},E.prototype.hash=function(){var t,e,r,n,i,s,o,a,u,c=this.h0,l=this.h1,h=this.h2,d=this.h3,f=this.h4,m=this.h5,g=this.h6,y=this.h7,w=this.blocks;for(t=16;t<64;++t)e=((i=w[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=w[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,w[t]=w[t-16]+e+w[t-7]+r|0;for(u=l&h,t=0;t<64;t+=4)this.first?(this.is224?(s=300032,y=(i=w[0]-1413257819)-150054599|0,d=i+24177077|0):(s=704751109,y=(i=w[0]-210244248)-1521486534|0,d=i+143694565|0),this.first=!1):(e=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(s=c&l)^c&h^u,y=d+(i=y+(r=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&m^~f&g)+p[t]+w[t])|0,d=i+(e+n)|0),e=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(o=d&c)^d&l^s,g=h+(i=g+(r=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&f^~y&m)+p[t+1]+w[t+1])|0,e=((h=i+(e+n)|0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(a=h&d)^h&c^o,m=l+(i=m+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&y^~g&f)+p[t+2]+w[t+2])|0,e=((l=i+(e+n)|0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(u=l&h)^l&d^a,f=c+(i=f+(r=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&y)+p[t+3]+w[t+3])|0,c=i+(e+n)|0,this.chromeBugWorkAround=!0;this.h0=this.h0+c|0,this.h1=this.h1+l|0,this.h2=this.h2+h|0,this.h3=this.h3+d|0,this.h4=this.h4+f|0,this.h5=this.h5+m|0,this.h6=this.h6+g|0,this.h7=this.h7+y|0},E.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=h[t>>>28&15]+h[t>>>24&15]+h[t>>>20&15]+h[t>>>16&15]+h[t>>>12&15]+h[t>>>8&15]+h[t>>>4&15]+h[15&t]+h[e>>>28&15]+h[e>>>24&15]+h[e>>>20&15]+h[e>>>16&15]+h[e>>>12&15]+h[e>>>8&15]+h[e>>>4&15]+h[15&e]+h[r>>>28&15]+h[r>>>24&15]+h[r>>>20&15]+h[r>>>16&15]+h[r>>>12&15]+h[r>>>8&15]+h[r>>>4&15]+h[15&r]+h[n>>>28&15]+h[n>>>24&15]+h[n>>>20&15]+h[n>>>16&15]+h[n>>>12&15]+h[n>>>8&15]+h[n>>>4&15]+h[15&n]+h[i>>>28&15]+h[i>>>24&15]+h[i>>>20&15]+h[i>>>16&15]+h[i>>>12&15]+h[i>>>8&15]+h[i>>>4&15]+h[15&i]+h[s>>>28&15]+h[s>>>24&15]+h[s>>>20&15]+h[s>>>16&15]+h[s>>>12&15]+h[s>>>8&15]+h[s>>>4&15]+h[15&s]+h[o>>>28&15]+h[o>>>24&15]+h[o>>>20&15]+h[o>>>16&15]+h[o>>>12&15]+h[o>>>8&15]+h[o>>>4&15]+h[15&o];return this.is224||(u+=h[a>>>28&15]+h[a>>>24&15]+h[a>>>20&15]+h[a>>>16&15]+h[a>>>12&15]+h[a>>>8&15]+h[a>>>4&15]+h[15&a]),u},E.prototype.toString=E.prototype.hex,E.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e,r>>>24&255,r>>>16&255,r>>>8&255,255&r,n>>>24&255,n>>>16&255,n>>>8&255,255&n,i>>>24&255,i>>>16&255,i>>>8&255,255&i,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o>>>24&255,o>>>16&255,o>>>8&255,255&o];return this.is224||u.push(a>>>24&255,a>>>16&255,a>>>8&255,255&a),u},E.prototype.array=E.prototype.digest,E.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},S.prototype=new E,S.prototype.finalize=function(){if(E.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();E.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),E.prototype.finalize.call(this)}};var k=w();k.sha256=k,k.sha224=w(!0),k.sha256.hmac=_(),k.sha224.hmac=_(!0),u?t.exports=k:(s.sha256=k.sha256,s.sha224=k.sha224,c&&(void 0===(n=(function(){return k}).call(k,r,k,t))||(t.exports=n)))}()},6909:(t,e,r)=>{"use strict";r.r(e)},6067:(t,e,r)=>{"use strict";var n=r(3696),i=r(1434);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function u(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var l=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(t,e,r,n,i,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function w(t){return t[1].toUpperCase()}function v(t,e,r,n){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0!==i.type:n||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,r,n){if(null==e||function(t,e,r,n){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,i,n)&&(r=null),n||null===i?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=null===r?3!==i.type&&"":r:(e=i.attributeName,n=i.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,w);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,w);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,w);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),M=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function B(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=N&&t[N]||t["@@iterator"])?t:null}var L,D=Object.assign;function U(t){if(void 0===L)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var F=!1;function z(t,e){if(!t||F)return"";F=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&"string"==typeof c.stack){for(var i=c.stack.split("\n"),s=n.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var u="\n"+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=o&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?U(t):""}function j(t){switch(t.tag){case 5:return U(t.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return t=z(t.type,!1);case 11:return t=z(t.type.render,!1);case 1:return t=z(t.type,!0);default:return""}}function V(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case S:return"Fragment";case E:return"Portal";case A:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case M:return(t.displayName||"Context")+".Consumer";case I:return(t._context.displayName||"Context")+".Provider";case x:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case C:return null!==(e=t.displayName||null)?e:V(t.type)||"Memo";case P:e=t._payload,t=t._init;try{return V(t(e))}catch(r){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(e);case 8:return e===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e}return null}function q(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function K(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function W(t){t._valueTracker||(t._valueTracker=function(t){var e=K(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){n=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function $(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=K(t)?t.checked?"true":"false":t.value),(t=n)!==r&&(e.setValue(t),!0)}function Z(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function G(t,e){var r=e.checked;return D({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function Q(t,e){var r=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;r=q(null!=e.value?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&v(t,"checked",e,!1)}function Y(t,e){J(t,e);var r=q(e.value),n=e.type;if(null!=r)"number"===n?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,r):e.hasOwnProperty("defaultValue")&&tt(t,e.type,q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function X(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}""!==(r=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==r&&(t.name=r)}function tt(t,e,r){"number"===e&&Z(t.ownerDocument)===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var et=Array.isArray;function rt(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+q(r),e=null,i=0;i<t.length;i++){if(t[i].value===r)return t[i].selected=!0,void(n&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return D({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var r=e.value;if(null==r){if(r=e.children,e=e.defaultValue,null!=r){if(null!=e)throw Error(s(92));if(et(r)){if(1<r.length)throw Error(s(93));r=r[0]}e=r}null==e&&(e=""),r=e}t._wrapperState={initialValue:q(r)}}function st(t,e){var r=q(e.value),n=q(e.defaultValue);null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&t.defaultValue!==r&&(t.defaultValue=r)),null!=n&&(t.defaultValue=""+n)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,lt,ht=(lt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,r,n){MSApp.execUnsafeLocalFunction((function(){return lt(t,e)}))}:lt);function dt(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function mt(t,e,r){return null==e||"boolean"==typeof e||""===e?"":r||"number"!=typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function gt(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=mt(r,e[r],n);"float"===r&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var yt=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(s(62))}}function vt(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function _t(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Et=null,St=null,kt=null;function At(t){if(t=vi(t)){if("function"!=typeof Et)throw Error(s(280));var e=t.stateNode;e&&(e=_i(e),Et(t.stateNode,t.type,e))}}function It(t){St?kt?kt.push(t):kt=[t]:St=t}function Mt(){if(St){var t=St,e=kt;if(kt=St=null,At(t),e)for(t=0;t<e.length;t++)At(e[t])}}function xt(t,e){return t(e)}function Tt(){}var Rt=!1;function Ct(t,e,r){if(Rt)return t(e,r);Rt=!0;try{return xt(t,e,r)}finally{Rt=!1,(null!==St||null!==kt)&&(Tt(),Mt())}}function Pt(t,e){var r=t.stateNode;if(null===r)return null;var n=_i(r);if(null===n)return null;r=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(r&&"function"!=typeof r)throw Error(s(231,e,typeof r));return r}var Ot=!1;if(l)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){Ot=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch(lt){Ot=!1}function Bt(t,e,r,n,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(l){this.onError(l)}}var Lt=!1,Dt=null,Ut=!1,Ft=null,zt={onError:function(t){Lt=!0,Dt=t}};function jt(t,e,r,n,i,s,o,a,u){Lt=!1,Dt=null,Bt.apply(zt,arguments)}function Vt(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{!!(4098&(e=t).flags)&&(r=e.return),t=e.return}while(t)}return 3===e.tag?r:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function qt(t){if(Vt(t)!==t)throw Error(s(188))}function Kt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(s(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return qt(i),t;if(o===n)return qt(i),e;o=o.sibling}throw Error(s(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,u=i.child;u;){if(u===r){a=!0,r=i,n=o;break}if(u===n){a=!0,n=i,r=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===r){a=!0,r=o,n=i;break}if(u===n){a=!0,n=o,r=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?t:e}(t))?Wt(t):null}function Wt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Wt(t);if(null!==e)return e;t=t.sibling}return null}var $t=i.unstable_scheduleCallback,Zt=i.unstable_cancelCallback,Gt=i.unstable_shouldYield,Qt=i.unstable_requestPaint,Jt=i.unstable_now,Yt=i.unstable_getCurrentPriorityLevel,Xt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,re=i.unstable_LowPriority,ne=i.unstable_IdlePriority,ie=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/ue|0)|0},ae=Math.log,ue=Math.LN2;var ce=64,le=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var r=t.pendingLanes;if(0===r)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=268435455&r;if(0!==o){var a=o&~i;0!==a?n=he(a):0!==(s&=o)&&(n=he(s))}else 0!==(o=r&~i)?n=he(o):0!==s&&(n=he(s));if(0===n)return 0;if(0!==e&&e!==n&&!(e&i)&&((i=n&-n)>=(s=e&-e)||16===i&&4194240&s))return e;if(4&n&&(n|=16&r),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)i=1<<(r=31-oe(e)),n|=t[r],e&=~i;return n}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=ce;return!(4194240&(ce<<=1))&&(ce=64),t}function ge(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ye(t,e,r){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=r}function we(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-oe(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ve=0;function be(t){return 1<(t&=-t)?4<t?268435455&t?16:536870912:4:1}var _e,Ee,Se,ke,Ae,Ie=!1,Me=[],xe=null,Te=null,Re=null,Ce=new Map,Pe=new Map,Oe=[],Ne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Be(t,e){switch(t){case"focusin":case"focusout":xe=null;break;case"dragenter":case"dragleave":Te=null;break;case"mouseover":case"mouseout":Re=null;break;case"pointerover":case"pointerout":Ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pe.delete(e.pointerId)}}function Le(t,e,r,n,i,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},null!==e&&(null!==(e=vi(e))&&Ee(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function De(t){var e=wi(t.target);if(null!==e){var r=Vt(e);if(null!==r)if(13===(e=r.tag)){if(null!==(e=Ht(r)))return t.blockedOn=e,void Ae(t.priority,(function(){Se(r)}))}else if(3===e&&r.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}t.blockedOn=null}function Ue(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ge(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==r)return null!==(e=vi(r))&&Ee(e),t.blockedOn=r,!1;var n=new(r=t.nativeEvent).constructor(r.type,r);bt=n,r.target.dispatchEvent(n),bt=null,e.shift()}return!0}function Fe(t,e,r){Ue(t)&&r.delete(e)}function ze(){Ie=!1,null!==xe&&Ue(xe)&&(xe=null),null!==Te&&Ue(Te)&&(Te=null),null!==Re&&Ue(Re)&&(Re=null),Ce.forEach(Fe),Pe.forEach(Fe)}function je(t,e){t.blockedOn===e&&(t.blockedOn=null,Ie||(Ie=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ze)))}function Ve(t){function e(e){return je(e,t)}if(0<Me.length){je(Me[0],t);for(var r=1;r<Me.length;r++){var n=Me[r];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==xe&&je(xe,t),null!==Te&&je(Te,t),null!==Re&&je(Re,t),Ce.forEach(e),Pe.forEach(e),r=0;r<Oe.length;r++)(n=Oe[r]).blockedOn===t&&(n.blockedOn=null);for(;0<Oe.length&&null===(r=Oe[0]).blockedOn;)De(r),null===r.blockedOn&&Oe.shift()}var He=b.ReactCurrentBatchConfig,qe=!0;function Ke(t,e,r,n){var i=ve,s=He.transition;He.transition=null;try{ve=1,$e(t,e,r,n)}finally{ve=i,He.transition=s}}function We(t,e,r,n){var i=ve,s=He.transition;He.transition=null;try{ve=4,$e(t,e,r,n)}finally{ve=i,He.transition=s}}function $e(t,e,r,n){if(qe){var i=Ge(t,e,r,n);if(null===i)qn(t,e,n,Ze,r),Be(t,n);else if(function(t,e,r,n,i){switch(e){case"focusin":return xe=Le(xe,t,e,r,n,i),!0;case"dragenter":return Te=Le(Te,t,e,r,n,i),!0;case"mouseover":return Re=Le(Re,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Ce.set(s,Le(Ce.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Pe.set(s,Le(Pe.get(s)||null,t,e,r,n,i)),!0}return!1}(i,t,e,r,n))n.stopPropagation();else if(Be(t,n),4&e&&-1<Ne.indexOf(t)){for(;null!==i;){var s=vi(i);if(null!==s&&_e(s),null===(s=Ge(t,e,r,n))&&qn(t,e,n,Ze,r),s===i)break;i=s}null!==i&&n.stopPropagation()}else qn(t,e,n,null,r)}}var Ze=null;function Ge(t,e,r,n){if(Ze=null,null!==(t=wi(t=_t(n))))if(null===(e=Vt(t)))t=null;else if(13===(r=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===r){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ze=t,null}function Qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yt()){case Xt:return 1;case te:return 4;case ee:case re:return 16;case ne:return 536870912;default:return 16}default:return 16}}var Je=null,Ye=null,Xe=null;function tr(){if(Xe)return Xe;var t,e,r=Ye,n=r.length,i="value"in Je?Je.value:Je.textContent,s=i.length;for(t=0;t<n&&r[t]===i[t];t++);var o=n-t;for(e=1;e<=o&&r[n-e]===i[s-e];e++);return Xe=i.slice(t,1<e?1-e:void 0)}function er(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function rr(){return!0}function nr(){return!1}function ir(t){function e(e,r,n,i,s){for(var o in this._reactName=e,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return D(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),e}var sr,or,ar,ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ir(ur),lr=D({},ur,{view:0,detail:0}),hr=ir(lr),dr=D({},lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ar&&(ar&&"mousemove"===t.type?(sr=t.screenX-ar.screenX,or=t.screenY-ar.screenY):or=sr=0,ar=t),sr)},movementY:function(t){return"movementY"in t?t.movementY:or}}),fr=ir(dr),pr=ir(D({},dr,{dataTransfer:0})),mr=ir(D({},lr,{relatedTarget:0})),gr=ir(D({},ur,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=D({},ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wr=ir(yr),vr=ir(D({},ur,{data:0})),br={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sr(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Er[t])&&!!e[t]}function kr(){return Sr}var Ar=D({},lr,{key:function(t){if(t.key){var e=br[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=er(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?_r[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return"keypress"===t.type?er(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?er(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ir=ir(Ar),Mr=ir(D({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xr=ir(D({},lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Tr=ir(D({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rr=D({},dr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cr=ir(Rr),Pr=[9,13,27,32],Or=l&&"CompositionEvent"in window,Nr=null;l&&"documentMode"in document&&(Nr=document.documentMode);var Br=l&&"TextEvent"in window&&!Nr,Lr=l&&(!Or||Nr&&8<Nr&&11>=Nr),Dr=String.fromCharCode(32),Ur=!1;function Fr(t,e){switch(t){case"keyup":return-1!==Pr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zr(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var jr=!1;var Vr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Vr[t.type]:"textarea"===e}function qr(t,e,r,n){It(n),0<(e=Wn(e,"onChange")).length&&(r=new cr("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Kr=null,Wr=null;function $r(t){Un(t,0)}function Zr(t){if($(bi(t)))return t}function Gr(t,e){if("change"===t)return e}var Qr=!1;if(l){var Jr;if(l){var Yr="oninput"in document;if(!Yr){var Xr=document.createElement("div");Xr.setAttribute("oninput","return;"),Yr="function"==typeof Xr.oninput}Jr=Yr}else Jr=!1;Qr=Jr&&(!document.documentMode||9<document.documentMode)}function tn(){Kr&&(Kr.detachEvent("onpropertychange",en),Wr=Kr=null)}function en(t){if("value"===t.propertyName&&Zr(Wr)){var e=[];qr(e,Wr,t,_t(t)),Ct($r,e)}}function rn(t,e,r){"focusin"===t?(tn(),Wr=r,(Kr=e).attachEvent("onpropertychange",en)):"focusout"===t&&tn()}function nn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Zr(Wr)}function sn(t,e){if("click"===t)return Zr(e)}function on(t,e){if("input"===t||"change"===t)return Zr(e)}var an="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e};function un(t,e){if(an(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!h.call(e,i)||!an(t[i],e[i]))return!1}return!0}function cn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ln(t,e){var r,n=cn(t);for(t=0;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=cn(n)}}function hn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dn(){for(var t=window,e=Z();e instanceof t.HTMLIFrameElement;){try{var r="string"==typeof e.contentWindow.location.href}catch(n){r=!1}if(!r)break;e=Z((t=e.contentWindow).document)}return e}function fn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pn(t){var e=dn(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&hn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if((t=(e=r.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=void 0===n.end?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=ln(r,s);var o=ln(r,n);i&&o&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=r;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<e.length;r++)(t=e[r]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mn=l&&"documentMode"in document&&11>=document.documentMode,gn=null,yn=null,wn=null,vn=!1;function bn(t,e,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;vn||null==gn||gn!==Z(n)||("selectionStart"in(n=gn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},wn&&un(wn,n)||(wn=n,0<(n=Wn(yn,"onSelect")).length&&(e=new cr("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=gn)))}function _n(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var En={animationend:_n("Animation","AnimationEnd"),animationiteration:_n("Animation","AnimationIteration"),animationstart:_n("Animation","AnimationStart"),transitionend:_n("Transition","TransitionEnd")},Sn={},kn={};function An(t){if(Sn[t])return Sn[t];if(!En[t])return t;var e,r=En[t];for(e in r)if(r.hasOwnProperty(e)&&e in kn)return Sn[t]=r[e];return t}l&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);var In=An("animationend"),Mn=An("animationiteration"),xn=An("animationstart"),Tn=An("transitionend"),Rn=new Map,Cn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(t,e){Rn.set(t,e),u(e,[t])}for(var On=0;On<Cn.length;On++){var Nn=Cn[On];Pn(Nn.toLowerCase(),"on"+(Nn[0].toUpperCase()+Nn.slice(1)))}Pn(In,"onAnimationEnd"),Pn(Mn,"onAnimationIteration"),Pn(xn,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Tn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bn));function Dn(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,function(t,e,r,n,i,o,a,u,c){if(jt.apply(this,arguments),Lt){if(!Lt)throw Error(s(198));var l=Dt;Lt=!1,Dt=null,Ut||(Ut=!0,Ft=l)}}(n,e,void 0,t),t.currentTarget=null}function Un(t,e){e=!!(4&e);for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;t:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break t;Dn(i,a,c),s=u}else for(o=0;o<n.length;o++){if(u=(a=n[o]).instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break t;Dn(i,a,c),s=u}}}if(Ut)throw t=Ft,Ut=!1,Ft=null,t}function Fn(t,e){var r=e[mi];void 0===r&&(r=e[mi]=new Set);var n=t+"__bubble";r.has(n)||(Hn(e,t,2,!1),r.add(n))}function zn(t,e,r){var n=0;e&&(n|=4),Hn(r,t,n,e)}var jn="_reactListening"+Math.random().toString(36).slice(2);function Vn(t){if(!t[jn]){t[jn]=!0,o.forEach((function(e){"selectionchange"!==e&&(Ln.has(e)||zn(e,!1,t),zn(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[jn]||(e[jn]=!0,zn("selectionchange",!1,e))}}function Hn(t,e,r,n){switch(Qe(e)){case 1:var i=Ke;break;case 4:i=We;break;default:i=$e}r=i.bind(null,e,r,t),i=void 0,!Ot||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),n?void 0!==i?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):void 0!==i?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function qn(t,e,r,n,i){var s=n;if(!(1&e||2&e||null===n))t:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var a=n.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=n.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=wi(a)))return;if(5===(u=o.tag)||6===u){n=s=o;continue t}a=a.parentNode}}n=n.return}Ct((function(){var n=s,i=_t(r),o=[];t:{var a=Rn.get(t);if(void 0!==a){var u=cr,c=t;switch(t){case"keypress":if(0===er(r))break t;case"keydown":case"keyup":u=Ir;break;case"focusin":c="focus",u=mr;break;case"focusout":c="blur",u=mr;break;case"beforeblur":case"afterblur":u=mr;break;case"click":if(2===r.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=xr;break;case In:case Mn:case xn:u=gr;break;case Tn:u=Tr;break;case"scroll":u=hr;break;case"wheel":u=Cr;break;case"copy":case"cut":case"paste":u=wr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Mr}var l=!!(4&e),h=!l&&"scroll"===t,d=l?null!==a?a+"Capture":null:a;l=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pt(p,d))&&l.push(Kn(p,m,f)))),h)break;p=p.return}0<l.length&&(a=new u(a,c,null,r,i),o.push({event:a,listeners:l}))}}if(!(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||r===bt||!(c=r.relatedTarget||r.fromElement)||!wi(c)&&!c[pi])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=n,null!==(c=(c=r.relatedTarget||r.toElement)?wi(c):null)&&(c!==(h=Vt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=n),u!==c)){if(l=fr,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(l=Mr,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==u?a:bi(u),f=null==c?a:bi(c),(a=new l(m,p+"leave",u,r,i)).target=h,a.relatedTarget=f,m=null,wi(i)===n&&((l=new l(d,p+"enter",c,r,i)).target=f,l.relatedTarget=h,m=l),h=m,u&&c)t:{for(d=c,p=0,f=l=u;f;f=$n(f))p++;for(f=0,m=d;m;m=$n(m))f++;for(;0<p-f;)l=$n(l),p--;for(;0<f-p;)d=$n(d),f--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break t;l=$n(l),d=$n(d)}l=null}else l=null;null!==u&&Zn(o,a,u,l,!1),null!==c&&null!==h&&Zn(o,h,c,l,!0)}if("select"===(u=(a=n?bi(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var g=Gr;else if(Hr(a))if(Qr)g=on;else{g=nn;var y=rn}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sn);switch(g&&(g=g(t,n))?qr(o,g,r,i):(y&&y(t,a,n),"focusout"===t&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&tt(a,"number",a.value)),y=n?bi(n):window,t){case"focusin":(Hr(y)||"true"===y.contentEditable)&&(gn=y,yn=n,wn=null);break;case"focusout":wn=yn=gn=null;break;case"mousedown":vn=!0;break;case"contextmenu":case"mouseup":case"dragend":vn=!1,bn(o,r,i);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":bn(o,r,i)}var w;if(Or)t:{switch(t){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else jr?Fr(t,r)&&(v="onCompositionEnd"):"keydown"===t&&229===r.keyCode&&(v="onCompositionStart");v&&(Lr&&"ko"!==r.locale&&(jr||"onCompositionStart"!==v?"onCompositionEnd"===v&&jr&&(w=tr()):(Ye="value"in(Je=i)?Je.value:Je.textContent,jr=!0)),0<(y=Wn(n,v)).length&&(v=new vr(v,t,null,r,i),o.push({event:v,listeners:y}),w?v.data=w:null!==(w=zr(r))&&(v.data=w))),(w=Br?function(t,e){switch(t){case"compositionend":return zr(e);case"keypress":return 32!==e.which?null:(Ur=!0,Dr);case"textInput":return(t=e.data)===Dr&&Ur?null:t;default:return null}}(t,r):function(t,e){if(jr)return"compositionend"===t||!Or&&Fr(t,e)?(t=tr(),Xe=Ye=Je=null,jr=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lr&&"ko"!==e.locale?null:e.data}}(t,r))&&(0<(n=Wn(n,"onBeforeInput")).length&&(i=new vr("onBeforeInput","beforeinput",null,r,i),o.push({event:i,listeners:n}),i.data=w))}Un(o,e)}))}function Kn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Wn(t,e){for(var r=e+"Capture",n=[];null!==t;){var i=t,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pt(t,r))&&n.unshift(Kn(t,s,i)),null!=(s=Pt(t,e))&&n.push(Kn(t,s,i))),t=t.return}return n}function $n(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Zn(t,e,r,n,i){for(var s=e._reactName,o=[];null!==r&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(null!==u&&u===n)break;5===a.tag&&null!==c&&(a=c,i?null!=(u=Pt(r,s))&&o.unshift(Kn(r,u,a)):i||null!=(u=Pt(r,s))&&o.push(Kn(r,u,a))),r=r.return}0!==o.length&&t.push({event:e,listeners:o})}var Gn=/\r\n?/g,Qn=/\u0000|\uFFFD/g;function Jn(t){return("string"==typeof t?t:""+t).replace(Gn,"\n").replace(Qn,"")}function Yn(t,e,r){if(e=Jn(e),Jn(t)!==e&&r)throw Error(s(425))}function Xn(){}var ti=null,ei=null;function ri(t,e){return"textarea"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ni="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,si="function"==typeof Promise?Promise:void 0,oi="function"==typeof queueMicrotask?queueMicrotask:void 0!==si?function(t){return si.resolve(null).then(t).catch(ai)}:ni;function ai(t){setTimeout((function(){throw t}))}function ui(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return t.removeChild(i),void Ve(e);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);Ve(e)}function ci(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function li(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||"$!"===r||"$?"===r){if(0===e)return t;e--}else"/$"===r&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function wi(t){var e=t[di];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pi]||r[di]){if(r=e.alternate,null!==e.child||null!==r&&null!==r.child)for(t=li(t);null!==t;){if(r=t[di])return r;t=li(t)}return e}r=(t=r).parentNode}return null}function vi(t){return!(t=t[di]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function bi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function _i(t){return t[fi]||null}var Ei=[],Si=-1;function ki(t){return{current:t}}function Ai(t){0>Si||(t.current=Ei[Si],Ei[Si]=null,Si--)}function Ii(t,e){Si++,Ei[Si]=t.current,t.current=e}var Mi={},xi=ki(Mi),Ti=ki(!1),Ri=Mi;function Ci(t,e){var r=t.type.contextTypes;if(!r)return Mi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in r)s[i]=e[i];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(t){return null!=(t=t.childContextTypes)}function Oi(){Ai(Ti),Ai(xi)}function Ni(t,e,r){if(xi.current!==Mi)throw Error(s(168));Ii(xi,e),Ii(Ti,r)}function Bi(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in e))throw Error(s(108,H(t)||"Unknown",i));return D({},r,n)}function Li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mi,Ri=xi.current,Ii(xi,t),Ii(Ti,Ti.current),!0}function Di(t,e,r){var n=t.stateNode;if(!n)throw Error(s(169));r?(t=Bi(t,e,Ri),n.__reactInternalMemoizedMergedChildContext=t,Ai(Ti),Ai(xi),Ii(xi,t)):Ai(Ti),Ii(Ti,r)}var Ui=null,Fi=!1,zi=!1;function ji(t){null===Ui?Ui=[t]:Ui.push(t)}function Vi(){if(!zi&&null!==Ui){zi=!0;var t=0,e=ve;try{var r=Ui;for(ve=1;t<r.length;t++){var n=r[t];do{n=n(!0)}while(null!==n)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(t+1)),$t(Xt,Vi),i}finally{ve=e,zi=!1}}return null}var Hi=[],qi=0,Ki=null,Wi=0,$i=[],Zi=0,Gi=null,Qi=1,Ji="";function Yi(t,e){Hi[qi++]=Wi,Hi[qi++]=Ki,Ki=t,Wi=e}function Xi(t,e,r){$i[Zi++]=Qi,$i[Zi++]=Ji,$i[Zi++]=Gi,Gi=t;var n=Qi;t=Ji;var i=32-oe(n)-1;n&=~(1<<i),r+=1;var s=32-oe(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Qi=1<<32-oe(e)+i|r<<i|n,Ji=s+t}else Qi=1<<s|r<<i|n,Ji=t}function ts(t){null!==t.return&&(Yi(t,1),Xi(t,1,0))}function es(t){for(;t===Ki;)Ki=Hi[--qi],Hi[qi]=null,Wi=Hi[--qi],Hi[qi]=null;for(;t===Gi;)Gi=$i[--Zi],$i[Zi]=null,Ji=$i[--Zi],$i[Zi]=null,Qi=$i[--Zi],$i[Zi]=null}var rs=null,ns=null,is=!1,ss=null;function os(t,e){var r=Nc(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,null===(e=t.deletions)?(t.deletions=[r],t.flags|=16):e.push(r)}function as(t,e){switch(t.tag){case 5:var r=t.type;return null!==(e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,rs=t,ns=ci(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,rs=t,ns=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(r=null!==Gi?{id:Qi,overflow:Ji}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},(r=Nc(18,null,null,0)).stateNode=e,r.return=t,t.child=r,rs=t,ns=null,!0);default:return!1}}function us(t){return!(!(1&t.mode)||128&t.flags)}function cs(t){if(is){var e=ns;if(e){var r=e;if(!as(t,e)){if(us(t))throw Error(s(418));e=ci(r.nextSibling);var n=rs;e&&as(t,e)?os(n,r):(t.flags=-4097&t.flags|2,is=!1,rs=t)}}else{if(us(t))throw Error(s(418));t.flags=-4097&t.flags|2,is=!1,rs=t}}}function ls(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;rs=t}function hs(t){if(t!==rs)return!1;if(!is)return ls(t),is=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ri(t.type,t.memoizedProps)),e&&(e=ns)){if(us(t))throw ds(),Error(s(418));for(;e;)os(t,e),e=ci(e.nextSibling)}if(ls(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===e){ns=ci(t.nextSibling);break t}e--}else"$"!==r&&"$!"!==r&&"$?"!==r||e++}t=t.nextSibling}ns=null}}else ns=rs?ci(t.stateNode.nextSibling):null;return!0}function ds(){for(var t=ns;t;)t=ci(t.nextSibling)}function fs(){ns=rs=null,is=!1}function ps(t){null===ss?ss=[t]:ss.push(t)}var ms=b.ReactCurrentBatchConfig;function gs(t,e,r){if(null!==(t=r.ref)&&"function"!=typeof t&&"object"!=typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,t));var i=n,o=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=i.refs;null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!=typeof t)throw Error(s(284));if(!r._owner)throw Error(s(290,t))}return t}function ys(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ws(t){return(0,t._init)(t._payload)}function vs(t){function e(e,r){if(t){var n=e.deletions;null===n?(e.deletions=[r],e.flags|=16):n.push(r)}}function r(r,n){if(!t)return null;for(;null!==n;)e(r,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Lc(t,e)).index=0,t.sibling=null,t}function o(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<r?(e.flags|=2,r):n:(e.flags|=2,r):(e.flags|=1048576,r)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function u(t,e,r,n){return null===e||6!==e.tag?((e=zc(r,t.mode,n)).return=t,e):((e=i(e,r)).return=t,e)}function c(t,e,r,n){var s=r.type;return s===S?h(t,e,r.props.children,n,r.key):null!==e&&(e.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===P&&ws(s)===e.type)?((n=i(e,r.props)).ref=gs(t,e,r),n.return=t,n):((n=Dc(r.type,r.key,r.props,null,t.mode,n)).ref=gs(t,e,r),n.return=t,n)}function l(t,e,r,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=jc(r,t.mode,n)).return=t,e):((e=i(e,r.children||[])).return=t,e)}function h(t,e,r,n,s){return null===e||7!==e.tag?((e=Uc(r,t.mode,n,s)).return=t,e):((e=i(e,r)).return=t,e)}function d(t,e,r){if("string"==typeof e&&""!==e||"number"==typeof e)return(e=zc(""+e,t.mode,r)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case _:return(r=Dc(e.type,e.key,e.props,null,t.mode,r)).ref=gs(t,null,e),r.return=t,r;case E:return(e=jc(e,t.mode,r)).return=t,e;case P:return d(t,(0,e._init)(e._payload),r)}if(et(e)||B(e))return(e=Uc(e,t.mode,r,null)).return=t,e;ys(t,e)}return null}function f(t,e,r,n){var i=null!==e?e.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==i?null:u(t,e,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case _:return r.key===i?c(t,e,r,n):null;case E:return r.key===i?l(t,e,r,n):null;case P:return f(t,e,(i=r._init)(r._payload),n)}if(et(r)||B(r))return null!==i?null:h(t,e,r,n,null);ys(t,r)}return null}function p(t,e,r,n,i){if("string"==typeof n&&""!==n||"number"==typeof n)return u(e,t=t.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case _:return c(e,t=t.get(null===n.key?r:n.key)||null,n,i);case E:return l(e,t=t.get(null===n.key?r:n.key)||null,n,i);case P:return p(t,e,r,(0,n._init)(n._payload),i)}if(et(n)||B(n))return h(e,t=t.get(r)||null,n,i,null);ys(e,n)}return null}function m(i,s,a,u){for(var c=null,l=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],u);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(i,h),s=o(y,s,m),null===l?c=y:l.sibling=y,l=y,h=g}if(m===a.length)return r(i,h),is&&Yi(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],u))&&(s=o(h,s,m),null===l?c=h:l.sibling=h,l=h);return is&&Yi(i,m),c}for(h=n(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],u))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===l?c=g:l.sibling=g,l=g);return t&&h.forEach((function(t){return e(i,t)})),is&&Yi(i,m),c}function g(i,a,u,c){var l=B(u);if("function"!=typeof l)throw Error(s(150));if(null==(u=l.call(u)))throw Error(s(151));for(var h=l=null,m=a,g=a=0,y=null,w=u.next();null!==m&&!w.done;g++,w=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=f(i,m,w.value,c);if(null===v){null===m&&(m=y);break}t&&m&&null===v.alternate&&e(i,m),a=o(v,a,g),null===h?l=v:h.sibling=v,h=v,m=y}if(w.done)return r(i,m),is&&Yi(i,g),l;if(null===m){for(;!w.done;g++,w=u.next())null!==(w=d(i,w.value,c))&&(a=o(w,a,g),null===h?l=w:h.sibling=w,h=w);return is&&Yi(i,g),l}for(m=n(i,m);!w.done;g++,w=u.next())null!==(w=p(m,i,g,w.value,c))&&(t&&null!==w.alternate&&m.delete(null===w.key?g:w.key),a=o(w,a,g),null===h?l=w:h.sibling=w,h=w);return t&&m.forEach((function(t){return e(i,t)})),is&&Yi(i,g),l}return function t(n,s,o,u){if("object"==typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case _:t:{for(var c=o.key,l=s;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){r(n,l.sibling),(s=i(l,o.props.children)).return=n,n=s;break t}}else if(l.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===P&&ws(c)===l.type){r(n,l.sibling),(s=i(l,o.props)).ref=gs(n,l,o),s.return=n,n=s;break t}r(n,l);break}e(n,l),l=l.sibling}o.type===S?((s=Uc(o.props.children,n.mode,u,o.key)).return=n,n=s):((u=Dc(o.type,o.key,o.props,null,n.mode,u)).ref=gs(n,s,o),u.return=n,n=u)}return a(n);case E:t:{for(l=o.key;null!==s;){if(s.key===l){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){r(n,s.sibling),(s=i(s,o.children||[])).return=n,n=s;break t}r(n,s);break}e(n,s),s=s.sibling}(s=jc(o,n.mode,u)).return=n,n=s}return a(n);case P:return t(n,s,(l=o._init)(o._payload),u)}if(et(o))return m(n,s,o,u);if(B(o))return g(n,s,o,u);ys(n,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==s&&6===s.tag?(r(n,s.sibling),(s=i(s,o)).return=n,n=s):(r(n,s),(s=zc(o,n.mode,u)).return=n,n=s),a(n)):r(n,s)}}var bs=vs(!0),_s=vs(!1),Es=ki(null),Ss=null,ks=null,As=null;function Is(){As=ks=Ss=null}function Ms(t){var e=Es.current;Ai(Es),t._currentValue=e}function xs(t,e,r){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==n&&(n.childLanes|=e)):null!==n&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ts(t,e){Ss=t,As=ks=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(!!(t.lanes&e)&&(ba=!0),t.firstContext=null)}function Rs(t){var e=t._currentValue;if(As!==t)if(t={context:t,memoizedValue:e,next:null},null===ks){if(null===Ss)throw Error(s(308));ks=t,Ss.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var Cs=null;function Ps(t){null===Cs?Cs=[t]:Cs.push(t)}function Os(t,e,r,n){var i=e.interleaved;return null===i?(r.next=r,Ps(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ns(t,n)}function Ns(t,e){t.lanes|=e;var r=t.alternate;for(null!==r&&(r.lanes|=e),r=t,t=t.return;null!==t;)t.childLanes|=e,null!==(r=t.alternate)&&(r.childLanes|=e),r=t,t=t.return;return 3===r.tag?r.stateNode:null}var Bs=!1;function Ls(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(t,e,r){var n=t.updateQueue;if(null===n)return null;if(n=n.shared,2&Cu){var i=n.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ns(t,r)}return null===(i=n.interleaved)?(e.next=e,Ps(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ns(t,r)}function zs(t,e,r){if(null!==(e=e.updateQueue)&&(e=e.shared,4194240&r)){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,we(t,r)}}function js(t,e){var r=t.updateQueue,n=t.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?i=s=o:s=s.next=o,r=r.next}while(null!==r);null===s?i=s=e:s=s.next=e}else i=s=e;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(t.updateQueue=r)}null===(t=r.lastBaseUpdate)?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Vs(t,e,r,n){var i=t.updateQueue;Bs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var u=a,c=u.next;u.next=null,null===o?s=c:o.next=c,o=u;var l=t.alternate;null!==l&&((a=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===a?l.firstBaseUpdate=c:a.next=c,l.lastBaseUpdate=u))}if(null!==s){var h=i.baseState;for(o=0,l=c=u=null,a=s;;){var d=a.lane,f=a.eventTime;if((n&d)===d){null!==l&&(l=l.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,m=a;switch(d=e,f=r,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break t;h=D({},h,d);break t;case 2:Bs=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===l?(c=l=f,u=h):l=l.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(e=i.shared.interleaved)){i=e;do{o|=i.lane,i=i.next}while(i!==e)}else null===s&&(i.shared.lanes=0);Fu|=o,t.lanes=o,t.memoizedState=h}}function Hs(t,e,r){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!=typeof i)throw Error(s(191,i));i.call(n)}}}var qs={},Ks=ki(qs),Ws=ki(qs),$s=ki(qs);function Zs(t){if(t===qs)throw Error(s(174));return t}function Gs(t,e){switch(Ii($s,e),Ii(Ws,t),Ii(Ks,qs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ut(null,"");break;default:e=ut(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ai(Ks),Ii(Ks,e)}function Qs(){Ai(Ks),Ai(Ws),Ai($s)}function Js(t){Zs($s.current);var e=Zs(Ks.current),r=ut(e,t.type);e!==r&&(Ii(Ws,t),Ii(Ks,r))}function Ys(t){Ws.current===t&&(Ai(Ks),Ai(Ws))}var Xs=ki(0);function to(t){for(var e=t;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(128&e.flags)return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eo=[];function ro(){for(var t=0;t<eo.length;t++)eo[t]._workInProgressVersionPrimary=null;eo.length=0}var no=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,so=0,oo=null,ao=null,uo=null,co=!1,lo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(t,e){if(null===e)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!an(t[r],e[r]))return!1;return!0}function go(t,e,r,n,i,o){if(so=o,oo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,no.current=null===t||null===t.memoizedState?Xo:ta,t=r(n,i),lo){o=0;do{if(lo=!1,ho=0,25<=o)throw Error(s(301));o+=1,uo=ao=null,e.updateQueue=null,no.current=ea,t=r(n,i)}while(lo)}if(no.current=Yo,e=null!==ao&&null!==ao.next,so=0,uo=ao=oo=null,co=!1,e)throw Error(s(300));return t}function yo(){var t=0!==ho;return ho=0,t}function wo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===uo?oo.memoizedState=uo=t:uo=uo.next=t,uo}function vo(){if(null===ao){var t=oo.alternate;t=null!==t?t.memoizedState:null}else t=ao.next;var e=null===uo?oo.memoizedState:uo.next;if(null!==e)uo=e,ao=t;else{if(null===t)throw Error(s(310));t={memoizedState:(ao=t).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===uo?oo.memoizedState=uo=t:uo=uo.next=t}return uo}function bo(t,e){return"function"==typeof e?e(t):e}function _o(t){var e=vo(),r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=t;var n=ao,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(null!==i){o=i.next,n=n.baseState;var u=a=null,c=null,l=o;do{var h=l.lane;if((so&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,a=n):c=c.next=d,oo.lanes|=h,Fu|=h}l=l.next}while(null!==l&&l!==o);null===c?a=n:c.next=u,an(n,e.memoizedState)||(ba=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(null!==(t=r.interleaved)){i=t;do{o=i.lane,oo.lanes|=o,Fu|=o,i=i.next}while(i!==t)}else null===i&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Eo(t){var e=vo(),r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(null!==i){r.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);an(o,e.memoizedState)||(ba=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function So(){}function ko(t,e){var r=oo,n=vo(),i=e(),o=!an(n.memoizedState,i);if(o&&(n.memoizedState=i,ba=!0),n=n.queue,Lo(Mo.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||null!==uo&&1&uo.memoizedState.tag){if(r.flags|=2048,Co(9,Io.bind(null,r,n,i,e),void 0,null),null===Pu)throw Error(s(349));30&so||Ao(r,e,i)}return i}function Ao(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.stores=[t]):null===(r=e.stores)?e.stores=[t]:r.push(t)}function Io(t,e,r,n){e.value=r,e.getSnapshot=n,xo(e)&&To(t)}function Mo(t,e,r){return r((function(){xo(e)&&To(t)}))}function xo(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!an(t,r)}catch(n){return!0}}function To(t){var e=Ns(t,1);null!==e&&sc(e,t,1,-1)}function Ro(t){var e=wo();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:t},e.queue=t,t=t.dispatch=Zo.bind(null,oo,t),[e.memoizedState,t]}function Co(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.lastEffect=t.next=t):null===(r=e.lastEffect)?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function Po(){return vo().memoizedState}function Oo(t,e,r,n){var i=wo();oo.flags|=t,i.memoizedState=Co(1|e,r,void 0,void 0===n?null:n)}function No(t,e,r,n){var i=vo();n=void 0===n?null:n;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==n&&mo(n,o.deps))return void(i.memoizedState=Co(e,r,s,n))}oo.flags|=t,i.memoizedState=Co(1|e,r,s,n)}function Bo(t,e){return Oo(8390656,8,t,e)}function Lo(t,e){return No(2048,8,t,e)}function Do(t,e){return No(4,2,t,e)}function Uo(t,e){return No(4,4,t,e)}function Fo(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function zo(t,e,r){return r=null!=r?r.concat([t]):null,No(4,4,Fo.bind(null,e,t),r)}function jo(){}function Vo(t,e){var r=vo();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&mo(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ho(t,e){var r=vo();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&mo(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function qo(t,e,r){return 21&so?(an(r,e)||(r=me(),oo.lanes|=r,Fu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ba=!0),t.memoizedState=r)}function Ko(t,e){var r=ve;ve=0!==r&&4>r?r:4,t(!0);var n=io.transition;io.transition={};try{t(!1),e()}finally{ve=r,io.transition=n}}function Wo(){return vo().memoizedState}function $o(t,e,r){var n=ic(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Go(t))Qo(e,r);else if(null!==(r=Os(t,e,r,n))){sc(r,t,n,nc()),Jo(r,e,n)}}function Zo(t,e,r){var n=ic(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Go(t))Qo(e,i);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,an(a,o)){var u=e.interleaved;return null===u?(i.next=i,Ps(e)):(i.next=u.next,u.next=i),void(e.interleaved=i)}}catch(c){}null!==(r=Os(t,e,i,n))&&(sc(r,t,n,i=nc()),Jo(r,e,n))}}function Go(t){var e=t.alternate;return t===oo||null!==e&&e===oo}function Qo(t,e){lo=co=!0;var r=t.pending;null===r?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Jo(t,e,r){if(4194240&r){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,we(t,r)}}var Yo={readContext:Rs,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Xo={readContext:Rs,useCallback:function(t,e){return wo().memoizedState=[t,void 0===e?null:e],t},useContext:Rs,useEffect:Bo,useImperativeHandle:function(t,e,r){return r=null!=r?r.concat([t]):null,Oo(4194308,4,Fo.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Oo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Oo(4,2,t,e)},useMemo:function(t,e){var r=wo();return e=void 0===e?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=wo();return e=void 0!==r?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=$o.bind(null,oo,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},wo().memoizedState=t},useState:Ro,useDebugValue:jo,useDeferredValue:function(t){return wo().memoizedState=t},useTransition:function(){var t=Ro(!1),e=t[0];return t=Ko.bind(null,t[1]),wo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=oo,i=wo();if(is){if(void 0===r)throw Error(s(407));r=r()}else{if(r=e(),null===Pu)throw Error(s(349));30&so||Ao(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,Bo(Mo.bind(null,n,o,t),[t]),n.flags|=2048,Co(9,Io.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=wo(),e=Pu.identifierPrefix;if(is){var r=Ji;e=":"+e+"R"+(r=(Qi&~(1<<32-oe(Qi)-1)).toString(32)+r),0<(r=ho++)&&(e+="H"+r.toString(32)),e+=":"}else e=":"+e+"r"+(r=fo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ta={readContext:Rs,useCallback:Vo,useContext:Rs,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Do,useLayoutEffect:Uo,useMemo:Ho,useReducer:_o,useRef:Po,useState:function(){return _o(bo)},useDebugValue:jo,useDeferredValue:function(t){return qo(vo(),ao.memoizedState,t)},useTransition:function(){return[_o(bo)[0],vo().memoizedState]},useMutableSource:So,useSyncExternalStore:ko,useId:Wo,unstable_isNewReconciler:!1},ea={readContext:Rs,useCallback:Vo,useContext:Rs,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Do,useLayoutEffect:Uo,useMemo:Ho,useReducer:Eo,useRef:Po,useState:function(){return Eo(bo)},useDebugValue:jo,useDeferredValue:function(t){var e=vo();return null===ao?e.memoizedState=t:qo(e,ao.memoizedState,t)},useTransition:function(){return[Eo(bo)[0],vo().memoizedState]},useMutableSource:So,useSyncExternalStore:ko,useId:Wo,unstable_isNewReconciler:!1};function ra(t,e){if(t&&t.defaultProps){for(var r in e=D({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}return e}function ia(t,e,r,n){r=null==(r=r(n,e=t.memoizedState))?e:D({},e,r),t.memoizedState=r,0===t.lanes&&(t.updateQueue.baseState=r)}var sa={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=nc(),i=ic(t),s=Us(n,i);s.payload=e,null!=r&&(s.callback=r),null!==(e=Fs(t,s,i))&&(sc(e,t,i,n),zs(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=nc(),i=ic(t),s=Us(n,i);s.tag=1,s.payload=e,null!=r&&(s.callback=r),null!==(e=Fs(t,s,i))&&(sc(e,t,i,n),zs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=nc(),n=ic(t),i=Us(r,n);i.tag=2,null!=e&&(i.callback=e),null!==(e=Fs(t,i,n))&&(sc(e,t,n,r),zs(e,t,n))}};function oa(t,e,r,n,i,s,o){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!un(r,n)||!un(i,s))}function aa(t,e,r){var n=!1,i=Mi,s=e.contextType;return"object"==typeof s&&null!==s?s=Rs(s):(i=Pi(e)?Ri:xi.current,s=(n=null!=(n=e.contextTypes))?Ci(t,i):Mi),e=new e(r,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=sa,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ua(t,e,r,n){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&sa.enqueueReplaceState(e,e.state,null)}function ca(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Ls(t);var s=e.contextType;"object"==typeof s&&null!==s?i.context=Rs(s):(s=Pi(e)?Ri:xi.current,i.context=Ci(t,s)),i.state=t.memoizedState,"function"==typeof(s=e.getDerivedStateFromProps)&&(ia(t,e,s,r),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&sa.enqueueReplaceState(i,i.state,null),Vs(t,r,i,n),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308)}function la(t,e){try{var r="",n=e;do{r+=j(n),n=n.return}while(n);var i=r}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:i,digest:null}}function ha(t,e,r){return{value:t,source:null,stack:null!=r?r:null,digest:null!=e?e:null}}function da(t,e){try{console.error(e.value)}catch(r){setTimeout((function(){throw r}))}}var fa="function"==typeof WeakMap?WeakMap:Map;function pa(t,e,r){(r=Us(-1,r)).tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){$u||($u=!0,Zu=n),da(0,e)},r}function ma(t,e,r){(r=Us(-1,r)).tag=3;var n=t.type.getDerivedStateFromError;if("function"==typeof n){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){da(0,e)}}var s=t.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(r.callback=function(){da(0,e),"function"!=typeof n&&(null===Gu?Gu=new Set([this]):Gu.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),r}function ga(t,e,r){var n=t.pingCache;if(null===n){n=t.pingCache=new fa;var i=new Set;n.set(e,i)}else void 0===(i=n.get(e))&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=xc.bind(null,t,e,r),e.then(t,t))}function ya(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function wa(t,e,r,n,i){return 1&t.mode?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((e=Us(-1,1)).tag=2,Fs(r,e,1))),r.lanes|=1),t)}var va=b.ReactCurrentOwner,ba=!1;function _a(t,e,r,n){e.child=null===t?_s(e,null,r,n):bs(e,t.child,r,n)}function Ea(t,e,r,n,i){r=r.render;var s=e.ref;return Ts(e,i),n=go(t,e,r,n,s,i),r=yo(),null===t||ba?(is&&r&&ts(e),e.flags|=1,_a(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$a(t,e,i))}function Sa(t,e,r,n,i){if(null===t){var s=r.type;return"function"!=typeof s||Bc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((t=Dc(r.type,null,n,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,ka(t,e,s,n,i))}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if((r=null!==(r=r.compare)?r:un)(o,n)&&t.ref===e.ref)return $a(t,e,i)}return e.flags|=1,(t=Lc(s,n)).ref=e.ref,t.return=e,e.child=t}function ka(t,e,r,n,i){if(null!==t){var s=t.memoizedProps;if(un(s,n)&&t.ref===e.ref){if(ba=!1,e.pendingProps=n=s,!(t.lanes&i))return e.lanes=t.lanes,$a(t,e,i);131072&t.flags&&(ba=!0)}}return xa(t,e,r,n,i)}function Ia(t,e,r){var n=e.pendingProps,i=n.children,s=null!==t?t.memoizedState:null;if("hidden"===n.mode)if(1&e.mode){if(!(1073741824&r))return t=null!==s?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ii(Lu,Bu),Bu|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Ii(Lu,Bu),Bu|=n}else e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Lu,Bu),Bu|=r;else null!==s?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ii(Lu,Bu),Bu|=n;return _a(t,e,i,r),e.child}function Ma(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function xa(t,e,r,n,i){var s=Pi(r)?Ri:xi.current;return s=Ci(e,s),Ts(e,i),r=go(t,e,r,n,s,i),n=yo(),null===t||ba?(is&&n&&ts(e),e.flags|=1,_a(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$a(t,e,i))}function Ta(t,e,r,n,i){if(Pi(r)){var s=!0;Li(e)}else s=!1;if(Ts(e,i),null===e.stateNode)Wa(t,e),aa(e,r,n),ca(e,r,n,i),n=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=r.contextType;"object"==typeof c&&null!==c?c=Rs(c):c=Ci(e,c=Pi(r)?Ri:xi.current);var l=r.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==n||u!==c)&&ua(e,o,n,c),Bs=!1;var d=e.memoizedState;o.state=d,Vs(e,n,o,i),u=e.memoizedState,a!==n||d!==u||Ti.current||Bs?("function"==typeof l&&(ia(e,r,l,n),u=e.memoizedState),(a=Bs||oa(e,r,a,n,d,u,c))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(e.flags|=4194308)):("function"==typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):("function"==typeof o.componentDidMount&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Ds(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ra(e.type,a),o.props=c,h=e.pendingProps,d=o.context,"object"==typeof(u=r.contextType)&&null!==u?u=Rs(u):u=Ci(e,u=Pi(r)?Ri:xi.current);var f=r.getDerivedStateFromProps;(l="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==u)&&ua(e,o,n,u),Bs=!1,d=e.memoizedState,o.state=d,Vs(e,n,o,i);var p=e.memoizedState;a!==h||d!==p||Ti.current||Bs?("function"==typeof f&&(ia(e,r,f,n),p=e.memoizedState),(c=Bs||oa(e,r,c,n,d,p,u)||!1)?(l||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,u)),"function"==typeof o.componentDidUpdate&&(e.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=u,n=c):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Ra(t,e,r,n,s,i)}function Ra(t,e,r,n,i,s){Ma(t,e);var o=!!(128&e.flags);if(!n&&!o)return i&&Di(e,r,!1),$a(t,e,s);n=e.stateNode,va.current=e;var a=o&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&o?(e.child=bs(e,t.child,null,s),e.child=bs(e,null,a,s)):_a(t,e,a,s),e.memoizedState=n.state,i&&Di(e,r,!0),e.child}function Pa(t){var e=t.stateNode;e.pendingContext?Ni(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ni(0,e.context,!1),Gs(t,e.containerInfo)}function Oa(t,e,r,n,i){return fs(),ps(i),e.flags|=256,_a(t,e,r,n),e.child}var Na,Ba,La,Da,Ua={dehydrated:null,treeContext:null,retryLane:0};function Fa(t){return{baseLanes:t,cachePool:null,transitions:null}}function za(t,e,r){var n,i=e.pendingProps,o=Xs.current,a=!1,u=!!(128&e.flags);if((n=u)||(n=(null===t||null!==t.memoizedState)&&!!(2&o)),n?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Ii(Xs,1&o),null===t)return cs(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(1&e.mode?"$!"===t.data?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=i.children,t=i.fallback,a?(i=e.mode,a=e.child,u={mode:"hidden",children:u},1&i||null===a?a=Fc(u,i,0,null):(a.childLanes=0,a.pendingProps=u),t=Uc(t,i,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Fa(r),e.memoizedState=Ua,t):ja(e,u));if(null!==(o=t.memoizedState)&&null!==(n=o.dehydrated))return function(t,e,r,n,i,o,a){if(r)return 256&e.flags?(e.flags&=-257,Va(t,e,a,n=ha(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Fc({mode:"visible",children:n.children},i,0,null),(o=Uc(o,i,a,null)).flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,1&e.mode&&bs(e,t.child,null,a),e.child.memoizedState=Fa(a),e.memoizedState=Ua,o);if(!(1&e.mode))return Va(t,e,a,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var u=n.dgst;return n=u,Va(t,e,a,n=ha(o=Error(s(419)),n,void 0))}if(u=!!(a&t.childLanes),ba||u){if(null!==(n=Pu)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(n.suspendedLanes|a)?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ns(t,i),sc(n,t,i,-1))}return wc(),Va(t,e,a,n=ha(Error(s(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Rc.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ns=ci(i.nextSibling),rs=e,is=!0,ss=null,null!==t&&($i[Zi++]=Qi,$i[Zi++]=Ji,$i[Zi++]=Gi,Qi=t.id,Ji=t.overflow,Gi=e),e=ja(e,n.children),e.flags|=4096,e)}(t,e,u,i,n,o,r);if(a){a=i.fallback,u=e.mode,n=(o=t.child).sibling;var c={mode:"hidden",children:i.children};return 1&u||e.child===o?(i=Lc(o,c)).subtreeFlags=14680064&o.subtreeFlags:((i=e.child).childLanes=0,i.pendingProps=c,e.deletions=null),null!==n?a=Lc(n,a):(a=Uc(a,u,r,null)).flags|=2,a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,u=null===(u=t.child.memoizedState)?Fa(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~r,e.memoizedState=Ua,i}return t=(a=t.child).sibling,i=Lc(a,{mode:"visible",children:i.children}),!(1&e.mode)&&(i.lanes=r),i.return=e,i.sibling=null,null!==t&&(null===(r=e.deletions)?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=i,e.memoizedState=null,i}function ja(t,e){return(e=Fc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Va(t,e,r,n){return null!==n&&ps(n),bs(e,t.child,null,r),(t=ja(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Ha(t,e,r){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),xs(t.return,e,r)}function qa(t,e,r,n,i){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Ka(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(_a(t,e,n.children,r),2&(n=Xs.current))n=1&n|2,e.flags|=128;else{if(null!==t&&128&t.flags)t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ha(t,r,e);else if(19===t.tag)Ha(t,r,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ii(Xs,n),1&e.mode)switch(i){case"forwards":for(r=e.child,i=null;null!==r;)null!==(t=r.alternate)&&null===to(t)&&(i=r),r=r.sibling;null===(r=i)?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),qa(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===to(t)){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}qa(e,!0,r,null,s);break;case"together":qa(e,!1,null,null,void 0);break;default:e.memoizedState=null}else e.memoizedState=null;return e.child}function Wa(t,e){!(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $a(t,e,r){if(null!==t&&(e.dependencies=t.dependencies),Fu|=e.lanes,!(r&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(r=Lc(t=e.child,t.pendingProps),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=Lc(t,t.pendingProps)).return=e;r.sibling=null}return e.child}function Za(t,e){if(!is)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ga(t){var e=null!==t.alternate&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Qa(t,e,r){var n=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(e),null;case 1:case 17:return Pi(e.type)&&Oi(),Ga(e),null;case 3:return n=e.stateNode,Qs(),Ai(Ti),Ai(xi),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(hs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&!(256&e.flags)||(e.flags|=1024,null!==ss&&(cc(ss),ss=null))),Ba(t,e),Ga(e),null;case 5:Ys(e);var i=Zs($s.current);if(r=e.type,null!==t&&null!=e.stateNode)La(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(null===e.stateNode)throw Error(s(166));return Ga(e),null}if(t=Zs(Ks.current),hs(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[di]=e,n[fi]=o,t=!!(1&e.mode),r){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(i=0;i<Bn.length;i++)Fn(Bn[i],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":Q(n,o),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Fn("invalid",n);break;case"textarea":it(n,o),Fn("invalid",n)}for(var u in wt(r,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"==typeof c?n.textContent!==c&&(!0!==o.suppressHydrationWarning&&Yn(n.textContent,c,t),i=["children",c]):"number"==typeof c&&n.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Yn(n.textContent,c,t),i=["children",""+c]):a.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Fn("scroll",n)}switch(r){case"input":W(n),X(n,o,!0);break;case"textarea":W(n),ot(n);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(n.onclick=Xn)}n=i,e.updateQueue=n,null!==n&&(e.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(r)),"http://www.w3.org/1999/xhtml"===t?"script"===r?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof n.is?t=u.createElement(r,{is:n.is}):(t=u.createElement(r),"select"===r&&(u=t,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):t=u.createElementNS(t,r),t[di]=e,t[fi]=n,Na(t,e,!1,!1),e.stateNode=t;t:{switch(u=vt(r,n),r){case"dialog":Fn("cancel",t),Fn("close",t),i=n;break;case"iframe":case"object":case"embed":Fn("load",t),i=n;break;case"video":case"audio":for(i=0;i<Bn.length;i++)Fn(Bn[i],t);i=n;break;case"source":Fn("error",t),i=n;break;case"img":case"image":case"link":Fn("error",t),Fn("load",t),i=n;break;case"details":Fn("toggle",t),i=n;break;case"input":Q(t,n),i=G(t,n),Fn("invalid",t);break;case"option":default:i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=D({},n,{value:void 0}),Fn("invalid",t);break;case"textarea":it(t,n),i=nt(t,n),Fn("invalid",t)}for(o in wt(r,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?gt(t,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&ht(t,l):"children"===o?"string"==typeof l?("textarea"!==r||""!==l)&&dt(t,l):"number"==typeof l&&dt(t,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fn("scroll",t):null!=l&&v(t,o,l,u))}switch(r){case"input":W(t),X(t,n,!1);break;case"textarea":W(t),ot(t);break;case"option":null!=n.value&&t.setAttribute("value",""+q(n.value));break;case"select":t.multiple=!!n.multiple,null!=(o=n.value)?rt(t,!!n.multiple,o,!1):null!=n.defaultValue&&rt(t,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof i.onClick&&(t.onclick=Xn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ga(e),null;case 6:if(t&&null!=e.stateNode)Da(t,e,t.memoizedProps,n);else{if("string"!=typeof n&&null===e.stateNode)throw Error(s(166));if(r=Zs($s.current),Zs(Ks.current),hs(e)){if(n=e.stateNode,r=e.memoizedProps,n[di]=e,(o=n.nodeValue!==r)&&null!==(t=rs))switch(t.tag){case 3:Yn(n.nodeValue,r,!!(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Yn(n.nodeValue,r,!!(1&t.mode))}o&&(e.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[di]=e,e.stateNode=n}return Ga(e),null;case 13:if(Ai(Xs),n=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(is&&null!==ns&&1&e.mode&&!(128&e.flags))ds(),fs(),e.flags|=98560,o=!1;else if(o=hs(e),null!==n&&null!==n.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=e}else fs(),!(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ga(e),o=!1}else null!==ss&&(cc(ss),ss=null),o=!0;if(!o)return 65536&e.flags?e:null}return 128&e.flags?(e.lanes=r,e):((n=null!==n)!==(null!==t&&null!==t.memoizedState)&&n&&(e.child.flags|=8192,1&e.mode&&(null===t||1&Xs.current?0===Du&&(Du=3):wc())),null!==e.updateQueue&&(e.flags|=4),Ga(e),null);case 4:return Qs(),Ba(t,e),null===t&&Vn(e.stateNode.containerInfo),Ga(e),null;case 10:return Ms(e.type._context),Ga(e),null;case 19:if(Ai(Xs),null===(o=e.memoizedState))return Ga(e),null;if(n=!!(128&e.flags),null===(u=o.rendering))if(n)Za(o,!1);else{if(0!==Du||null!==t&&128&t.flags)for(t=e.child;null!==t;){if(null!==(u=to(t))){for(e.flags|=128,Za(o,!1),null!==(n=u.updateQueue)&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;null!==r;)t=n,(o=r).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,t=u.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ii(Xs,1&Xs.current|2),e.child}t=t.sibling}null!==o.tail&&Jt()>Ku&&(e.flags|=128,n=!0,Za(o,!1),e.lanes=4194304)}else{if(!n)if(null!==(t=to(u))){if(e.flags|=128,n=!0,null!==(r=t.updateQueue)&&(e.updateQueue=r,e.flags|=4),Za(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!is)return Ga(e),null}else 2*Jt()-o.renderingStartTime>Ku&&1073741824!==r&&(e.flags|=128,n=!0,Za(o,!1),e.lanes=4194304);o.isBackwards?(u.sibling=e.child,e.child=u):(null!==(r=o.last)?r.sibling=u:e.child=u,o.last=u)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Jt(),e.sibling=null,r=Xs.current,Ii(Xs,n?1&r|2:1&r),e):(Ga(e),null);case 22:case 23:return pc(),n=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==n&&(e.flags|=8192),n&&1&e.mode?!!(1073741824&Bu)&&(Ga(e),6&e.subtreeFlags&&(e.flags|=8192)):Ga(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function Ja(t,e){switch(es(e),e.tag){case 1:return Pi(e.type)&&Oi(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Qs(),Ai(Ti),Ai(xi),ro(),65536&(t=e.flags)&&!(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Ys(e),null;case 13:if(Ai(Xs),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));fs()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ai(Xs),null;case 4:return Qs(),null;case 10:return Ms(e.type._context),null;case 22:case 23:return pc(),null;default:return null}}Na=function(t,e){for(var r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ba=function(){},La=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Zs(Ks.current);var s,o=null;switch(r){case"input":i=G(t,i),n=G(t,n),o=[];break;case"select":i=D({},i,{value:void 0}),n=D({},n,{value:void 0}),o=[];break;case"textarea":i=nt(t,i),n=nt(t,n),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof n.onClick&&(t.onclick=Xn)}for(l in wt(r,n),r=null,i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(s in u)u.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(a.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in n){var c=n[l];if(u=null!=i?i[l]:void 0,n.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(l,r)),r=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!=typeof c&&"number"!=typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(a.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fn("scroll",t),o||u===c||(o=[])):(o=o||[]).push(l,c))}r&&(o=o||[]).push("style",r);var l=o;(e.updateQueue=l)&&(e.flags|=4)}},Da=function(t,e,r,n){r!==n&&(e.flags|=4)};var Ya=!1,Xa=!1,tu="function"==typeof WeakSet?WeakSet:Set,eu=null;function ru(t,e){var r=t.ref;if(null!==r)if("function"==typeof r)try{r(null)}catch(n){Mc(t,e,n)}else r.current=null}function nu(t,e,r){try{r()}catch(n){Mc(t,e,n)}}var iu=!1;function su(t,e,r){var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,void 0!==s&&nu(e,r,s)}i=i.next}while(i!==n)}}function ou(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function au(t){var e=t.ref;if(null!==e){var r=t.stateNode;t.tag,t=r,"function"==typeof e?e(t):e.current=t}}function uu(t){var e=t.alternate;null!==e&&(t.alternate=null,uu(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[di],delete e[fi],delete e[mi],delete e[gi],delete e[yi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cu(t){return 5===t.tag||3===t.tag||4===t.tag}function lu(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||cu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function hu(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?8===r.nodeType?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(8===r.nodeType?(e=r.parentNode).insertBefore(t,r):(e=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==e.onclick||(e.onclick=Xn));else if(4!==n&&null!==(t=t.child))for(hu(t,e,r),t=t.sibling;null!==t;)hu(t,e,r),t=t.sibling}function du(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(4!==n&&null!==(t=t.child))for(du(t,e,r),t=t.sibling;null!==t;)du(t,e,r),t=t.sibling}var fu=null,pu=!1;function mu(t,e,r){for(r=r.child;null!==r;)gu(t,e,r),r=r.sibling}function gu(t,e,r){if(se&&"function"==typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(ie,r)}catch(a){}switch(r.tag){case 5:Xa||ru(r,e);case 6:var n=fu,i=pu;fu=null,mu(t,e,r),pu=i,null!==(fu=n)&&(pu?(t=fu,r=r.stateNode,8===t.nodeType?t.parentNode.removeChild(r):t.removeChild(r)):fu.removeChild(r.stateNode));break;case 18:null!==fu&&(pu?(t=fu,r=r.stateNode,8===t.nodeType?ui(t.parentNode,r):1===t.nodeType&&ui(t,r),Ve(t)):ui(fu,r.stateNode));break;case 4:n=fu,i=pu,fu=r.stateNode.containerInfo,pu=!0,mu(t,e,r),fu=n,pu=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(2&s||4&s)&&nu(r,e,o),i=i.next}while(i!==n)}mu(t,e,r);break;case 1:if(!Xa&&(ru(r,e),"function"==typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Mc(r,e,a)}mu(t,e,r);break;case 21:mu(t,e,r);break;case 22:1&r.mode?(Xa=(n=Xa)||null!==r.memoizedState,mu(t,e,r),Xa=n):mu(t,e,r);break;default:mu(t,e,r)}}function yu(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var r=t.stateNode;null===r&&(r=t.stateNode=new tu),e.forEach((function(e){var n=Cc.bind(null,t,e);r.has(e)||(r.add(e),e.then(n,n))}))}}function wu(t,e){var r=e.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,u=a;t:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,pu=!1;break t;case 3:case 4:fu=u.stateNode.containerInfo,pu=!0;break t}u=u.return}if(null===fu)throw Error(s(160));gu(o,a,i),fu=null,pu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Mc(i,e,l)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)vu(e,t),e=e.sibling}function vu(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wu(e,t),bu(t),4&n){try{su(3,t,t.return),ou(3,t)}catch(g){Mc(t,t.return,g)}try{su(5,t,t.return)}catch(g){Mc(t,t.return,g)}}break;case 1:wu(e,t),bu(t),512&n&&null!==r&&ru(r,r.return);break;case 5:if(wu(e,t),bu(t),512&n&&null!==r&&ru(r,r.return),32&t.flags){var i=t.stateNode;try{dt(i,"")}catch(g){Mc(t,t.return,g)}}if(4&n&&null!=(i=t.stateNode)){var o=t.memoizedProps,a=null!==r?r.memoizedProps:o,u=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),vt(u,a);var l=vt(u,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?gt(i,d):"dangerouslySetInnerHTML"===h?ht(i,d):"children"===h?dt(i,d):v(i,h,d,l)}switch(u){case"input":Y(i,o);break;case"textarea":st(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?rt(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?rt(i,!!o.multiple,o.defaultValue,!0):rt(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Mc(t,t.return,g)}}break;case 6:if(wu(e,t),bu(t),4&n){if(null===t.stateNode)throw Error(s(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){Mc(t,t.return,g)}}break;case 3:if(wu(e,t),bu(t),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(g){Mc(t,t.return,g)}break;case 4:default:wu(e,t),bu(t);break;case 13:wu(e,t),bu(t),8192&(i=t.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Jt())),4&n&&yu(t);break;case 22:if(h=null!==r&&null!==r.memoizedState,1&t.mode?(Xa=(l=Xa)||h,wu(e,t),Xa=l):wu(e,t),bu(t),8192&n){if(l=null!==t.memoizedState,(t.stateNode.isHidden=l)&&!h&&1&t.mode)for(eu=t,h=t.child;null!==h;){for(d=eu=h;null!==eu;){switch(p=(f=eu).child,f.tag){case 0:case 11:case 14:case 15:su(4,f,f.return);break;case 1:ru(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Mc(n,r,g)}}break;case 5:ru(f,f.return);break;case 22:if(null!==f.memoizedState){ku(d);continue}}null!==p?(p.return=f,eu=p):ku(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,l?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,a=null!=(c=d.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,u.style.display=mt("display",a))}catch(g){Mc(t,t.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Mc(t,t.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wu(e,t),bu(t),4&n&&yu(t);case 21:}}function bu(t){var e=t.flags;if(2&e){try{t:{for(var r=t.return;null!==r;){if(cu(r)){var n=r;break t}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(dt(i,""),n.flags&=-33),du(t,lu(t),i);break;case 3:case 4:var o=n.stateNode.containerInfo;hu(t,lu(t),o);break;default:throw Error(s(161))}}catch(a){Mc(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function _u(t,e,r){eu=t,Eu(t,e,r)}function Eu(t,e,r){for(var n=!!(1&t.mode);null!==eu;){var i=eu,s=i.child;if(22===i.tag&&n){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,u=null!==a&&null!==a.memoizedState||Xa;a=Ya;var c=Xa;if(Ya=o,(Xa=u)&&!c)for(eu=i;null!==eu;)u=(o=eu).child,22===o.tag&&null!==o.memoizedState?Au(i):null!==u?(u.return=o,eu=u):Au(i);for(;null!==s;)eu=s,Eu(s,e,r),s=s.sibling;eu=i,Ya=a,Xa=c}Su(t)}else 8772&i.subtreeFlags&&null!==s?(s.return=i,eu=s):Su(t)}}function Su(t){for(;null!==eu;){var e=eu;if(8772&e.flags){var r=e.alternate;try{if(8772&e.flags)switch(e.tag){case 0:case 11:case 15:Xa||ou(5,e);break;case 1:var n=e.stateNode;if(4&e.flags&&!Xa)if(null===r)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ra(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&Hs(e,o,n);break;case 3:var a=e.updateQueue;if(null!==a){if(r=null,null!==e.child)switch(e.child.tag){case 5:case 1:r=e.child.stateNode}Hs(e,a,r)}break;case 5:var u=e.stateNode;if(null===r&&4&e.flags){r=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var l=e.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ve(d)}}}break;default:throw Error(s(163))}Xa||512&e.flags&&au(e)}catch(f){Mc(e,e.return,f)}}if(e===t){eu=null;break}if(null!==(r=e.sibling)){r.return=e.return,eu=r;break}eu=e.return}}function ku(t){for(;null!==eu;){var e=eu;if(e===t){eu=null;break}var r=e.sibling;if(null!==r){r.return=e.return,eu=r;break}eu=e.return}}function Au(t){for(;null!==eu;){var e=eu;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ou(4,e)}catch(u){Mc(e,r,u)}break;case 1:var n=e.stateNode;if("function"==typeof n.componentDidMount){var i=e.return;try{n.componentDidMount()}catch(u){Mc(e,i,u)}}var s=e.return;try{au(e)}catch(u){Mc(e,s,u)}break;case 5:var o=e.return;try{au(e)}catch(u){Mc(e,o,u)}}}catch(u){Mc(e,e.return,u)}if(e===t){eu=null;break}var a=e.sibling;if(null!==a){a.return=e.return,eu=a;break}eu=e.return}}var Iu,Mu=Math.ceil,xu=b.ReactCurrentDispatcher,Tu=b.ReactCurrentOwner,Ru=b.ReactCurrentBatchConfig,Cu=0,Pu=null,Ou=null,Nu=0,Bu=0,Lu=ki(0),Du=0,Uu=null,Fu=0,zu=0,ju=0,Vu=null,Hu=null,qu=0,Ku=1/0,Wu=null,$u=!1,Zu=null,Gu=null,Qu=!1,Ju=null,Yu=0,Xu=0,tc=null,ec=-1,rc=0;function nc(){return 6&Cu?Jt():-1!==ec?ec:ec=Jt()}function ic(t){return 1&t.mode?2&Cu&&0!==Nu?Nu&-Nu:null!==ms.transition?(0===rc&&(rc=me()),rc):0!==(t=ve)?t:t=void 0===(t=window.event)?16:Qe(t.type):1}function sc(t,e,r,n){if(50<Xu)throw Xu=0,tc=null,Error(s(185));ye(t,r,n),2&Cu&&t===Pu||(t===Pu&&(!(2&Cu)&&(zu|=r),4===Du&&lc(t,Nu)),oc(t,n),1===r&&0===Cu&&!(1&e.mode)&&(Ku=Jt()+500,Fi&&Vi()))}function oc(t,e){var r=t.callbackNode;!function(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,u=i[o];-1===u?a&r&&!(a&n)||(i[o]=fe(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var n=de(t,t===Pu?Nu:0);if(0===n)null!==r&&Zt(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(null!=r&&Zt(r),1===e)0===t.tag?function(t){Fi=!0,ji(t)}(hc.bind(null,t)):ji(hc.bind(null,t)),oi((function(){!(6&Cu)&&Vi()})),r=null;else{switch(be(n)){case 1:r=Xt;break;case 4:r=te;break;case 16:default:r=ee;break;case 536870912:r=ne}r=Pc(r,ac.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ac(t,e){if(ec=-1,rc=0,6&Cu)throw Error(s(327));var r=t.callbackNode;if(Ac()&&t.callbackNode!==r)return null;var n=de(t,t===Pu?Nu:0);if(0===n)return null;if(30&n||n&t.expiredLanes||e)e=vc(t,n);else{e=n;var i=Cu;Cu|=2;var o=yc();for(Pu===t&&Nu===e||(Wu=null,Ku=Jt()+500,mc(t,e));;)try{_c();break}catch(u){gc(t,u)}Is(),xu.current=o,Cu=i,null!==Ou?e=0:(Pu=null,Nu=0,e=Du)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(n=i,e=uc(t,i))),1===e)throw r=Uu,mc(t,0),lc(t,n),oc(t,Jt()),r;if(6===e)lc(t,n);else{if(i=t.current.alternate,!(30&n||function(t){for(var e=t;;){if(16384&e.flags){var r=e.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!an(s(),i))return!1}catch(a){return!1}}}if(r=e.child,16384&e.subtreeFlags&&null!==r)r.return=e,e=r;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)||(e=vc(t,n),2===e&&(o=pe(t),0!==o&&(n=o,e=uc(t,o))),1!==e)))throw r=Uu,mc(t,0),lc(t,n),oc(t,Jt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(s(345));case 2:case 5:kc(t,Hu,Wu);break;case 3:if(lc(t,n),(130023424&n)===n&&10<(e=qu+500-Jt())){if(0!==de(t,0))break;if(((i=t.suspendedLanes)&n)!==n){nc(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ni(kc.bind(null,t,Hu,Wu),e);break}kc(t,Hu,Wu);break;case 4:if(lc(t,n),(4194240&n)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-oe(n);o=1<<a,(a=e[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Jt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Mu(n/1960))-n)){t.timeoutHandle=ni(kc.bind(null,t,Hu,Wu),n);break}kc(t,Hu,Wu);break;default:throw Error(s(329))}}}return oc(t,Jt()),t.callbackNode===r?ac.bind(null,t):null}function uc(t,e){var r=Vu;return t.current.memoizedState.isDehydrated&&(mc(t,e).flags|=256),2!==(t=vc(t,e))&&(e=Hu,Hu=r,null!==e&&cc(e)),t}function cc(t){null===Hu?Hu=t:Hu.push.apply(Hu,t)}function lc(t,e){for(e&=~ju,e&=~zu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-oe(e),n=1<<r;t[r]=-1,e&=~n}}function hc(t){if(6&Cu)throw Error(s(327));Ac();var e=de(t,0);if(!(1&e))return oc(t,Jt()),null;var r=vc(t,e);if(0!==t.tag&&2===r){var n=pe(t);0!==n&&(e=n,r=uc(t,n))}if(1===r)throw r=Uu,mc(t,0),lc(t,e),oc(t,Jt()),r;if(6===r)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kc(t,Hu,Wu),oc(t,Jt()),null}function dc(t,e){var r=Cu;Cu|=1;try{return t(e)}finally{0===(Cu=r)&&(Ku=Jt()+500,Fi&&Vi())}}function fc(t){null!==Ju&&0===Ju.tag&&!(6&Cu)&&Ac();var e=Cu;Cu|=1;var r=Ru.transition,n=ve;try{if(Ru.transition=null,ve=1,t)return t()}finally{ve=n,Ru.transition=r,!(6&(Cu=e))&&Vi()}}function pc(){Bu=Lu.current,Ai(Lu)}function mc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(-1!==r&&(t.timeoutHandle=-1,ii(r)),null!==Ou)for(r=Ou.return;null!==r;){var n=r;switch(es(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&Oi();break;case 3:Qs(),Ai(Ti),Ai(xi),ro();break;case 5:Ys(n);break;case 4:Qs();break;case 13:case 19:Ai(Xs);break;case 10:Ms(n.type._context);break;case 22:case 23:pc()}r=r.return}if(Pu=t,Ou=t=Lc(t.current,null),Nu=Bu=e,Du=0,Uu=null,ju=zu=Fu=0,Hu=Vu=null,null!==Cs){for(e=0;e<Cs.length;e++)if(null!==(n=(r=Cs[e]).interleaved)){r.interleaved=null;var i=n.next,s=r.pending;if(null!==s){var o=s.next;s.next=i,n.next=o}r.pending=n}Cs=null}return t}function gc(t,e){for(;;){var r=Ou;try{if(Is(),no.current=Yo,co){for(var n=oo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}co=!1}if(so=0,uo=ao=oo=null,lo=!1,ho=0,Tu.current=null,null===r||null===r.return){Du=1,Uu=e,Ou=null;break}t:{var o=t,a=r.return,u=r,c=e;if(e=Nu,u.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c,h=u,d=h.tag;if(!(1&h.mode||0!==d&&11!==d&&15!==d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,wa(p,a,u,0,e),1&p.mode&&ga(o,l,e),c=l;var m=(e=p).updateQueue;if(null===m){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break t}if(!(1&e)){ga(o,l,e),wc();break t}c=Error(s(426))}else if(is&&1&u.mode){var y=ya(a);if(null!==y){!(65536&y.flags)&&(y.flags|=256),wa(y,a,u,0,e),ps(la(c,u));break t}}o=c=la(c,u),4!==Du&&(Du=2),null===Vu?Vu=[o]:Vu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,js(o,pa(0,c,e));break t;case 1:u=c;var w=o.type,v=o.stateNode;if(!(128&o.flags||"function"!=typeof w.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Gu&&Gu.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e,js(o,ma(o,u,e));break t}}o=o.return}while(null!==o)}Sc(r)}catch(b){e=b,Ou===r&&null!==r&&(Ou=r=r.return);continue}break}}function yc(){var t=xu.current;return xu.current=Yo,null===t?Yo:t}function wc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Pu||!(268435455&Fu)&&!(268435455&zu)||lc(Pu,Nu)}function vc(t,e){var r=Cu;Cu|=2;var n=yc();for(Pu===t&&Nu===e||(Wu=null,mc(t,e));;)try{bc();break}catch(i){gc(t,i)}if(Is(),Cu=r,xu.current=n,null!==Ou)throw Error(s(261));return Pu=null,Nu=0,Du}function bc(){for(;null!==Ou;)Ec(Ou)}function _c(){for(;null!==Ou&&!Gt();)Ec(Ou)}function Ec(t){var e=Iu(t.alternate,t,Bu);t.memoizedProps=t.pendingProps,null===e?Sc(t):Ou=e,Tu.current=null}function Sc(t){var e=t;do{var r=e.alternate;if(t=e.return,32768&e.flags){if(null!==(r=Ja(r,e)))return r.flags&=32767,void(Ou=r);if(null===t)return Du=6,void(Ou=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}else if(null!==(r=Qa(r,e,Bu)))return void(Ou=r);if(null!==(e=e.sibling))return void(Ou=e);Ou=e=t}while(null!==e);0===Du&&(Du=5)}function kc(t,e,r){var n=ve,i=Ru.transition;try{Ru.transition=null,ve=1,function(t,e,r,n){do{Ac()}while(null!==Ju);if(6&Cu)throw Error(s(327));r=t.finishedWork;var i=t.finishedLanes;if(null===r)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-oe(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}(t,o),t===Pu&&(Ou=Pu=null,Nu=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||Qu||(Qu=!0,Pc(ee,(function(){return Ac(),null}))),o=!!(15990&r.flags),!!(15990&r.subtreeFlags)||o){o=Ru.transition,Ru.transition=null;var a=ve;ve=1;var u=Cu;Cu|=4,Tu.current=null,function(t,e){if(ti=qe,fn(t=dn())){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(r=(r=t.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(_){r=null;break t}var a=0,u=-1,c=-1,l=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==r||0!==i&&3!==d.nodeType||(u=a+i),d!==o||0!==n&&3!==d.nodeType||(c=a+n),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===r&&++l===i&&(u=a),f===o&&++h===n&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}r=-1===u||-1===c?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ei={focusedElem:t,selectionRange:r},qe=!1,eu=e;null!==eu;)if(t=(e=eu).child,1028&e.subtreeFlags&&null!==t)t.return=e,eu=t;else for(;null!==eu;){e=eu;try{var m=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:ra(e.type,g),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){Mc(e,e.return,_)}if(null!==(t=e.sibling)){t.return=e.return,eu=t;break}eu=e.return}m=iu,iu=!1}(t,r),vu(r,t),pn(ei),qe=!!ti,ei=ti=null,t.current=r,_u(r,t,i),Qt(),Cu=u,ve=a,Ru.transition=o}else t.current=r;if(Qu&&(Qu=!1,Ju=t,Yu=i),o=t.pendingLanes,0===o&&(Gu=null),function(t){if(se&&"function"==typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(ie,t,void 0,!(128&~t.current.flags))}catch(e){}}(r.stateNode),oc(t,Jt()),null!==e)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if($u)throw $u=!1,t=Zu,Zu=null,t;!!(1&Yu)&&0!==t.tag&&Ac(),o=t.pendingLanes,1&o?t===tc?Xu++:(Xu=0,tc=t):Xu=0,Vi()}(t,e,r,n)}finally{Ru.transition=i,ve=n}return null}function Ac(){if(null!==Ju){var t=be(Yu),e=Ru.transition,r=ve;try{if(Ru.transition=null,ve=16>t?16:t,null===Ju)var n=!1;else{if(t=Ju,Ju=null,Yu=0,6&Cu)throw Error(s(331));var i=Cu;for(Cu|=4,eu=t.current;null!==eu;){var o=eu,a=o.child;if(16&eu.flags){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(eu=l;null!==eu;){var h=eu;switch(h.tag){case 0:case 11:case 15:su(8,h,o)}var d=h.child;if(null!==d)d.return=h,eu=d;else for(;null!==eu;){var f=(h=eu).sibling,p=h.return;if(uu(h),h===l){eu=null;break}if(null!==f){f.return=p,eu=f;break}eu=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}eu=o}}if(2064&o.subtreeFlags&&null!==a)a.return=o,eu=a;else t:for(;null!==eu;){if(2048&(o=eu).flags)switch(o.tag){case 0:case 11:case 15:su(9,o,o.return)}var w=o.sibling;if(null!==w){w.return=o.return,eu=w;break t}eu=o.return}}var v=t.current;for(eu=v;null!==eu;){var b=(a=eu).child;if(2064&a.subtreeFlags&&null!==b)b.return=a,eu=b;else t:for(a=v;null!==eu;){if(2048&(u=eu).flags)try{switch(u.tag){case 0:case 11:case 15:ou(9,u)}}catch(E){Mc(u,u.return,E)}if(u===a){eu=null;break t}var _=u.sibling;if(null!==_){_.return=u.return,eu=_;break t}eu=u.return}}if(Cu=i,Vi(),se&&"function"==typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(ie,t)}catch(E){}n=!0}return n}finally{ve=r,Ru.transition=e}}return!1}function Ic(t,e,r){t=Fs(t,e=pa(0,e=la(r,e),1),1),e=nc(),null!==t&&(ye(t,1,e),oc(t,e))}function Mc(t,e,r){if(3===t.tag)Ic(t,t,r);else for(;null!==e;){if(3===e.tag){Ic(e,t,r);break}if(1===e.tag){var n=e.stateNode;if("function"==typeof e.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Gu||!Gu.has(n))){e=Fs(e,t=ma(e,t=la(r,t),1),1),t=nc(),null!==e&&(ye(e,1,t),oc(e,t));break}}e=e.return}}function xc(t,e,r){var n=t.pingCache;null!==n&&n.delete(e),e=nc(),t.pingedLanes|=t.suspendedLanes&r,Pu===t&&(Nu&r)===r&&(4===Du||3===Du&&(130023424&Nu)===Nu&&500>Jt()-qu?mc(t,0):ju|=r),oc(t,e)}function Tc(t,e){0===e&&(1&t.mode?(e=le,!(130023424&(le<<=1))&&(le=4194304)):e=1);var r=nc();null!==(t=Ns(t,e))&&(ye(t,e,r),oc(t,r))}function Rc(t){var e=t.memoizedState,r=0;null!==e&&(r=e.retryLane),Tc(t,r)}function Cc(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(e),Tc(t,r)}function Pc(t,e){return $t(t,e)}function Oc(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(t,e,r,n){return new Oc(t,e,r,n)}function Bc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Lc(t,e){var r=t.alternate;return null===r?((r=Nc(t.tag,e,t.key,t.mode)).elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&t.flags,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Dc(t,e,r,n,i,o){var a=2;if(n=t,"function"==typeof t)Bc(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case S:return Uc(r.children,i,o,e);case k:a=8,i|=8;break;case A:return(t=Nc(12,r,e,2|i)).elementType=A,t.lanes=o,t;case T:return(t=Nc(13,r,e,i)).elementType=T,t.lanes=o,t;case R:return(t=Nc(19,r,e,i)).elementType=R,t.lanes=o,t;case O:return Fc(r,i,o,e);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case I:a=10;break t;case M:a=9;break t;case x:a=11;break t;case C:a=14;break t;case P:a=16,n=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Nc(a,r,e,i)).elementType=t,e.type=n,e.lanes=o,e}function Uc(t,e,r,n){return(t=Nc(7,t,n,e)).lanes=r,t}function Fc(t,e,r,n){return(t=Nc(22,t,n,e)).elementType=O,t.lanes=r,t.stateNode={isHidden:!1},t}function zc(t,e,r){return(t=Nc(6,t,null,e)).lanes=r,t}function jc(t,e,r){return(e=Nc(4,null!==t.children?t.children:[],t.key,e)).lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vc(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hc(t,e,r,n,i,s,o,a,u){return t=new Vc(t,e,r,a,u),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Nc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),t}function qc(t){if(!t)return Mi;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var r=t.type;if(Pi(r))return Bi(t,r,e)}return e}function Kc(t,e,r,n,i,s,o,a,u){return(t=Hc(r,n,!0,t,0,s,0,a,u)).context=qc(null),r=t.current,(s=Us(n=nc(),i=ic(r))).callback=null!=e?e:null,Fs(r,s,i),t.current.lanes=i,ye(t,i,n),oc(t,n),t}function Wc(t,e,r,n){var i=e.current,s=nc(),o=ic(i);return r=qc(r),null===e.context?e.context=r:e.pendingContext=r,(e=Us(s,o)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),null!==(t=Fs(i,e,o))&&(sc(t,i,o,s),zs(t,i,o)),o}function $c(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Zc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var r=t.retryLane;t.retryLane=0!==r&&r<e?r:e}}function Gc(t,e){Zc(t,e),(t=t.alternate)&&Zc(t,e)}Iu=function(t,e,r){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ti.current)ba=!0;else{if(!(t.lanes&r||128&e.flags))return ba=!1,function(t,e,r){switch(e.tag){case 3:Pa(e),fs();break;case 5:Js(e);break;case 1:Pi(e.type)&&Li(e);break;case 4:Gs(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ii(Es,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=e.memoizedState))return null!==n.dehydrated?(Ii(Xs,1&Xs.current),e.flags|=128,null):r&e.child.childLanes?za(t,e,r):(Ii(Xs,1&Xs.current),null!==(t=$a(t,e,r))?t.sibling:null);Ii(Xs,1&Xs.current);break;case 19:if(n=!!(r&e.childLanes),128&t.flags){if(n)return Ka(t,e,r);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(Xs,Xs.current),n)break;return null;case 22:case 23:return e.lanes=0,Ia(t,e,r)}return $a(t,e,r)}(t,e,r);ba=!!(131072&t.flags)}else ba=!1,is&&1048576&e.flags&&Xi(e,Wi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Wa(t,e),t=e.pendingProps;var i=Ci(e,xi.current);Ts(e,r),i=go(null,e,n,t,i,r);var o=yo();return e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pi(n)?(o=!0,Li(e)):o=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(e),i.updater=sa,e.stateNode=i,i._reactInternals=e,ca(e,n,t,r),e=Ra(null,e,n,!0,o,r)):(e.tag=0,is&&o&&ts(e),_a(null,e,i,r),e=e.child),e;case 16:n=e.elementType;t:{switch(Wa(t,e),t=e.pendingProps,n=(i=n._init)(n._payload),e.type=n,i=e.tag=function(t){if("function"==typeof t)return Bc(t)?1:0;if(null!=t){if((t=t.$$typeof)===x)return 11;if(t===C)return 14}return 2}(n),t=ra(n,t),i){case 0:e=xa(null,e,n,t,r);break t;case 1:e=Ta(null,e,n,t,r);break t;case 11:e=Ea(null,e,n,t,r);break t;case 14:e=Sa(null,e,n,ra(n.type,t),r);break t}throw Error(s(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,xa(t,e,n,i=e.elementType===n?i:ra(n,i),r);case 1:return n=e.type,i=e.pendingProps,Ta(t,e,n,i=e.elementType===n?i:ra(n,i),r);case 3:t:{if(Pa(e),null===t)throw Error(s(387));n=e.pendingProps,i=(o=e.memoizedState).element,Ds(t,e),Vs(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Oa(t,e,n,r,i=la(Error(s(423)),e));break t}if(n!==i){e=Oa(t,e,n,r,i=la(Error(s(424)),e));break t}for(ns=ci(e.stateNode.containerInfo.firstChild),rs=e,is=!0,ss=null,r=_s(e,null,n,r),e.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fs(),n===i){e=$a(t,e,r);break t}_a(t,e,n,r)}e=e.child}return e;case 5:return Js(e),null===t&&cs(e),n=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,ri(n,i)?a=null:null!==o&&ri(n,o)&&(e.flags|=32),Ma(t,e),_a(t,e,a,r),e.child;case 6:return null===t&&cs(e),null;case 13:return za(t,e,r);case 4:return Gs(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=bs(e,null,n,r):_a(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,Ea(t,e,n,i=e.elementType===n?i:ra(n,i),r);case 7:return _a(t,e,e.pendingProps,r),e.child;case 8:case 12:return _a(t,e,e.pendingProps.children,r),e.child;case 10:t:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ii(Es,n._currentValue),n._currentValue=a,null!==o)if(an(o.value,a)){if(o.children===i.children&&!Ti.current){e=$a(t,e,r);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var u=o.dependencies;if(null!==u){a=o.child;for(var c=u.firstContext;null!==c;){if(c.context===n){if(1===o.tag){(c=Us(-1,r&-r)).tag=2;var l=o.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),xs(o.return,r,e),u.lanes|=r;break}c=c.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=r,null!==(u=a.alternate)&&(u.lanes|=r),xs(a,r,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ts(e,r),n=n(i=Rs(i)),e.flags|=1,_a(t,e,n,r),e.child;case 14:return i=ra(n=e.type,e.pendingProps),Sa(t,e,n,i=ra(n.type,i),r);case 15:return ka(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ra(n,i),Wa(t,e),e.tag=1,Pi(n)?(t=!0,Li(e)):t=!1,Ts(e,r),aa(e,n,i),ca(e,n,i,r),Ra(null,e,n,!0,t,r);case 19:return Ka(t,e,r);case 22:return Ia(t,e,r)}throw Error(s(156,e.tag))};var Qc="function"==typeof reportError?reportError:function(t){console.error(t)};function Jc(t){this._internalRoot=t}function Yc(t){this._internalRoot=t}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function tl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function el(){}function rl(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if("function"==typeof i){var a=i;i=function(){var t=$c(o);a.call(t)}}Wc(e,o,t,i)}else o=function(t,e,r,n,i){if(i){if("function"==typeof n){var s=n;n=function(){var t=$c(o);s.call(t)}}var o=Kc(e,n,t,0,null,!1,0,"",el);return t._reactRootContainer=o,t[pi]=o.current,Vn(8===t.nodeType?t.parentNode:t),fc(),o}for(;i=t.lastChild;)t.removeChild(i);if("function"==typeof n){var a=n;n=function(){var t=$c(u);a.call(t)}}var u=Hc(t,0,!1,null,0,!1,0,"",el);return t._reactRootContainer=u,t[pi]=u.current,Vn(8===t.nodeType?t.parentNode:t),fc((function(){Wc(e,u,r,n)})),u}(r,e,t,i,n);return $c(o)}Yc.prototype.render=Jc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Wc(t,e,null,null)},Yc.prototype.unmount=Jc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;fc((function(){Wc(null,t,null,null)})),e[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ke();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Oe.length&&0!==e&&e<Oe[r].priority;r++);Oe.splice(r,0,t),0===r&&De(t)}},_e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=he(e.pendingLanes);0!==r&&(we(e,1|r),oc(e,Jt()),!(6&Cu)&&(Ku=Jt()+500,Vi()))}break;case 13:fc((function(){var e=Ns(t,1);if(null!==e){var r=nc();sc(e,t,1,r)}})),Gc(t,1)}},Ee=function(t){if(13===t.tag){var e=Ns(t,134217728);if(null!==e)sc(e,t,134217728,nc());Gc(t,134217728)}},Se=function(t){if(13===t.tag){var e=ic(t),r=Ns(t,e);if(null!==r)sc(r,t,e,nc());Gc(t,e)}},ke=function(){return ve},Ae=function(t,e){var r=ve;try{return ve=t,e()}finally{ve=r}},Et=function(t,e,r){switch(e){case"input":if(Y(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=_i(n);if(!i)throw Error(s(90));$(n),Y(n,i)}}}break;case"textarea":st(t,r);break;case"select":null!=(e=r.value)&&rt(t,!!r.multiple,e,!1)}},xt=dc,Tt=fc;var nl={usingClientEntryPoint:!1,Events:[vi,bi,_i,It,Mt,dc]},il={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sl={bundleType:il.bundleType,version:il.version,rendererPackageName:il.rendererPackageName,rendererConfig:il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Kt(t))?null:t.stateNode},findFiberByHostInstance:il.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{ie=ol.inject(sl),se=ol}catch(lt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nl,e.createPortal=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(e))throw Error(s(200));return function(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}}(t,e,null,r)},e.createRoot=function(t,e){if(!Xc(t))throw Error(s(299));var r=!1,n="",i=Qc;return null!=e&&(!0===e.unstable_strictMode&&(r=!0),void 0!==e.identifierPrefix&&(n=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Hc(t,1,!1,null,0,r,0,n,i),t[pi]=e.current,Vn(8===t.nodeType?t.parentNode:t),new Jc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=Kt(e))?null:t.stateNode},e.flushSync=function(t){return fc(t)},e.hydrate=function(t,e,r){if(!tl(e))throw Error(s(200));return rl(null,t,e,!0,r)},e.hydrateRoot=function(t,e,r){if(!Xc(t))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,i=!1,o="",a=Qc;if(null!=r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(a=r.onRecoverableError)),e=Kc(e,null,t,1,null!=r?r:null,i,0,o,a),t[pi]=e.current,Vn(t),n)for(t=0;t<n.length;t++)i=(i=(r=n[t])._getVersion)(r._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Yc(e)},e.render=function(t,e,r){if(!tl(e))throw Error(s(200));return rl(null,t,e,!1,r)},e.unmountComponentAtNode=function(t){if(!tl(t))throw Error(s(40));return!!t._reactRootContainer&&(fc((function(){rl(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=dc,e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!tl(r))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return rl(t,e,r,!1,n)},e.version="18.3.1-next-f1338f8080-20240426"},7470:(t,e,r)=>{"use strict";var n=r(8325);e.H=n.createRoot,n.hydrateRoot},8325:(t,e,r)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=r(6067)},9348:(t,e,r)=>{"use strict";r.d(e,{I9:()=>c,N_:()=>d});var n=r(3696),i=r(7435),s=r(744);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o.apply(this,arguments)}function a(t,e){if(null==t)return{};var r,n,i={},s=Object.keys(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}const u=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function c(t){let{basename:e,children:r,window:o}=t,a=n.useRef();null==a.current&&(a.current=(0,s.TM)({window:o,v5Compat:!0}));let u=a.current,[c,l]=n.useState({action:u.action,location:u.location});return n.useLayoutEffect((()=>u.listen(l)),[u]),n.createElement(i.Ix,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:u})}const l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,h=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d=n.forwardRef((function(t,e){let r,{onClick:c,relative:d,reloadDocument:f,replace:p,state:m,target:g,to:y,preventScrollReset:w}=t,v=a(t,u),{basename:b}=n.useContext(i.jb),_=!1;if("string"==typeof y&&h.test(y)&&(r=y,l))try{let t=new URL(window.location.href),e=y.startsWith("//")?new URL(t.protocol+y):new URL(y),r=(0,s.pb)(e.pathname,b);e.origin===t.origin&&null!=r?y=r+e.search+e.hash:_=!0}catch(k){}let E=(0,i.$P)(y,{relative:d}),S=function(t,e){let{target:r,replace:o,state:a,preventScrollReset:u,relative:c}=void 0===e?{}:e,l=(0,i.Zp)(),h=(0,i.zy)(),d=(0,i.x$)(t,{relative:c});return n.useCallback((e=>{if(function(t,e){return!(0!==t.button||e&&"_self"!==e||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t))}(e,r)){e.preventDefault();let r=void 0!==o?o:(0,s.AO)(h)===(0,s.AO)(d);l(t,{replace:r,state:a,preventScrollReset:u,relative:c})}}),[h,l,d,o,a,r,t,u,c])}(y,{replace:p,state:m,target:g,preventScrollReset:w,relative:d});return n.createElement("a",o({},v,{href:r||E,onClick:_||f?c:function(t){c&&c(t),t.defaultPrevented||S(t)},ref:e,target:g}))}));var f,p;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(f||(f={})),function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(p||(p={}))},7435:(t,e,r)=>{"use strict";r.d(e,{$P:()=>d,C5:()=>R,Ix:()=>C,Ye:()=>v,Zp:()=>g,g:()=>y,jb:()=>u,x$:()=>w,zy:()=>p});var n=r(3696),i=r(744);function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s.apply(this,arguments)}const o=n.createContext(null);const a=n.createContext(null);const u=n.createContext(null);const c=n.createContext(null);const l=n.createContext({outlet:null,matches:[],isDataRoute:!1});const h=n.createContext(null);function d(t,e){let{relative:r}=void 0===e?{}:e;f()||(0,i.Oi)(!1);let{basename:s,navigator:o}=n.useContext(u),{hash:a,pathname:c,search:l}=w(t,{relative:r}),h=c;return"/"!==s&&(h="/"===c?s:(0,i.HS)([s,c])),o.createHref({pathname:h,search:l,hash:a})}function f(){return null!=n.useContext(c)}function p(){return f()||(0,i.Oi)(!1),n.useContext(c).location}function m(t){n.useContext(u).static||n.useLayoutEffect(t)}function g(){let{isDataRoute:t}=n.useContext(l);return t?function(){let{router:t}=M(A.UseNavigateStable),e=T(I.UseNavigateStable),r=n.useRef(!1);return m((()=>{r.current=!0})),n.useCallback((function(n,i){void 0===i&&(i={}),r.current&&("number"==typeof n?t.navigate(n):t.navigate(n,s({fromRouteId:e},i)))}),[t,e])}():function(){f()||(0,i.Oi)(!1);let t=n.useContext(o),{basename:e,navigator:r}=n.useContext(u),{matches:s}=n.useContext(l),{pathname:a}=p(),c=JSON.stringify((0,i.sd)(s).map((t=>t.pathnameBase))),h=n.useRef(!1);return m((()=>{h.current=!0})),n.useCallback((function(n,s){if(void 0===s&&(s={}),!h.current)return;if("number"==typeof n)return void r.go(n);let o=(0,i.Gh)(n,JSON.parse(c),a,"path"===s.relative);null==t&&"/"!==e&&(o.pathname="/"===o.pathname?e:(0,i.HS)([e,o.pathname])),(s.replace?r.replace:r.push)(o,s.state,s)}),[e,r,c,a,t])}()}function y(){let{matches:t}=n.useContext(l),e=t[t.length-1];return e?e.params:{}}function w(t,e){let{relative:r}=void 0===e?{}:e,{matches:s}=n.useContext(l),{pathname:o}=p(),a=JSON.stringify((0,i.sd)(s).map((t=>t.pathnameBase)));return n.useMemo((()=>(0,i.Gh)(t,JSON.parse(a),o,"path"===r)),[t,a,o,r])}function v(t,e){return b(t,e)}function b(t,e,r){f()||(0,i.Oi)(!1);let{navigator:o}=n.useContext(u),{matches:a}=n.useContext(l),h=a[a.length-1],d=h?h.params:{},m=(h&&h.pathname,h?h.pathnameBase:"/");h&&h.route;let g,y=p();if(e){var w;let t="string"==typeof e?(0,i.Rr)(e):e;"/"===m||(null==(w=t.pathname)?void 0:w.startsWith(m))||(0,i.Oi)(!1),g=t}else g=y;let v=g.pathname||"/",b="/"===m?v:v.slice(m.length)||"/",_=(0,i.ue)(t,{pathname:b});let E=k(_&&_.map((t=>Object.assign({},t,{params:Object.assign({},d,t.params),pathname:(0,i.HS)([m,o.encodeLocation?o.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?m:(0,i.HS)([m,o.encodeLocation?o.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,r);return e&&E?n.createElement(c.Provider,{value:{location:s({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:i.rc.Pop}},E):E}function _(){let t=function(){var t;let e=n.useContext(h),r=x(I.UseRouteError),i=T(I.UseRouteError);if(e)return e;return null==(t=r.errors)?void 0:t[i]}(),e=(0,i.pX)(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},e),r?n.createElement("pre",{style:o},r):null,null)}const E=n.createElement(_,null);class RenderErrorBoundary extends n.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error?n.createElement(l.Provider,{value:this.props.routeContext},n.createElement(h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S(t){let{routeContext:e,match:r,children:i}=t,s=n.useContext(o);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),n.createElement(l.Provider,{value:e},i)}function k(t,e,r){var s;if(void 0===e&&(e=[]),void 0===r&&(r=null),null==t){var o;if(null==(o=r)||!o.errors)return null;t=r.matches}let a=t,u=null==(s=r)?void 0:s.errors;if(null!=u){let t=a.findIndex((t=>t.route.id&&(null==u?void 0:u[t.route.id])));t>=0||(0,i.Oi)(!1),a=a.slice(0,Math.min(a.length,t+1))}return a.reduceRight(((t,i,s)=>{let o=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;r&&(c=i.route.errorElement||E);let l=e.concat(a.slice(0,s+1)),h=()=>{let e;return e=o?c:i.route.Component?n.createElement(i.route.Component,null):i.route.element?i.route.element:t,n.createElement(S,{match:i,routeContext:{outlet:t,matches:l,isDataRoute:null!=r},children:e})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?n.createElement(RenderErrorBoundary,{location:r.location,revalidation:r.revalidation,component:c,error:o,children:h(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):h()}),null)}var A,I;function M(t){let e=n.useContext(o);return e||(0,i.Oi)(!1),e}function x(t){let e=n.useContext(a);return e||(0,i.Oi)(!1),e}function T(t){let e=function(){let t=n.useContext(l);return t||(0,i.Oi)(!1),t}(),r=e.matches[e.matches.length-1];return r.route.id||(0,i.Oi)(!1),r.route.id}!function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"}(A||(A={})),function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"}(I||(I={}));function R(t){let{to:e,replace:r,state:s,relative:o}=t;f()||(0,i.Oi)(!1);let{matches:a}=n.useContext(l),{pathname:u}=p(),c=g(),h=(0,i.Gh)(e,(0,i.sd)(a).map((t=>t.pathnameBase)),u,"path"===o),d=JSON.stringify(h);return n.useEffect((()=>c(JSON.parse(d),{replace:r,state:s,relative:o})),[c,d,o,r,s]),null}function C(t){let{basename:e="/",children:r=null,location:s,navigationType:o=i.rc.Pop,navigator:a,static:l=!1}=t;f()&&(0,i.Oi)(!1);let h=e.replace(/^\/*/,"/"),d=n.useMemo((()=>({basename:h,navigator:a,static:l})),[h,a,l]);"string"==typeof s&&(s=(0,i.Rr)(s));let{pathname:p="/",search:m="",hash:g="",state:y=null,key:w="default"}=s,v=n.useMemo((()=>{let t=(0,i.pb)(p,h);return null==t?null:{location:{pathname:t,search:m,hash:g,state:y,key:w},navigationType:o}}),[h,p,m,g,y,w,o]);return null==v?null:n.createElement(u.Provider,{value:d},n.createElement(c.Provider,{children:r,value:v}))}var P;!function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"}(P||(P={}));new Promise((()=>{}));n.Component},2192:(t,e,r)=>{"use strict";var n=r(3696),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,r){var n,s={},c=null,l=null;for(n in void 0!==r&&(c=""+r),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(l=e.ref),e)o.call(e,n)&&!u.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===s[n]&&(s[n]=e[n]);return{$$typeof:i,type:t,key:c,ref:l,props:s,_owner:a.current}}e.Fragment=s,e.jsx=c,e.jsxs=c},4403:(t,e)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(t,e,r){this.props=t,this.context=e,this.refs=g,this.updater=r||p}function w(){}function v(t,e,r){this.props=t,this.context=e,this.refs=g,this.updater=r||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=y.prototype;var b=v.prototype=new w;b.constructor=v,m(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(t,e,n){var i,s={},o=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)E.call(e,i)&&!k.hasOwnProperty(i)&&(s[i]=e[i]);var u=arguments.length-2;if(1===u)s.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];s.children=c}if(t&&t.defaultProps)for(i in u=t.defaultProps)void 0===s[i]&&(s[i]=u[i]);return{$$typeof:r,type:t,key:o,ref:a,props:s,_owner:S.current}}function I(t){return"object"==typeof t&&null!==t&&t.$$typeof===r}var M=/\/+/g;function x(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function T(t,e,i,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var u=!1;if(null===t)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case r:case n:u=!0}}if(u)return o=o(u=t),t=""===s?"."+x(u,0):s,_(o)?(i="",null!=t&&(i=t.replace(M,"$&/")+"/"),T(o,e,i,"",(function(t){return t}))):null!=o&&(I(o)&&(o=function(t,e){return{$$typeof:r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(M,"$&/")+"/")+t)),e.push(o)),1;if(u=0,s=""===s?".":s+":",_(t))for(var c=0;c<t.length;c++){var l=s+x(a=t[c],c);u+=T(a,e,i,l,o)}else if(l=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"==typeof l)for(t=l.call(t),c=0;!(a=t.next()).done;)u+=T(a=a.value,e,i,l=s+x(a,c++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function R(t,e,r){if(null==t)return t;var n=[],i=0;return T(t,n,"","",(function(t){return e.call(r,t,i++)})),n}function C(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var P={current:null},O={transition:null},N={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function B(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:R,forEach:function(t,e,r){R(t,(function(){e.apply(this,arguments)}),r)},count:function(t){var e=0;return R(t,(function(){e++})),e},toArray:function(t){return R(t,(function(t){return t}))||[]},only:function(t){if(!I(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=i,e.Profiler=o,e.PureComponent=v,e.StrictMode=s,e.Suspense=l,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,e.act=B,e.cloneElement=function(t,e,n){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=m({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=S.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)E.call(e,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:r,type:t.type,key:s,ref:o,props:i,_owner:a}},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=A,e.createFactory=function(t){var e=A.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=I,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:C}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=O.transition;O.transition={};try{t()}finally{O.transition=e}},e.unstable_act=B,e.useCallback=function(t,e){return P.current.useCallback(t,e)},e.useContext=function(t){return P.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return P.current.useDeferredValue(t)},e.useEffect=function(t,e){return P.current.useEffect(t,e)},e.useId=function(){return P.current.useId()},e.useImperativeHandle=function(t,e,r){return P.current.useImperativeHandle(t,e,r)},e.useInsertionEffect=function(t,e){return P.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return P.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return P.current.useMemo(t,e)},e.useReducer=function(t,e,r){return P.current.useReducer(t,e,r)},e.useRef=function(t){return P.current.useRef(t)},e.useState=function(t){return P.current.useState(t)},e.useSyncExternalStore=function(t,e,r){return P.current.useSyncExternalStore(t,e,r)},e.useTransition=function(){return P.current.useTransition()},e.version="18.3.1"},3696:(t,e,r)=>{"use strict";t.exports=r(4403)},2540:(t,e,r)=>{"use strict";t.exports=r(2192)},8042:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||t,o),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,s),!0;case 6:return l.fn.call(l.context,e,n,i,s,o),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==e||i&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},1817:(t,e,r)=>{var n=r(8891),i=n.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},7699:(t,e)=>{"use strict";function r(t,e){var r=t.length;t.push(e);t:for(;0<r;){var n=r-1>>>1,i=t[n];if(!(0<s(i,e)))break t;t[n]=e,t[r]=i,r=n}}function n(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],r=t.pop();if(r!==e){t[0]=r;t:for(var n=0,i=t.length,o=i>>>1;n<o;){var a=2*(n+1)-1,u=t[a],c=a+1,l=t[c];if(0>s(u,r))c<i&&0>s(l,u)?(t[n]=l,t[c]=r,n=c):(t[n]=u,t[a]=r,n=a);else{if(!(c<i&&0>s(l,r)))break t;t[n]=l,t[c]=r,n=c}}}return e}function s(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var c=[],l=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,w="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(t){for(var e=n(l);null!==e;){if(null===e.callback)i(l);else{if(!(e.startTime<=t))break;i(l),e.sortIndex=e.expirationTime,r(c,e)}e=n(l)}}function _(t){if(g=!1,b(t),!m)if(null!==n(c))m=!0,O(E);else{var e=n(l);null!==e&&N(_,e.startTime-t)}}function E(t,r){m=!1,g&&(g=!1,w(I),I=-1),p=!0;var s=f;try{for(b(r),d=n(c);null!==d&&(!(d.expirationTime>r)||t&&!T());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=r);r=e.unstable_now(),"function"==typeof a?d.callback=a:d===n(c)&&i(c),b(r)}else i(c);d=n(c)}if(null!==d)var u=!0;else{var h=n(l);null!==h&&N(_,h.startTime-r),u=!1}return u}finally{d=null,f=s,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,A=null,I=-1,M=5,x=-1;function T(){return!(e.unstable_now()-x<M)}function R(){if(null!==A){var t=e.unstable_now();x=t;var r=!0;try{r=A(!0,t)}finally{r?S():(k=!1,A=null)}}else k=!1}if("function"==typeof v)S=function(){v(R)};else if("undefined"!=typeof MessageChannel){var C=new MessageChannel,P=C.port2;C.port1.onmessage=R,S=function(){P.postMessage(null)}}else S=function(){y(R,0)};function O(t){A=t,k||(k=!0,S())}function N(t,r){I=y((function(){t(e.unstable_now())}),r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,O(E))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var r=f;f=e;try{return t()}finally{f=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=f;f=t;try{return e()}finally{f=r}},e.unstable_scheduleCallback=function(t,i,s){var o=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,r(l,t),null===n(c)&&t===n(l)&&(g?(w(I),I=-1):g=!0,N(_,s-o))):(t.sortIndex=a,r(c,t),m||p||(m=!0,O(E))),t},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(t){var e=f;return function(){var r=f;f=e;try{return t.apply(this,arguments)}finally{f=r}}}},1434:(t,e,r)=>{"use strict";t.exports=r(7699)},9616:(t,e,r)=>{"use strict";var n;r.d(e,{v4:()=>h});var i=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(t){return"string"==typeof t&&o.test(t)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));const l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r};const h=function(t,e,r){var n=(t=t||{}).random||(t.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return l(n)}},4843:(t,e,r)=>{var n={"./token-25hAyBQfoDhfWx9ay6rarbgvWGwDdNqcHsXS3jQ3mTDJ.json":[9378,9378],"./token-25x9Av7ddPJQFVJy512VzzQ96A2Tqza22LtfHTKCpump.json":[9019,9019],"./token-27G8MtK7VtTcCHkpASjSDdkWWYfoqT6ggEuKidVJidD4.json":[954,954],"./token-2KgAN8nLAU74wjiyKi85m4ZT6Z9MtqrUTGfse8Xapump.json":[7021,7021],"./token-2b1kV6DkPAnxd5ixfnxCpjxmKwqjjaYmCZfHsFu24GXo.json":[4099,4099],"./token-2qEHjDLDLbuBgRYvsxhc5D6uDWAivNFZGan56P1tpump.json":[3082,3082],"./token-39qibQxVzemuZTEvjSB7NePhw9WyyHdQCqP8xmBMpump.json":[9230,9230],"./token-3B5wuUrMEi5yATD7on46hKfej3pfmd7t1RKgrsN3pump.json":[8811,8811],"./token-3NZ9JMVBmGAqocybic2c7LQCJScmgsAZ6vQqTDzcqmJh.json":[7835,7835],"./token-3an8rhdepsLCya22af7qDBKPbdomw8K4iCHXaA2Gpump.json":[3092,3092],"./token-4T54PGF4gAU75NL9j2GHvrVbR6u5zjyJE4zGuJbkpump.json":[9882,9882],"./token-4j9bDg7iWNah1Qa61rrqwWZMtEdqV3fV56SzyhfNpump.json":[5e3,5e3],"./token-4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R.json":[9818,9818],"./token-51zudBR4NmATG35goida4dLQH5YPn9k8hVkLcizNpump.json":[4296,4296],"./token-5LafQUrVco6o7KMz42eqVEJ9LW31StPyGjeeu5sKoMtA.json":[715,715],"./token-5SVG3T9CNQsm2kEwzbRq6hASqh1oGfjqTtLXYUibpump.json":[1385,1385],"./token-5mbK36SZ7J19An8jFochhQS4of8g6BwUjbeCSxBSoWdp.json":[27,27],"./token-5oVNBeEEQvYi1cX3ir8Dx5n1P7pdxydbGF2X4TxVusJm.json":[1676,1676],"./token-5voS9evDjxF589WuEub5i4ti7FWQmZCsAsyD5ucbuRqM.json":[2789,2789],"./token-5z3EqYQo9HiCEs3R84RCDMu2n7anpDMxRhdK8PSWmrRC.json":[6320,6320],"./token-5z3iCe53hUANTiG8Js8RjHNE2Arjik7L2CXLyr2rpump.json":[5663,5663],"./token-63LfDmNb3MQ8mw9MtZ2To9bEA2M71kZUUGq5tiJxcqj9.json":[1454,1454],"./token-66gsTs88mXJ5L4AtJnWqFW6H2L5YQDRy4W41y6zbpump.json":[7906,7906],"./token-69kdRLyP5DTRkpHraaSZAQbWmAwzF9guKjZfzMXzcbAs.json":[2270,2270],"./token-6ZrYhkwvoYE4QqzpdzJ7htEHwT2u2546EkTNJ7qepump.json":[766,766],"./token-6d5zHW5B8RkGKd51Lpb9RqFQSqDudr9GJgZ1SgQZpump.json":[2210,9829],"./token-6ogzHhzdrQr9Pgv6hZ2MNze7UrzBMAFyBBWUYp1Fhitx.json":[893,893],"./token-72XUGRRzuSoLRch3QPpSPHkuZ8F58rvtCNF4QSosLb4H.json":[9936,9936],"./token-79yTpy8uwmAkrdgZdq6ZSBTvxKsgPrNqTLvYQBh1pump.json":[4587,4587],"./token-7BgBvyjrZX1YKz4oh9mjb8ZScatkkwb8DzFx7LoiVkM3.json":[8735,8735],"./token-7GCihgDB8fe6KNjn2MYtkzZcRjQy3t9GHdC8uHYmW2hr.json":[3779,3779],"./token-7ZqzGzTNg5tjK1CHTBdGFHyKjBtXdfvAobuGgdt4pump.json":[9292,9292],"./token-7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs.json":[3029,3029],"./token-8NrAzg558TYtwdGYcwomsLHfdQ5dwEYckXqgfL6tpump.json":[6654,6654],"./token-8SgNwESovnbG1oNEaPVhg6CR9mTMSK7jPvcYRe3wpump.json":[3388,3388],"./token-8x5VqbHA8D7NkD52uNuS5nnt3PwA8pLD34ymskeSo2Wn.json":[8442,8442],"./token-9BB6NFEcjBCtnNLFko2FqVQBq8HHM13kCyYcdQbgpump.json":[5149,5149],"./token-9PR7nCP9DpcUotnDPVLUBUZKu5WAYkwrCUx9wDnSpump.json":[8404,8404],"./token-9TY6DUg1VSssYH5tFE95qoq5hnAGFak4w3cn72sJNCoV.json":[1182,1182],"./token-A8C3xuqscfmyLrte3VmTqrAq8kgMASius9AFNANwpump.json":[9889,9889],"./token-AMgMqadZ7Qpe9PCQwehAG3Xbg5cf8JxCxH7sGCSupump.json":[3477,3477],"./token-BjjvKX5k7gQoGRmvQAA5WMr7EkQ2cirGTSGxAznDpump.json":[4999,4999],"./token-BoAQaykj3LtkM2Brevc7cQcRAzpqcsP47nJ2rkyopump.json":[3575,3575],"./token-Bz4MhmVRQENiCou7ZpJ575wpjNFjBjVBSiVhuNg1pump.json":[1312,1312],"./token-C9FVTtx4WxgHmz55FEvQgykq8rqiLS8xRBVgqQVtpump.json":[5391,5391],"./token-CBdCxKo9QavR9hfShgpEBG3zekorAeD7W1jfq2o3pump.json":[4070,4070],"./token-CLoUDKc4Ane7HeQcPpE3YHnznRxhMimJ4MyaUqyHFzAu.json":[648,8267],"./token-CNvitvFnSM5ed6K28RUNSaAjqqz5tX1rA5HgaBN9pump.json":[6030,792],"./token-CzLSujWBLFsSjncfkh59rUFqvafWcY5tzedWJSuypump.json":[8244,8244],"./token-DKu9kykSfbN5LBfFXtNNDPaX35o4Fv6vJ9FKk7pZpump.json":[9462,9462],"./token-DQc6FTgu2HiB1PMUkHj8SATCtxsCeeMz5hiaqwk1pump.json":[9190,9190],"./token-DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263.json":[1565,1565],"./token-Dfh5DzRgSvvCFDoYc2ciTkMrbDfRKybA4SoFbPmApump.json":[5308,5308],"./token-DriFtupJYLTosbwoN8koMbEYSx54aFAVLddWsbksjwg7.json":[8317,8317],"./token-DwDtUqBZJtbRpdjsFw3N7YKB5epocSru25BGcVhfcYtg.json":[495,495],"./token-ED5nyyWEzpPPiWimP8vYm7sD7TD3LAt3Q3gRTWHzPJBY.json":[197,197],"./token-EKpQGSJtjMFqKZ9KQanSqYXRcF8fBopzLHYxdM65zcjm.json":[5246,5246],"./token-Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB.json":[8665,8665],"./token-F9nJsVxZGn3Az7HAXUrLQs2WaWHiKRbNRYfSpRR2UPRC.json":[6927,6927],"./token-FLqmVrv6cp7icjobpRMQJMEyjF3kF84QmC4HXpySpump.json":[8635,8635],"./token-FQ1tyso61AH1tzodyJfSwmzsD3GToybbRNoZxUBz21p8.json":[8237,8237],"./token-Fch1oixTPri8zxBnmdCEADoJW2toyFHxqDZacQkwdvSP.json":[8614,8614],"./token-FjTJCCQpLU4fpH58mN1bTQXiQsjJVYai3QYFjYqYpump.json":[2830,2830],"./token-FuQASH8ps9NPeDu4h3rVtMBygKYoSiSTZ4uSiA5tpump.json":[8301,8301],"./token-FvgqHMfL9yn39V79huDPy3YUNDoYJpuLWng2JfmQpump.json":[1829,1829],"./token-GJAFwWjJ3vnTsrQVabjBVK2TYB1YtRCQXRDfDgUnpump.json":[7658,7658],"./token-GJtJuWD9qYcCkrwMBmtY1tpapV1sKfB2zUv9Q4aqpump.json":[5685,5685],"./token-GiG7Hr61RVm4CSUxJmgiCoySFQtdiwxtqf64MsRppump.json":[2146,2146],"./token-GmbC2HgWpHpq9SHnmEXZNT5e1zgcU9oASDqbAkGTpump.json":[3886,3886],"./token-Grass7B4RdKfBCjTKgSqnXkqjwiGvQyFbuSCUJr3XXjs.json":[7656,7656],"./token-Gu3LDkn7Vx3bmCzLafYNKcDxv2mH7YN44NJZFXnypump.json":[2580,2580],"./token-H2c31USxu35MDkBrGph8pUDUnmzo2e4Rf4hnvL2Upump.json":[8419,8419],"./token-HAPPYwgFcjEJDzRtfWE6tiHE9zGdzpNky2FvjPHsvvGZ.json":[4134,4134],"./token-HUdqc5MR5h3FssESabPnQ1GTgTcPvnNudAuLj5J6a9sU.json":[4859,4859],"./token-HeJUFDxfJSzYFUuHLxkMqCgytU31G6mjP4wKviwqpump.json":[7710,7710],"./token-HeLp6NuQkmYB4pYWo2zYs22mESHXPQYzXbB8n4V98jwC.json":[7979,7979],"./token-HgBRWfYxEfvPhtqkaeymCQtHCrKE46qQ43pKe8HCpump.json":[7173,7173],"./token-HjdE4j3rHC7YMxFMHXSgEzXoNcVU6YBCfg9Q1gTJpump.json":[7796,7796],"./token-HwPtbFpd3VTe3tfyosoVtPf9WPuSk5gAKkN5xp6Npump.json":[9235,9235],"./token-Hz4CJCpZky4YD75Zs2R2nBjP5wY6tYbraaT2hVZCpump.json":[289,289],"./token-J1toso1uCk3RLmjorhTtrVwY9HJ7X8V9yYac6Y7kGCPn.json":[2969,2969],"./token-J3NKxxXZcnNiMjKw9hYb2K4LUxgwB6t1FtPtQVsv3KFr.json":[2478,2478],"./token-JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN.json":[6897,6897],"./token-KMNo3nJsBXfcpJTVhZcXLW7RmTwTt4GVFE7suUBo9sS.json":[9379,9379],"./token-MEW1gQWJ3nEXg2qgERiKu7FAFj79PHvQVREQUzScPP5.json":[383,383],"./token-USDSwr9ApdHk5bvJKMjzff41FfuX8bSxdKcR81vTwcA.json":[3241,3241],"./token-UrAE9vVdrWxncikcCRp7TgNqEsArFtP22iXzH7gpump.json":[731,731],"./token-WENWENvqqNya429ubCdR81ZmD69brwQaaBYY6p3LCpk.json":[9843,9843],"./token-bGxHNbsacaVL35pkYWae5PYQDZXSpuQb3QDyW31pump.json":[4322,4322],"./token-cbbtcf3aa214zXHbiAZQwf4122FBYbraNdFqgw4iMij.json":[5661,5661],"./token-he1iusmfkpAdwvxLNGV8Y1iSbj4rUy6yMhEA3fotn9A.json":[9568,9568],"./token-jtojtomepa8beP8AuQc6eXt5FriJwfFMwQx2v2f9mCL.json":[4040,4040],"./token-jupSoLaHXQiZZTSfEWMTRRgpnyFm8f6sZdosWBjx93v.json":[8831,8831],"./token-mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So.json":[7941,7941],"./token-rndrizKT3MK1iimdxRdWabcF7Zg7AR5T4nud4EkHBof.json":[9595,9595],"./token-ukHH6c7mMyiWCf1b9pnWe25TSpkDDt3H5pQZgZ74J82.json":[4450,4450],"./token-wUtwjNmjCP9TTTtoc5Xn5h5sZ2cYJm5w2w44b79yr2o.json":[5128,5128],"./token-z9ysNwXCYrh4xXRyQG9ujWqxNrdcChoicoJA9ebd7iF.json":[1784,1784],"./top-tokens.json":[5106,5106]};function i(t){if(!r.o(n,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=n[t],i=e[0];return r.e(e[1]).then((()=>r.t(i,19)))}i.keys=()=>Object.keys(n),i.id=4843,t.exports=i},1755:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(3943).Buffer}catch(x){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,i){for(var s=0,o=0,a=Math.min(t.length,r),u=e;u<a;u++){var c=t.charCodeAt(u)-48;s*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&o<i,"Invalid character"),s+=o}return s}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){l(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(x){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=f[t],l=p[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(t);r=(h=h.idivn(l)).isZero()?m+r:d[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,d=Math.min(c,e.length-1),f=Math.max(0,c-t.length+1);f<=d;f++){var p=c-f|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}s.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,w=g>>>13,v=0|o[3],b=8191&v,_=v>>>13,E=0|o[4],S=8191&E,k=E>>>13,A=0|o[5],I=8191&A,M=A>>>13,x=0|o[6],T=8191&x,R=x>>>13,C=0|o[7],P=8191&C,O=C>>>13,N=0|o[8],B=8191&N,L=N>>>13,D=0|o[9],U=8191&D,F=D>>>13,z=0|a[0],j=8191&z,V=z>>>13,H=0|a[1],q=8191&H,K=H>>>13,W=0|a[2],$=8191&W,Z=W>>>13,G=0|a[3],Q=8191&G,J=G>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,j))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(d,j)|0))<<13)|0;c=((s=Math.imul(d,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,V))+Math.imul(m,j)|0,s=Math.imul(m,V);var yt=(c+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,q)|0))<<13)|0;c=((s=s+Math.imul(d,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,V))+Math.imul(w,j)|0,s=Math.imul(w,V),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,K)|0;var wt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,$)|0))<<13)|0;c=((s=s+Math.imul(d,Z)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(b,j),i=(i=Math.imul(b,V))+Math.imul(_,j)|0,s=Math.imul(_,V),n=n+Math.imul(y,q)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(w,q)|0,s=s+Math.imul(w,K)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Z)|0;var vt=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Q)|0))<<13)|0;c=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,j),i=(i=Math.imul(S,V))+Math.imul(k,j)|0,s=Math.imul(k,V),n=n+Math.imul(b,q)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,J)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;c=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,V))+Math.imul(M,j)|0,s=Math.imul(M,V),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(k,q)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(w,Q)|0,s=s+Math.imul(w,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;c=((s=s+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(T,j),i=(i=Math.imul(T,V))+Math.imul(R,j)|0,s=Math.imul(R,V),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,K)|0)+Math.imul(M,q)|0,s=s+Math.imul(M,K)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(k,$)|0,s=s+Math.imul(k,Z)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,J)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;c=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,V))+Math.imul(O,j)|0,s=Math.imul(O,V),n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(R,q)|0,s=s+Math.imul(R,K)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(M,$)|0,s=s+Math.imul(M,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,J)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(w,rt)|0,s=s+Math.imul(w,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((s=s+Math.imul(d,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,V))+Math.imul(L,j)|0,s=Math.imul(L,V),n=n+Math.imul(P,q)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,q)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,J)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,X)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(w,st)|0,s=s+Math.imul(w,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var kt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;c=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,V))+Math.imul(F,j)|0,s=Math.imul(F,V),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,K)|0)+Math.imul(L,q)|0,s=s+Math.imul(L,K)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(R,Q)|0,s=s+Math.imul(R,J)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(M,X)|0,s=s+Math.imul(M,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(b,st)|0,i=(i=i+Math.imul(b,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(w,ut)|0,s=s+Math.imul(w,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,dt)|0;var At=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;c=((s=s+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,K))+Math.imul(F,q)|0,s=Math.imul(F,K),n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(L,$)|0,s=s+Math.imul(L,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(M,rt)|0,s=s+Math.imul(M,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(w,ht)|0,s=s+Math.imul(w,dt)|0;var It=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,Z))+Math.imul(F,$)|0,s=Math.imul(F,Z),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(L,Q)|0,s=s+Math.imul(L,J)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(M,st)|0,s=s+Math.imul(M,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(k,ut)|0,s=s+Math.imul(k,ct)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var Mt=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((s=s+Math.imul(w,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,J))+Math.imul(F,Q)|0,s=Math.imul(F,J),n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(L,X)|0,s=s+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(T,st)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(M,ut)|0,s=s+Math.imul(M,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,dt)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,dt)|0;var xt=(c+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(F,X)|0,s=Math.imul(F,tt),n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(L,rt)|0,s=s+Math.imul(L,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(R,ut)|0,s=s+Math.imul(R,ct)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,dt)|0)+Math.imul(M,ht)|0,s=s+Math.imul(M,dt)|0;var Tt=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;c=((s=s+Math.imul(k,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(F,rt)|0,s=Math.imul(F,nt),n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(L,st)|0,s=s+Math.imul(L,ot)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,dt)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,dt)|0;var Rt=(c+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(M,pt)|0))<<13)|0;c=((s=s+Math.imul(M,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,st),i=(i=Math.imul(U,ot))+Math.imul(F,st)|0,s=Math.imul(F,ot),n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(L,ut)|0,s=s+Math.imul(L,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,dt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,dt)|0;var Ct=(c+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((s=s+Math.imul(R,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ct))+Math.imul(F,ut)|0,s=Math.imul(F,ct),n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,dt)|0)+Math.imul(L,ht)|0,s=s+Math.imul(L,dt)|0;var Pt=(c+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(F,ht)|0,s=Math.imul(F,dt);var Ot=(c+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(L,pt)|0))<<13)|0;c=((s=s+Math.imul(L,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Nt=(c+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,mt))+Math.imul(F,pt)|0))<<13)|0;return c=((s=Math.imul(F,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=yt,u[2]=wt,u[3]=vt,u[4]=bt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=kt,u[9]=At,u[10]=It,u[11]=Mt,u[12]=xt,u[13]=Tt,u[14]=Rt,u[15]=Ct,u[16]=Pt,u[17]=Ot,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function y(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function w(t,e,r){return y(t,e,r)}function v(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?y(this,t,e):w(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},v.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},v.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},v.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,d=c,f=0;f<o;f++){var p=r[l+f],m=n[l+f],g=r[l+f+o],y=n[l+f+o],w=h*g-d*y;y=h*y+d*g,g=w,r[l+f]=p+g,n[l+f]=m+y,r[l+f+o]=p-g,n[l+f+o]=m-y,f!==a&&(w=u*h-c*d,d=u*d+c*h,h=w)}},v.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},v.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},v.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},v.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*l[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),w(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/t|0,r=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;!(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;!(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new I(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){I.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(E,_),E.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},E.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(S,_),i(k,_),i(A,_),A.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new E;else if("p224"===t)e=new S;else if("p192"===t)e=new k;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return b[t]=e,e},I.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},I.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},I.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},I.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},I.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},I.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},I.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},I.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},I.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},I.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},I.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},I.prototype.isqr=function(t){return this.imul(t,t.clone())},I.prototype.sqr=function(t){return this.mul(t,t)},I.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},I.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},I.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},I.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},I.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new M(t)},i(M,I),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},114:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i256=e.u256=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const i=r(2628),s=r(3483),o=n(r(2440));var a=r(2628);Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return a.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return a.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return a.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return a.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return a.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return a.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return a.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return a.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return a.struct}});class BNLayout extends i.Layout{constructor(t,e,r){super(t,r),this.blob=(0,i.blob)(t),this.signed=e}decode(t,e=0){const r=new o.default(this.blob.decode(t,e),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(t,e,r=0){return this.signed&&(t=t.toTwos(8*this.span)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),e,r)}}function u(t){return new BNLayout(8,!1,t)}e.u64=u,e.i64=function(t){return new BNLayout(8,!0,t)},e.u128=function(t){return new BNLayout(16,!1,t)},e.i128=function(t){return new BNLayout(16,!0,t)},e.u256=function(t){return new BNLayout(32,!1,t)},e.i256=function(t){return new BNLayout(32,!0,t)};class WrappedLayout extends i.Layout{constructor(t,e,r,n){super(t.span,n),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}e.publicKey=function(t){return new WrappedLayout((0,i.blob)(32),(t=>new s.PublicKey(t)),(t=>t.toBuffer()),t)};class OptionLayout extends i.Layout{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=(0,i.u8)()}encode(t,e,r=0){return null==t?this.discriminator.encode(0,e,r):(this.discriminator.encode(1,e,r),this.layout.encode(t,e,r+1)+1)}decode(t,e=0){const r=this.discriminator.decode(t,e);if(0===r)return null;if(1===r)return this.layout.decode(t,e+1);throw new Error("Invalid option "+this.property)}getSpan(t,e=0){const r=this.discriminator.decode(t,e);if(0===r)return 1;if(1===r)return this.layout.getSpan(t,e+1)+1;throw new Error("Invalid option "+this.property)}}function c(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function l(t){return t?1:0}function h(t){const e=(0,i.u32)("length"),r=(0,i.struct)([e,(0,i.blob)((0,i.offset)(e,-e.span),"data")]);return new WrappedLayout(r,(({data:t})=>t),(t=>({data:t})),t)}e.option=function(t,e){return new OptionLayout(t,e)},e.bool=function(t){return new WrappedLayout((0,i.u8)(),c,l,t)},e.vec=function(t,e){const r=(0,i.u32)("length"),n=(0,i.struct)([r,(0,i.seq)(t,(0,i.offset)(r,-r.span),"values")]);return new WrappedLayout(n,(({values:t})=>t),(t=>({values:t})),e)},e.tagged=function(t,e,r){const n=(0,i.struct)([u("tag"),e.replicate("data")]);return new WrappedLayout(n,(function({tag:e,data:r}){if(!e.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+e.toString("hex"));return r}),(e=>({tag:t,data:e})),r)},e.vecU8=h,e.str=function(t){return new WrappedLayout(h(),(t=>t.toString("utf-8")),(t=>Buffer.from(t,"utf-8")),t)},e.rustEnum=function(t,e,r){const n=(0,i.union)(null!=r?r:(0,i.u8)(),e);return t.forEach(((t,e)=>n.addVariant(e,t,t.property))),n},e.array=function(t,e,r){const n=(0,i.struct)([(0,i.seq)(t,e,"values")]);return new WrappedLayout(n,(({values:t})=>t),(t=>({values:t})),r)};class MapEntryLayout extends i.Layout{constructor(t,e,r){super(t.span+e.span,r),this.keyLayout=t,this.valueLayout=e}decode(t,e){e=e||0;return[this.keyLayout.decode(t,e),this.valueLayout.decode(t,e+this.keyLayout.getSpan(t,e))]}encode(t,e,r){r=r||0;const n=this.keyLayout.encode(t[0],e,r);return n+this.valueLayout.encode(t[1],e,r+n)}getSpan(t,e){return this.keyLayout.getSpan(t,e)+this.valueLayout.getSpan(t,e)}}e.map=function(t,e,r){const n=(0,i.u32)("length"),s=(0,i.struct)([n,(0,i.seq)(new MapEntryLayout(t,e),(0,i.offset)(n,-n.span),"values")]);return new WrappedLayout(s,(({values:t})=>new Map(t)),(t=>({values:Array.from(t.entries())})),r)}},2440:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(4422).Buffer}catch(x){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,i){for(var s=0,o=0,a=Math.min(t.length,r),u=e;u<a;u++){var c=t.charCodeAt(u)-48;s*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&o<i,"Invalid character"),s+=o}return s}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){l(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(x){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=f[t],l=p[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(t);r=(h=h.idivn(l)).isZero()?m+r:d[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,d=Math.min(c,e.length-1),f=Math.max(0,c-t.length+1);f<=d;f++){var p=c-f|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}s.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,w=g>>>13,v=0|o[3],b=8191&v,_=v>>>13,E=0|o[4],S=8191&E,k=E>>>13,A=0|o[5],I=8191&A,M=A>>>13,x=0|o[6],T=8191&x,R=x>>>13,C=0|o[7],P=8191&C,O=C>>>13,N=0|o[8],B=8191&N,L=N>>>13,D=0|o[9],U=8191&D,F=D>>>13,z=0|a[0],j=8191&z,V=z>>>13,H=0|a[1],q=8191&H,K=H>>>13,W=0|a[2],$=8191&W,Z=W>>>13,G=0|a[3],Q=8191&G,J=G>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,j))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(d,j)|0))<<13)|0;c=((s=Math.imul(d,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,V))+Math.imul(m,j)|0,s=Math.imul(m,V);var yt=(c+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,q)|0))<<13)|0;c=((s=s+Math.imul(d,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,V))+Math.imul(w,j)|0,s=Math.imul(w,V),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,K)|0;var wt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,$)|0))<<13)|0;c=((s=s+Math.imul(d,Z)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(b,j),i=(i=Math.imul(b,V))+Math.imul(_,j)|0,s=Math.imul(_,V),n=n+Math.imul(y,q)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(w,q)|0,s=s+Math.imul(w,K)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Z)|0;var vt=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Q)|0))<<13)|0;c=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,j),i=(i=Math.imul(S,V))+Math.imul(k,j)|0,s=Math.imul(k,V),n=n+Math.imul(b,q)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,J)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;c=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,V))+Math.imul(M,j)|0,s=Math.imul(M,V),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(k,q)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(w,Q)|0,s=s+Math.imul(w,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;c=((s=s+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(T,j),i=(i=Math.imul(T,V))+Math.imul(R,j)|0,s=Math.imul(R,V),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,K)|0)+Math.imul(M,q)|0,s=s+Math.imul(M,K)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(k,$)|0,s=s+Math.imul(k,Z)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,J)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;c=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,V))+Math.imul(O,j)|0,s=Math.imul(O,V),n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(R,q)|0,s=s+Math.imul(R,K)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(M,$)|0,s=s+Math.imul(M,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,J)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(w,rt)|0,s=s+Math.imul(w,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((s=s+Math.imul(d,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,V))+Math.imul(L,j)|0,s=Math.imul(L,V),n=n+Math.imul(P,q)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,q)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,J)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,X)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(w,st)|0,s=s+Math.imul(w,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var kt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;c=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,V))+Math.imul(F,j)|0,s=Math.imul(F,V),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,K)|0)+Math.imul(L,q)|0,s=s+Math.imul(L,K)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(R,Q)|0,s=s+Math.imul(R,J)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(M,X)|0,s=s+Math.imul(M,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(b,st)|0,i=(i=i+Math.imul(b,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(w,ut)|0,s=s+Math.imul(w,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,dt)|0;var At=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;c=((s=s+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,K))+Math.imul(F,q)|0,s=Math.imul(F,K),n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(L,$)|0,s=s+Math.imul(L,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(M,rt)|0,s=s+Math.imul(M,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(w,ht)|0,s=s+Math.imul(w,dt)|0;var It=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,Z))+Math.imul(F,$)|0,s=Math.imul(F,Z),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(L,Q)|0,s=s+Math.imul(L,J)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(M,st)|0,s=s+Math.imul(M,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(k,ut)|0,s=s+Math.imul(k,ct)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var Mt=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((s=s+Math.imul(w,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,J))+Math.imul(F,Q)|0,s=Math.imul(F,J),n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(L,X)|0,s=s+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(T,st)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(M,ut)|0,s=s+Math.imul(M,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,dt)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,dt)|0;var xt=(c+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(F,X)|0,s=Math.imul(F,tt),n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(L,rt)|0,s=s+Math.imul(L,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(R,ut)|0,s=s+Math.imul(R,ct)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,dt)|0)+Math.imul(M,ht)|0,s=s+Math.imul(M,dt)|0;var Tt=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;c=((s=s+Math.imul(k,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(F,rt)|0,s=Math.imul(F,nt),n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(L,st)|0,s=s+Math.imul(L,ot)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,dt)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,dt)|0;var Rt=(c+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(M,pt)|0))<<13)|0;c=((s=s+Math.imul(M,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,st),i=(i=Math.imul(U,ot))+Math.imul(F,st)|0,s=Math.imul(F,ot),n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(L,ut)|0,s=s+Math.imul(L,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,dt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,dt)|0;var Ct=(c+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((s=s+Math.imul(R,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ct))+Math.imul(F,ut)|0,s=Math.imul(F,ct),n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,dt)|0)+Math.imul(L,ht)|0,s=s+Math.imul(L,dt)|0;var Pt=(c+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(F,ht)|0,s=Math.imul(F,dt);var Ot=(c+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(L,pt)|0))<<13)|0;c=((s=s+Math.imul(L,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Nt=(c+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,mt))+Math.imul(F,pt)|0))<<13)|0;return c=((s=Math.imul(F,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=yt,u[2]=wt,u[3]=vt,u[4]=bt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=kt,u[9]=At,u[10]=It,u[11]=Mt,u[12]=xt,u[13]=Tt,u[14]=Rt,u[15]=Ct,u[16]=Pt,u[17]=Ot,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function y(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function w(t,e,r){return y(t,e,r)}function v(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?y(this,t,e):w(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},v.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},v.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},v.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,d=c,f=0;f<o;f++){var p=r[l+f],m=n[l+f],g=r[l+f+o],y=n[l+f+o],w=h*g-d*y;y=h*y+d*g,g=w,r[l+f]=p+g,n[l+f]=m+y,r[l+f+o]=p-g,n[l+f+o]=m-y,f!==a&&(w=u*h-c*d,d=u*d+c*h,h=w)}},v.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},v.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},v.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},v.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*l[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),w(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/t|0,r=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;!(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;!(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new I(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){I.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(E,_),E.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},E.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(S,_),i(k,_),i(A,_),A.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new E;else if("p224"===t)e=new S;else if("p192"===t)e=new k;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return b[t]=e,e},I.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},I.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},I.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},I.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},I.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},I.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},I.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},I.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},I.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},I.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},I.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},I.prototype.isqr=function(t){return this.imul(t,t.clone())},I.prototype.sqr=function(t){return this.mul(t,t)},I.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},I.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},I.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},I.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},I.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new M(t)},i(M,I),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},6593:(t,e,r)=>{"use strict";function n(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function i(t,...e){if(!((r=t)instanceof Uint8Array||ArrayBuffer.isView(r)&&"Uint8Array"===r.constructor.name))throw new Error("Uint8Array expected");var r;if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function s(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(t.outputLen),n(t.blockLen)}function o(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function a(t,e){i(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}r.d(e,{CC:()=>o,DO:()=>i,Fe:()=>n,Ht:()=>a,sd:()=>s})},3086:(t,e,r)=>{"use strict";r.d(e,{TQ:()=>o,ol:()=>HashMD,r9:()=>s});var n=r(6593),i=r(136);const s=(t,e,r)=>t&e^~t&r,o=(t,e,r)=>t&e^t&r^e&r;class HashMD extends i.Vw{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,i.O8)(this.buffer)}update(t){(0,n.CC)(this);const{view:e,buffer:r,blockLen:s}=this,o=(t=(0,i.ZJ)(t)).length;for(let n=0;n<o;){const a=Math.min(s-this.pos,o-n);if(a!==s)r.set(t.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===s&&(this.process(e,0),this.pos=0);else{const e=(0,i.O8)(t);for(;s<=o-n;n+=s)this.process(e,n)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,n.CC)(this),(0,n.Ht)(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let n=a;n<s;n++)e[n]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}(r,s-8,BigInt(8*this.length),o),this.process(r,0);const u=(0,i.O8)(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let n=0;n<l;n++)u.setUint32(4*n,h[n],o)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return t.length=n,t.pos=o,t.finished=i,t.destroyed=s,n%e&&t.buffer.set(r),t}}},5515:(t,e,r)=>{"use strict";r.d(e,{sc:()=>u});var n=r(3086),i=r(136);const s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class SHA256 extends n.ol{constructor(){super(64,32,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4],this.F=0|o[5],this.G=0|o[6],this.H=0|o[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[t,e,r,n,i,s,o,a]}set(t,e,r,n,i,s,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let n=0;n<16;n++,e+=4)a[n]=t.getUint32(e,!1);for(let n=16;n<64;n++){const t=a[n-15],e=a[n-2],r=(0,i.Ow)(t,7)^(0,i.Ow)(t,18)^t>>>3,s=(0,i.Ow)(e,17)^(0,i.Ow)(e,19)^e>>>10;a[n]=s+a[n-7]+r+a[n-16]|0}let{A:r,B:o,C:u,D:c,E:l,F:h,G:d,H:f}=this;for(let p=0;p<64;p++){const t=f+((0,i.Ow)(l,6)^(0,i.Ow)(l,11)^(0,i.Ow)(l,25))+(0,n.r9)(l,h,d)+s[p]+a[p]|0,e=((0,i.Ow)(r,2)^(0,i.Ow)(r,13)^(0,i.Ow)(r,22))+(0,n.TQ)(r,o,u)|0;f=d,d=h,h=l,l=c+t|0,c=u,u=o,o=r,r=t+e|0}r=r+this.A|0,o=o+this.B|0,u=u+this.C|0,c=c+this.D|0,l=l+this.E|0,h=h+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(r,o,u,c,l,h,d,f)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const u=(0,i.ld)((()=>new SHA256))},136:(t,e,r)=>{"use strict";r.d(e,{Vw:()=>Hash,Fc:()=>l,Id:()=>d,O8:()=>o,qv:()=>u,po:()=>p,Ow:()=>a,ZJ:()=>h,DH:()=>s,ld:()=>f});const n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var i=r(6593);const s=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),o=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),a=(t,e)=>t<<32-e|t>>>e,u=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])(),c=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function l(t){for(let e=0;e<t.length;e++)t[e]=c(t[e])}function h(t){return"string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),(0,i.DO)(t),t}function d(...t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];(0,i.DO)(r),e+=r.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const e=t[n];r.set(e,i),i+=e.length}return r}class Hash{clone(){return this._cloneInto()}}function f(t){const e=e=>t().update(h(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function p(t=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(t));if(n&&"function"==typeof n.randomBytes)return n.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}},785:(t,e,r)=>{"use strict";e.I0=e.DH=e.NX=e.u8=e.cY=void 0,e.av=e.O6=e.w3=e.Wg=void 0;const n=r(6503);function i(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function s(t){return i(t),n.Buffer.from(t.buffer,t.byteOffset,t.length)}class Layout{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function o(t,e){return e.property?t+"["+e.property+"]":t}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){i(t);const r=t.length-e;return Math.floor(r/this.elementSpan)}encode(t,e,r){return 0}}class OffsetLayout extends ExternalLayout{constructor(t,e=0,r){if(!(t instanceof Layout))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,r=0){return this.layout.encode(t,e,r+this.offset)}}class UInt extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readUIntLE(e,this.span)}encode(t,e,r=0){return s(e).writeUIntLE(t,r,this.span),this.span}}class UIntBE extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readUIntBE(e,this.span)}encode(t,e,r=0){return s(e).writeUIntBE(t,r,this.span),this.span}}class Int extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readIntLE(e,this.span)}encode(t,e,r=0){return s(e).writeIntLE(t,r,this.span),this.span}}class IntBE extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readIntBE(e,this.span)}encode(t,e,r=0){return s(e).writeIntBE(t,r,this.span),this.span}}const a=Math.pow(2,32);function u(t){const e=Math.floor(t/a);return{hi32:e,lo32:t-e*a}}function c(t,e){return t*a+e}class NearUInt64 extends Layout{constructor(t){super(8,t)}decode(t,e=0){const r=s(t),n=r.readUInt32LE(e);return c(r.readUInt32LE(e+4),n)}encode(t,e,r=0){const n=u(t),i=s(e);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}class NearUInt64BE extends Layout{constructor(t){super(8,t)}decode(t,e=0){const r=s(t);return c(r.readUInt32BE(e),r.readUInt32BE(e+4))}encode(t,e,r=0){const n=u(t),i=s(e);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}class NearInt64 extends Layout{constructor(t){super(8,t)}decode(t,e=0){const r=s(t),n=r.readUInt32LE(e);return c(r.readInt32LE(e+4),n)}encode(t,e,r=0){const n=u(t),i=s(e);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}class NearInt64BE extends Layout{constructor(t){super(8,t)}decode(t,e=0){const r=s(t);return c(r.readInt32BE(e),r.readUInt32BE(e+4))}encode(t,e,r=0){const n=u(t),i=s(e);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}class Float extends Layout{constructor(t){super(4,t)}decode(t,e=0){return s(t).readFloatLE(e)}encode(t,e,r=0){return s(e).writeFloatLE(t,r),4}}class FloatBE extends Layout{constructor(t){super(4,t)}decode(t,e=0){return s(t).readFloatBE(e)}encode(t,e,r=0){return s(e).writeFloatBE(t,r),4}}class Double extends Layout{constructor(t){super(8,t)}decode(t,e=0){return s(t).readDoubleLE(e)}encode(t,e,r=0){return s(e).writeDoubleLE(t,r),8}}class DoubleBE extends Layout{constructor(t){super(8,t)}decode(t,e=0){return s(t).readDoubleBE(e)}encode(t,e,r=0){return s(e).writeDoubleBE(t,r),8}}class Sequence extends Layout{constructor(t,e,r){if(!(t instanceof Layout))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(e instanceof ExternalLayout)&&0<t.span&&(n=e*t.span),super(n,r),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof ExternalLayout&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e=0){const r=[];let n=0,i=this.count;for(i instanceof ExternalLayout&&(i=i.decode(t,e));n<i;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r}encode(t,e,r=0){const n=this.elementLayout,i=t.reduce(((t,i)=>t+n.encode(i,e,r+t)),0);return this.count instanceof ExternalLayout&&this.count.encode(t.length,e,r),i}}class Structure extends Layout{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof Layout),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===r&&(r=e,e=void 0);for(const s of t)if(0>s.span&&void 0===s.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(i){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(t,e);return e+=i,r+i}),0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(t,e=0){i(t);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r=0){const n=r;let i=0,s=0;for(const o of this.fields){let n=o.span;if(s=0<n?n:0,void 0!==o.property){const i=t[o.property];void 0!==i&&(s=o.encode(i,e,r),0>n&&(n=o.getSpan(e,r)))}i=r,r+=n}return i+s-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class UnionDiscriminator{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,r){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class Union extends Layout{constructor(t,e,r){let n;if(t instanceof UInt||t instanceof UIntBE)n=new UnionLayoutDiscriminator(new OffsetLayout(t));else if(t instanceof ExternalLayout&&t.isCount())n=new UnionLayoutDiscriminator(t);else{if(!(t instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");n=t}if(void 0===e&&(e=null),!(null===e||e instanceof Layout))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof UInt||t instanceof UIntBE)&&(i+=n.layout.span)),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=t instanceof UInt||t instanceof UIntBE,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return s(t)},this.configGetSourceVariant=function(t){s=t.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error("unable to infer src variant")}decode(t,e=0){let r;const n=this.discriminator,i=n.decode(t,e),s=this.registry[i];if(void 0===s){const s=this.defaultLayout;let o=0;this.usesPrefixDiscriminator&&(o=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[s.property]=s.decode(t,e+o)}else r=s.decode(t,e);return r}encode(t,e,r=0){const n=this.getSourceVariant(t);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(t[n.property],e,r),s+i.encode(t[i.property],e,r+s)}return n.encode(t,e,r)}addVariant(t,e,r){const n=new VariantLayout(this,t,e,r);return this.registry[t]=n,n}getVariant(t,e=0){let r;return r=t instanceof Uint8Array?this.discriminator.decode(t,e):t,this.registry[r]}}class VariantLayout extends Layout{constructor(t,e,r,n){if(!(t instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof Layout))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,n),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(t,e+r)),r+n}decode(t,e=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=n;if(this.layout&&(this.layout.encode(t[this.property],e,r+n),i+=this.layout.getSpan(e,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function l(t){return 0>t&&(t+=4294967296),t}class BitStructure extends Layout{constructor(t,e,r){if(!(t instanceof UInt||t instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===r&&(r=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let n=0;this._packedSetValue=function(t){return n=l(t),this},this._packedGetValue=function(){return n}}decode(t,e=0){const r=this.makeDestinationObject(),n=this.word.decode(t,e);this._packedSetValue(n);for(const i of this.fields)void 0!==i.property&&(r[i.property]=i.decode(t));return r}encode(t,e,r=0){const n=this.word.decode(e,r);this._packedSetValue(n);for(const i of this.fields)if(void 0!==i.property){const e=t[i.property];void 0!==e&&i.encode(e)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){const r=new BitField(this,t,e);return this.fields.push(r),r}addBoolean(t){const e=new Boolean(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class BitField{constructor(t,e,r){if(!(t instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const n=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-e),this.wordMask=l(this.valueMask<<this.start),this.property=r}decode(t,e){return l(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if("number"!=typeof t||!Number.isInteger(t)||t!==l(t&this.valueMask))throw new TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),r=l(t<<this.start);this.container._packedSetValue(l(e&~this.wordMask)|r)}}class Boolean extends BitField{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){"boolean"==typeof t&&(t=+t),super.encode(t)}}class Blob extends Layout{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof ExternalLayout||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e=0){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),s(t).slice(e,e+r)}encode(t,e,r){let n=this.length;if(this.length instanceof ExternalLayout&&(n=t.length),!(t instanceof Uint8Array&&n===t.length))throw new TypeError(o("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>e.length)throw new RangeError("encoding overruns Uint8Array");const i=s(t);return s(e).write(i.toString("hex"),r,n,"hex"),this.length instanceof ExternalLayout&&this.length.encode(n,e,r),n}}class CString extends Layout{constructor(t){super(-1,t)}getSpan(t,e=0){i(t);let r=e;for(;r<t.length&&0!==t[r];)r+=1;return 1+r-e}decode(t,e=0){const r=this.getSpan(t,e);return s(t).slice(e,e+r-1).toString("utf-8")}encode(t,e,r=0){"string"!=typeof t&&(t=String(t));const i=n.Buffer.from(t,"utf8"),o=i.length;if(r+o>e.length)throw new RangeError("encoding overruns Buffer");const a=s(e);return i.copy(a,r),a[r+o]=0,o+1}}class UTF8 extends Layout{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return i(t),t.length-e}decode(t,e=0){const r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return s(t).slice(e,e+r).toString("utf-8")}encode(t,e,r=0){"string"!=typeof t&&(t=String(t));const i=n.Buffer.from(t,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(s(e),r),o}}class Constant extends Layout{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,r){return 0}}e.cY=(t,e,r)=>new OffsetLayout(t,e,r),e.u8=t=>new UInt(1,t),e.NX=t=>new UInt(2,t),e.DH=t=>new UInt(4,t),e.I0=t=>new NearUInt64(t),e.Wg=t=>new NearInt64(t),e.w3=(t,e,r)=>new Structure(t,e,r),e.O6=(t,e,r)=>new Sequence(t,e,r),e.av=(t,e)=>new Blob(t,e)},3483:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Account:()=>Account,AddressLookupTableAccount:()=>AddressLookupTableAccount,AddressLookupTableInstruction:()=>AddressLookupTableInstruction,AddressLookupTableProgram:()=>AddressLookupTableProgram,Authorized:()=>Authorized,BLOCKHASH_CACHE_TIMEOUT_MS:()=>Sn,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Ar,BPF_LOADER_PROGRAM_ID:()=>ln,BpfLoader:()=>BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>hs,ComputeBudgetInstruction:()=>ComputeBudgetInstruction,ComputeBudgetProgram:()=>ComputeBudgetProgram,Connection:()=>Connection,Ed25519Program:()=>Ed25519Program,Enum:()=>Enum,EpochSchedule:()=>EpochSchedule,FeeCalculatorLayout:()=>rn,Keypair:()=>Keypair,LAMPORTS_PER_SOL:()=>Cs,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>ls,Loader:()=>Loader,Lockup:()=>Lockup,MAX_SEED_LENGTH:()=>Er,Message:()=>Message,MessageAccountKeys:()=>MessageAccountKeys,MessageV0:()=>MessageV0,NONCE_ACCOUNT_LENGTH:()=>sn,NonceAccount:()=>NonceAccount,PACKET_DATA_SIZE:()=>Ir,PUBLIC_KEY_LENGTH:()=>Sr,PublicKey:()=>PublicKey,SIGNATURE_LENGTH_IN_BYTES:()=>xr,SOLANA_SCHEMA:()=>br,STAKE_CONFIG_ID:()=>gs,STAKE_INSTRUCTION_LAYOUTS:()=>ys,SYSTEM_INSTRUCTION_LAYOUTS:()=>un,SYSVAR_CLOCK_PUBKEY:()=>Vr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>Hr,SYSVAR_INSTRUCTIONS_PUBKEY:()=>qr,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>Kr,SYSVAR_RENT_PUBKEY:()=>Wr,SYSVAR_REWARDS_PUBKEY:()=>$r,SYSVAR_SLOT_HASHES_PUBKEY:()=>Zr,SYSVAR_SLOT_HISTORY_PUBKEY:()=>Gr,SYSVAR_STAKE_HISTORY_PUBKEY:()=>Qr,Secp256k1Program:()=>Secp256k1Program,SendTransactionError:()=>SendTransactionError,SolanaJSONRPCError:()=>SolanaJSONRPCError,SolanaJSONRPCErrorCode:()=>Jr,StakeAuthorizationLayout:()=>ws,StakeInstruction:()=>StakeInstruction,StakeProgram:()=>StakeProgram,Struct:()=>index_browser_esm_Struct,SystemInstruction:()=>SystemInstruction,SystemProgram:()=>SystemProgram,Transaction:()=>Transaction,TransactionExpiredBlockheightExceededError:()=>TransactionExpiredBlockheightExceededError,TransactionExpiredNonceInvalidError:()=>TransactionExpiredNonceInvalidError,TransactionExpiredTimeoutError:()=>TransactionExpiredTimeoutError,TransactionInstruction:()=>TransactionInstruction,TransactionMessage:()=>TransactionMessage,TransactionStatus:()=>zr,VALIDATOR_INFO_KEY:()=>_s,VERSION_PREFIX_MASK:()=>Mr,VOTE_PROGRAM_ID:()=>Ss,ValidatorInfo:()=>ValidatorInfo,VersionedMessage:()=>Fr,VersionedTransaction:()=>VersionedTransaction,VoteAccount:()=>VoteAccount,VoteAuthorizationLayout:()=>bs,VoteInit:()=>VoteInit,VoteInstruction:()=>VoteInstruction,VoteProgram:()=>VoteProgram,clusterApiUrl:()=>Ts,sendAndConfirmRawTransaction:()=>Rs,sendAndConfirmTransaction:()=>Yr});var n={};r.r(n),r.d(n,{aK:()=>V,e8:()=>I,DO:()=>A,dJ:()=>H,OG:()=>q,My:()=>x,Ph:()=>N,lX:()=>B,Id:()=>F,fg:()=>$,qj:()=>U,aT:()=>O,r4:()=>j,aY:()=>k,x:()=>Q,lq:()=>L,z:()=>D,zW:()=>T,Q5:()=>G});var i=r(6503),s=r(3086);const o=BigInt(2**32-1),a=BigInt(32);function u(t,e=!1){return e?{h:Number(t&o),l:Number(t>>a&o)}:{h:0|Number(t>>a&o),l:0|Number(t&o)}}function c(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=u(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const l=(t,e,r)=>t<<r|e>>>32-r,h=(t,e,r)=>e<<r|t>>>32-r,d=(t,e,r)=>e<<r-32|t>>>64-r,f=(t,e,r)=>t<<r-32|e>>>64-r;const p={fromBig:u,split:c,toBig:(t,e)=>BigInt(t>>>0)<<a|BigInt(e>>>0),shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:l,rotlSL:h,rotlBH:d,rotlBL:f,add:function(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,add5H:(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};var m=r(136);const[g,y]=(()=>p.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))))(),w=new Uint32Array(80),v=new Uint32Array(80);class SHA512 extends s.ol{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:u,El:c,Fh:l,Fl:h,Gh:d,Gl:f,Hh:p,Hl:m}=this;return[t,e,r,n,i,s,o,a,u,c,l,h,d,f,p,m]}set(t,e,r,n,i,s,o,a,u,c,l,h,d,f,p,m){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|l,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(t,e){for(let p=0;p<16;p++,e+=4)w[p]=t.getUint32(e),v[p]=t.getUint32(e+=4);for(let g=16;g<80;g++){const t=0|w[g-15],e=0|v[g-15],r=p.rotrSH(t,e,1)^p.rotrSH(t,e,8)^p.shrSH(t,e,7),n=p.rotrSL(t,e,1)^p.rotrSL(t,e,8)^p.shrSL(t,e,7),i=0|w[g-2],s=0|v[g-2],o=p.rotrSH(i,s,19)^p.rotrBH(i,s,61)^p.shrSH(i,s,6),a=p.rotrSL(i,s,19)^p.rotrBL(i,s,61)^p.shrSL(i,s,6),u=p.add4L(n,a,v[g-7],v[g-16]),c=p.add4H(u,r,o,w[g-7],w[g-16]);w[g]=0|c,v[g]=0|u}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:u,Dl:c,Eh:l,El:h,Fh:d,Fl:f,Gh:m,Gl:b,Hh:_,Hl:E}=this;for(let S=0;S<80;S++){const t=p.rotrSH(l,h,14)^p.rotrSH(l,h,18)^p.rotrBH(l,h,41),e=p.rotrSL(l,h,14)^p.rotrSL(l,h,18)^p.rotrBL(l,h,41),k=l&d^~l&m,A=h&f^~h&b,I=p.add5L(E,e,A,y[S],v[S]),M=p.add5H(I,_,t,k,g[S],w[S]),x=0|I,T=p.rotrSH(r,n,28)^p.rotrBH(r,n,34)^p.rotrBH(r,n,39),R=p.rotrSL(r,n,28)^p.rotrBL(r,n,34)^p.rotrBL(r,n,39),C=r&i^r&o^i&o,P=n&s^n&a^s&a;_=0|m,E=0|b,m=0|d,b=0|f,d=0|l,f=0|h,({h:l,l:h}=p.add(0|u,0|c,0|M,0|x)),u=0|o,c=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const O=p.add3L(x,R,P);r=p.add3H(O,M,T,C),n=0|O}({h:r,l:n}=p.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=p.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=p.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:u,l:c}=p.add(0|this.Dh,0|this.Dl,0|u,0|c)),({h:l,l:h}=p.add(0|this.Eh,0|this.El,0|l,0|h)),({h:d,l:f}=p.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:m,l:b}=p.add(0|this.Gh,0|this.Gl,0|m,0|b)),({h:_,l:E}=p.add(0|this.Hh,0|this.Hl,0|_,0|E)),this.set(r,n,i,s,o,a,u,c,l,h,d,f,m,b,_,E)}roundClean(){w.fill(0),v.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const b=(0,m.ld)((()=>new SHA512)),_=BigInt(0),E=BigInt(1),S=BigInt(2);function k(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function A(t){if(!k(t))throw new Error("Uint8Array expected")}function I(t,e){if("boolean"!=typeof e)throw new Error(t+" boolean expected, got "+e)}const M=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function x(t){A(t);let e="";for(let r=0;r<t.length;r++)e+=M[t[r]];return e}function T(t){const e=t.toString(16);return 1&e.length?"0"+e:e}function R(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return""===t?_:BigInt("0x"+t)}const C={_0:48,_9:57,A:65,F:70,a:97,f:102};function P(t){return t>=C._0&&t<=C._9?t-C._0:t>=C.A&&t<=C.F?t-(C.A-10):t>=C.a&&t<=C.f?t-(C.a-10):void 0}function O(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const e=P(t.charCodeAt(s)),r=P(t.charCodeAt(s+1));if(void 0===e||void 0===r){const e=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+s)}n[i]=16*e+r}return n}function N(t){return R(x(t))}function B(t){return A(t),R(x(Uint8Array.from(t).reverse()))}function L(t,e){return O(t.toString(16).padStart(2*e,"0"))}function D(t,e){return L(t,e).reverse()}function U(t,e,r){let n;if("string"==typeof e)try{n=O(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else{if(!k(e))throw new Error(t+" must be hex string or Uint8Array");n=Uint8Array.from(e)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function F(...t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];A(r),e+=r.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const e=t[n];r.set(e,i),i+=e.length}return r}const z=t=>"bigint"==typeof t&&_<=t;function j(t,e,r){return z(t)&&z(e)&&z(r)&&e<=t&&t<r}function V(t,e,r,n){if(!j(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function H(t){let e;for(e=0;t>_;t>>=E,e+=1);return e}const q=t=>(S<<BigInt(t-1))-E,K=t=>new Uint8Array(t),W=t=>Uint8Array.from(t);function $(t,e,r){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=K(t),i=K(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...t)=>r(i,n,...t),u=(t=K())=>{i=a(W([0]),t),n=a(),0!==t.length&&(i=a(W([1]),t),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const r=[];for(;t<e;){n=a();const e=n.slice();r.push(e),t+=n.length}return F(...r)};return(t,e)=>{let r;for(o(),u(t);!(r=e(c()));)u();return o(),r}}const Z={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||k(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function G(t,e,r={}){const n=(e,r,n)=>{const i=Z[r];if("function"!=typeof i)throw new Error("invalid validator function");const s=t[e];if(!(n&&void 0===s||i(s,t)))throw new Error("param "+String(e)+" is invalid. Expected "+r+", got "+s)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function Q(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(void 0!==i)return i;const s=t(r,...n);return e.set(r,s),s}}const J=BigInt(0),Y=BigInt(1),X=BigInt(2),tt=BigInt(3),et=BigInt(4),rt=BigInt(5),nt=BigInt(8);function it(t,e){const r=t%e;return r>=J?r:e+r}function st(t,e,r){if(e<J)throw new Error("invalid exponent, negatives unsupported");if(r<=J)throw new Error("invalid modulus");if(r===Y)return J;let n=Y;for(;e>J;)e&Y&&(n=n*t%r),t=t*t%r,e>>=Y;return n}function ot(t,e,r){let n=t;for(;e-- >J;)n*=n,n%=r;return n}function at(t,e){if(t===J)throw new Error("invert: expected non-zero number");if(e<=J)throw new Error("invert: expected positive modulus, got "+e);let r=it(t,e),n=e,i=J,s=Y,o=Y,a=J;for(;r!==J;){const t=n/r,e=n%r,u=i-o*t,c=s-a*t;n=r,r=e,i=o,s=a,o=u,a=c}if(n!==Y)throw new Error("invert: does not exist");return it(i,e)}function ut(t){if(t%et===tt){const e=(t+Y)/et;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}if(t%nt===rt){const e=(t-rt)/nt;return function(t,r){const n=t.mul(r,X),i=t.pow(n,e),s=t.mul(r,i),o=t.mul(t.mul(s,X),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(t){const e=(t-Y)/X;let r,n,i;for(r=t-Y,n=0;r%X===J;r/=X,n++);for(i=X;i<t&&st(i,e,t)!==t-Y;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===n){const e=(t+Y)/et;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}const s=(r+Y)/X;return function(t,o){if(t.pow(o,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let a=n,u=t.pow(t.mul(t.ONE,i),r),c=t.pow(o,s),l=t.pow(o,r);for(;!t.eql(l,t.ONE);){if(t.eql(l,t.ZERO))return t.ZERO;let e=1;for(let n=t.sqr(l);e<a&&!t.eql(n,t.ONE);e++)n=t.sqr(n);const r=t.pow(u,Y<<BigInt(a-e-1));u=t.sqr(r),c=t.mul(c,r),l=t.mul(l,u),a=e}return c}}(t)}const ct=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lt(t,e){const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function ht(t,e,r=!1,n={}){if(t<=J)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=lt(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:q(i),ZERO:J,ONE:Y,create:e=>it(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("invalid field element: expected bigint, got "+typeof e);return J<=e&&e<t},is0:t=>t===J,isOdd:t=>(t&Y)===Y,neg:e=>it(-e,t),eql:(t,e)=>t===e,sqr:e=>it(e*e,t),add:(e,r)=>it(e+r,t),sub:(e,r)=>it(e-r,t),mul:(e,r)=>it(e*r,t),pow:(t,e)=>function(t,e,r){if(r<J)throw new Error("invalid exponent, negatives unsupported");if(r===J)return t.ONE;if(r===Y)return e;let n=t.ONE,i=e;for(;r>J;)r&Y&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Y;return n}(a,t,e),div:(e,r)=>it(e*at(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>at(e,t),sqrt:n.sqrt||(e=>(o||(o=ut(t)),o(a,e))),invertBatch:t=>function(t,e){const r=new Array(e.length),n=e.reduce(((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n))),t.ONE),i=t.inv(n);return e.reduceRight(((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n))),i),r}(a,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?D(t,s):L(t,s),fromBytes:t=>{if(t.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+t.length);return r?B(t):N(t)}});return Object.freeze(a)}function dt(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function ft(t){const e=dt(t);return e+Math.ceil(e/2)}const pt=BigInt(0),mt=BigInt(1);function gt(t,e){const r=e.negate();return t?r:e}function yt(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function wt(t,e){yt(t,e);return{windows:Math.ceil(e/t)+1,windowSize:2**(t-1)}}function vt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach(((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)}))}function bt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach(((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)}))}const _t=new WeakMap,Et=new WeakMap;function St(t){return Et.get(t)||1}function kt(t,e){return{constTimeNegate:gt,hasPrecomputes:t=>1!==St(t),unsafeLadder(e,r,n=t.ZERO){let i=e;for(;r>pt;)r&mt&&(n=n.add(i)),i=i.double(),r>>=mt;return n},precomputeWindow(t,r){const{windows:n,windowSize:i}=wt(r,e),s=[];let o=t,a=o;for(let e=0;e<n;e++){a=o,s.push(a);for(let t=1;t<i;t++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(r,n,i){const{windows:s,windowSize:o}=wt(r,e);let a=t.ZERO,u=t.BASE;const c=BigInt(2**r-1),l=2**r,h=BigInt(r);for(let t=0;t<s;t++){const e=t*o;let r=Number(i&c);i>>=h,r>o&&(r-=l,i+=mt);const s=e,d=e+Math.abs(r)-1,f=t%2!=0,p=r<0;0===r?u=u.add(gt(f,n[s])):a=a.add(gt(p,n[d]))}return{p:a,f:u}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=wt(r,e),u=BigInt(2**r-1),c=2**r,l=BigInt(r);for(let t=0;t<o;t++){const e=t*a;if(i===pt)break;let r=Number(i&u);if(i>>=l,r>a&&(r-=c,i+=mt),0===r)continue;let o=n[e+Math.abs(r)-1];r<0&&(o=o.negate()),s=s.add(o)}return s},getPrecomputes(t,e,r){let n=_t.get(e);return n||(n=this.precomputeWindow(e,t),1!==t&&_t.set(e,r(n))),n},wNAFCached(t,e,r){const n=St(t);return this.wNAF(n,this.getPrecomputes(n,t,r),e)},wNAFCachedUnsafe(t,e,r,n){const i=St(t);return 1===i?this.unsafeLadder(t,e,n):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),e,n)},setWindowSize(t,r){yt(r,e),Et.set(t,r),_t.delete(t)}}}function At(t,e,r,n){if(vt(r,t),bt(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=H(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,u=new Array(a+1).fill(i);let c=i;for(let l=Math.floor((e.BITS-1)/o)*o;l>=0;l-=o){u.fill(i);for(let e=0;e<n.length;e++){const t=n[e],i=Number(t>>BigInt(l)&BigInt(a));u[i]=u[i].add(r[e])}let t=i;for(let e=u.length-1,r=i;e>0;e--)r=r.add(u[e]),t=t.add(r);if(c=c.add(t),0!==l)for(let e=0;e<o;e++)c=c.double()}return c}function It(t){return function(t){const e=ct.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});G(t,e)}(t.Fp),G(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...lt(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Mt=BigInt(0),xt=BigInt(1),Tt=BigInt(2),Rt=BigInt(8),Ct={zip215:!0};function Pt(t){const e=function(t){const e=It(t);return G(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:u}=e,c=Tt<<BigInt(8*a)-xt,l=r.create,h=ht(e.n,e.nBitLength),d=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:r.sqrt(t*r.inv(e))}}catch(n){return{isValid:!1,value:Mt}}}),f=e.adjustScalarBytes||(t=>t),p=e.domain||((t,e,r)=>{if(I("phflag",r),e.length||r)throw new Error("Contexts/pre-hash are not supported");return t});function m(t,e){V("coordinate "+t,e,Mt,c)}function g(t){if(!(t instanceof Point))throw new Error("ExtendedPoint expected")}const y=Q(((t,e)=>{const{ex:n,ey:i,ez:s}=t,o=t.is0();null==e&&(e=o?Rt:r.inv(s));const a=l(n*e),u=l(i*e),c=l(s*e);if(o)return{x:Mt,y:xt};if(c!==xt)throw new Error("invZ was invalid");return{x:a,y:u}})),w=Q((t=>{const{a:r,d:n}=e;if(t.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=t,u=l(i*i),c=l(s*s),h=l(o*o),d=l(h*h),f=l(u*r);if(l(h*l(f+c))!==l(d+l(n*l(u*c))))throw new Error("bad point: equation left != right (1)");if(l(i*s)!==l(o*a))throw new Error("bad point: equation left != right (2)");return!0}));class Point{constructor(t,e,r,n){this.ex=t,this.ey=e,this.ez=r,this.et=n,m("x",t),m("y",e),m("z",r),m("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(t){if(t instanceof Point)throw new Error("extended point not allowed");const{x:e,y:r}=t||{};return m("x",e),m("y",r),new Point(e,r,xt,l(e*r))}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.ez)));return t.map(((t,r)=>t.toAffine(e[r]))).map(Point.fromAffine)}static msm(t,e){return At(Point,h,t,e)}_setWindowSize(t){_.setWindowSize(this,t)}assertValidity(){w(this)}equals(t){g(t);const{ex:e,ey:r,ez:n}=this,{ex:i,ey:s,ez:o}=t,a=l(e*o),u=l(i*n),c=l(r*o),h=l(s*n);return a===u&&c===h}is0(){return this.equals(Point.ZERO)}negate(){return new Point(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:t}=e,{ex:r,ey:n,ez:i}=this,s=l(r*r),o=l(n*n),a=l(Tt*l(i*i)),u=l(t*s),c=r+n,h=l(l(c*c)-s-o),d=u+o,f=d-a,p=u-o,m=l(h*f),g=l(d*p),y=l(h*p),w=l(f*d);return new Point(m,g,w,y)}add(t){g(t);const{a:r,d:n}=e,{ex:i,ey:s,ez:o,et:a}=this,{ex:u,ey:c,ez:h,et:d}=t;if(r===BigInt(-1)){const t=l((s-i)*(c+u)),e=l((s+i)*(c-u)),r=l(e-t);if(r===Mt)return this.double();const n=l(o*Tt*d),f=l(a*Tt*h),p=f+n,m=e+t,g=f-n,y=l(p*r),w=l(m*g),v=l(p*g),b=l(r*m);return new Point(y,w,b,v)}const f=l(i*u),p=l(s*c),m=l(a*n*d),y=l(o*h),w=l((i+s)*(u+c)-f-p),v=y-m,b=y+m,_=l(p-r*f),E=l(w*v),S=l(b*_),k=l(w*_),A=l(v*b);return new Point(E,S,A,k)}subtract(t){return this.add(t.negate())}wNAF(t){return _.wNAFCached(this,t,Point.normalizeZ)}multiply(t){const e=t;V("scalar",e,xt,n);const{p:r,f:i}=this.wNAF(e);return Point.normalizeZ([r,i])[0]}multiplyUnsafe(t,e=Point.ZERO){const r=t;return V("scalar",r,Mt,n),r===Mt?b:this.is0()||r===xt?this:_.wNAFCachedUnsafe(this,r,Point.normalizeZ,e)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return _.unsafeLadder(this,n).is0()}toAffine(t){return y(this,t)}clearCofactor(){const{h:t}=e;return t===xt?this:this.multiplyUnsafe(t)}static fromHex(t,n=!1){const{d:i,a:s}=e,o=r.BYTES;t=U("pointHex",t,o),I("zip215",n);const a=t.slice(),u=t[o-1];a[o-1]=-129&u;const h=B(a),f=n?c:r.ORDER;V("pointHex.y",h,Mt,f);const p=l(h*h),m=l(p-xt),g=l(i*p-s);let{isValid:y,value:w}=d(m,g);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const v=(w&xt)===xt,b=!!(128&u);if(!n&&w===Mt&&b)throw new Error("Point.fromHex: x=0 and x_0=1");return b!==v&&(w=l(-w)),Point.fromAffine({x:w,y:h})}static fromPrivateKey(t){return k(t).point}toRawBytes(){const{x:t,y:e}=this.toAffine(),n=D(e,r.BYTES);return n[n.length-1]|=t&xt?128:0,n}toHex(){return x(this.toRawBytes())}}Point.BASE=new Point(e.Gx,e.Gy,xt,l(e.Gx*e.Gy)),Point.ZERO=new Point(Mt,xt,xt,Mt);const{BASE:v,ZERO:b}=Point,_=kt(Point,8*a);function E(t){return it(t,n)}function S(t){return E(B(t))}function k(t){const e=r.BYTES;t=U("private key",t,e);const n=U("hashed private key",s(t),2*e),i=f(n.slice(0,e)),o=n.slice(e,2*e),a=S(i),u=v.multiply(a),c=u.toRawBytes();return{head:i,prefix:o,scalar:a,point:u,pointBytes:c}}function A(t=new Uint8Array,...e){const r=F(...e);return S(s(p(r,U("context",t),!!i)))}const M=Ct;v._setWindowSize(8);return{CURVE:e,getPublicKey:function(t){return k(t).pointBytes},sign:function(t,e,s={}){t=U("message",t),i&&(t=i(t));const{prefix:o,scalar:a,pointBytes:u}=k(e),c=A(s.context,o,t),l=v.multiply(c).toRawBytes(),h=E(c+A(s.context,l,u,t)*a);return V("signature.s",h,Mt,n),U("result",F(l,D(h,r.BYTES)),2*r.BYTES)},verify:function(t,e,n,s=M){const{context:o,zip215:a}=s,u=r.BYTES;t=U("signature",t,2*u),e=U("message",e),n=U("publicKey",n,u),void 0!==a&&I("zip215",a),i&&(e=i(e));const c=B(t.slice(u,2*u));let l,h,d;try{l=Point.fromHex(n,a),h=Point.fromHex(t.slice(0,u),a),d=v.multiplyUnsafe(c)}catch(p){return!1}if(!a&&l.isSmallOrder())return!1;const f=A(o,h.toRawBytes(),l.toRawBytes(),e);return h.add(l.multiplyUnsafe(f)).subtract(d).clearCofactor().equals(Point.ZERO)},ExtendedPoint:Point,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>o(r.BYTES),precompute:(t=8,e=Point.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}}const Ot=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Nt=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Bt=(BigInt(0),BigInt(1)),Lt=BigInt(2),Dt=(BigInt(3),BigInt(5)),Ut=BigInt(8);function Ft(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=Ot,o=t*t%s*t%s,a=ot(o,Lt,s)*o%s,u=ot(a,Bt,s)*t%s,c=ot(u,Dt,s)*u%s,l=ot(c,e,s)*c%s,h=ot(l,r,s)*l%s,d=ot(h,n,s)*h%s,f=ot(d,i,s)*d%s,p=ot(f,i,s)*d%s,m=ot(p,e,s)*c%s;return{pow_p_5_8:ot(m,Lt,s)*t%s,b2:o}}function zt(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function jt(t,e){const r=Ot,n=it(e*e*e,r),i=it(n*n*e,r);let s=it(t*n*Ft(t*i).pow_p_5_8,r);const o=it(e*s*s,r),a=s,u=it(s*Nt,r),c=o===t,l=o===it(-t,r),h=o===it(-t*Nt,r);return c&&(s=a),(l||h)&&(s=u),((t,e)=>(it(t,e)&Y)===Y)(s,r)&&(s=it(-s,r)),{isValid:c||l,value:s}}const Vt=(()=>ht(Ot,void 0,!0))(),Ht=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Vt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Ut,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:b,randomBytes:m.po,adjustScalarBytes:zt,uvRatio:jt}))(),qt=(()=>Pt(Ht))();var Kt=r(7169),Wt=r.n(Kt),$t=r(2115),Zt=r.n($t),Gt=r(5515),Qt=r(1451),Jt=r(785),Yt=r(432);class StructError extends TypeError{constructor(t,e){let r;const{message:n,explanation:i,...s}=t,{path:o}=t,a=0===o.length?n:`At path: ${o.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...e()])}}function Xt(t){return"object"==typeof t&&null!=t}function te(t){return Xt(t)&&!Array.isArray(t)}function ee(t){return"symbol"==typeof t?t.toString():"string"==typeof t?JSON.stringify(t):`${t}`}function re(t,e,r,n){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ee(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*ne(t,e,r,n){var i;Xt(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const s of t){const t=re(s,e,r,n);t&&(yield t)}}function*ie(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i,mask:o};s&&(t=e.coercer(t,a));let u="valid";for(const c of e.validator(t,a))c.explanation=r.message,u="not_valid",yield[c,void 0];for(let[c,l,h]of e.entries(t,a)){const e=ie(l,h,{path:void 0===c?n:[...n,c],branch:void 0===c?i:[...i,l],coerce:s,mask:o,message:r.message});for(const r of e)r[0]?(u=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):s&&(l=r[1],void 0===c?t=l:t instanceof Map?t.set(c,l):t instanceof Set?t.add(l):Xt(t)&&(void 0!==l||c in t)&&(t[c]=l))}if("not_valid"!==u)for(const c of e.refiner(t,a))c.explanation=r.message,u="not_refined",yield[c,void 0];"valid"===u&&(yield[void 0,t])}class Struct{constructor(t){const{type:e,schema:r,validator:n,refiner:i,coercer:s=t=>t,entries:o=function*(){}}=t;this.type=e,this.schema=r,this.entries=o,this.coercer=s,this.validator=n?(t,e)=>ne(n(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>ne(i(t,e),e,this,t):()=>[]}assert(t,e){return se(t,this,e)}create(t,e){return oe(t,this,e)}is(t){return ae(t,this)}mask(t,e){return function(t,e,r){const n=ue(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}(t,this,e)}validate(t,e={}){return ue(t,this,e)}}function se(t,e,r){const n=ue(t,e,{message:r});if(n[0])throw n[0]}function oe(t,e,r){const n=ue(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function ae(t,e){return!ue(t,e)[0]}function ue(t,e,r={}){const n=ie(t,e,r),i=function(t){const{done:e,value:r}=t.next();return e?void 0:r}(n);if(i[0]){return[new StructError(i[0],(function*(){for(const t of n)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function ce(t,e){return new Struct({type:t,schema:null,validator:e})}function le(t){return new Struct({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${ee(t)}`})}function he(){return ce("boolean",(t=>"boolean"==typeof t))}function de(t){return ce("instance",(e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ee(e)}`))}function fe(t){const e=ee(t),r=typeof t;return new Struct({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||`Expected the literal \`${e}\`, but received: ${ee(r)}`})}function pe(){return ce("never",(()=>!1))}function me(t){return new Struct({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function ge(){return ce("number",(t=>"number"==typeof t&&!isNaN(t)||`Expected a number, but received: ${ee(t)}`))}function ye(t){return new Struct({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function we(t,e){return new Struct({type:"record",schema:null,*entries(r){if(Xt(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator:t=>te(t)||`Expected an object, but received: ${ee(t)}`,coercer:t=>te(t)?{...t}:t})}function ve(){return ce("string",(t=>"string"==typeof t||`Expected a string, but received: ${ee(t)}`))}function be(t){const e=pe();return new Struct({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator:t=>Array.isArray(t)||`Expected an array, but received: ${ee(t)}`,coercer:t=>Array.isArray(t)?t.slice():t})}function _e(t){const e=Object.keys(t);return new Struct({type:"type",schema:t,*entries(r){if(Xt(r))for(const n of e)yield[n,r[n],t[n]]},validator:t=>te(t)||`Expected an object, but received: ${ee(t)}`,coercer:t=>te(t)?{...t}:t})}function Ee(t){const e=t.map((t=>t.type)).join(" | ");return new Struct({type:"union",schema:null,coercer(e,r){for(const n of t){const[t,i]=n.validate(e,{coerce:!0,mask:r.mask});if(!t)return i}return e},validator(r,n){const i=[];for(const e of t){const[...t]=ie(r,e,n),[s]=t;if(!s[0])return[];for(const[e]of t)e&&i.push(e)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ee(r)}`,...i]}})}function Se(){return ce("unknown",(()=>!0))}function ke(t,e,r){return new Struct({...t,coercer:(n,i)=>ae(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var Ae=r(5214),Ie=r.n(Ae),Me=r(470);var xe=class extends Me{socket;constructor(t,e,r){super(),this.socket=new window.WebSocket(t,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=t=>this.emit("message",t.data),this.socket.onerror=t=>this.emit("error",t),this.socket.onclose=t=>{this.emit("close",t.code,t.reason)}}send(t,e,r){const n=r||e;try{this.socket.send(t),n()}catch(i){n(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,r){this.socket.addEventListener(t,e,r)}};function Te(t,e){return new xe(t,e)}var Re=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},Ce=class extends Me{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,e="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...o}={},a,u){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=a||(()=>++this.rpc_id),this.dataPack=u||new Re,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,r,n){return n||"object"!=typeof r||(n=r,r=null),new Promise(((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o=this.generate_request_id(t,e),a={jsonrpc:"2.0",method:t,params:e||void 0,id:o};this.socket.send(this.dataPack.encode(a),n,(t=>{if(t)return s(t);this.queue[o]={promise:[i,s]},r&&(this.queue[o].timeout=setTimeout((()=>{delete this.queue[o],s(new Error("reply timeout"))}),r))}))}))}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise(((r,n)=>{if(!this.ready)return n(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),(t=>{if(t)return n(t);r()}))}))}async subscribe(t){"string"==typeof t&&(t=[t]);const e=await this.call("rpc.on",t);if("string"==typeof t&&"ok"!==e[t])throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){"string"==typeof t&&(t=[t]);const e=await this.call("rpc.off",t);if("string"==typeof t&&"ok"!==e[t])throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(({data:t})=>{t instanceof ArrayBuffer&&(t=i.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch(e){return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);const e=[t.notification];if(t.params.constructor===Object)e.push(t.params);else for(let r=0;r<t.params.length;r++)e.push(t.params[r]);return Promise.resolve().then((()=>{this.emit.apply(this,e)}))}if(!this.queue[t.id])return t.method?Promise.resolve().then((()=>{this.emit(t.method,t?.params)})):void 0;"error"in t=="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]})),this.socket.addEventListener("error",(t=>this.emit("error",t))),this.socket.addEventListener("close",(({code:r,reason:n})=>{this.ready&&setTimeout((()=>this.emit("close",r,n)),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(t,e)),this.reconnect_interval)))}))}},Pe=r(6593);const Oe=[],Ne=[],Be=[],Le=BigInt(0),De=BigInt(1),Ue=BigInt(2),Fe=BigInt(7),ze=BigInt(256),je=BigInt(113);for(let Ps=0,Os=De,Ns=1,Bs=0;Ps<24;Ps++){[Ns,Bs]=[Bs,(2*Ns+3*Bs)%5],Oe.push(2*(5*Bs+Ns)),Ne.push((Ps+1)*(Ps+2)/2%64);let t=Le;for(let e=0;e<7;e++)Os=(Os<<De^(Os>>Fe)*je)%ze,Os&Ue&&(t^=De<<(De<<BigInt(e))-De);Be.push(t)}const[Ve,He]=c(Be,!0),qe=(t,e,r)=>r>32?d(t,e,r):l(t,e,r),Ke=(t,e,r)=>r>32?f(t,e,r):h(t,e,r);class Keccak extends m.Vw{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Pe.Fe)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,m.DH)(this.state)}keccak(){m.qv||(0,m.Fc)(this.state32),function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let n=0;n<10;n++)r[n]=t[n]^t[n+10]^t[n+20]^t[n+30]^t[n+40];for(let n=0;n<10;n+=2){const e=(n+8)%10,i=(n+2)%10,s=r[i],o=r[i+1],a=qe(s,o,1)^r[e],u=Ke(s,o,1)^r[e+1];for(let r=0;r<50;r+=10)t[n+r]^=a,t[n+r+1]^=u}let e=t[2],i=t[3];for(let r=0;r<24;r++){const n=Ne[r],s=qe(e,i,n),o=Ke(e,i,n),a=Oe[r];e=t[a],i=t[a+1],t[a]=s,t[a+1]=o}for(let n=0;n<50;n+=10){for(let e=0;e<10;e++)r[e]=t[n+e];for(let e=0;e<10;e++)t[n+e]^=~r[(e+2)%10]&r[(e+4)%10]}t[0]^=Ve[n],t[1]^=He[n]}r.fill(0)}(this.state32,this.rounds),m.qv||(0,m.Fc)(this.state32),this.posOut=0,this.pos=0}update(t){(0,Pe.CC)(this);const{blockLen:e,state:r}=this,n=(t=(0,m.ZJ)(t)).length;for(let i=0;i<n;){const s=Math.min(e-this.pos,n-i);for(let e=0;e<s;e++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,128&e&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){(0,Pe.CC)(this,!1),(0,Pe.DO)(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,Pe.Fe)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,Pe.Ht)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return t||(t=new Keccak(e,r,n,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=s,t.destroyed=this.destroyed,t}}const We=(t,e,r)=>(0,m.ld)((()=>new Keccak(e,t,r))),$e=We(1,136,32);class HMAC extends m.Vw{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,Pe.sd)(t);const r=(0,m.ZJ)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(t){return(0,Pe.CC)(this),this.iHash.update(t),this}digestInto(t){(0,Pe.CC)(this),(0,Pe.DO)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return t.finished=n,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ze=(t,e,r)=>new HMAC(t,e).update(r).digest();function Ge(t){void 0!==t.lowS&&I("lowS",t.lowS),void 0!==t.prehash&&I("prehash",t.prehash)}Ze.create=(t,e)=>new HMAC(t,e);const{Ph:Qe,aT:Je}=n;class DERErr extends Error{constructor(t=""){super(t)}}const Ye={Err:DERErr,_tlv:{encode:(t,e)=>{const{Err:r}=Ye;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(1&e.length)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=T(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?T(i.length/2|128):"";return T(t)+s+i+e},decode(t,e){const{Err:r}=Ye;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++];let s=0;if(!!(128&i)){const t=127&i;if(!t)throw new r("tlv.decode(long): indefinite length not supported");if(t>4)throw new r("tlv.decode(long): byte length is too big");const o=e.subarray(n,n+t);if(o.length!==t)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(n+=t,s<128)throw new r("tlv.decode(long): not minimal encoding")}else s=i;const o=e.subarray(n,n+s);if(o.length!==s)throw new r("tlv.decode: wrong value length");return{v:o,l:e.subarray(n+s)}}},_int:{encode(t){const{Err:e}=Ye;if(t<Xe)throw new e("integer: negative integers are not allowed");let r=T(t);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=Ye;if(128&t[0])throw new e("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new e("invalid signature integer: unnecessary leading zero");return Qe(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Ye,i="string"==typeof t?Je(t):t;A(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:u}=n.decode(2,s),{v:c,l}=n.decode(2,u);if(l.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(t){const{_tlv:e,_int:r}=Ye,n=e.encode(2,r.encode(t.r))+e.encode(2,r.encode(t.s));return e.encode(48,n)}},Xe=BigInt(0),tr=BigInt(1),er=(BigInt(2),BigInt(3));BigInt(4);function rr(t){const e=function(t){const e=It(t);G(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,n=ht(e.n,e.nBitLength),i=e.toBytes||((t,e,n)=>{const i=e.toAffine();return F(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),s=e.fromBytes||(t=>{const e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function o(t){const{a:n,b:i}=e,s=r.sqr(t),o=r.mul(s,t);return r.add(r.add(o,r.mul(t,n)),i)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(t){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:s}=e;if(r&&"bigint"!=typeof t){if(k(t)&&(t=x(t)),"string"!=typeof t||!r.includes(t.length))throw new Error("invalid private key");t=t.padStart(2*n,"0")}let o;try{o="bigint"==typeof t?t:N(U("private key",t,n))}catch(a){throw new Error("invalid private key, expected hex or "+n+" bytes, got "+typeof t)}return i&&(o=it(o,s)),V("private key",o,tr,s),o}function u(t){if(!(t instanceof Point))throw new Error("ProjectivePoint expected")}const c=Q(((t,e)=>{const{px:n,py:i,pz:s}=t;if(r.eql(s,r.ONE))return{x:n,y:i};const o=t.is0();null==e&&(e=o?r.ONE:r.inv(s));const a=r.mul(n,e),u=r.mul(i,e),c=r.mul(s,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:a,y:u}})),l=Q((t=>{if(t.is0()){if(e.allowInfinityPoint&&!r.is0(t.py))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=t.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not FE");const s=r.sqr(i),a=o(n);if(!r.eql(s,a))throw new Error("bad point: equation left != right");if(!t.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class Point{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw new Error("x required");if(null==e||!r.isValid(e))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");Object.freeze(this)}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw new Error("invalid affine point");if(t instanceof Point)throw new Error("projective point not allowed");const i=t=>r.eql(t,r.ZERO);return i(e)&&i(n)?Point.ZERO:new Point(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(Point.fromAffine)}static fromHex(t){const e=Point.fromAffine(s(U("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return Point.BASE.multiply(a(t))}static msm(t,e){return At(Point,n,t,e)}_setWindowSize(t){d.setWindowSize(this,t)}assertValidity(){l(this)}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){u(t);const{px:e,py:n,pz:i}=this,{px:s,py:o,pz:a}=t,c=r.eql(r.mul(e,a),r.mul(s,i)),l=r.eql(r.mul(n,a),r.mul(o,i));return c&&l}negate(){return new Point(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:n}=e,i=r.mul(n,er),{px:s,py:o,pz:a}=this;let u=r.ZERO,c=r.ZERO,l=r.ZERO,h=r.mul(s,s),d=r.mul(o,o),f=r.mul(a,a),p=r.mul(s,o);return p=r.add(p,p),l=r.mul(s,a),l=r.add(l,l),u=r.mul(t,l),c=r.mul(i,f),c=r.add(u,c),u=r.sub(d,c),c=r.add(d,c),c=r.mul(u,c),u=r.mul(p,u),l=r.mul(i,l),f=r.mul(t,f),p=r.sub(h,f),p=r.mul(t,p),p=r.add(p,l),l=r.add(h,h),h=r.add(l,h),h=r.add(h,f),h=r.mul(h,p),c=r.add(c,h),f=r.mul(o,a),f=r.add(f,f),h=r.mul(f,p),u=r.sub(u,h),l=r.mul(f,d),l=r.add(l,l),l=r.add(l,l),new Point(u,c,l)}add(t){u(t);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:c}=t;let l=r.ZERO,h=r.ZERO,d=r.ZERO;const f=e.a,p=r.mul(e.b,er);let m=r.mul(n,o),g=r.mul(i,a),y=r.mul(s,c),w=r.add(n,i),v=r.add(o,a);w=r.mul(w,v),v=r.add(m,g),w=r.sub(w,v),v=r.add(n,s);let b=r.add(o,c);return v=r.mul(v,b),b=r.add(m,y),v=r.sub(v,b),b=r.add(i,s),l=r.add(a,c),b=r.mul(b,l),l=r.add(g,y),b=r.sub(b,l),d=r.mul(f,v),l=r.mul(p,y),d=r.add(l,d),l=r.sub(g,d),d=r.add(g,d),h=r.mul(l,d),g=r.add(m,m),g=r.add(g,m),y=r.mul(f,y),v=r.mul(p,v),g=r.add(g,y),y=r.sub(m,y),y=r.mul(f,y),v=r.add(v,y),m=r.mul(g,v),h=r.add(h,m),m=r.mul(b,v),l=r.mul(w,l),l=r.sub(l,m),m=r.mul(w,g),d=r.mul(b,d),d=r.add(d,m),new Point(l,h,d)}subtract(t){return this.add(t.negate())}is0(){return this.equals(Point.ZERO)}wNAF(t){return d.wNAFCached(this,t,Point.normalizeZ)}multiplyUnsafe(t){const{endo:n,n:i}=e;V("scalar",t,Xe,i);const s=Point.ZERO;if(t===Xe)return s;if(this.is0()||t===tr)return this;if(!n||d.hasPrecomputes(this))return d.wNAFCachedUnsafe(this,t,Point.normalizeZ);let{k1neg:o,k1:a,k2neg:u,k2:c}=n.splitScalar(t),l=s,h=s,f=this;for(;a>Xe||c>Xe;)a&tr&&(l=l.add(f)),c&tr&&(h=h.add(f)),f=f.double(),a>>=tr,c>>=tr;return o&&(l=l.negate()),u&&(h=h.negate()),h=new Point(r.mul(h.px,n.beta),h.py,h.pz),l.add(h)}multiply(t){const{endo:n,n:i}=e;let s,o;if(V("scalar",t,tr,i),n){const{k1neg:e,k1:i,k2neg:a,k2:u}=n.splitScalar(t);let{p:c,f:l}=this.wNAF(i),{p:h,f}=this.wNAF(u);c=d.constTimeNegate(e,c),h=d.constTimeNegate(a,h),h=new Point(r.mul(h.px,n.beta),h.py,h.pz),s=c.add(h),o=l.add(f)}else{const{p:e,f:r}=this.wNAF(t);s=e,o=r}return Point.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(t,e,r){const n=Point.BASE,i=(t,e)=>e!==Xe&&e!==tr&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),s=i(this,e).add(i(t,r));return s.is0()?void 0:s}toAffine(t){return c(this,t)}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===tr)return!0;if(r)return r(Point,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===tr?this:r?r(Point,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return I("isCompressed",t),this.assertValidity(),i(Point,this,t)}toHex(t=!0){return I("isCompressed",t),x(this.toRawBytes(t))}}Point.BASE=new Point(e.Gx,e.Gy,r.ONE),Point.ZERO=new Point(r.ZERO,r.ONE,r.ZERO);const h=e.nBitLength,d=kt(Point,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:Point,normPrivateKeyToScalar:a,weierstrassEquation:o,isWithinCurveOrder:function(t){return j(t,tr,e.n)}}}function nr(t){const e=function(t){const e=It(t);return G(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(t){return it(t,n)}function a(t){return at(t,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:l,isWithinCurveOrder:h}=rr({...e,toBytes(t,e,n){const i=e.toAffine(),s=r.toBytes(i.x),o=F;return I("isCompressed",n),n?o(Uint8Array.from([e.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(t){const e=t.length,n=t[0],o=t.subarray(1);if(e!==i||2!==n&&3!==n){if(e===s&&4===n){return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))}}throw new Error("invalid Point, expected length of "+i+", or uncompressed "+s+", got "+e)}{const t=N(o);if(!j(t,tr,r.ORDER))throw new Error("Point is not on curve");const e=l(t);let i;try{i=r.sqrt(e)}catch(a){const t=a instanceof Error?": "+a.message:"";throw new Error("Point is not on curve"+t)}return!(1&~n)!==((i&tr)===tr)&&(i=r.neg(i)),{x:t,y:i}}}}),d=t=>x(L(t,e.nByteLength));function f(t){return t>n>>tr}const p=(t,e,r)=>N(t.slice(e,r));class Signature{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){const r=e.nByteLength;return t=U("compactSignature",t,2*r),new Signature(p(t,0,r),p(t,r,2*r))}static fromDER(t){const{r:e,s:r}=Ye.toSig(U("DER",t));return new Signature(e,r)}assertValidity(){V("r",this.r,tr,n),V("s",this.s,tr,n)}addRecoveryBit(t){return new Signature(this.r,this.s,t)}recoverPublicKey(t){const{r:n,s:i,recovery:s}=this,c=w(U("msgHash",t));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const l=2===s||3===s?n+e.n:n;if(l>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=1&s?"03":"02",f=u.fromHex(h+d(l)),p=a(l),m=o(-c*p),g=o(i*p),y=u.BASE.multiplyAndAddUnsafe(f,m,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new Signature(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return O(this.toDERHex())}toDERHex(){return Ye.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return O(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const m={isValidPrivateKey(t){try{return c(t),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const t=ft(e.n);return function(t,e,r=!1){const n=t.length,i=dt(e),s=ft(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=it(r?B(t):N(t),e-Y)+Y;return r?D(o,i):L(o,i)}(e.randomBytes(t),e.n)},precompute:(t=8,e=u.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function g(t){const e=k(t),r="string"==typeof t,n=(e||r)&&t.length;return e?n===i||n===s:r?n===2*i||n===2*s:t instanceof u}const y=e.bits2int||function(t){if(t.length>8192)throw new Error("input is too large");const r=N(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},w=e.bits2int_modN||function(t){return o(y(t))},v=q(e.nBitLength);function b(t){return V("num < 2^"+e.nBitLength,t,Xe,v),L(t,e.nByteLength)}function _(t,n,i=E){if(["recovered","canonical"].some((t=>t in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:l}=e;let{lowS:d,prehash:p,extraEntropy:m}=i;null==d&&(d=!0),t=U("msgHash",t),Ge(i),p&&(t=U("prehashed msgHash",s(t)));const g=w(t),v=c(n),_=[b(v),b(g)];if(null!=m&&!1!==m){const t=!0===m?l(r.BYTES):m;_.push(U("extraEntropy",t))}const S=F(..._),k=g;return{seed:S,k2sig:function(t){const e=y(t);if(!h(e))return;const r=a(e),n=u.BASE.multiply(e).toAffine(),i=o(n.x);if(i===Xe)return;const s=o(r*o(k+i*v));if(s===Xe)return;let c=(n.x===i?0:2)|Number(n.y&tr),l=s;return d&&f(s)&&(l=function(t){return f(t)?o(-t):t}(s),c^=1),new Signature(i,l,c)}}}const E={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return u.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(g(t))throw new Error("first arg must be private key");if(!g(e))throw new Error("second arg must be public key");return u.fromHex(e).multiply(c(t)).toRawBytes(r)},sign:function(t,r,n=E){const{seed:i,k2sig:s}=_(t,r,n),o=e;return $(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(t,r,n,i=S){const s=t;r=U("msgHash",r),n=U("publicKey",n);const{lowS:c,prehash:l,format:h}=i;if(Ge(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==h&&"compact"!==h&&"der"!==h)throw new Error("format must be compact or der");const d="string"==typeof s||k(s),f=!d&&!h&&"object"==typeof s&&null!==s&&"bigint"==typeof s.r&&"bigint"==typeof s.s;if(!d&&!f)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let p,m;try{if(f&&(p=new Signature(s.r,s.s)),d){try{"compact"!==h&&(p=Signature.fromDER(s))}catch(I){if(!(I instanceof Ye.Err))throw I}p||"der"===h||(p=Signature.fromCompact(s))}m=u.fromHex(n)}catch(M){return!1}if(!p)return!1;if(c&&p.hasHighS())return!1;l&&(r=e.hash(r));const{r:g,s:y}=p,v=w(r),b=a(y),_=o(v*b),E=o(g*b),A=u.BASE.multiplyAndAddUnsafe(m,_,E)?.toAffine();return!!A&&o(A.x)===g},ProjectivePoint:u,Signature,utils:m}}function ir(t){return{hash:t,hmac:(e,...r)=>Ze(t,e,(0,m.Id)(...r)),randomBytes:m.po}}const sr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),or=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ar=BigInt(1),ur=BigInt(2),cr=(t,e)=>(t+e/ur)/e;function lr(t){const e=sr,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),c=t*t*t%e,l=c*c*t%e,h=ot(l,r,e)*l%e,d=ot(h,r,e)*l%e,f=ot(d,ur,e)*c%e,p=ot(f,i,e)*f%e,m=ot(p,s,e)*p%e,g=ot(m,a,e)*m%e,y=ot(g,u,e)*g%e,w=ot(y,a,e)*m%e,v=ot(w,r,e)*l%e,b=ot(v,o,e)*p%e,_=ot(b,n,e)*c%e,E=ot(_,ur,e);if(!hr.eql(hr.sqr(E),t))throw new Error("Cannot find square root");return E}const hr=ht(sr,void 0,void 0,{sqrt:lr}),dr=function(t,e){const r=e=>nr({...t,...ir(e)});return{...r(e),create:r}}({a:BigInt(0),b:BigInt(7),Fp:hr,n:or,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=or,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ar*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=cr(s*t,e),u=cr(-n*t,e);let c=it(t-a*r-u*i,e),l=it(-a*n-u*s,e);const h=c>o,d=l>o;if(h&&(c=e-c),d&&(l=e-l),c>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:d,k2:l}}}},Gt.sc);BigInt(0);dr.ProjectivePoint;const fr=qt.utils.randomPrivateKey,pr=()=>{const t=qt.utils.randomPrivateKey(),e=mr(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},mr=qt.getPublicKey;function gr(t){try{return qt.ExtendedPoint.fromHex(t),!0}catch{return!1}}const yr=(t,e)=>qt.sign(t,e.slice(0,32)),wr=qt.verify,vr=t=>i.Buffer.isBuffer(t)?t:t instanceof Uint8Array?i.Buffer.from(t.buffer,t.byteOffset,t.byteLength):i.Buffer.from(t);class index_browser_esm_Struct{constructor(t){Object.assign(this,t)}encode(){return i.Buffer.from((0,Qt.serialize)(br,this))}static decode(t){return(0,Qt.deserialize)(br,this,t)}static decodeUnchecked(t){return(0,Qt.deserializeUnchecked)(br,this,t)}}class Enum extends index_browser_esm_Struct{constructor(t){if(super(t),this.enum="",1!==Object.keys(t).length)throw new Error("Enum can only take single value");Object.keys(t).map((t=>{this.enum=t}))}}const br=new Map;var _r;const Er=32,Sr=32;let kr=1;class PublicKey extends index_browser_esm_Struct{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=Zt().decode(t);if(e.length!=Sr)throw new Error("Invalid public key input");this._bn=new(Wt())(e)}else this._bn=new(Wt())(t);if(this._bn.byteLength()>Sr)throw new Error("Invalid public key input")}}static unique(){const t=new PublicKey(kr);return kr+=1,new PublicKey(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Zt().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(i.Buffer);if(t.length===Sr)return t;const e=i.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const n=i.Buffer.concat([t.toBuffer(),i.Buffer.from(e),r.toBuffer()]),s=(0,Gt.sc)(n);return new PublicKey(s)}static createProgramAddressSync(t,e){let r=i.Buffer.alloc(0);t.forEach((function(t){if(t.length>Er)throw new TypeError("Max seed length exceeded");r=i.Buffer.concat([r,vr(t)])})),r=i.Buffer.concat([r,e.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);const n=(0,Gt.sc)(r);if(gr(n))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(n)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r,n=255;for(;0!=n;){try{const s=t.concat(i.Buffer.from([n]));r=this.createProgramAddressSync(s,e)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return gr(new PublicKey(t).toBytes())}}_r=PublicKey,PublicKey.default=new _r("11111111111111111111111111111111"),br.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){const e=vr(t);if(64!==t.length)throw new Error("bad secret key size");this._publicKey=e.slice(32,64),this._secretKey=e.slice(0,32)}else this._secretKey=vr(fr()),this._publicKey=vr(mr(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return i.Buffer.concat([this._secretKey,this._publicKey],64)}}const Ar=new PublicKey("BPFLoader1111111111111111111111111111111111"),Ir=1232,Mr=127,xr=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach(((t,r)=>{e.set(t.toBase58(),r)}));const r=t=>{const r=e.get(t.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return t.map((t=>({programIdIndex:r(t.programId),accountKeyIndexes:t.keys.map((t=>r(t.pubkey))),data:t.data})))}}const Tr=(t="publicKey")=>Jt.av(32,t),Rr=(t="signature")=>Jt.av(64,t),Cr=(t="string")=>{const e=Jt.w3([Jt.DH("length"),Jt.DH("lengthPadding"),Jt.av(Jt.cY(Jt.DH(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),s=e;return s.decode=(t,e)=>r(t,e).chars.toString(),s.encode=(t,e,r)=>{const s={chars:i.Buffer.from(t,"utf8")};return n(s,e,r)},s.alloc=t=>Jt.DH().span+Jt.DH().span+i.Buffer.from(t,"utf8").length,s};function Pr(t,e){const r=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(e[t.property]);if("count"in t&&"elementLayout"in t){const n=e[t.property];if(Array.isArray(n))return n.length*r(t.elementLayout)}else if("fields"in t)return Pr({layout:t},e[t.property]);return 0};let n=0;return t.layout.fields.forEach((t=>{n+=r(t)})),n}function Or(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(127&n)<<7*r,r+=1,!(128&n))break}return e}function Nr(t,e){let r=e;for(;;){let e=127&r;if(r>>=7,0==r){t.push(e);break}e|=128,t.push(e)}}function Br(t,e){if(!t)throw new Error(e||"Assertion failed")}class CompiledKeys{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const r=new Map,n=t=>{const e=t.toBase58();let n=r.get(e);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(e,n)),n},i=n(e);i.isSigner=!0,i.isWritable=!0;for(const s of t){n(s.programId).isInvoked=!0;for(const t of s.keys){const e=n(t.pubkey);e.isSigner||=t.isSigner,e.isWritable||=t.isWritable}}return new CompiledKeys(e,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Br(t.length<=256,"Max static account keys length exceeded");const e=t.filter((([,t])=>t.isSigner&&t.isWritable)),r=t.filter((([,t])=>t.isSigner&&!t.isWritable)),n=t.filter((([,t])=>!t.isSigner&&t.isWritable)),i=t.filter((([,t])=>!t.isSigner&&!t.isWritable)),s={numRequiredSignatures:e.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Br(e.length>0,"Expected at least one writable signer key");const[t]=e[0];Br(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...e.map((([t])=>new PublicKey(t))),...r.map((([t])=>new PublicKey(t))),...n.map((([t])=>new PublicKey(t))),...i.map((([t])=>new PublicKey(t)))]]}extractTableLookup(t){const[e,r]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&t.isWritable)),[n,i]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&!t.isWritable));if(0!==e.length||0!==n.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,e){const r=new Array,n=new Array;for(const[i,s]of this.keyMetaMap.entries())if(e(s)){const e=new PublicKey(i),s=t.findIndex((t=>t.equals(e)));s>=0&&(Br(s<256,"Max lookup table index exceeded"),r.push(s),n.push(e),this.keyMetaMap.delete(i))}return[r,n]}}const Lr="Reached end of buffer unexpectedly";function Dr(t){if(0===t.length)throw new Error(Lr);return t.shift()}function Ur(t,...e){const[r]=e;if(2===e.length?r+(e[1]??0)>t.length:r>=t.length)throw new Error(Lr);return t.splice(...e)}class Message{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((t=>new PublicKey(t))),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Zt().decode(t.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(t){const e=CompiledKeys.compile(t.instructions,t.payerKey),[r,n]=e.getMessageComponents(),i=new MessageAccountKeys(n).compileInstructions(t.instructions).map((t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:Zt().encode(t.data)})));return new Message({header:r,accountKeys:n,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){return t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((t,e)=>!this.isProgramId(e)))}serialize(){const t=this.accountKeys.length;let e=[];Nr(e,t);const r=this.instructions.map((t=>{const{accounts:e,programIdIndex:r}=t,n=Array.from(Zt().decode(t.data));let s=[];Nr(s,e.length);let o=[];return Nr(o,n.length),{programIdIndex:r,keyIndicesCount:i.Buffer.from(s),keyIndices:e,dataLength:i.Buffer.from(o),data:n}}));let n=[];Nr(n,r.length);let s=i.Buffer.alloc(Ir);i.Buffer.from(n).copy(s);let o=n.length;r.forEach((t=>{const e=Jt.w3([Jt.u8("programIdIndex"),Jt.av(t.keyIndicesCount.length,"keyIndicesCount"),Jt.O6(Jt.u8("keyIndex"),t.keyIndices.length,"keyIndices"),Jt.av(t.dataLength.length,"dataLength"),Jt.O6(Jt.u8("userdatum"),t.data.length,"data")]).encode(t,s,o);o+=e})),s=s.slice(0,o);const a=Jt.w3([Jt.av(1,"numRequiredSignatures"),Jt.av(1,"numReadonlySignedAccounts"),Jt.av(1,"numReadonlyUnsignedAccounts"),Jt.av(e.length,"keyCount"),Jt.O6(Tr("key"),t,"keys"),Tr("recentBlockhash")]),u={numRequiredSignatures:i.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:i.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:i.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:i.Buffer.from(e),keys:this.accountKeys.map((t=>vr(t.toBytes()))),recentBlockhash:Zt().decode(this.recentBlockhash)};let c=i.Buffer.alloc(2048);const l=a.encode(u,c);return s.copy(c,l),c.slice(0,l+s.length)}static from(t){let e=[...t];const r=Dr(e);if(r!==(r&Mr))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const n=Dr(e),s=Dr(e),o=Or(e);let a=[];for(let d=0;d<o;d++){const t=Ur(e,0,Sr);a.push(new PublicKey(i.Buffer.from(t)))}const u=Ur(e,0,Sr),c=Or(e);let l=[];for(let d=0;d<c;d++){const t=Dr(e),r=Ur(e,0,Or(e)),n=Ur(e,0,Or(e)),s=Zt().encode(i.Buffer.from(n));l.push({programIdIndex:t,accounts:r,data:s})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:s},recentBlockhash:Zt().encode(i.Buffer.from(u)),accountKeys:a,instructions:l};return new Message(h)}}class MessageV0{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){return t-r<this.addressTableLookups.reduce(((t,e)=>t+e.writableIndexes.length),0)}if(t>=this.header.numRequiredSignatures){return t-e<r-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const r of this.addressTableLookups){const n=t.find((t=>t.key.equals(r.accountKey)));if(!n)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const t of r.writableIndexes){if(!(t<n.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${r.accountKey.toBase58()}`);e.writable.push(n.state.addresses[t])}for(const t of r.readonlyIndexes){if(!(t<n.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${r.accountKey.toBase58()}`);e.readonly.push(n.state.addresses[t])}}return e}static compile(t){const e=CompiledKeys.compile(t.instructions,t.payerKey),r=new Array,n={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const u of i){const t=e.extractTableLookup(u);if(void 0!==t){const[e,{writable:i,readonly:s}]=t;r.push(e),n.writable.push(...i),n.readonly.push(...s)}}const[s,o]=e.getMessageComponents(),a=new MessageAccountKeys(o,n).compileInstructions(t.instructions);return new MessageV0({header:s,staticAccountKeys:o,recentBlockhash:t.recentBlockhash,compiledInstructions:a,addressTableLookups:r})}serialize(){const t=Array();Nr(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),r=Array();Nr(r,this.compiledInstructions.length);const n=this.serializeAddressTableLookups(),i=Array();Nr(i,this.addressTableLookups.length);const s=Jt.w3([Jt.u8("prefix"),Jt.w3([Jt.u8("numRequiredSignatures"),Jt.u8("numReadonlySignedAccounts"),Jt.u8("numReadonlyUnsignedAccounts")],"header"),Jt.av(t.length,"staticAccountKeysLength"),Jt.O6(Tr(),this.staticAccountKeys.length,"staticAccountKeys"),Tr("recentBlockhash"),Jt.av(r.length,"instructionsLength"),Jt.av(e.length,"serializedInstructions"),Jt.av(i.length,"addressTableLookupsLength"),Jt.av(n.length,"serializedAddressTableLookups")]),o=new Uint8Array(Ir),a=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map((t=>t.toBytes())),recentBlockhash:Zt().decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},o);return o.slice(0,a)}serializeInstructions(){let t=0;const e=new Uint8Array(Ir);for(const r of this.compiledInstructions){const n=Array();Nr(n,r.accountKeyIndexes.length);const i=Array();Nr(i,r.data.length);t+=Jt.w3([Jt.u8("programIdIndex"),Jt.av(n.length,"encodedAccountKeyIndexesLength"),Jt.O6(Jt.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),Jt.av(i.length,"encodedDataLength"),Jt.av(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(Ir);for(const r of this.addressTableLookups){const n=Array();Nr(n,r.writableIndexes.length);const i=Array();Nr(i,r.readonlyIndexes.length);t+=Jt.w3([Tr("accountKey"),Jt.av(n.length,"encodedWritableIndexesLength"),Jt.O6(Jt.u8(),r.writableIndexes.length,"writableIndexes"),Jt.av(i.length,"encodedReadonlyIndexesLength"),Jt.O6(Jt.u8(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const r=Dr(e),n=r&Mr;Br(r!==n,"Expected versioned message but received legacy message");Br(0===n,`Expected versioned message with version 0 but found version ${n}`);const i={numRequiredSignatures:Dr(e),numReadonlySignedAccounts:Dr(e),numReadonlyUnsignedAccounts:Dr(e)},s=[],o=Or(e);for(let d=0;d<o;d++)s.push(new PublicKey(Ur(e,0,Sr)));const a=Zt().encode(Ur(e,0,Sr)),u=Or(e),c=[];for(let d=0;d<u;d++){const t=Dr(e),r=Ur(e,0,Or(e)),n=Or(e),i=new Uint8Array(Ur(e,0,n));c.push({programIdIndex:t,accountKeyIndexes:r,data:i})}const l=Or(e),h=[];for(let d=0;d<l;d++){const t=new PublicKey(Ur(e,0,Sr)),r=Ur(e,0,Or(e)),n=Ur(e,0,Or(e));h.push({accountKey:t,writableIndexes:r,readonlyIndexes:n})}return new MessageV0({header:i,staticAccountKeys:s,recentBlockhash:a,compiledInstructions:c,addressTableLookups:h})}}const Fr={deserializeMessageVersion(t){const e=t[0],r=e&Mr;return r===e?"legacy":r},deserialize:t=>{const e=Fr.deserializeMessageVersion(t);if("legacy"===e)return Message.from(t);if(0===e)return MessageV0.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let zr=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const jr=i.Buffer.alloc(xr).fill(0);class TransactionInstruction{constructor(t){this.keys=void 0,this.programId=void 0,this.data=i.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map((({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r}))),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:r}=t;this.minNonceContextSlot=e,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:r}=t;this.recentBlockhash=e,this.lastValidBlockHeight=r}else{const{recentBlockhash:e,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((t=>t.toJSON())),signers:this.signatures.map((({publicKey:t})=>t.toJSON()))}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach((t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new TransactionInstruction(t))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,r;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let p=0;p<e.length;p++)if(void 0===e[p].programId)throw new Error(`Transaction instruction index ${p} has undefined program id`);const n=[],i=[];e.forEach((t=>{t.keys.forEach((t=>{i.push({...t})}));const e=t.programId.toString();n.includes(e)||n.push(e)})),n.forEach((t=>{i.push({pubkey:new PublicKey(t),isSigner:!1,isWritable:!1})}));const s=[];i.forEach((t=>{const e=t.pubkey.toString(),r=s.findIndex((t=>t.pubkey.toString()===e));r>-1?(s[r].isWritable=s[r].isWritable||t.isWritable,s[r].isSigner=s[r].isSigner||t.isSigner):s.push(t)})),s.sort((function(t,e){if(t.isSigner!==e.isSigner)return t.isSigner?-1:1;if(t.isWritable!==e.isWritable)return t.isWritable?-1:1;return t.pubkey.toBase58().localeCompare(e.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const o=s.findIndex((t=>t.pubkey.equals(r)));if(o>-1){const[t]=s.splice(o,1);t.isSigner=!0,t.isWritable=!0,s.unshift(t)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const p of this.signatures){const t=s.findIndex((t=>t.pubkey.equals(p.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${p.publicKey.toString()}`);s[t].isSigner||(s[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,c=0;const l=[],h=[];s.forEach((({pubkey:t,isSigner:e,isWritable:r})=>{e?(l.push(t.toString()),a+=1,r||(u+=1)):(h.push(t.toString()),r||(c+=1))}));const d=l.concat(h),f=e.map((t=>{const{data:e,programId:r}=t;return{programIdIndex:d.indexOf(r.toString()),accounts:t.keys.map((t=>d.indexOf(t.pubkey.toString()))),data:Zt().encode(e)}}));return f.forEach((t=>{Br(t.programIdIndex>=0),t.accounts.forEach((t=>Br(t>=0)))})),new Message({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:d,recentBlockhash:t,instructions:f})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);if(this.signatures.length===e.length){if(this.signatures.every(((t,r)=>e[r].equals(t.publicKey))))return t}return this.signatures=e.map((t=>({signature:null,publicKey:t}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter((t=>{const r=t.toString();return!e.has(r)&&(e.add(r),!0)})).map((t=>({signature:null,publicKey:t})))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const t=i.publicKey.toString();e.has(t)||(e.add(t),r.push(i))}this.signatures=r.map((t=>({signature:null,publicKey:t.publicKey})));const n=this._compile();this._partialSign(n,...r)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const i of t){const t=i.publicKey.toString();e.has(t)||(e.add(t),r.push(i))}const n=this._compile();this._partialSign(n,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach((t=>{const e=yr(r,t.secretKey);this._addSignature(t.publicKey,vr(e))}))}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Br(64===e.length);const r=this.signatures.findIndex((e=>t.equals(e.publicKey)));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=i.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const r={};for(const{signature:n,publicKey:i}of this.signatures)null===n?e&&(r.missing||=[]).push(i):wr(n,t,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),n=this.serializeMessage();if(r){const t=this._getMessageSignednessErrors(n,e);if(t){let e="Signature verification failed.";throw t.invalid&&(e+=`\nInvalid signature for public key${1===t.invalid.length?"":"(s)"} [\`${t.invalid.map((t=>t.toBase58())).join("`, `")}\`].`),t.missing&&(e+=`\nMissing signature for public key${1===t.missing.length?"":"(s)"} [\`${t.missing.map((t=>t.toBase58())).join("`, `")}\`].`),new Error(e)}}return this._serialize(n)}_serialize(t){const{signatures:e}=this,r=[];Nr(r,e.length);const n=r.length+64*e.length+t.length,s=i.Buffer.alloc(n);return Br(e.length<256),i.Buffer.from(r).copy(s,0),e.forEach((({signature:t},e)=>{null!==t&&(Br(64===t.length,"signature has invalid length"),i.Buffer.from(t).copy(s,r.length+64*e))})),t.copy(s,r.length+64*e.length),Br(s.length<=Ir,`Transaction too large: ${s.length} > ${Ir}`),s}get keys(){return Br(1===this.instructions.length),this.instructions[0].keys.map((t=>t.pubkey))}get programId(){return Br(1===this.instructions.length),this.instructions[0].programId}get data(){return Br(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const r=Or(e);let n=[];for(let s=0;s<r;s++){const t=Ur(e,0,xr);n.push(Zt().encode(i.Buffer.from(t)))}return Transaction.populate(Message.from(e),n)}static populate(t,e=[]){const r=new Transaction;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach(((e,n)=>{const i={signature:e==Zt().encode(jr)?null:Zt().decode(e),publicKey:t.accountKeys[n]};r.signatures.push(i)})),t.instructions.forEach((e=>{const n=e.accounts.map((e=>{const n=t.accountKeys[e];return{pubkey:n,isSigner:r.signatures.some((t=>t.publicKey.toString()===n.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));r.instructions.push(new TransactionInstruction({keys:n,programId:t.accountKeys[e.programIdIndex],data:Zt().decode(e.data)}))})),r._message=t,r._json=r.toJSON(),r}}class TransactionMessage{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){const{header:r,compiledInstructions:n,recentBlockhash:i}=t,{numRequiredSignatures:s,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a}=r,u=s-o;Br(u>0,"Message header is invalid");const c=t.staticAccountKeys.length-s-a;Br(c>=0,"Message header is invalid");const l=t.getAccountKeys(e),h=l.get(0);if(void 0===h)throw new Error("Failed to decompile message because no account keys were found");const d=[];for(const f of n){const t=[];for(const n of f.accountKeyIndexes){const e=l.get(n);if(void 0===e)throw new Error(`Failed to find key for account key index ${n}`);let i;i=n<s?n<u:n<l.staticAccountKeys.length?n-s<c:n-l.staticAccountKeys.length<l.accountKeysFromLookups.writable.length,t.push({pubkey:e,isSigner:n<r.numRequiredSignatures,isWritable:i})}const e=l.get(f.programIdIndex);if(void 0===e)throw new Error(`Failed to find program id for program id index ${f.programIdIndex}`);d.push(new TransactionInstruction({programId:e,data:vr(f.data),keys:t}))}return new TransactionMessage({payerKey:h,instructions:d,recentBlockhash:i})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class VersionedTransaction{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,void 0!==e)Br(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const e=[];for(let r=0;r<t.header.numRequiredSignatures;r++)e.push(new Uint8Array(xr));this.signatures=e}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Nr(e,this.signatures.length);const r=Jt.w3([Jt.av(e.length,"encodedSignaturesLength"),Jt.O6(Rr(),this.signatures.length,"signatures"),Jt.av(t.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},n);return n.slice(0,i)}static deserialize(t){let e=[...t];const r=[],n=Or(e);for(let s=0;s<n;s++)r.push(new Uint8Array(Ur(e,0,xr)));const i=Fr.deserialize(new Uint8Array(e));return new VersionedTransaction(i,r)}sign(t){const e=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const n of t){const t=r.findIndex((t=>t.equals(n.publicKey)));Br(t>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[t]=yr(e,n.secretKey)}}addSignature(t,e){Br(64===e.byteLength,"Signature must be 64 bytes long");const r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((e=>e.equals(t)));Br(r>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[r]=e}}const Vr=new PublicKey("SysvarC1ock11111111111111111111111111111111"),Hr=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),qr=new PublicKey("Sysvar1nstructions1111111111111111111111111"),Kr=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),Wr=new PublicKey("SysvarRent111111111111111111111111111111111"),$r=new PublicKey("SysvarRewards111111111111111111111111111111"),Zr=new PublicKey("SysvarS1otHashes111111111111111111111111111"),Gr=new PublicKey("SysvarS1otHistory11111111111111111111111111"),Qr=new PublicKey("SysvarStakeHistory1111111111111111111111111");class SendTransactionError extends Error{constructor({action:t,signature:e,transactionMessage:r,logs:n}){const i=n?`Logs: \n${JSON.stringify(n.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let o;switch(t){case"send":o=`Transaction ${e} resulted in an error. \n${r}. `+i+s;break;case"simulate":o=`Simulation failed. \nMessage: ${r}. \n`+i+s;break;default:o=`Unknown action '${t}'`}super(o),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(null==t||"object"!=typeof t||!("then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((e,r)=>{t.getTransaction(this.signature).then((t=>{if(t&&t.meta&&t.meta.logMessages){const r=t.meta.logMessages;this.transactionLogs=r,e(r)}else r(new Error("Log messages not found"))})).catch(r)}))),await this.transactionLogs}}const Jr={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:t,message:e,data:r},n){super(null!=n?`${n}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}async function Yr(t,e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i);let o;if(null!=e.recentBlockhash&&null!=e.lastValidBlockHeight)o=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=e.minNonceContextSlot&&null!=e.nonceInfo){const{nonceInstruction:r}=e.nonceInfo,i=r.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else null!=n?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,n&&n.commitment)).value;if(o.err){if(null!=s)throw new SendTransactionError({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`});throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`)}return s}function Xr(t){return new Promise((e=>setTimeout(e,t)))}function tn(t,e){const r=t.layout.span>=0?t.layout.span:Pr(t,e),n=i.Buffer.alloc(r),s=Object.assign({instruction:t.index},e);return t.layout.encode(s,n),n}function en(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const rn=Jt.I0("lamportsPerSignature"),nn=Jt.w3([Jt.DH("version"),Jt.DH("state"),Tr("authorizedPubkey"),Tr("nonce"),Jt.w3([rn],"feeCalculator")]),sn=nn.span;class NonceAccount{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=nn.decode(vr(t),0);return new NonceAccount({authorizedPubkey:new PublicKey(e.authorizedPubkey),nonce:new PublicKey(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const on=(an=8,t=>{const e=(0,Jt.av)(an,t),{encode:r,decode:n}=(t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)}))(e),s=e;return s.decode=(t,e)=>{const r=n(t,e);return(0,Yt.k5)(i.Buffer.from(r))},s.encode=(t,e,n)=>{const i=(0,Yt.Bq)(t,an);return r(i,e,n)},s});var an;class SystemInstruction{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Jt.DH("instruction").decode(t.data);let r;for(const[n,i]of Object.entries(un))if(i.index==e){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e,space:r,programId:n}=en(un.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:r,programId:new PublicKey(n)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e}=en(un.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e,seed:r,programId:n}=en(un.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:r,programId:new PublicKey(n)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:e}=en(un.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:r,space:n,programId:i}=en(un.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new PublicKey(e),seed:r,space:n,programId:new PublicKey(i)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:e}=en(un.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new PublicKey(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:r,programId:n}=en(un.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new PublicKey(e),seed:r,programId:new PublicKey(n)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:e,seed:r,lamports:n,space:i,programId:s}=en(un.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new PublicKey(e),seed:r,lamports:n,space:i,programId:new PublicKey(s)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:e}=en(un.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new PublicKey(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),en(un.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=en(un.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e}=en(un.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(e)}}static checkProgramId(t){if(!t.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const un=Object.freeze({Create:{index:0,layout:Jt.w3([Jt.DH("instruction"),Jt.Wg("lamports"),Jt.Wg("space"),Tr("programId")])},Assign:{index:1,layout:Jt.w3([Jt.DH("instruction"),Tr("programId")])},Transfer:{index:2,layout:Jt.w3([Jt.DH("instruction"),on("lamports")])},CreateWithSeed:{index:3,layout:Jt.w3([Jt.DH("instruction"),Tr("base"),Cr("seed"),Jt.Wg("lamports"),Jt.Wg("space"),Tr("programId")])},AdvanceNonceAccount:{index:4,layout:Jt.w3([Jt.DH("instruction")])},WithdrawNonceAccount:{index:5,layout:Jt.w3([Jt.DH("instruction"),Jt.Wg("lamports")])},InitializeNonceAccount:{index:6,layout:Jt.w3([Jt.DH("instruction"),Tr("authorized")])},AuthorizeNonceAccount:{index:7,layout:Jt.w3([Jt.DH("instruction"),Tr("authorized")])},Allocate:{index:8,layout:Jt.w3([Jt.DH("instruction"),Jt.Wg("space")])},AllocateWithSeed:{index:9,layout:Jt.w3([Jt.DH("instruction"),Tr("base"),Cr("seed"),Jt.Wg("space"),Tr("programId")])},AssignWithSeed:{index:10,layout:Jt.w3([Jt.DH("instruction"),Tr("base"),Cr("seed"),Tr("programId")])},TransferWithSeed:{index:11,layout:Jt.w3([Jt.DH("instruction"),on("lamports"),Cr("seed"),Tr("programId")])},UpgradeNonceAccount:{index:12,layout:Jt.w3([Jt.DH("instruction")])}});class SystemProgram{constructor(){}static createAccount(t){const e=tn(un.Create,{lamports:t.lamports,space:t.space,programId:vr(t.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}static transfer(t){let e,r;if("basePubkey"in t){e=tn(un.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:vr(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{e=tn(un.Transfer,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:e})}static assign(t){let e,r;if("basePubkey"in t){e=tn(un.AssignWithSeed,{base:vr(t.basePubkey.toBuffer()),seed:t.seed,programId:vr(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{e=tn(un.Assign,{programId:vr(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=tn(un.CreateWithSeed,{base:vr(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:vr(t.programId.toBuffer())});let r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||r.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:r,programId:this.programId,data:e})}static createNonceAccount(t){const e=new Transaction;"basePubkey"in t&&"seed"in t?e.add(SystemProgram.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:sn,programId:this.programId})):e.add(SystemProgram.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:sn,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(r)),e}static nonceInitialize(t){const e=tn(un.InitializeNonceAccount,{authorized:vr(t.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:Wr,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new TransactionInstruction(r)}static nonceAdvance(t){const e=tn(un.AdvanceNonceAccount),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new TransactionInstruction(r)}static nonceWithdraw(t){const e=tn(un.WithdrawNonceAccount,{lamports:t.lamports});return new TransactionInstruction({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Kr,isSigner:!1,isWritable:!1},{pubkey:Wr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static nonceAuthorize(t){const e=tn(un.AuthorizeNonceAccount,{authorized:vr(t.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static allocate(t){let e,r;if("basePubkey"in t){e=tn(un.AllocateWithSeed,{base:vr(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:vr(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{e=tn(un.Allocate,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:e})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const cn=Ir-300;class Loader{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/Loader.chunkSize)+1+1)}static async load(t,e,r,n,s){{const i=await t.getMinimumBalanceForRentExemption(s.length),o=await t.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==s.length&&(a=a||new Transaction,a.add(SystemProgram.allocate({accountPubkey:r.publicKey,space:s.length}))),o.owner.equals(n)||(a=a||new Transaction,a.add(SystemProgram.assign({accountPubkey:r.publicKey,programId:n}))),o.lamports<i&&(a=a||new Transaction,a.add(SystemProgram.transfer({fromPubkey:e.publicKey,toPubkey:r.publicKey,lamports:i-o.lamports})))}else a=(new Transaction).add(SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:r.publicKey,lamports:i>0?i:1,space:s.length,programId:n}));null!==a&&await Yr(t,a,[e,r],{commitment:"confirmed"})}const o=Jt.w3([Jt.DH("instruction"),Jt.DH("offset"),Jt.DH("bytesLength"),Jt.DH("bytesLengthPadding"),Jt.O6(Jt.u8("byte"),Jt.cY(Jt.DH(),-8),"bytes")]),a=Loader.chunkSize;let u=0,c=s,l=[];for(;c.length>0;){const s=c.slice(0,a),h=i.Buffer.alloc(a+16);o.encode({instruction:0,offset:u,bytes:s,bytesLength:0,bytesLengthPadding:0},h);const d=(new Transaction).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:h});if(l.push(Yr(t,d,[e,r],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await Xr(1e3/t)}u+=a,c=c.slice(a)}await Promise.all(l);{const s=Jt.w3([Jt.DH("instruction")]),o=i.Buffer.alloc(s.span);s.encode({instruction:1},o);const a=(new Transaction).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Wr,isSigner:!1,isWritable:!1}],programId:n,data:o}),u="processed",c=await t.sendTransaction(a,[e,r],{preflightCommitment:u}),{context:l,value:h}=await t.confirmTransaction({signature:c,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},u);if(h.err)throw new Error(`Transaction ${c} failed (${JSON.stringify(h)})`);for(;;){try{if(await t.getSlot({commitment:u})>l.slot)break}catch{}await new Promise((t=>setTimeout(t,Math.round(200))))}}return!0}}Loader.chunkSize=cn;const ln=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(t){return Loader.getMinNumSignatures(t)}static load(t,e,r,n,i){return Loader.load(t,e,r,i,n)}}function hn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dn,fn;function pn(){if(fn)return dn;fn=1;var t=Object.prototype.toString,e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function r(n,i){var s,o,a,u,c,l,h;if(!0===n)return"true";if(!1===n)return"false";switch(typeof n){case"object":if(null===n)return null;if(n.toJSON&&"function"==typeof n.toJSON)return r(n.toJSON(),i);if("[object Array]"===(h=t.call(n))){for(a="[",o=n.length-1,s=0;s<o;s++)a+=r(n[s],!0)+",";return o>-1&&(a+=r(n[s],!0)),a+"]"}if("[object Object]"===h){for(o=(u=e(n).sort()).length,a="",s=0;s<o;)void 0!==(l=r(n[c=u[s]],!1))&&(a&&(a+=","),a+=JSON.stringify(c)+":"+l),s++;return"{"+a+"}"}return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return dn=function(t){var e=r(t,!1);if(void 0!==e)return""+e}}var mn=hn(pn());function gn(t){let e=0;for(;t>1;)t/=2,e++;return e}class EpochSchedule{constructor(t,e,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const r=gn(0===(e=t+32+1)?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32)))-gn(32)-1;return[r,t-(this.getSlotsInEpoch(r)-32)]}{const e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+r,e%this.slotsPerEpoch]}var e}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+gn(32)):this.slotsPerEpoch}}var yn=globalThis.fetch;class RpcWebSocketClient extends Ce{constructor(t,e,r){super((t=>{const r=Te(t,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in r?r.socket:r,r}),t,e,r),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class AddressLookupTableAccount{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}(wn,t),r=t.length-56;Br(r>=0,"lookup table is invalid"),Br(r%32==0,"lookup table is invalid");const n=r/32,{addresses:i}=Jt.w3([Jt.O6(Tr(),n,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new PublicKey(e.authority[0]):void 0,addresses:i.map((t=>new PublicKey(t)))}}}const wn={index:1,layout:Jt.w3([Jt.DH("typeIndex"),on("deactivationSlot"),Jt.I0("lastExtendedSlot"),Jt.u8("lastExtendedStartIndex"),Jt.u8(),Jt.O6(Tr(),Jt.cY(Jt.u8(),-1),"authority")])},vn=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const bn=ke(de(PublicKey),ve(),(t=>new PublicKey(t))),_n=be([ve(),fe("base64")]),En=ke(de(i.Buffer),_n,(t=>i.Buffer.from(t[0],"base64"))),Sn=3e4;function kn(t){let e,r;if("string"==typeof t)e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function An(t){return t.map((t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t))}function In(t){return Ee([_e({jsonrpc:fe("2.0"),id:ve(),result:t}),_e({jsonrpc:fe("2.0"),id:ve(),error:_e({code:Se(),message:ve(),data:ye(ce("any",(()=>!0)))})})])}const Mn=In(Se());function xn(t){return ke(In(t),Mn,(e=>"error"in e?e:{...e,result:oe(e.result,t)}))}function Tn(t){return xn(_e({context:_e({slot:ge()}),value:t}))}function Rn(t){return _e({context:_e({slot:ge()}),value:t})}function Cn(t,e){return 0===t?new MessageV0({header:e.header,staticAccountKeys:e.accountKeys.map((t=>new PublicKey(t))),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Zt().decode(t.data)}))),addressTableLookups:e.addressTableLookups}):new Message(e)}const Pn=_e({foundation:ge(),foundationTerm:ge(),initial:ge(),taper:ge(),terminal:ge()}),On=xn(le(me(_e({epoch:ge(),effectiveSlot:ge(),amount:ge(),postBalance:ge(),commission:ye(me(ge()))})))),Nn=le(_e({slot:ge(),prioritizationFee:ge()})),Bn=_e({total:ge(),validator:ge(),foundation:ge(),epoch:ge()}),Ln=_e({epoch:ge(),slotIndex:ge(),slotsInEpoch:ge(),absoluteSlot:ge(),blockHeight:ye(ge()),transactionCount:ye(ge())}),Dn=_e({slotsPerEpoch:ge(),leaderScheduleSlotOffset:ge(),warmup:he(),firstNormalEpoch:ge(),firstNormalSlot:ge()}),Un=we(ve(),le(ge())),Fn=me(Ee([_e({}),ve()])),zn=_e({err:Fn}),jn=fe("receivedSignature"),Vn=_e({"solana-core":ve(),"feature-set":ye(ge())}),Hn=_e({program:ve(),programId:bn,parsed:Se()}),qn=_e({programId:bn,accounts:le(bn),data:ve()}),Kn=Tn(_e({err:me(Ee([_e({}),ve()])),logs:me(le(ve())),accounts:ye(me(le(me(_e({executable:he(),owner:ve(),lamports:ge(),data:le(ve()),rentEpoch:ye(ge())}))))),unitsConsumed:ye(ge()),returnData:ye(me(_e({programId:ve(),data:be([ve(),fe("base64")])}))),innerInstructions:ye(me(le(_e({index:ge(),instructions:le(Ee([Hn,qn]))}))))})),Wn=Tn(_e({byIdentity:we(ve(),le(ge())),range:_e({firstSlot:ge(),lastSlot:ge()})}));const $n=xn(Pn),Zn=xn(Bn),Gn=xn(Nn),Qn=xn(Ln),Jn=xn(Dn),Yn=xn(Un),Xn=xn(ge()),ti=Tn(_e({total:ge(),circulating:ge(),nonCirculating:ge(),nonCirculatingAccounts:le(bn)})),ei=_e({amount:ve(),uiAmount:me(ge()),decimals:ge(),uiAmountString:ye(ve())}),ri=Tn(le(_e({address:bn,amount:ve(),uiAmount:me(ge()),decimals:ge(),uiAmountString:ye(ve())}))),ni=Tn(le(_e({pubkey:bn,account:_e({executable:he(),owner:bn,lamports:ge(),data:En,rentEpoch:ge()})}))),ii=_e({program:ve(),parsed:Se(),space:ge()}),si=Tn(le(_e({pubkey:bn,account:_e({executable:he(),owner:bn,lamports:ge(),data:ii,rentEpoch:ge()})}))),oi=Tn(le(_e({lamports:ge(),address:bn}))),ai=_e({executable:he(),owner:bn,lamports:ge(),data:En,rentEpoch:ge()}),ui=_e({pubkey:bn,account:ai}),ci=ke(Ee([de(i.Buffer),ii]),Ee([_n,ii]),(t=>Array.isArray(t)?oe(t,En):t)),li=_e({executable:he(),owner:bn,lamports:ge(),data:ci,rentEpoch:ge()}),hi=_e({pubkey:bn,account:li}),di=_e({state:Ee([fe("active"),fe("inactive"),fe("activating"),fe("deactivating")]),active:ge(),inactive:ge()}),fi=xn(le(_e({signature:ve(),slot:ge(),err:Fn,memo:me(ve()),blockTime:ye(me(ge()))}))),pi=xn(le(_e({signature:ve(),slot:ge(),err:Fn,memo:me(ve()),blockTime:ye(me(ge()))}))),mi=_e({subscription:ge(),result:Rn(ai)}),gi=_e({pubkey:bn,account:ai}),yi=_e({subscription:ge(),result:Rn(gi)}),wi=_e({parent:ge(),slot:ge(),root:ge()}),vi=_e({subscription:ge(),result:wi}),bi=Ee([_e({type:Ee([fe("firstShredReceived"),fe("completed"),fe("optimisticConfirmation"),fe("root")]),slot:ge(),timestamp:ge()}),_e({type:fe("createdBank"),parent:ge(),slot:ge(),timestamp:ge()}),_e({type:fe("frozen"),slot:ge(),timestamp:ge(),stats:_e({numTransactionEntries:ge(),numSuccessfulTransactions:ge(),numFailedTransactions:ge(),maxTransactionsPerEntry:ge()})}),_e({type:fe("dead"),slot:ge(),timestamp:ge(),err:ve()})]),_i=_e({subscription:ge(),result:bi}),Ei=_e({subscription:ge(),result:Rn(Ee([zn,jn]))}),Si=_e({subscription:ge(),result:ge()}),ki=_e({pubkey:ve(),gossip:me(ve()),tpu:me(ve()),rpc:me(ve()),version:me(ve())}),Ai=_e({votePubkey:ve(),nodePubkey:ve(),activatedStake:ge(),epochVoteAccount:he(),epochCredits:le(be([ge(),ge(),ge()])),commission:ge(),lastVote:ge(),rootSlot:me(ge())}),Ii=xn(_e({current:le(Ai),delinquent:le(Ai)})),Mi=Ee([fe("processed"),fe("confirmed"),fe("finalized")]),xi=_e({slot:ge(),confirmations:me(ge()),err:Fn,confirmationStatus:ye(Mi)}),Ti=Tn(le(me(xi))),Ri=xn(ge()),Ci=_e({accountKey:bn,writableIndexes:le(ge()),readonlyIndexes:le(ge())}),Pi=_e({signatures:le(ve()),message:_e({accountKeys:le(ve()),header:_e({numRequiredSignatures:ge(),numReadonlySignedAccounts:ge(),numReadonlyUnsignedAccounts:ge()}),instructions:le(_e({accounts:le(ge()),data:ve(),programIdIndex:ge()})),recentBlockhash:ve(),addressTableLookups:ye(le(Ci))})}),Oi=_e({pubkey:bn,signer:he(),writable:he(),source:ye(Ee([fe("transaction"),fe("lookupTable")]))}),Ni=_e({accountKeys:le(Oi),signatures:le(ve())}),Bi=_e({parsed:Se(),program:ve(),programId:bn}),Li=_e({accounts:le(bn),data:ve(),programId:bn}),Di=ke(Ee([Li,Bi]),Ee([_e({parsed:Se(),program:ve(),programId:ve()}),_e({accounts:le(ve()),data:ve(),programId:ve()})]),(t=>oe(t,"accounts"in t?Li:Bi))),Ui=_e({signatures:le(ve()),message:_e({accountKeys:le(Oi),instructions:le(Di),recentBlockhash:ve(),addressTableLookups:ye(me(le(Ci)))})}),Fi=_e({accountIndex:ge(),mint:ve(),owner:ye(ve()),programId:ye(ve()),uiTokenAmount:ei}),zi=_e({writable:le(bn),readonly:le(bn)}),ji=_e({err:Fn,fee:ge(),innerInstructions:ye(me(le(_e({index:ge(),instructions:le(_e({accounts:le(ge()),data:ve(),programIdIndex:ge()}))})))),preBalances:le(ge()),postBalances:le(ge()),logMessages:ye(me(le(ve()))),preTokenBalances:ye(me(le(Fi))),postTokenBalances:ye(me(le(Fi))),loadedAddresses:ye(zi),computeUnitsConsumed:ye(ge())}),Vi=_e({err:Fn,fee:ge(),innerInstructions:ye(me(le(_e({index:ge(),instructions:le(Di)})))),preBalances:le(ge()),postBalances:le(ge()),logMessages:ye(me(le(ve()))),preTokenBalances:ye(me(le(Fi))),postTokenBalances:ye(me(le(Fi))),loadedAddresses:ye(zi),computeUnitsConsumed:ye(ge())}),Hi=Ee([fe(0),fe("legacy")]),qi=_e({pubkey:ve(),lamports:ge(),postBalance:me(ge()),rewardType:me(ve()),commission:ye(me(ge()))}),Ki=xn(me(_e({blockhash:ve(),previousBlockhash:ve(),parentSlot:ge(),transactions:le(_e({transaction:Pi,meta:me(ji),version:ye(Hi)})),rewards:ye(le(qi)),blockTime:me(ge()),blockHeight:me(ge())}))),Wi=xn(me(_e({blockhash:ve(),previousBlockhash:ve(),parentSlot:ge(),rewards:ye(le(qi)),blockTime:me(ge()),blockHeight:me(ge())}))),$i=xn(me(_e({blockhash:ve(),previousBlockhash:ve(),parentSlot:ge(),transactions:le(_e({transaction:Ni,meta:me(ji),version:ye(Hi)})),rewards:ye(le(qi)),blockTime:me(ge()),blockHeight:me(ge())}))),Zi=xn(me(_e({blockhash:ve(),previousBlockhash:ve(),parentSlot:ge(),transactions:le(_e({transaction:Ui,meta:me(Vi),version:ye(Hi)})),rewards:ye(le(qi)),blockTime:me(ge()),blockHeight:me(ge())}))),Gi=xn(me(_e({blockhash:ve(),previousBlockhash:ve(),parentSlot:ge(),transactions:le(_e({transaction:Ni,meta:me(Vi),version:ye(Hi)})),rewards:ye(le(qi)),blockTime:me(ge()),blockHeight:me(ge())}))),Qi=xn(me(_e({blockhash:ve(),previousBlockhash:ve(),parentSlot:ge(),rewards:ye(le(qi)),blockTime:me(ge()),blockHeight:me(ge())}))),Ji=xn(me(_e({blockhash:ve(),previousBlockhash:ve(),parentSlot:ge(),transactions:le(_e({transaction:Pi,meta:me(ji)})),rewards:ye(le(qi)),blockTime:me(ge())}))),Yi=xn(me(_e({blockhash:ve(),previousBlockhash:ve(),parentSlot:ge(),signatures:le(ve()),blockTime:me(ge())}))),Xi=xn(me(_e({slot:ge(),meta:me(ji),blockTime:ye(me(ge())),transaction:Pi,version:ye(Hi)}))),ts=xn(me(_e({slot:ge(),transaction:Ui,meta:me(Vi),blockTime:ye(me(ge())),version:ye(Hi)}))),es=Tn(_e({blockhash:ve(),lastValidBlockHeight:ge()})),rs=Tn(he()),ns=xn(le(_e({slot:ge(),numTransactions:ge(),numSlots:ge(),samplePeriodSecs:ge()}))),is=Tn(me(_e({feeCalculator:_e({lamportsPerSignature:ge()})}))),ss=xn(ve()),os=xn(ve()),as=_e({err:Fn,logs:le(ve()),signature:ve()}),us=_e({result:Rn(as),subscription:ge()}),cs={"solana-client":"js/1.0.0-maintenance"};class Connection{constructor(t,e){let r,n,i,s,o,a;var u;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const t={};return async e=>{const{commitment:r,config:n}=kn(e),i=this._buildArgs([],r,void 0,n),s=mn(i);return t[s]=t[s]??(async()=>{try{const t=oe(await this._rpcRequest("getBlockHeight",i),xn(ge()));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get block height information");return t.result}finally{delete t[s]}})(),await t[s]}})(),e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,r=e.wsEndpoint,n=e.httpHeaders,i=e.fetch,s=e.fetchMiddleware,o=e.disableRetryOnRateLimit,a=e.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(t),this._rpcWsEndpoint=r||function(t){const e=t.match(vn);if(null==e)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${o}//${n}${null==a?"":`:${a+1}`}${s}`}(t),this._rpcClient=function(t,e,r,n,i,s){const o=r||yn;let a;return null!=s&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(a=async(t,e)=>{const r=await new Promise(((r,i)=>{try{n(t,e,((t,e)=>r([t,e])))}catch(s){i(s)}}));return await o(...r)}),new(Ie())((async(r,n)=>{const s={method:"POST",body:r,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},cs)};try{let e,r=5,u=500;for(;e=a?await a(t,s):await o(t,s),429===e.status&&!0!==i&&(r-=1,0!==r);)console.error(`Server responded with ${e.status} ${e.statusText}.  Retrying after ${u}ms delay...`),await Xr(u),u*=2;const c=await e.text();e.ok?n(null,c):n(new Error(`${e.status} ${e.statusText}: ${c}`))}catch(u){u instanceof Error&&n(u)}}),{})}(t,n,i,s,o,a),this._rpcRequest=(u=this._rpcClient,(t,e)=>new Promise(((r,n)=>{u.request(t,e,((t,e)=>{t?n(t):r(e)}))}))),this._rpcBatchRequest=function(t){return e=>new Promise(((r,n)=>{0===e.length&&r([]);const i=e.map((e=>t.request(e.methodName,e.args)));t.request(i,((t,e)=>{t?n(t):r(e)}))}))}(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:r,config:n}=kn(e),i=this._buildArgs([t.toBase58()],r,void 0,n),s=oe(await this._rpcRequest("getBalance",i),Tn(ge()));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get balance for ${t.toBase58()}`);return s.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+e)}))}async getBlockTime(t){const e=oe(await this._rpcRequest("getBlockTime",[t]),xn(me(ge())));if("error"in e)throw new SolanaJSONRPCError(e.error,`failed to get block time for slot ${t}`);return e.result}async getMinimumLedgerSlot(){const t=oe(await this._rpcRequest("minimumLedgerSlot",[]),xn(ge()));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const t=oe(await this._rpcRequest("getFirstAvailableBlock",[]),Xn);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get first available block");return t.result}async getSupply(t){let e={};e="string"==typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||this.commitment}:{commitment:this.commitment};const r=oe(await this._rpcRequest("getSupply",[e]),ti);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get supply");return r.result}async getTokenSupply(t,e){const r=this._buildArgs([t.toBase58()],e),n=oe(await this._rpcRequest("getTokenSupply",r),Tn(ei));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get token supply");return n.result}async getTokenAccountBalance(t,e){const r=this._buildArgs([t.toBase58()],e),n=oe(await this._rpcRequest("getTokenAccountBalance",r),Tn(ei));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get token account balance");return n.result}async getTokenAccountsByOwner(t,e,r){const{commitment:n,config:i}=kn(r);let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const o=this._buildArgs(s,n,"base64",i),a=oe(await this._rpcRequest("getTokenAccountsByOwner",o),ni);if("error"in a)throw new SolanaJSONRPCError(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(t,e,r){let n=[t.toBase58()];"mint"in e?n.push({mint:e.mint.toBase58()}):n.push({programId:e.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),s=oe(await this._rpcRequest("getTokenAccountsByOwner",i),si);if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get token accounts owned by account ${t.toBase58()}`);return s.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],n=oe(await this._rpcRequest("getLargestAccounts",r),oi);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get largest accounts");return n.result}async getTokenLargestAccounts(t,e){const r=this._buildArgs([t.toBase58()],e),n=oe(await this._rpcRequest("getTokenLargestAccounts",r),ri);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get token largest accounts");return n.result}async getAccountInfoAndContext(t,e){const{commitment:r,config:n}=kn(e),i=this._buildArgs([t.toBase58()],r,"base64",n),s=oe(await this._rpcRequest("getAccountInfo",i),Tn(me(ai)));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getParsedAccountInfo(t,e){const{commitment:r,config:n}=kn(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",n),s=oe(await this._rpcRequest("getAccountInfo",i),Tn(me(li)));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,e){const{commitment:r,config:n}=kn(e),i=t.map((t=>t.toBase58())),s=this._buildArgs([i],r,"jsonParsed",n),o=oe(await this._rpcRequest("getMultipleAccounts",s),Tn(le(me(li))));if("error"in o)throw new SolanaJSONRPCError(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:r,config:n}=kn(e),i=t.map((t=>t.toBase58())),s=this._buildArgs([i],r,"base64",n),o=oe(await this._rpcRequest("getMultipleAccounts",s),Tn(le(me(ai))));if("error"in o)throw new SolanaJSONRPCError(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,r){const{commitment:n,config:i}=kn(e),s=this._buildArgs([t.toBase58()],n,void 0,{...i,epoch:null!=r?r:i?.epoch}),o=oe(await this._rpcRequest("getStakeActivation",s),xn(di));if("error"in o)throw new SolanaJSONRPCError(o.error,`failed to get Stake Activation ${t.toBase58()}`);return o.result}async getProgramAccounts(t,e){const{commitment:r,config:n}=kn(e),{encoding:i,...s}=n||{},o=this._buildArgs([t.toBase58()],r,i||"base64",{...s,...s.filters?{filters:An(s.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",o),u=le(ui),c=!0===s.withContext?oe(a,Tn(u)):oe(a,xn(u));if("error"in c)throw new SolanaJSONRPCError(c.error,`failed to get accounts owned by program ${t.toBase58()}`);return c.result}async getParsedProgramAccounts(t,e){const{commitment:r,config:n}=kn(e),i=this._buildArgs([t.toBase58()],r,"jsonParsed",n),s=oe(await this._rpcRequest("getProgramAccounts",i),xn(le(hi)));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get accounts owned by program ${t.toBase58()}`);return s.result}async confirmTransaction(t,e){let r,n;if("string"==typeof t)r=t;else{const e=t;if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);r=e.signature}try{n=Zt().decode(r)}catch(i){throw new Error("signature must be base58 encoded: "+r)}return Br(64===n.length,"signature has invalid length"),"string"==typeof t?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise(((e,r)=>{null!=t&&(t.aborted?r(t.reason):t.addEventListener("abort",(()=>{r(t.reason)})))}))}getTransactionConfirmationPromise({commitment:t,signature:e}){let r,n,i=!1;return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=r&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:new Promise(((s,o)=>{try{r=this.onSignature(e,((t,e)=>{r=void 0;const n={context:e,value:t};s({__type:zr.PROCESSED,response:n})}),t);const a=new Promise((t=>{null==r?t():n=this._onSubscriptionStateChange(r,(e=>{"subscribed"===e&&t()}))}));(async()=>{if(await a,i)return;const r=await this.getSignatureStatus(e);if(i)return;if(null==r)return;const{context:n,value:u}=r;if(null!=u)if(u?.err)o(u.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===u.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===u.confirmationStatus||"confirmed"===u.confirmationStatus)return}i=!0,s({__type:zr.PROCESSED,response:{context:n,value:u}})}})()}catch(a){o(a)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:r,signature:n}}){let i=!1;const s=new Promise((e=>{const n=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let t=await n();if(!i){for(;t<=r;){if(await Xr(1e3),i)return;if(t=await n(),i)return}e({__type:zr.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:o,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:t,signature:n}),u=this.getCancellationPromise(e);let c;try{const t=await Promise.race([u,a,s]);if(t.__type!==zr.PROCESSED)throw new TransactionExpiredBlockheightExceededError(n);c=t.response}finally{i=!0,o()}return c}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:r,nonceAccountPubkey:n,nonceValue:i,signature:s}}){let o=!1;const a=new Promise((e=>{let s=i,a=null;const u=async()=>{try{const{context:e,value:i}=await this.getNonceAndContext(n,{commitment:t,minContextSlot:r});return a=e.slot,i?.nonce}catch(e){return s}};(async()=>{if(s=await u(),!o)for(;;){if(i!==s)return void e({__type:zr.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await Xr(2e3),o)return;if(s=await u(),o)return}})()})),{abortConfirmation:u,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),l=this.getCancellationPromise(e);let h;try{const e=await Promise.race([l,c,a]);if(e.__type===zr.PROCESSED)h=e.response;else{let n;for(;;){const t=await this.getSignatureStatus(s);if(null==t)break;if(!(t.context.slot<(e.slotInWhichNonceDidAdvance??r))){n=t;break}await Xr(400)}if(!n?.value)throw new TransactionExpiredNonceInvalidError(s);{const e=t||"finalized",{confirmationStatus:r}=n.value;switch(e){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new TransactionExpiredNonceInvalidError(s);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new TransactionExpiredNonceInvalidError(s);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new TransactionExpiredNonceInvalidError(s)}h={context:n.context,value:{err:n.value.err}}}}}finally{o=!0,u()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let r;const n=new Promise((e=>{let n=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":n=this._confirmTransactionInitialTimeout||3e4}r=setTimeout((()=>e({__type:zr.TIMED_OUT,timeoutMs:n})),n)})),{abortConfirmation:i,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let o;try{const t=await Promise.race([s,n]);if(t.__type!==zr.PROCESSED)throw new TransactionExpiredTimeoutError(e,t.timeoutMs/1e3);o=t.response}finally{clearTimeout(r),i()}return o}async getClusterNodes(){const t=oe(await this._rpcRequest("getClusterNodes",[]),xn(le(ki)));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(t){const e=this._buildArgs([],t),r=oe(await this._rpcRequest("getVoteAccounts",e),Ii);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get vote accounts");return r.result}async getSlot(t){const{commitment:e,config:r}=kn(t),n=this._buildArgs([],e,void 0,r),i=oe(await this._rpcRequest("getSlot",n),xn(ge()));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get slot");return i.result}async getSlotLeader(t){const{commitment:e,config:r}=kn(t),n=this._buildArgs([],e,void 0,r),i=oe(await this._rpcRequest("getSlotLeader",n),xn(ve()));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(t,e){const r=[t,e],n=oe(await this._rpcRequest("getSlotLeaders",r),xn(le(bn)));if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get slot leaders");return n.result}async getSignatureStatus(t,e){const{context:r,value:n}=await this.getSignatureStatuses([t],e);Br(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(t,e){const r=[t];e&&r.push(e);const n=oe(await this._rpcRequest("getSignatureStatuses",r),Ti);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get signature status");return n.result}async getTransactionCount(t){const{commitment:e,config:r}=kn(t),n=this._buildArgs([],e,void 0,r),i=oe(await this._rpcRequest("getTransactionCount",n),xn(ge()));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get transaction count");return i.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),r=oe(await this._rpcRequest("getInflationGovernor",e),$n);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get inflation");return r.result}async getInflationReward(t,e,r){const{commitment:n,config:i}=kn(r),s=this._buildArgs([t.map((t=>t.toBase58()))],n,void 0,{...i,epoch:null!=e?e:i?.epoch}),o=oe(await this._rpcRequest("getInflationReward",s),On);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get inflation reward");return o.result}async getInflationRate(){const t=oe(await this._rpcRequest("getInflationRate",[]),Zn);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(t){const{commitment:e,config:r}=kn(t),n=this._buildArgs([],e,void 0,r),i=oe(await this._rpcRequest("getEpochInfo",n),Qn);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const t=oe(await this._rpcRequest("getEpochSchedule",[]),Jn);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get epoch schedule");const e=t.result;return new EpochSchedule(e.slotsPerEpoch,e.leaderScheduleSlotOffset,e.warmup,e.firstNormalEpoch,e.firstNormalSlot)}async getLeaderSchedule(){const t=oe(await this._rpcRequest("getLeaderSchedule",[]),Yn);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(t,e){const r=this._buildArgs([t],e),n=oe(await this._rpcRequest("getMinimumBalanceForRentExemption",r),Ri);return"error"in n?(console.warn("Unable to fetch minimum balance for rent exemption"),0):n.result}async getRecentBlockhashAndContext(t){const{context:e,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:e,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(t){const e=oe(await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),ns);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get recent performance samples");return e.result}async getFeeCalculatorForBlockhash(t,e){const r=this._buildArgs([t],e),n=oe(await this._rpcRequest("getFeeCalculatorForBlockhash",r),is);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get fee calculator");const{context:i,value:s}=n.result;return{context:i,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(t,e){const r=vr(t.serialize()).toString("base64"),n=this._buildArgs([r],e),i=oe(await this._rpcRequest("getFeeForMessage",n),Tn(me(ge())));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(t){const e=t?.lockedWritableAccounts?.map((t=>t.toBase58())),r=e?.length?[e]:[],n=oe(await this._rpcRequest("getRecentPrioritizationFees",r),Gn);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get recent prioritization fees");return n.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:r}=kn(t),n=this._buildArgs([],e,void 0,r),i=oe(await this._rpcRequest("getLatestBlockhash",n),es);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(t,e){const{commitment:r,config:n}=kn(e),i=this._buildArgs([t],r,void 0,n),s=oe(await this._rpcRequest("isBlockhashValid",i),rs);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to determine if the blockhash `"+t+"`is valid");return s.result}async getVersion(){const t=oe(await this._rpcRequest("getVersion",[]),xn(Vn));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get version");return t.result}async getGenesisHash(){const t=oe(await this._rpcRequest("getGenesisHash",[]),xn(ve()));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get genesis hash");return t.result}async getBlock(t,e){const{commitment:r,config:n}=kn(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,n),s=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{const t=oe(s,$i);if("error"in t)throw t.error;return t.result}case"none":{const t=oe(s,Wi);if("error"in t)throw t.error;return t.result}default:{const t=oe(s,Ki);if("error"in t)throw t.error;const{result:e}=t;return e?{...e,transactions:e.transactions.map((({transaction:t,meta:e,version:r})=>({meta:e,transaction:{...t,message:Cn(r,t.message)},version:r})))}:null}}}catch(o){throw new SolanaJSONRPCError(o,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:r,config:n}=kn(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n),s=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{const t=oe(s,Gi);if("error"in t)throw t.error;return t.result}case"none":{const t=oe(s,Qi);if("error"in t)throw t.error;return t.result}default:{const t=oe(s,Zi);if("error"in t)throw t.error;return t.result}}}catch(o){throw new SolanaJSONRPCError(o,"failed to get block")}}async getBlockProduction(t){let e,r;if("string"==typeof t)r=t;else if(t){const{commitment:n,...i}=t;r=n,e=i}const n=this._buildArgs([],r,"base64",e),i=oe(await this._rpcRequest("getBlockProduction",n),Wn);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get block production information");return i.result}async getTransaction(t,e){const{commitment:r,config:n}=kn(e),i=this._buildArgsAtLeastConfirmed([t],r,void 0,n),s=oe(await this._rpcRequest("getTransaction",i),Xi);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction");const o=s.result;return o?{...o,transaction:{...o.transaction,message:Cn(o.version,o.transaction.message)}}:o}async getParsedTransaction(t,e){const{commitment:r,config:n}=kn(e),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n),s=oe(await this._rpcRequest("getTransaction",i),ts);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction");return s.result}async getParsedTransactions(t,e){const{commitment:r,config:n}=kn(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",n)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=oe(t,ts);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get transactions");return e.result}))}async getTransactions(t,e){const{commitment:r,config:n}=kn(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],r,void 0,n)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=oe(t,Xi);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get transactions");const r=e.result;return r?{...r,transaction:{...r.transaction,message:Cn(r.version,r.transaction.message)}}:r}))}async getConfirmedBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),n=oe(await this._rpcRequest("getBlock",r),Ji);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+t+" not found");const s={...i,transactions:i.transactions.map((({transaction:t,meta:e})=>{const r=new Message(t.message);return{meta:e,transaction:{...t,message:r}}}))};return{...s,transactions:s.transactions.map((({transaction:t,meta:e})=>({meta:e,transaction:Transaction.populate(t.message,t.signatures)})))}}async getBlocks(t,e,r){const n=this._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],r),i=oe(await this._rpcRequest("getBlocks",n),xn(le(ge())));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get blocks");return i.result}async getBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=oe(await this._rpcRequest("getBlock",r),Yi);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get block");const i=n.result;if(!i)throw new Error("Block "+t+" not found");return i}async getConfirmedBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=oe(await this._rpcRequest("getBlock",r),Yi);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+t+" not found");return i}async getConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),n=oe(await this._rpcRequest("getTransaction",r),Xi);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get transaction");const i=n.result;if(!i)return i;const s=new Message(i.transaction.message),o=i.transaction.signatures;return{...i,transaction:Transaction.populate(s,o)}}async getParsedConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),n=oe(await this._rpcRequest("getTransaction",r),ts);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get confirmed transaction");return n.result}async getParsedConfirmedTransactions(t,e){const r=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],e,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((t=>{const e=oe(t,ts);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get confirmed transactions");return e.result}))}async getConfirmedSignaturesForAddress(t,e,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--e<=0||e<i);)try{const t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(n.until=t.signatures[t.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}let s=await this.getSlot("finalized");for(;!("before"in n||++r>s);)try{const t=await this.getConfirmedBlockSignatures(r);t.signatures.length>0&&(n.before=t.signatures[t.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}return(await this.getConfirmedSignaturesForAddress2(t,n)).map((t=>t.signature))}async getConfirmedSignaturesForAddress2(t,e,r){const n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=oe(await this._rpcRequest("getConfirmedSignaturesForAddress2",n),fi);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(t,e,r){const n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=oe(await this._rpcRequest("getSignaturesForAddress",n),pi);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(t,e){const{context:r,value:n}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==n&&(i=new AddressLookupTableAccount({key:t,state:AddressLookupTableAccount.deserialize(n.data)})),{context:r,value:i}}async getNonceAndContext(t,e){const{context:r,value:n}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==n&&(i=NonceAccount.fromAccountData(n.data)),{context:r,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)}))}async requestAirdrop(t,e){const r=oe(await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),ss);if("error"in r)throw new SolanaJSONRPCError(r.error,`airdrop to ${t.toBase58()} failed`);return r.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await Xr(100);const t=Date.now()-this._blockhashInfo.lastFetch>=Sn;if(null!==this._blockhashInfo.latestBlockhash&&!t)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,r=e?e.blockhash:null;for(let n=0;n<50;n++){const t=await this.getLatestBlockhash("finalized");if(r!==t.blockhash)return this._blockhashInfo={latestBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await Xr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:r}=kn(t),n=this._buildArgs([],e,"base64",r),i=oe(await this._rpcRequest("getStakeMinimumDelegation",n),Tn(ge()));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(t,e,r){if("message"in t){const n=t.serialize(),s=i.Buffer.from(n).toString("base64");if(Array.isArray(e)||void 0!==r)throw new Error("Invalid arguments");const o=e||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment),e&&"object"==typeof e&&"innerInstructions"in e&&(o.innerInstructions=e.innerInstructions);const a=[s,o],u=oe(await this._rpcRequest("simulateTransaction",a),Kn);if("error"in u)throw new Error("failed to simulate transaction: "+u.error.message);return u.result}let n;if(t instanceof Transaction){let e=t;n=new Transaction,n.feePayer=e.feePayer,n.instructions=t.instructions,n.nonceInfo=e.nonceInfo,n.signatures=e.signatures}else n=Transaction.populate(t),n._message=n._json=void 0;if(void 0!==e&&!Array.isArray(e))throw new Error("Invalid arguments");const s=e;if(n.nonceInfo&&s)n.sign(...s);else{let t=this._disableBlockhashCaching;for(;;){const e=await this._blockhashWithExpiryBlockHeight(t);if(n.lastValidBlockHeight=e.lastValidBlockHeight,n.recentBlockhash=e.blockhash,!s)break;if(n.sign(...s),!n.signature)throw new Error("!signature");const r=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}t=!0}}const o=n._compile(),a=o.serialize(),u=n._serialize(a).toString("base64"),c={encoding:"base64",commitment:this.commitment};if(r){const t=(Array.isArray(r)?r:o.nonProgramIds()).map((t=>t.toBase58()));c.accounts={encoding:"base64",addresses:t}}s&&(c.sigVerify=!0),e&&"object"==typeof e&&"innerInstructions"in e&&(c.innerInstructions=e.innerInstructions);const l=[u,c],h=oe(await this._rpcRequest("simulateTransaction",l),Kn);if("error"in h){let t;if("data"in h.error&&(t=h.error.data.logs,t&&Array.isArray(t))){const e="\n    ",r=e+t.join(e);console.error(h.error.message,r)}throw new SendTransactionError({action:"simulate",signature:"",transactionMessage:h.error.message,logs:t})}return h.result}async sendTransaction(t,e,r){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const r=t.serialize();return await this.sendRawTransaction(r,e)}if(void 0===e||!Array.isArray(e))throw new Error("Invalid arguments");const n=e;if(t.nonceInfo)t.sign(...n);else{let e=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(e);if(t.lastValidBlockHeight=r.lastValidBlockHeight,t.recentBlockhash=r.blockhash,t.sign(...n),!t.signature)throw new Error("!signature");const i=t.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}e=!0}}const i=t.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(t,e){const r=vr(t).toString("base64");return await this.sendEncodedTransaction(r,e)}async sendEncodedTransaction(t,e){const r={encoding:"base64"},n=e&&e.skipPreflight,i=!0===n?"processed":e&&e.preflightCommitment||this.commitment;e&&null!=e.maxRetries&&(r.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(r.minContextSlot=e.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const s=[t,r],o=oe(await this._rpcRequest("sendTransaction",s),os);if("error"in o){let t;throw"data"in o.error&&(t=o.error.data.logs),new SendTransactionError({action:n?"send":"simulate",signature:"",transactionMessage:o.error.message,logs:t})}return o.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([t,e])=>{this._setSubscription(t,{...e,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(t,e){const r=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,r!==e.state){const r=this._subscriptionStateChangeCallbacksByHash[t];r&&r.forEach((t=>{try{t(e.state)}catch{}}))}}_onSubscriptionStateChange(t,e){const r=this._subscriptionHashByClientSubscriptionId[t];if(null==r)return()=>{};const n=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return n.add(e),()=>{n.delete(e),0===n.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(t){t instanceof Error&&console.log(`Error when closing socket connection: ${t.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async t=>{const r=this._subscriptionsByHash[t];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[t],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void(await this._updateSubscriptions());await(async()=>{const{args:n,method:i}=r;try{this._setSubscription(t,{...r,state:"subscribing"});const e=await this._rpcWebSocket.call(i,n);this._setSubscription(t,{...r,serverSubscriptionId:e,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[e]=r.callbacks,await this._updateSubscriptions()}catch(s){if(console.error(`Received ${s instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:n,error:s}),!e())return;this._setSubscription(t,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(t,{...r,state:"unsubscribing"}),this._setSubscription(t,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(s){if(s instanceof Error&&console.error(`${i} error:`,s.message),!e())return;return this._setSubscription(t,{...r,state:"subscribed"}),void(await this._updateSubscriptions())}}this._setSubscription(t,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(t,e){const r=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==r&&r.forEach((t=>{try{t(...e)}catch(r){console.error(r)}}))}_wsOnAccountNotification(t){const{result:e,subscription:r}=oe(t,mi);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){const r=this._nextClientSubscriptionId++,n=mn([t.method,e]),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=n,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const e=this._subscriptionsByHash[n];Br(void 0!==e,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),e.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){const{commitment:n,config:i}=kn(r),s=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:r}=oe(t,yi);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,n){const{commitment:i,config:s}=kn(r),o=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",s||(n?{filters:An(n)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,r){const n=this._buildArgs(["object"==typeof t?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:r}=oe(t,us);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:r}=oe(t,vi);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:r}=oe(t,_i);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,n){const i=e||this._commitment;if(i||r||n){let e={};r&&(e.encoding=r),i&&(e.commitment=i),n&&(e=Object.assign(e,n)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,r,n){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,n)}_wsOnSignatureNotification(t){const{result:e,subscription:r}=oe(t,Ei);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,r){const n=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(t,r)=>{if("status"===t.type){e(t.result,r);try{this.removeSignatureListener(i)}catch(n){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(t,e,r){const{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([t],n,void 0,i),o=this._makeSubscription({callback:(t,r)=>{e(t,r);try{this.removeSignatureListener(o)}catch(n){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:r}=oe(t,Si);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class Keypair{constructor(t){this._keypair=void 0,this._keypair=t??pr()}static generate(){return new Keypair(pr())}static fromSecretKey(t,e){if(64!==t.byteLength)throw new Error("bad secret key size");const r=t.slice(32,64);if(!e||!e.skipValidation){const e=t.slice(0,32),n=mr(e);for(let t=0;t<32;t++)if(r[t]!==n[t])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:r,secretKey:t})}static fromSeed(t){const e=mr(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),new Keypair({publicKey:e,secretKey:r})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const ls=Object.freeze({CreateLookupTable:{index:0,layout:Jt.w3([Jt.DH("instruction"),on("recentSlot"),Jt.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Jt.w3([Jt.DH("instruction")])},ExtendLookupTable:{index:2,layout:Jt.w3([Jt.DH("instruction"),on(),Jt.O6(Tr(),Jt.cY(Jt.DH(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Jt.w3([Jt.DH("instruction")])},CloseLookupTable:{index:4,layout:Jt.w3([Jt.DH("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Jt.DH("instruction").decode(t.data);let r;for(const[n,i]of Object.entries(ls))if(i.index==e){r=n;break}if(!r)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return r}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);const{recentSlot:e}=en(ls.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(e)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);const{addresses:e}=en(ls.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:e.map((t=>new PublicKey(t)))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(t){const[e,r]=PublicKey.findProgramAddressSync([t.authority.toBuffer(),(0,Yt.Bq)(BigInt(t.recentSlot),8)],this.programId),n=tn(ls.CreateLookupTable,{recentSlot:BigInt(t.recentSlot),bumpSeed:r}),i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:i,data:n}),e]}static freezeLookupTable(t){const e=tn(ls.FreezeLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:r,data:e})}static extendLookupTable(t){const e=tn(ls.ExtendLookupTable,{addresses:t.addresses.map((t=>t.toBytes()))}),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&r.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:r,data:e})}static deactivateLookupTable(t){const e=tn(ls.DeactivateLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:r,data:e})}static closeLookupTable(t){const e=tn(ls.CloseLookupTable),r=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:r,data:e})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Jt.u8("instruction").decode(t.data);let r;for(const[n,i]of Object.entries(hs))if(i.index==e){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return r}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:e,additionalFee:r}=en(hs.RequestUnits,t.data);return{units:e,additionalFee:r}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:e}=en(hs.RequestHeapFrame,t.data);return{bytes:e}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);const{units:e}=en(hs.SetComputeUnitLimit,t.data);return{units:e}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);const{microLamports:e}=en(hs.SetComputeUnitPrice,t.data);return{microLamports:e}}static checkProgramId(t){if(!t.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const hs=Object.freeze({RequestUnits:{index:0,layout:Jt.w3([Jt.u8("instruction"),Jt.DH("units"),Jt.DH("additionalFee")])},RequestHeapFrame:{index:1,layout:Jt.w3([Jt.u8("instruction"),Jt.DH("bytes")])},SetComputeUnitLimit:{index:2,layout:Jt.w3([Jt.u8("instruction"),Jt.DH("units")])},SetComputeUnitPrice:{index:3,layout:Jt.w3([Jt.u8("instruction"),on("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(t){const e=tn(hs.RequestUnits,t);return new TransactionInstruction({keys:[],programId:this.programId,data:e})}static requestHeapFrame(t){const e=tn(hs.RequestHeapFrame,t);return new TransactionInstruction({keys:[],programId:this.programId,data:e})}static setComputeUnitLimit(t){const e=tn(hs.SetComputeUnitLimit,t);return new TransactionInstruction({keys:[],programId:this.programId,data:e})}static setComputeUnitPrice(t){const e=tn(hs.SetComputeUnitPrice,{microLamports:BigInt(t.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:e})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const ds=Jt.w3([Jt.u8("numSignatures"),Jt.u8("padding"),Jt.NX("signatureOffset"),Jt.NX("signatureInstructionIndex"),Jt.NX("publicKeyOffset"),Jt.NX("publicKeyInstructionIndex"),Jt.NX("messageDataOffset"),Jt.NX("messageDataSize"),Jt.NX("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,instructionIndex:s}=t;Br(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),Br(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const o=ds.span,a=o+e.length,u=a+n.length,c=i.Buffer.alloc(u+r.length),l=s??65535;return ds.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:o,publicKeyInstructionIndex:l,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:l},c),c.fill(e,o),c.fill(n,a),c.fill(r,u),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:c})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;Br(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const t=Keypair.fromSecretKey(e),i=t.publicKey.toBytes(),s=yr(r,t.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");dr.utils.isValidPrivateKey;const fs=dr.getPublicKey,ps=Jt.w3([Jt.u8("numSignatures"),Jt.NX("signatureOffset"),Jt.u8("signatureInstructionIndex"),Jt.NX("ethAddressOffset"),Jt.u8("ethAddressInstructionIndex"),Jt.NX("messageDataOffset"),Jt.NX("messageDataSize"),Jt.u8("messageInstructionIndex"),Jt.av(20,"ethAddress"),Jt.av(64,"signature"),Jt.u8("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(t){Br(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return i.Buffer.from($e(vr(t))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,recoveryId:i,instructionIndex:s}=t;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(e),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:r,signature:n,recoveryId:s,instructionIndex:o=0}=t;let a;a="string"==typeof e?e.startsWith("0x")?i.Buffer.from(e.substr(2),"hex"):i.Buffer.from(e,"hex"):e,Br(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const u=12+a.length,c=u+n.length+1,l=i.Buffer.alloc(ps.span+r.length);return ps.encode({numSignatures:1,signatureOffset:u,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:o,signature:vr(n),ethAddress:vr(a),recoveryId:s},l),l.fill(vr(r),ps.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:l})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;Br(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const t=vr(e),s=fs(t,!1).slice(1),o=i.Buffer.from($e(vr(r))),[a,u]=((t,e)=>{const r=dr.sign(t,e);return[r.toCompactRawBytes(),r.recovery]})(o,t);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:a,recoveryId:u,instructionIndex:n})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}var ms;Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const gs=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(t,e){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=e}}class Lockup{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}}ms=Lockup,Lockup.default=new ms(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Jt.DH("instruction").decode(t.data);let r;for(const[n,i]of Object.entries(ys))if(i.index==e){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e,lockup:r}=en(ys.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new Authorized(new PublicKey(e.staker),new PublicKey(e.withdrawer)),lockup:new Lockup(r.unixTimestamp,r.epoch,new PublicKey(r.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),en(ys.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,stakeAuthorizationType:r}=en(ys.Authorize,t.data),n={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(e),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(n.custodianPubkey=t.keys[3].pubkey),n}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:e,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=en(ys.AuthorizeWithSeed,t.data),s={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:n,authorityOwner:new PublicKey(i),newAuthorizedPubkey:new PublicKey(e),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(s.custodianPubkey=t.keys[3].pubkey),s}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=en(ys.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:e}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),en(ys.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=en(ys.Withdraw,t.data),r={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e};return t.keys.length>5&&(r.custodianPubkey=t.keys[5].pubkey),r}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),en(ys.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const ys=Object.freeze({Initialize:{index:0,layout:Jt.w3([Jt.DH("instruction"),((t="authorized")=>Jt.w3([Tr("staker"),Tr("withdrawer")],t))(),((t="lockup")=>Jt.w3([Jt.Wg("unixTimestamp"),Jt.Wg("epoch"),Tr("custodian")],t))()])},Authorize:{index:1,layout:Jt.w3([Jt.DH("instruction"),Tr("newAuthorized"),Jt.DH("stakeAuthorizationType")])},Delegate:{index:2,layout:Jt.w3([Jt.DH("instruction")])},Split:{index:3,layout:Jt.w3([Jt.DH("instruction"),Jt.Wg("lamports")])},Withdraw:{index:4,layout:Jt.w3([Jt.DH("instruction"),Jt.Wg("lamports")])},Deactivate:{index:5,layout:Jt.w3([Jt.DH("instruction")])},Merge:{index:7,layout:Jt.w3([Jt.DH("instruction")])},AuthorizeWithSeed:{index:8,layout:Jt.w3([Jt.DH("instruction"),Tr("newAuthorized"),Jt.DH("stakeAuthorizationType"),Cr("authoritySeed"),Tr("authorityOwner")])}}),ws=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(t){const{stakePubkey:e,authorized:r,lockup:n}=t,i=n||Lockup.default,s=tn(ys.Initialize,{authorized:{staker:vr(r.staker.toBuffer()),withdrawer:vr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:vr(i.custodian.toBuffer())}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Wr,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new TransactionInstruction(o)}static createAccountWithSeed(t){const e=new Transaction;e.add(SystemProgram.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(t){const e=new Transaction;e.add(SystemProgram.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:r,votePubkey:n}=t,i=tn(ys.Delegate);return(new Transaction).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:Qr,isSigner:!1,isWritable:!1},{pubkey:gs,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=t,o=tn(ys.Authorize,{newAuthorized:vr(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=t,u=tn(ys.AuthorizeWithSeed,{newAuthorized:vr(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:vr(i.toBuffer())}),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Vr,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:c,programId:this.programId,data:u})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=t,s=tn(ys.Split,{lamports:i});return new TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(t,e){const r=new Transaction;return r.add(SystemProgram.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),r.add(this.splitInstruction(t))}static splitWithSeed(t,e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:s,seed:o,lamports:a}=t,u=new Transaction;return u.add(SystemProgram.allocate({accountPubkey:i,basePubkey:s,seed:o,space:this.space,programId:this.programId})),e&&e>0&&u.add(SystemProgram.transfer({fromPubkey:t.authorizedPubkey,toPubkey:i,lamports:e})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:r,authorizedPubkey:n}=t,i=tn(ys.Merge);return(new Transaction).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:Qr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=t,o=tn(ys.Withdraw,{lamports:i}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:Qr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:a,programId:this.programId,data:o})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:r}=t,n=tn(ys.Deactivate);return(new Transaction).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111"),StakeProgram.space=200;class VoteInit{constructor(t,e,r,n){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=e,this.authorizedWithdrawer=r,this.commission=n}}class VoteInstruction{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Jt.DH("instruction").decode(t.data);let r;for(const[n,i]of Object.entries(vs))if(i.index==e){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a VoteInstruction");return r}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:e}=en(vs.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(e.nodePubkey),new PublicKey(e.authorizedVoter),new PublicKey(e.authorizedWithdrawer),e.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,voteAuthorizationType:r}=en(vs.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(e),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:e,currentAuthorityDerivedKeySeed:r,newAuthorized:n,voteAuthorizationType:i}}=en(vs.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(e),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new PublicKey(n),voteAuthorizationType:{index:i},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=en(vs.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:e,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const vs=Object.freeze({InitializeAccount:{index:0,layout:Jt.w3([Jt.DH("instruction"),((t="voteInit")=>Jt.w3([Tr("nodePubkey"),Tr("authorizedVoter"),Tr("authorizedWithdrawer"),Jt.u8("commission")],t))()])},Authorize:{index:1,layout:Jt.w3([Jt.DH("instruction"),Tr("newAuthorized"),Jt.DH("voteAuthorizationType")])},Withdraw:{index:3,layout:Jt.w3([Jt.DH("instruction"),Jt.Wg("lamports")])},UpdateValidatorIdentity:{index:4,layout:Jt.w3([Jt.DH("instruction")])},AuthorizeWithSeed:{index:10,layout:Jt.w3([Jt.DH("instruction"),((t="voteAuthorizeWithSeedArgs")=>Jt.w3([Jt.DH("voteAuthorizationType"),Tr("currentAuthorityDerivedKeyOwnerPubkey"),Cr("currentAuthorityDerivedKeySeed"),Tr("newAuthorized")],t))()])}}),bs=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:r,voteInit:n}=t,i=tn(vs.InitializeAccount,{voteInit:{nodePubkey:vr(n.nodePubkey.toBuffer()),authorizedVoter:vr(n.authorizedVoter.toBuffer()),authorizedWithdrawer:vr(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Wr,isSigner:!1,isWritable:!1},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new TransactionInstruction(s)}static createAccount(t){const e=new Transaction;return e.add(SystemProgram.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=t,s=tn(vs.Authorize,{newAuthorized:vr(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:o,programId:this.programId,data:s})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:o}=t,a=tn(vs.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:vr(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:vr(i.toBuffer()),voteAuthorizationType:s.index}}),u=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Vr,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:u,programId:this.programId,data:a})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=t,s=tn(vs.Withdraw,{lamports:n}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:o,programId:this.programId,data:s})}static safeWithdraw(t,e,r){if(t.lamports>e-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return VoteProgram.withdraw(t)}static updateValidatorIdentity(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,nodePubkey:n}=t,i=tn(vs.UpdateValidatorIdentity),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:s,programId:this.programId,data:i})}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111"),VoteProgram.space=3762;const _s=new PublicKey("Va1idator1nfo111111111111111111111111111111"),Es=_e({name:ve(),website:ye(ve()),details:ye(ve()),iconUrl:ye(ve()),keybaseUsername:ye(ve())});class ValidatorInfo{constructor(t,e){this.key=void 0,this.info=void 0,this.key=t,this.info=e}static fromConfigData(t){let e=[...t];if(2!==Or(e))return null;const r=[];for(let n=0;n<2;n++){const t=new PublicKey(Ur(e,0,Sr)),n=1===Dr(e);r.push({publicKey:t,isSigner:n})}if(r[0].publicKey.equals(_s)&&r[1].isSigner){const t=Cr().decode(i.Buffer.from(e)),n=JSON.parse(t);return se(n,Es),new ValidatorInfo(r[1].publicKey,n)}return null}}const Ss=new PublicKey("Vote111111111111111111111111111111111111111"),ks=Jt.w3([Tr("nodePubkey"),Tr("authorizedWithdrawer"),Jt.u8("commission"),Jt.I0(),Jt.O6(Jt.w3([Jt.I0("slot"),Jt.DH("confirmationCount")]),Jt.cY(Jt.DH(),-8),"votes"),Jt.u8("rootSlotValid"),Jt.I0("rootSlot"),Jt.I0(),Jt.O6(Jt.w3([Jt.I0("epoch"),Tr("authorizedVoter")]),Jt.cY(Jt.DH(),-8),"authorizedVoters"),Jt.w3([Jt.O6(Jt.w3([Tr("authorizedPubkey"),Jt.I0("epochOfLastAuthorizedSwitch"),Jt.I0("targetEpoch")]),32,"buf"),Jt.I0("idx"),Jt.u8("isEmpty")],"priorVoters"),Jt.I0(),Jt.O6(Jt.w3([Jt.I0("epoch"),Jt.I0("credits"),Jt.I0("prevCredits")]),Jt.cY(Jt.DH(),-8),"epochCredits"),Jt.w3([Jt.I0("slot"),Jt.I0("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const e=ks.decode(vr(t),4);let r=e.rootSlot;return e.rootSlotValid||(r=null),new VoteAccount({nodePubkey:new PublicKey(e.nodePubkey),authorizedWithdrawer:new PublicKey(e.authorizedWithdrawer),commission:e.commission,votes:e.votes,rootSlot:r,authorizedVoters:e.authorizedVoters.map(As),priorVoters:Ms(e.priorVoters),epochCredits:e.epochCredits,lastTimestamp:e.lastTimestamp})}}function As({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new PublicKey(t)}}function Is({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new PublicKey(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function Ms({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(Is),...t.slice(0,e).map(Is)]}const xs={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Ts(t,e){const r=!1===e?"http":"https";if(!t)return xs[r].devnet;const n=xs[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function Rs(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await t.sendRawTransaction(e,o),u=s&&s.commitment,c=i?t.confirmTransaction(i,u):t.confirmTransaction(a,u),l=(await c).value;if(l.err){if(null!=a)throw new SendTransactionError({action:o?.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`});throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`)}return a}const Cs=1e9},7169:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(493).Buffer}catch(x){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,i){for(var s=0,o=0,a=Math.min(t.length,r),u=e;u<a;u++){var c=t.charCodeAt(u)-48;s*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&o<i,"Invalid character"),s+=o}return s}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){l(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(x){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=f[t],l=p[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(t);r=(h=h.idivn(l)).isZero()?m+r:d[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,d=Math.min(c,e.length-1),f=Math.max(0,c-t.length+1);f<=d;f++){var p=c-f|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}s.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,w=g>>>13,v=0|o[3],b=8191&v,_=v>>>13,E=0|o[4],S=8191&E,k=E>>>13,A=0|o[5],I=8191&A,M=A>>>13,x=0|o[6],T=8191&x,R=x>>>13,C=0|o[7],P=8191&C,O=C>>>13,N=0|o[8],B=8191&N,L=N>>>13,D=0|o[9],U=8191&D,F=D>>>13,z=0|a[0],j=8191&z,V=z>>>13,H=0|a[1],q=8191&H,K=H>>>13,W=0|a[2],$=8191&W,Z=W>>>13,G=0|a[3],Q=8191&G,J=G>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,j))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(d,j)|0))<<13)|0;c=((s=Math.imul(d,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,V))+Math.imul(m,j)|0,s=Math.imul(m,V);var yt=(c+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,q)|0))<<13)|0;c=((s=s+Math.imul(d,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,V))+Math.imul(w,j)|0,s=Math.imul(w,V),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,K)|0;var wt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,$)|0))<<13)|0;c=((s=s+Math.imul(d,Z)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(b,j),i=(i=Math.imul(b,V))+Math.imul(_,j)|0,s=Math.imul(_,V),n=n+Math.imul(y,q)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(w,q)|0,s=s+Math.imul(w,K)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Z)|0;var vt=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Q)|0))<<13)|0;c=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,j),i=(i=Math.imul(S,V))+Math.imul(k,j)|0,s=Math.imul(k,V),n=n+Math.imul(b,q)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,J)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;c=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,V))+Math.imul(M,j)|0,s=Math.imul(M,V),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(k,q)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(w,Q)|0,s=s+Math.imul(w,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;c=((s=s+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(T,j),i=(i=Math.imul(T,V))+Math.imul(R,j)|0,s=Math.imul(R,V),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,K)|0)+Math.imul(M,q)|0,s=s+Math.imul(M,K)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(k,$)|0,s=s+Math.imul(k,Z)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,J)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;c=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,V))+Math.imul(O,j)|0,s=Math.imul(O,V),n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(R,q)|0,s=s+Math.imul(R,K)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(M,$)|0,s=s+Math.imul(M,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,J)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(w,rt)|0,s=s+Math.imul(w,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((s=s+Math.imul(d,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,V))+Math.imul(L,j)|0,s=Math.imul(L,V),n=n+Math.imul(P,q)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,q)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,J)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,X)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(w,st)|0,s=s+Math.imul(w,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var kt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;c=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,V))+Math.imul(F,j)|0,s=Math.imul(F,V),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,K)|0)+Math.imul(L,q)|0,s=s+Math.imul(L,K)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(R,Q)|0,s=s+Math.imul(R,J)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(M,X)|0,s=s+Math.imul(M,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(b,st)|0,i=(i=i+Math.imul(b,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(w,ut)|0,s=s+Math.imul(w,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,dt)|0;var At=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;c=((s=s+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,K))+Math.imul(F,q)|0,s=Math.imul(F,K),n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(L,$)|0,s=s+Math.imul(L,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(M,rt)|0,s=s+Math.imul(M,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(w,ht)|0,s=s+Math.imul(w,dt)|0;var It=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,Z))+Math.imul(F,$)|0,s=Math.imul(F,Z),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(L,Q)|0,s=s+Math.imul(L,J)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(M,st)|0,s=s+Math.imul(M,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(k,ut)|0,s=s+Math.imul(k,ct)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var Mt=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((s=s+Math.imul(w,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,J))+Math.imul(F,Q)|0,s=Math.imul(F,J),n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(L,X)|0,s=s+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(T,st)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(M,ut)|0,s=s+Math.imul(M,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,dt)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,dt)|0;var xt=(c+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(F,X)|0,s=Math.imul(F,tt),n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(L,rt)|0,s=s+Math.imul(L,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(R,ut)|0,s=s+Math.imul(R,ct)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,dt)|0)+Math.imul(M,ht)|0,s=s+Math.imul(M,dt)|0;var Tt=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;c=((s=s+Math.imul(k,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(F,rt)|0,s=Math.imul(F,nt),n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(L,st)|0,s=s+Math.imul(L,ot)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,dt)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,dt)|0;var Rt=(c+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(M,pt)|0))<<13)|0;c=((s=s+Math.imul(M,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,st),i=(i=Math.imul(U,ot))+Math.imul(F,st)|0,s=Math.imul(F,ot),n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(L,ut)|0,s=s+Math.imul(L,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,dt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,dt)|0;var Ct=(c+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((s=s+Math.imul(R,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ct))+Math.imul(F,ut)|0,s=Math.imul(F,ct),n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,dt)|0)+Math.imul(L,ht)|0,s=s+Math.imul(L,dt)|0;var Pt=(c+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(F,ht)|0,s=Math.imul(F,dt);var Ot=(c+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(L,pt)|0))<<13)|0;c=((s=s+Math.imul(L,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Nt=(c+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,mt))+Math.imul(F,pt)|0))<<13)|0;return c=((s=Math.imul(F,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=yt,u[2]=wt,u[3]=vt,u[4]=bt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=kt,u[9]=At,u[10]=It,u[11]=Mt,u[12]=xt,u[13]=Tt,u[14]=Rt,u[15]=Ct,u[16]=Pt,u[17]=Ot,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function y(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function w(t,e,r){return y(t,e,r)}function v(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?y(this,t,e):w(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},v.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},v.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},v.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,d=c,f=0;f<o;f++){var p=r[l+f],m=n[l+f],g=r[l+f+o],y=n[l+f+o],w=h*g-d*y;y=h*y+d*g,g=w,r[l+f]=p+g,n[l+f]=m+y,r[l+f+o]=p-g,n[l+f+o]=m-y,f!==a&&(w=u*h-c*d,d=u*d+c*h,h=w)}},v.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},v.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},v.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},v.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*l[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),w(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/t|0,r=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;!(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;!(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new I(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){I.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(E,_),E.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},E.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(S,_),i(k,_),i(A,_),A.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new E;else if("p224"===t)e=new S;else if("p192"===t)e=new k;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return b[t]=e,e},I.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},I.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},I.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},I.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},I.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},I.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},I.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},I.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},I.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},I.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},I.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},I.prototype.isqr=function(t){return this.imul(t,t.clone())},I.prototype.sqr=function(t){return this.mul(t,t)},I.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},I.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},I.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},I.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},I.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new M(t)},i(M,I),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},5708:(t,e,r)=>{"use strict";var n=r(6421).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,s=0;t[r]===u;)i++,r++;for(var o=(t.length-r)*c+1>>>0,l=new Uint8Array(o);r<t.length;){var h=e[t.charCodeAt(r)];if(255===h)return;for(var d=0,f=o-1;(0!==h||d<s)&&-1!==f;f--,d++)h+=a*l[f]>>>0,l[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=d,r++}for(var p=o-s;p!==o&&0===l[p];)p++;var m=n.allocUnsafe(i+(o-p));m.fill(0,0,i);for(var g=i;p!==o;)m[g++]=l[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,s=0,o=e.length;s!==o&&0===e[s];)s++,r++;for(var c=(o-s)*l+1>>>0,h=new Uint8Array(c);s!==o;){for(var d=e[s],f=0,p=c-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=256*h[p]>>>0,h[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,s++}for(var m=c-i;m!==c&&0===h[m];)m++;for(var g=u.repeat(r);m<c;++m)g+=t.charAt(h[m]);return g},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},9214:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],u=s[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,u)),l=0,h=u>0?o-4:o;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[l++]=255&e);1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,a=0,c=n-i;a<c;a+=o)s.push(u(t,a,a+o>c?c:a+o));1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,n){for(var i,s,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},432:(t,e)=>{"use strict";e.k5=function(t){{const e=Buffer.from(t);e.reverse();const r=e.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},e.cI=function(t){{const e=t.toString("hex");return 0===e.length?BigInt(0):BigInt(`0x${e}`)}},e.Bq=function(t,e){{const r=t.toString(16),n=Buffer.from(r.padStart(2*e,"0").slice(0,2*e),"hex");return n.reverse(),n}},e.zy=function(t,e){{const r=t.toString(16);return Buffer.from(r.padStart(2*e,"0").slice(0,2*e),"hex")}}},260:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(3034).Buffer}catch(A){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,d=Math.min(c,e.length-1),f=Math.max(0,c-t.length+1);f<=d;f++){var p=c-f|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?l[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=h[t],f=d[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);r=(p=p.idivn(f)).isZero()?m+r:l[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,c=new t(s),l=this.clone();if(u){for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!l.isZero();a++)o=l.andln(255),l.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,w=g>>>13,v=0|o[3],b=8191&v,_=v>>>13,E=0|o[4],S=8191&E,k=E>>>13,A=0|o[5],I=8191&A,M=A>>>13,x=0|o[6],T=8191&x,R=x>>>13,C=0|o[7],P=8191&C,O=C>>>13,N=0|o[8],B=8191&N,L=N>>>13,D=0|o[9],U=8191&D,F=D>>>13,z=0|a[0],j=8191&z,V=z>>>13,H=0|a[1],q=8191&H,K=H>>>13,W=0|a[2],$=8191&W,Z=W>>>13,G=0|a[3],Q=8191&G,J=G>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,j))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(d,j)|0))<<13)|0;c=((s=Math.imul(d,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,V))+Math.imul(m,j)|0,s=Math.imul(m,V);var yt=(c+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,q)|0))<<13)|0;c=((s=s+Math.imul(d,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,V))+Math.imul(w,j)|0,s=Math.imul(w,V),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,K)|0;var wt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,$)|0))<<13)|0;c=((s=s+Math.imul(d,Z)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(b,j),i=(i=Math.imul(b,V))+Math.imul(_,j)|0,s=Math.imul(_,V),n=n+Math.imul(y,q)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(w,q)|0,s=s+Math.imul(w,K)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Z)|0;var vt=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Q)|0))<<13)|0;c=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,j),i=(i=Math.imul(S,V))+Math.imul(k,j)|0,s=Math.imul(k,V),n=n+Math.imul(b,q)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,J)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;c=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,V))+Math.imul(M,j)|0,s=Math.imul(M,V),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(k,q)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(w,Q)|0,s=s+Math.imul(w,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;c=((s=s+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(T,j),i=(i=Math.imul(T,V))+Math.imul(R,j)|0,s=Math.imul(R,V),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,K)|0)+Math.imul(M,q)|0,s=s+Math.imul(M,K)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(k,$)|0,s=s+Math.imul(k,Z)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,J)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;c=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,V))+Math.imul(O,j)|0,s=Math.imul(O,V),n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(R,q)|0,s=s+Math.imul(R,K)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(M,$)|0,s=s+Math.imul(M,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,J)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(w,rt)|0,s=s+Math.imul(w,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((s=s+Math.imul(d,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,V))+Math.imul(L,j)|0,s=Math.imul(L,V),n=n+Math.imul(P,q)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,q)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,J)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,X)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(w,st)|0,s=s+Math.imul(w,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var kt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;c=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,V))+Math.imul(F,j)|0,s=Math.imul(F,V),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,K)|0)+Math.imul(L,q)|0,s=s+Math.imul(L,K)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(R,Q)|0,s=s+Math.imul(R,J)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(M,X)|0,s=s+Math.imul(M,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(b,st)|0,i=(i=i+Math.imul(b,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(w,ut)|0,s=s+Math.imul(w,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,dt)|0;var At=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;c=((s=s+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,K))+Math.imul(F,q)|0,s=Math.imul(F,K),n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(L,$)|0,s=s+Math.imul(L,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(M,rt)|0,s=s+Math.imul(M,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(w,ht)|0,s=s+Math.imul(w,dt)|0;var It=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,Z))+Math.imul(F,$)|0,s=Math.imul(F,Z),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(L,Q)|0,s=s+Math.imul(L,J)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(M,st)|0,s=s+Math.imul(M,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(k,ut)|0,s=s+Math.imul(k,ct)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var Mt=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((s=s+Math.imul(w,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,J))+Math.imul(F,Q)|0,s=Math.imul(F,J),n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(L,X)|0,s=s+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(T,st)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(M,ut)|0,s=s+Math.imul(M,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,dt)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,dt)|0;var xt=(c+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(F,X)|0,s=Math.imul(F,tt),n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(L,rt)|0,s=s+Math.imul(L,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(R,ut)|0,s=s+Math.imul(R,ct)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,dt)|0)+Math.imul(M,ht)|0,s=s+Math.imul(M,dt)|0;var Tt=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;c=((s=s+Math.imul(k,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(F,rt)|0,s=Math.imul(F,nt),n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(L,st)|0,s=s+Math.imul(L,ot)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,dt)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,dt)|0;var Rt=(c+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(M,pt)|0))<<13)|0;c=((s=s+Math.imul(M,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,st),i=(i=Math.imul(U,ot))+Math.imul(F,st)|0,s=Math.imul(F,ot),n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(L,ut)|0,s=s+Math.imul(L,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,dt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,dt)|0;var Ct=(c+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((s=s+Math.imul(R,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ct))+Math.imul(F,ut)|0,s=Math.imul(F,ct),n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,dt)|0)+Math.imul(L,ht)|0,s=s+Math.imul(L,dt)|0;var Pt=(c+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(F,ht)|0,s=Math.imul(F,dt);var Ot=(c+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(L,pt)|0))<<13)|0;c=((s=s+Math.imul(L,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Nt=(c+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,mt))+Math.imul(F,pt)|0))<<13)|0;return c=((s=Math.imul(F,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=yt,u[2]=wt,u[3]=vt,u[4]=bt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=kt,u[9]=At,u[10]=It,u[11]=Mt,u[12]=xt,u[13]=Tt,u[14]=Rt,u[15]=Ct,u[16]=Pt,u[17]=Ot,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function m(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):m(this,t,e),r},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},g.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},g.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,d=c,f=0;f<o;f++){var p=r[l+f],m=n[l+f],g=r[l+f+o],y=n[l+f+o],w=h*g-d*y;y=h*y+d*g,g=w,r[l+f]=p+g,n[l+f]=m+y,r[l+f+o]=p-g,n[l+f+o]=m-y,f!==a&&(w=u*h-c*d,d=u*d+c*h,h=w)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*l[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;!(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;!(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new S(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(v,w),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,w),i(_,w),i(E,w),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new b;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return y[t]=e,e},S.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new k(t)},i(k,S),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},1451:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const u=a(r(2782)),c=a(r(2115)),l=o(r(4283)),h=new("function"!=typeof TextDecoder?l.TextDecoder:TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=Buffer.from(t,"utf8")),c.default.encode(Buffer.from(t))},e.baseDecode=function(t){return Buffer.from(c.default.decode(t))};const d=1024;class BorshError extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(d)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(d)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}function f(t,e,r){const n=r.value;r.value=function(...t){try{return n.apply(this,t)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw e}}}e.BinaryWriter=BinaryWriter;class BinaryReader{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new u.default(t,"le")}readU128(){const t=this.readBuffer(16);return new u.default(t,"le")}readU256(){const t=this.readBuffer(32);return new u.default(t,"le")}readU512(){const t=this.readBuffer(64);return new u.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new BorshError(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return h.decode(e)}catch(r){throw new BorshError(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let n=0;n<e;++n)r.push(t());return r}}function p(t){return t.charAt(0).toUpperCase()+t.slice(1)}function m(t,e,r,n,i){try{if("string"==typeof n)i[`write${p(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new BorshError(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new BorshError(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let e=0;e<n[1];e++)m(t,null,r[e],n[0],i)}else i.writeArray(r,(r=>{m(t,e,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),m(t,e,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach(((r,s)=>{m(t,e,s,n.key,i),m(t,e,r,n.value,i)}));break;default:throw new BorshError(`FieldType ${n} unrecognized`)}else g(t,r,i)}catch(s){throw s instanceof BorshError&&s.addToFieldPath(e),s}}function g(t,e,r){if("function"==typeof e.borshSerialize)return void e.borshSerialize(r);const n=t.get(e.constructor);if(!n)throw new BorshError(`Class ${e.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((([n,i])=>{m(t,n,e[n],i,r)}));else{if("enum"!==n.kind)throw new BorshError(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`);{const i=e[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),m(t,o,e[o],a,r);break}}}}}function y(t,e,r,n){try{if("string"==typeof r)return n[`read${p(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"==typeof r[1]){const e=[];for(let i=0;i<r[1];i++)e.push(y(t,null,r[0],n));return e}return n.readArray((()=>y(t,e,r[0],n)))}if("option"===r.kind){return n.readU8()?y(t,e,r.type,n):void 0}if("map"===r.kind){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const s=y(t,e,r.key,n),o=y(t,e,r.value,n);i.set(s,o)}return i}return w(t,r,n)}catch(i){throw i instanceof BorshError&&i.addToFieldPath(e),i}}function w(t,e,r){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new BorshError(`Class ${e.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,s]of t.get(e).fields)n[i]=y(t,i,s,r);return new e(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new BorshError(`Enum index: ${i} is out of range`);const[s,o]=n.values[i],a=y(t,s,o,r);return new e({[s]:a})}throw new BorshError(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}s([f],BinaryReader.prototype,"readU8",null),s([f],BinaryReader.prototype,"readU16",null),s([f],BinaryReader.prototype,"readU32",null),s([f],BinaryReader.prototype,"readU64",null),s([f],BinaryReader.prototype,"readU128",null),s([f],BinaryReader.prototype,"readU256",null),s([f],BinaryReader.prototype,"readU512",null),s([f],BinaryReader.prototype,"readString",null),s([f],BinaryReader.prototype,"readFixedArray",null),s([f],BinaryReader.prototype,"readArray",null),e.BinaryReader=BinaryReader,e.serialize=function(t,e,r=BinaryWriter){const n=new r;return g(t,e,n),n.toArray()},e.deserialize=function(t,e,r,n=BinaryReader){const i=new n(r),s=w(t,e,i);if(i.offset<r.length)throw new BorshError(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s},e.deserializeUnchecked=function(t,e,r,n=BinaryReader){return w(t,e,new n(r))}},2782:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(272).Buffer}catch(x){}function a(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,i){for(var s=0,o=0,a=Math.min(t.length,r),u=e;u<a;u++){var c=t.charCodeAt(u)-48;s*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&o<i,"Invalid character"),s+=o}return s}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,l=r;l<a;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,l,t.length,e),l=0;l<o;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){l(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(x){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=f[t],l=p[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(t);r=(h=h.idivn(l)).isZero()?m+r:d[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,d=Math.min(c,e.length-1),f=Math.max(0,c-t.length+1);f<=d;f++){var p=c-f|0;l+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}s.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,l=0|o[0],h=8191&l,d=l>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,w=g>>>13,v=0|o[3],b=8191&v,_=v>>>13,E=0|o[4],S=8191&E,k=E>>>13,A=0|o[5],I=8191&A,M=A>>>13,x=0|o[6],T=8191&x,R=x>>>13,C=0|o[7],P=8191&C,O=C>>>13,N=0|o[8],B=8191&N,L=N>>>13,D=0|o[9],U=8191&D,F=D>>>13,z=0|a[0],j=8191&z,V=z>>>13,H=0|a[1],q=8191&H,K=H>>>13,W=0|a[2],$=8191&W,Z=W>>>13,G=0|a[3],Q=8191&G,J=G>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,lt=0|a[8],ht=8191&lt,dt=lt>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(c+(n=Math.imul(h,j))|0)+((8191&(i=(i=Math.imul(h,V))+Math.imul(d,j)|0))<<13)|0;c=((s=Math.imul(d,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,V))+Math.imul(m,j)|0,s=Math.imul(m,V);var yt=(c+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,q)|0))<<13)|0;c=((s=s+Math.imul(d,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,V))+Math.imul(w,j)|0,s=Math.imul(w,V),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,K)|0;var wt=(c+(n=n+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,$)|0))<<13)|0;c=((s=s+Math.imul(d,Z)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(b,j),i=(i=Math.imul(b,V))+Math.imul(_,j)|0,s=Math.imul(_,V),n=n+Math.imul(y,q)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(w,q)|0,s=s+Math.imul(w,K)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Z)|0;var vt=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Q)|0))<<13)|0;c=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(S,j),i=(i=Math.imul(S,V))+Math.imul(k,j)|0,s=Math.imul(k,V),n=n+Math.imul(b,q)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,K)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(w,$)|0,s=s+Math.imul(w,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,J)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;c=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(I,j),i=(i=Math.imul(I,V))+Math.imul(M,j)|0,s=Math.imul(M,V),n=n+Math.imul(S,q)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(k,q)|0,s=s+Math.imul(k,K)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(w,Q)|0,s=s+Math.imul(w,J)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var _t=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(d,rt)|0))<<13)|0;c=((s=s+Math.imul(d,nt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(T,j),i=(i=Math.imul(T,V))+Math.imul(R,j)|0,s=Math.imul(R,V),n=n+Math.imul(I,q)|0,i=(i=i+Math.imul(I,K)|0)+Math.imul(M,q)|0,s=s+Math.imul(M,K)|0,n=n+Math.imul(S,$)|0,i=(i=i+Math.imul(S,Z)|0)+Math.imul(k,$)|0,s=s+Math.imul(k,Z)|0,n=n+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,J)|0,n=n+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(w,X)|0,s=s+Math.imul(w,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var Et=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;c=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,V))+Math.imul(O,j)|0,s=Math.imul(O,V),n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(R,q)|0,s=s+Math.imul(R,K)|0,n=n+Math.imul(I,$)|0,i=(i=i+Math.imul(I,Z)|0)+Math.imul(M,$)|0,s=s+Math.imul(M,Z)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,J)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(w,rt)|0,s=s+Math.imul(w,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var St=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(d,ut)|0))<<13)|0;c=((s=s+Math.imul(d,ct)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,V))+Math.imul(L,j)|0,s=Math.imul(L,V),n=n+Math.imul(P,q)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,q)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,Z)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,J)|0,n=n+Math.imul(S,X)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(k,X)|0,s=s+Math.imul(k,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(w,st)|0,s=s+Math.imul(w,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,ct)|0;var kt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;c=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(U,j),i=(i=Math.imul(U,V))+Math.imul(F,j)|0,s=Math.imul(F,V),n=n+Math.imul(B,q)|0,i=(i=i+Math.imul(B,K)|0)+Math.imul(L,q)|0,s=s+Math.imul(L,K)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(R,Q)|0,s=s+Math.imul(R,J)|0,n=n+Math.imul(I,X)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(M,X)|0,s=s+Math.imul(M,tt)|0,n=n+Math.imul(S,rt)|0,i=(i=i+Math.imul(S,nt)|0)+Math.imul(k,rt)|0,s=s+Math.imul(k,nt)|0,n=n+Math.imul(b,st)|0,i=(i=i+Math.imul(b,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(w,ut)|0,s=s+Math.imul(w,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,dt)|0;var At=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;c=((s=s+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(U,q),i=(i=Math.imul(U,K))+Math.imul(F,q)|0,s=Math.imul(F,K),n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(L,$)|0,s=s+Math.imul(L,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(R,X)|0,s=s+Math.imul(R,tt)|0,n=n+Math.imul(I,rt)|0,i=(i=i+Math.imul(I,nt)|0)+Math.imul(M,rt)|0,s=s+Math.imul(M,nt)|0,n=n+Math.imul(S,st)|0,i=(i=i+Math.imul(S,ot)|0)+Math.imul(k,st)|0,s=s+Math.imul(k,ot)|0,n=n+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(w,ht)|0,s=s+Math.imul(w,dt)|0;var It=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(U,$),i=(i=Math.imul(U,Z))+Math.imul(F,$)|0,s=Math.imul(F,Z),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(L,Q)|0,s=s+Math.imul(L,J)|0,n=n+Math.imul(P,X)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,X)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,nt)|0,n=n+Math.imul(I,st)|0,i=(i=i+Math.imul(I,ot)|0)+Math.imul(M,st)|0,s=s+Math.imul(M,ot)|0,n=n+Math.imul(S,ut)|0,i=(i=i+Math.imul(S,ct)|0)+Math.imul(k,ut)|0,s=s+Math.imul(k,ct)|0,n=n+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var Mt=(c+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((s=s+Math.imul(w,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(U,Q),i=(i=Math.imul(U,J))+Math.imul(F,Q)|0,s=Math.imul(F,J),n=n+Math.imul(B,X)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(L,X)|0,s=s+Math.imul(L,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(T,st)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,n=n+Math.imul(I,ut)|0,i=(i=i+Math.imul(I,ct)|0)+Math.imul(M,ut)|0,s=s+Math.imul(M,ct)|0,n=n+Math.imul(S,ht)|0,i=(i=i+Math.imul(S,dt)|0)+Math.imul(k,ht)|0,s=s+Math.imul(k,dt)|0;var xt=(c+(n=n+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(F,X)|0,s=Math.imul(F,tt),n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(L,rt)|0,s=s+Math.imul(L,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(R,ut)|0,s=s+Math.imul(R,ct)|0,n=n+Math.imul(I,ht)|0,i=(i=i+Math.imul(I,dt)|0)+Math.imul(M,ht)|0,s=s+Math.imul(M,dt)|0;var Tt=(c+(n=n+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(k,pt)|0))<<13)|0;c=((s=s+Math.imul(k,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(U,rt),i=(i=Math.imul(U,nt))+Math.imul(F,rt)|0,s=Math.imul(F,nt),n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(L,st)|0,s=s+Math.imul(L,ot)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(O,ut)|0,s=s+Math.imul(O,ct)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,dt)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,dt)|0;var Rt=(c+(n=n+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(M,pt)|0))<<13)|0;c=((s=s+Math.imul(M,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(U,st),i=(i=Math.imul(U,ot))+Math.imul(F,st)|0,s=Math.imul(F,ot),n=n+Math.imul(B,ut)|0,i=(i=i+Math.imul(B,ct)|0)+Math.imul(L,ut)|0,s=s+Math.imul(L,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,dt)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,dt)|0;var Ct=(c+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((s=s+Math.imul(R,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(U,ut),i=(i=Math.imul(U,ct))+Math.imul(F,ut)|0,s=Math.imul(F,ct),n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,dt)|0)+Math.imul(L,ht)|0,s=s+Math.imul(L,dt)|0;var Pt=(c+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(O,pt)|0))<<13)|0;c=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(F,ht)|0,s=Math.imul(F,dt);var Ot=(c+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,mt)|0)+Math.imul(L,pt)|0))<<13)|0;c=((s=s+Math.imul(L,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Nt=(c+(n=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,mt))+Math.imul(F,pt)|0))<<13)|0;return c=((s=Math.imul(F,mt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=yt,u[2]=wt,u[3]=vt,u[4]=bt,u[5]=_t,u[6]=Et,u[7]=St,u[8]=kt,u[9]=At,u[10]=It,u[11]=Mt,u[12]=xt,u[13]=Tt,u[14]=Rt,u[15]=Ct,u[16]=Pt,u[17]=Ot,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function y(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var l=s-c,h=(0|t.words[l])*(0|e.words[c]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function w(t,e,r){return y(t,e,r)}function v(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?m(this,t,e):r<1024?y(this,t,e):w(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},v.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},v.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},v.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,d=c,f=0;f<o;f++){var p=r[l+f],m=n[l+f],g=r[l+f+o],y=n[l+f+o],w=h*g-d*y;y=h*y+d*g,g=w,r[l+f]=p+g,n[l+f]=m+y,r[l+f+o]=p-g,n[l+f+o]=m-y,f!==a&&(w=u*h-c*d,d=u*d+c*h,h=w)}},v.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},v.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},v.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},v.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,l,h,n,i);for(var f=0;f<n;f++){var p=a[f]*l[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*l[f],a[f]=p}return this.conjugate(a,u,n),this.transform(a,u,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),w(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-s|h>>>s,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/t|0,r=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(l),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;!(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;!(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new I(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){I.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(E,_),E.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},E.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(S,_),i(k,_),i(A,_),A.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new E;else if("p224"===t)e=new S;else if("p192"===t)e=new k;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return b[t]=e,e},I.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},I.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},I.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},I.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},I.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},I.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},I.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},I.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},I.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},I.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},I.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},I.prototype.isqr=function(t){return this.imul(t,t.clone())},I.prototype.sqr=function(t){return this.mul(t,t)},I.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},I.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},I.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},I.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},I.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new M(t)},i(M,I),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},2115:(t,e,r)=>{var n=r(5708);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},2628:(t,e)=>{"use strict";class Layout{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,r){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function r(t,e){return e.property?t+"["+e.property+"]":t}e.Layout=Layout,e.nameWithProperty=r,e.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,r){return e.decode(t,r)},writable:!0})};class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout{constructor(t,e){if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){void 0===e&&(e=0);const r=t.length-e;return Math.floor(r/this.elementSpan)}encode(t,e,r){return 0}}class OffsetLayout extends ExternalLayout{constructor(t,e,r){if(!(t instanceof Layout))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,r){return void 0===r&&(r=0),this.layout.encode(t,e,r+this.offset)}}class UInt extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntLE(t,r,this.span),this.span}}class UIntBE extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntBE(t,r,this.span),this.span}}class Int extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeIntLE(t,r,this.span),this.span}}class IntBE extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeIntBE(t,r,this.span),this.span}}const n=Math.pow(2,32);function i(t){const e=Math.floor(t/n);return{hi32:e,lo32:t-e*n}}function s(t,e){return t*n+e}class NearUInt64 extends Layout{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return s(t.readUInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=i(t);return e.writeUInt32LE(n.lo32,r),e.writeUInt32LE(n.hi32,r+4),8}}class NearUInt64BE extends Layout{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);return s(t.readUInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,r){void 0===r&&(r=0);const n=i(t);return e.writeUInt32BE(n.hi32,r),e.writeUInt32BE(n.lo32,r+4),8}}class NearInt64 extends Layout{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return s(t.readInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=i(t);return e.writeUInt32LE(n.lo32,r),e.writeInt32LE(n.hi32,r+4),8}}class NearInt64BE extends Layout{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);return s(t.readInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,r){void 0===r&&(r=0);const n=i(t);return e.writeInt32BE(n.hi32,r),e.writeUInt32BE(n.lo32,r+4),8}}class Float extends Layout{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatLE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeFloatLE(t,r),4}}class FloatBE extends Layout{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatBE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeFloatBE(t,r),4}}class Double extends Layout{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleLE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeDoubleLE(t,r),8}}class DoubleBE extends Layout{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleBE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeDoubleBE(t,r),8}}class Sequence extends Layout{constructor(t,e,r){if(!(t instanceof Layout))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(e instanceof ExternalLayout)&&0<t.span&&(n=e*t.span),super(n,r),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0,n=this.count;if(n instanceof ExternalLayout&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e){void 0===e&&(e=0);const r=[];let n=0,i=this.count;for(i instanceof ExternalLayout&&(i=i.decode(t,e));n<i;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r}encode(t,e,r){void 0===r&&(r=0);const n=this.elementLayout,i=t.reduce(((t,i)=>t+n.encode(i,e,r+t)),0);return this.count instanceof ExternalLayout&&this.count.encode(t.length,e,r),i}}class Structure extends Layout{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof Layout),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===r&&(r=e,e=void 0);for(const s of t)if(0>s.span&&void 0===s.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(i){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(t,e);return e+=i,r+i}),0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(t,e){void 0===e&&(e=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r){void 0===r&&(r=0);const n=r;let i=0,s=0;for(const o of this.fields){let n=o.span;if(s=0<n?n:0,void 0!==o.property){const i=t[o.property];void 0!==i&&(s=o.encode(i,e,r),0>n&&(n=o.getSpan(e,r)))}i=r,r+=n}return i+s-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class UnionDiscriminator{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class Union extends Layout{constructor(t,e,r){const n=t instanceof UInt||t instanceof UIntBE;if(n)t=new UnionLayoutDiscriminator(new OffsetLayout(t));else if(t instanceof ExternalLayout&&t.isCount())t=new UnionLayoutDiscriminator(t);else if(!(t instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof Layout))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&n&&(i+=t.layout.span)),super(i,r),this.discriminator=t,this.usesPrefixDiscriminator=n,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return s(t)},this.configGetSourceVariant=function(t){s=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(t.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(t,e){let r;void 0===e&&(e=0);const n=this.discriminator,i=n.decode(t,e);let s=this.registry[i];if(void 0===s){let o=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(o=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[s.property]=this.defaultLayout.decode(t,e+o)}else r=s.decode(t,e);return r}encode(t,e,r){void 0===r&&(r=0);const n=this.getSourceVariant(t);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(t[n.property],e,r),s+i.encode(t[i.property],e,r+s)}return n.encode(t,e,r)}addVariant(t,e,r){const n=new VariantLayout(this,t,e,r);return this.registry[t]=n,n}getVariant(t,e){let r=t;return Buffer.isBuffer(t)&&(void 0===e&&(e=0),r=this.discriminator.decode(t,e)),this.registry[r]}}class VariantLayout extends Layout{constructor(t,e,r,n){if(!(t instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof Layout))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,n),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,e+r)}decode(t,e){const r=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=n;if(this.layout&&(this.layout.encode(t[this.property],e,r+n),i+=this.layout.getSpan(e,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function o(t){return 0>t&&(t+=4294967296),t}class BitStructure extends Layout{constructor(t,e,r){if(!(t instanceof UInt||t instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===r&&(r=e,e=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let n=0;this._packedSetValue=function(t){return n=o(t),this},this._packedGetValue=function(){return n}}decode(t,e){const r=this.makeDestinationObject();void 0===e&&(e=0);const n=this.word.decode(t,e);this._packedSetValue(n);for(const i of this.fields)void 0!==i.property&&(r[i.property]=i.decode(n));return r}encode(t,e,r){void 0===r&&(r=0);const n=this.word.decode(e,r);this._packedSetValue(n);for(const i of this.fields)if(void 0!==i.property){const e=t[i.property];void 0!==e&&i.encode(e)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){const r=new BitField(this,t,e);return this.fields.push(r),r}addBoolean(t){const e=new Boolean(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class BitField{constructor(t,e,r){if(!(t instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const n=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-e),this.wordMask=o(this.valueMask<<this.start),this.property=r}decode(){return o(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==o(t&this.valueMask))throw new TypeError(r("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=o(t<<this.start);this.container._packedSetValue(o(e&~this.wordMask)|n)}}class Boolean extends BitField{constructor(t,e){super(t,1,e)}decode(t,e){return!!BitField.prototype.decode.call(this,t,e)}encode(t){return"boolean"==typeof t&&(t=+t),BitField.prototype.encode.call(this,t)}}class Blob extends Layout{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof ExternalLayout||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e){void 0===e&&(e=0);let r=this.span;return 0>r&&(r=this.length.decode(t,e)),t.slice(e,e+r)}encode(t,e,n){let i=this.length;if(this.length instanceof ExternalLayout&&(i=t.length),!Buffer.isBuffer(t)||i!==t.length)throw new TypeError(r("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,i,"hex"),this.length instanceof ExternalLayout&&this.length.encode(i,e,n),i}}class CString extends Layout{constructor(t){super(-1,t)}getSpan(t,e){if(!Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");void 0===e&&(e=0);let r=e;for(;r<t.length&&0!==t[r];)r+=1;return 1+r-e}decode(t,e,r){void 0===e&&(e=0);let n=this.getSpan(t,e);return t.slice(e,e+n-1).toString("utf-8")}encode(t,e,r){void 0===r&&(r=0),"string"!=typeof t&&(t=t.toString());const n=new Buffer(t,"utf8"),i=n.length;if(r+i>e.length)throw new RangeError("encoding overruns Buffer");return n.copy(e,r),e[r+i]=0,i+1}}class UTF8 extends Layout{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e){if(!Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");return void 0===e&&(e=0),t.length-e}decode(t,e,r){void 0===e&&(e=0);let n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return t.slice(e,e+n).toString("utf-8")}encode(t,e,r){void 0===r&&(r=0),"string"!=typeof t&&(t=t.toString());const n=new Buffer(t,"utf8"),i=n.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>e.length)throw new RangeError("encoding overruns Buffer");return n.copy(e,r),i}}class Constant extends Layout{constructor(t,e){super(0,e),this.value=t}decode(t,e,r){return this.value}encode(t,e,r){return 0}}e.ExternalLayout=ExternalLayout,e.GreedyCount=GreedyCount,e.OffsetLayout=OffsetLayout,e.UInt=UInt,e.UIntBE=UIntBE,e.Int=Int,e.IntBE=IntBE,e.Float=Float,e.FloatBE=FloatBE,e.Double=Double,e.DoubleBE=DoubleBE,e.Sequence=Sequence,e.Structure=Structure,e.UnionDiscriminator=UnionDiscriminator,e.UnionLayoutDiscriminator=UnionLayoutDiscriminator,e.Union=Union,e.VariantLayout=VariantLayout,e.BitStructure=BitStructure,e.BitField=BitField,e.Boolean=Boolean,e.Blob=Blob,e.CString=CString,e.UTF8=UTF8,e.Constant=Constant,e.greedy=(t,e)=>new GreedyCount(t,e),e.offset=(t,e,r)=>new OffsetLayout(t,e,r),e.u8=t=>new UInt(1,t),e.u16=t=>new UInt(2,t),e.u24=t=>new UInt(3,t),e.u32=t=>new UInt(4,t),e.u40=t=>new UInt(5,t),e.u48=t=>new UInt(6,t),e.nu64=t=>new NearUInt64(t),e.u16be=t=>new UIntBE(2,t),e.u24be=t=>new UIntBE(3,t),e.u32be=t=>new UIntBE(4,t),e.u40be=t=>new UIntBE(5,t),e.u48be=t=>new UIntBE(6,t),e.nu64be=t=>new NearUInt64BE(t),e.s8=t=>new Int(1,t),e.s16=t=>new Int(2,t),e.s24=t=>new Int(3,t),e.s32=t=>new Int(4,t),e.s40=t=>new Int(5,t),e.s48=t=>new Int(6,t),e.ns64=t=>new NearInt64(t),e.s16be=t=>new IntBE(2,t),e.s24be=t=>new IntBE(3,t),e.s32be=t=>new IntBE(4,t),e.s40be=t=>new IntBE(5,t),e.s48be=t=>new IntBE(6,t),e.ns64be=t=>new NearInt64BE(t),e.f32=t=>new Float(t),e.f32be=t=>new FloatBE(t),e.f64=t=>new Double(t),e.f64be=t=>new DoubleBE(t),e.struct=(t,e,r)=>new Structure(t,e,r),e.bits=(t,e,r)=>new BitStructure(t,e,r),e.seq=(t,e,r)=>new Sequence(t,e,r),e.union=(t,e,r)=>new Union(t,e,r),e.unionLayoutDiscriminator=(t,e)=>new UnionLayoutDiscriminator(t,e),e.blob=(t,e)=>new Blob(t,e),e.cstr=t=>new CString(t),e.utf8=(t,e)=>new UTF8(t,e),e.const=(t,e)=>new Constant(t,e)},6503:(t,e,r)=>{"use strict";const n=r(9214),i=r(1907),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|m(t,e);let n=a(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(G(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer))return f(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return f(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);const i=function(t){if(u.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||Q(t.length)?a(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function f(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return I(this,e,r);case"ascii":return x(this,e,r);case"latin1":case"binary":return T(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function w(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Q(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){let s,o=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(t,s)===c(e,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(t,s+n)!==c(e,n)){r=!1;break}if(r)return s}return-1}function b(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=e.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(Q(n))return o;t[r+o]=n}return o}function _(t,e,r,n){return Z(W(e,t.length-r),t,r,n)}function E(t,e,r,n){return Z(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function S(t,e,r,n){return Z($(e),t,r,n)}function k(t,e,r,n){return Z(function(t,e){let r,n,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function I(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[i+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(s=u));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(u=(15&e)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(t){const e=t.length;if(e<=M)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=M));return r}(n)}e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return l(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=u.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(G(e,Uint8Array))i+e.length>n.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?I(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const a=Math.min(s,o),c=this.slice(n,i),l=t.slice(e,r);for(let u=0;u<a;++u)if(c[u]!==l[u]){s=c[u],o=l[u];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return w(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return w(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return S(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const M=4096;function x(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function T(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=e;s<r;++s)i+=J[t[s]];return i}function C(t,e,r){const n=t.slice(e,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function P(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,r,n,i,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function N(t,e,r,n,i){V(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function B(t,e,r,n,i){V(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function L(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,s){return e=+e,r>>>=0,s||L(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function U(t,e,r,n,s){return e=+e,r>>>=0,s||L(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Y((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||P(t,e,this.length);let n=e,i=1,s=this[t+--n];for(;n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Y((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Y((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){O(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){O(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Y((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(t,e=0){return B(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,t,e,r,n-1,-n)}let i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s|0)-o&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,t,e,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s|0)-o&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Y((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(t,e=0){return B(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return U(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return U(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const s=u.isBuffer(t)?t:u.from(t,n),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=s[i%o]}return this};const F={};function z(t,e,r){F[t]=class NodeError extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function j(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function V(t,e,r,n,i,s){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new F.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){H(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||q(e,t.length-(r+1))}(n,i,s)}function H(t,e){if("number"!=typeof t)throw new F.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,r){if(Math.floor(t)!==t)throw H(t,r),new F.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=j(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function $(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Z(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function G(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Q(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Y(t){return"undefined"==typeof BigInt?X:t}function X(){throw new Error("BigInt not supported")}},5553:t=>{"use strict";const e=/[\p{Lu}]/u,r=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,s=/[_.\- ]+/,o=new RegExp("^"+s.source),a=new RegExp(s.source+i.source,"gu"),u=new RegExp("\\d+"+i.source,"gu"),c=(t,i)=>{if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(t=Array.isArray(t)?t.map((t=>t.trim())).filter((t=>t.length)).join("-"):t.trim()).length)return"";const s=!1===i.locale?t=>t.toLowerCase():t=>t.toLocaleLowerCase(i.locale),c=!1===i.locale?t=>t.toUpperCase():t=>t.toLocaleUpperCase(i.locale);if(1===t.length)return i.pascalCase?c(t):s(t);return t!==s(t)&&(t=((t,n,i)=>{let s=!1,o=!1,a=!1;for(let u=0;u<t.length;u++){const c=t[u];s&&e.test(c)?(t=t.slice(0,u)+"-"+t.slice(u),s=!1,a=o,o=!0,u++):o&&a&&r.test(c)?(t=t.slice(0,u-1)+"-"+t.slice(u-1),a=o,o=!1,s=!0):(s=n(c)===c&&i(c)!==c,a=o,o=i(c)===c&&n(c)!==c)}return t})(t,s,c)),t=t.replace(o,""),t=i.preserveConsecutiveUppercase?((t,e)=>(n.lastIndex=0,t.replace(n,(t=>e(t)))))(t,s):s(t),i.pascalCase&&(t=c(t.charAt(0))+t.slice(1)),((t,e)=>(a.lastIndex=0,u.lastIndex=0,t.replace(a,((t,r)=>e(r))).replace(u,(t=>e(t)))))(t,c)};t.exports=c,t.exports.default=c},5225:(t,e,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n=void 0!==t&&t||"undefined"!=typeof self&&self||void 0!==r.g&&r.g||{},i="URLSearchParams"in n,s="Symbol"in n&&"iterator"in Symbol,o="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(t){return!1}}(),a="FormData"in n,u="ArrayBuffer"in n;if(u)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(t){return t&&c.indexOf(Object.prototype.toString.call(t))>-1};function h(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function d(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){if(2!=t.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function m(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function g(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function y(t){var e=new FileReader,r=g(e);return e.readAsArrayBuffer(t),r}function w(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:a&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():u&&o&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=w(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u&&(ArrayBuffer.prototype.isPrototypeOf(t)||l(t))?this._bodyArrayBuffer=w(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=m(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=m(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var t,e,r,n,i,s=m(this);if(s)return s;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=g(e),n=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=n?n[1]:"utf-8",e.readAsText(t,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=h(t),e=d(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},p.prototype.delete=function(t){delete this.map[h(t)]},p.prototype.get=function(t){return t=h(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(h(t))},p.prototype.set=function(t,e){this.map[h(t)]=d(e)},p.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},p.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),f(t)},p.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},p.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),f(t)},s&&(p.prototype[Symbol.iterator]=p.prototype.entries);var b=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function _(t,e){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,i,s=(e=e||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,s||null==t._bodyInit||(s=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=(r=e.method||this.method||"GET",i=r.toUpperCase(),b.indexOf(i)>-1?i:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in n)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function E(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function S(t,e){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},v.call(_.prototype),v.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},S.error=function(){var t=new S(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var k=[301,302,303,307,308];S.redirect=function(t,e){if(-1===k.indexOf(e))throw new RangeError("Invalid status code");return new S(null,{status:e,headers:{location:t}})},e.DOMException=n.DOMException;try{new e.DOMException}catch(I){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function A(t,r){return new Promise((function(i,s){var a=new _(t,r);if(a.signal&&a.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function l(){c.abort()}if(c.onload=function(){var t,e,r={statusText:c.statusText,headers:(t=c.getAllResponseHeaders()||"",e=new p,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{e.append(n,i)}catch(s){console.warn("Response "+s.message)}}})),e)};0===a.url.indexOf("file://")&&(c.status<200||c.status>599)?r.status=200:r.status=c.status,r.url="responseURL"in c?c.responseURL:r.headers.get("X-Request-URL");var n="response"in c?c.response:c.responseText;setTimeout((function(){i(new S(n,r))}),0)},c.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request timed out"))}),0)},c.onabort=function(){setTimeout((function(){s(new e.DOMException("Aborted","AbortError"))}),0)},c.open(a.method,function(t){try{return""===t&&n.location.href?n.location.href:t}catch(e){return t}}(a.url),!0),"include"===a.credentials?c.withCredentials=!0:"omit"===a.credentials&&(c.withCredentials=!1),"responseType"in c&&(o?c.responseType="blob":u&&(c.responseType="arraybuffer")),r&&"object"==typeof r.headers&&!(r.headers instanceof p||n.Headers&&r.headers instanceof n.Headers)){var f=[];Object.getOwnPropertyNames(r.headers).forEach((function(t){f.push(h(t)),c.setRequestHeader(t,d(r.headers[t]))})),a.headers.forEach((function(t,e){-1===f.indexOf(e)&&c.setRequestHeader(e,t)}))}else a.headers.forEach((function(t,e){c.setRequestHeader(e,t)}));a.signal&&(a.signal.addEventListener("abort",l),c.onreadystatechange=function(){4===c.readyState&&a.signal.removeEventListener("abort",l)}),c.send(void 0===a._bodyInit?null:a._bodyInit)}))}A.polyfill=!0,n.fetch||(n.fetch=A,n.Headers=p,n.Request=_,n.Response=S),e.Headers=p,e.Request=_,e.Response=S,e.fetch=A}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=n.fetch?n:i;(e=s.fetch).default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e},4124:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||t,o),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,s),!0;case 6:return l.fn.call(l.context,e,n,i,s,o),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==e||i&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},1907:(t,e)=>{e.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,d=r?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-l)-1,f>>=-l,l+=a;l>0;s=256*s+t[e+h],h+=d,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+t[e+h],h+=d,l-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=c}return(f?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,a,u,c=8*s-i-1,l=(1<<c)-1,h=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(e*u-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[r+f]=255&o,f+=p,o/=256,c-=8);t[r+f-p]|=128*m}},5214:(t,e,r)=>{"use strict";const n=r(6796).v4,i=r(49),s=function(t,e){if(!(this instanceof s))return new s(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return n()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=s,s.prototype.request=function(t,e,r,n){const s=this;let o=null;const a=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&"object"==typeof t&&"function"==typeof e)n=e,o=t;else{"function"==typeof r&&(n=r,r=void 0);const s="function"==typeof n;try{o=i(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(s)return n(c);throw c}if(!s)return o}let u;try{u=JSON.stringify(o,this.options.replacer)}catch(c){return n(c)}return this.callServer(u,(function(t,e){s._parseResponse(t,e,n)})),o},s.prototype._parseResponse=function(t,e,r){if(t)return void r(t);if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(t){return r(t)}if(3===r.length){if(Array.isArray(n)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return r(null,n.filter(t),n.filter(e))}return r(null,n.error,n.result)}r(null,n)}},49:(t,e,r)=>{"use strict";const n=r(6796).v4;t.exports=function(t,e,r,i){if("string"!=typeof t)throw new TypeError(t+" must be a string");const s="number"==typeof(i=i||{}).version?i.version:2;if(1!==s&&2!==s)throw new TypeError(s+" must be 1 or 2");const o={method:t};if(2===s&&(o.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(void 0===r){const t="function"==typeof i.generator?i.generator:function(){return n()};o.id=t(o,i)}else 2===s&&null===r?i.notificationIdNull&&(o.id=null):o.id=r;return o}},470:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||t,o),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,i,s,o){var a=r?r+t:t;if(!this._events[a])return!1;var u,c,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,i),!0;case 5:return l.fn.call(l.context,e,n,i,s),!0;case 6:return l.fn.call(l.context,e,n,i,s,o),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,i);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,i){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var u=0,c=[],l=a.length;u<l;u++)(a[u].fn!==e||i&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a},6421:(t,e,r)=>{var n=r(6503),i=n.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},6796:(t,e,r)=>{"use strict";var n;r.d(e,{v4:()=>h});var i=new Uint8Array(16);function s(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(t){return"string"==typeof t&&o.test(t)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));const l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r};const h=function(t,e,r){var n=(t=t||{}).random||(t.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return l(n)}},5066:()=>{},4987:()=>{},4454:()=>{},3943:()=>{},4422:()=>{},493:()=>{},3034:()=>{},272:()=>{},7185:(t,e,r)=>{"use strict";r.d(e,{A:()=>s});var n=r(3696),i={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const s=(t,e,r,s)=>{const o=(0,n.forwardRef)((({color:r="currentColor",size:o=24,stroke:a=2,className:u,children:c,...l},h)=>(0,n.createElement)("svg",{ref:h,...i[t],width:o,height:o,className:["tabler-icon",`tabler-icon-${e}`,u].join(" "),..."filled"===t?{fill:r}:{strokeWidth:a,stroke:r},...l},[...s.map((([t,e])=>(0,n.createElement)(t,e))),...Array.isArray(c)?c:[c]])));return o.displayName=`${r}`,o}},6824:(t,e,r)=>{"use strict";r.d(e,{l$:()=>et,Ay:()=>rt});var n=r(3696);let i={data:""},s=t=>"object"==typeof window?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||i,o=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,u=/\n+/g,c=(t,e)=>{let r="",n="",i="";for(let s in t){let o=t[s];"@"==s[0]?"i"==s[1]?r=s+" "+o+";":n+="f"==s[1]?c(o,s):s+"{"+c(o,"k"==s[1]?"":e)+"}":"object"==typeof o?n+=c(o,e?e.replace(/([^,])+/g,(t=>s.replace(/(^:.*)|([^,])+/g,(e=>/&/.test(e)?e.replace(/&/g,t):t?t+" "+e:e)))):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=c.p?c.p(s,o):s+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},l={},h=t=>{if("object"==typeof t){let e="";for(let r in t)e+=r+h(t[r]);return e}return t},d=(t,e,r,n,i)=>{let s=h(t),d=l[s]||(l[s]=(t=>{let e=0,r=11;for(;e<t.length;)r=101*r+t.charCodeAt(e++)>>>0;return"go"+r})(s));if(!l[d]){let e=s!==t?t:(t=>{let e,r,n=[{}];for(;e=o.exec(t.replace(a,""));)e[4]?n.shift():e[3]?(r=e[3].replace(u," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][e[1]]=e[2].replace(u," ").trim();return n[0]})(t);l[d]=c(i?{["@keyframes "+d]:e}:e,r?"":"."+d)}let f=r&&l.g?l.g:null;return r&&(l.g=l[d]),((t,e,r,n)=>{n?e.data=e.data.replace(n,t):-1===e.data.indexOf(t)&&(e.data=r?t+e.data:e.data+t)})(l[d],e,n,f),d};function f(t){let e=this||{},r=t.call?t(e.p):t;return d(r.unshift?r.raw?((t,e,r)=>t.reduce(((t,n,i)=>{let s=e[i];if(s&&s.call){let t=s(r),e=t&&t.props&&t.props.className||/^go/.test(t)&&t;s=e?"."+e:t&&"object"==typeof t?t.props?"":c(t,""):!1===t?"":t}return t+n+(s??"")}),""))(r,[].slice.call(arguments,1),e.p):r.reduce(((t,r)=>Object.assign(t,r&&r.call?r(e.p):r)),{}):r,s(e.target),e.g,e.o,e.k)}f.bind({g:1});let p,m,g,y=f.bind({k:1});function w(t,e){let r=this||{};return function(){let n=arguments;function i(s,o){let a=Object.assign({},s),u=a.className||i.className;r.p=Object.assign({theme:m&&m()},a),r.o=/ *go\d+/.test(u),a.className=f.apply(r,n)+(u?" "+u:""),e&&(a.ref=o);let c=t;return t[0]&&(c=a.as||t,delete a.as),g&&c[0]&&g(a),p(c,a)}return e?e(i):i}}var v=(t,e)=>(t=>"function"==typeof t)(t)?t(e):t,b=(()=>{let t=0;return()=>(++t).toString()})(),_=(()=>{let t;return()=>{if(void 0===t&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),E=new Map,S=t=>{if(E.has(t))return;let e=setTimeout((()=>{E.delete(t),M({type:4,toastId:t})}),1e3);E.set(t,e)},k=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,20)};case 1:return e.toast.id&&(t=>{let e=E.get(t);e&&clearTimeout(e)})(e.toast.id),{...t,toasts:t.toasts.map((t=>t.id===e.toast.id?{...t,...e.toast}:t))};case 2:let{toast:r}=e;return t.toasts.find((t=>t.id===r.id))?k(t,{type:1,toast:r}):k(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?S(n):t.toasts.forEach((t=>{S(t.id)})),{...t,toasts:t.toasts.map((t=>t.id===n||void 0===n?{...t,visible:!1}:t))};case 4:return void 0===e.toastId?{...t,toasts:[]}:{...t,toasts:t.toasts.filter((t=>t.id!==e.toastId))};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map((t=>({...t,pauseDuration:t.pauseDuration+i})))}}},A=[],I={toasts:[],pausedAt:void 0},M=t=>{I=k(I,t),A.forEach((t=>{t(I)}))},x={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},T=t=>(e,r)=>{let n=((t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(null==r?void 0:r.id)||b()}))(e,t,r);return M({type:2,toast:n}),n.id},R=(t,e)=>T("blank")(t,e);R.error=T("error"),R.success=T("success"),R.loading=T("loading"),R.custom=T("custom"),R.dismiss=t=>{M({type:3,toastId:t})},R.remove=t=>M({type:4,toastId:t}),R.promise=(t,e,r)=>{let n=R.loading(e.loading,{...r,...null==r?void 0:r.loading});return t.then((t=>(R.success(v(e.success,t),{id:n,...r,...null==r?void 0:r.success}),t))).catch((t=>{R.error(v(e.error,t),{id:n,...r,...null==r?void 0:r.error})})),t};var C=(t,e)=>{M({type:1,toast:{id:t,height:e}})},P=()=>{M({type:5,time:Date.now()})},O=t=>{let{toasts:e,pausedAt:r}=((t={})=>{let[e,r]=(0,n.useState)(I);(0,n.useEffect)((()=>(A.push(r),()=>{let t=A.indexOf(r);t>-1&&A.splice(t,1)})),[e]);let i=e.toasts.map((e=>{var r,n;return{...t,...t[e.type],...e,duration:e.duration||(null==(r=t[e.type])?void 0:r.duration)||(null==t?void 0:t.duration)||x[e.type],style:{...t.style,...null==(n=t[e.type])?void 0:n.style,...e.style}}}));return{...e,toasts:i}})(t);(0,n.useEffect)((()=>{if(r)return;let t=Date.now(),n=e.map((e=>{if(e.duration===1/0)return;let r=(e.duration||0)+e.pauseDuration-(t-e.createdAt);if(!(r<0))return setTimeout((()=>R.dismiss(e.id)),r);e.visible&&R.dismiss(e.id)}));return()=>{n.forEach((t=>t&&clearTimeout(t)))}}),[e,r]);let i=(0,n.useCallback)((()=>{r&&M({type:6,time:Date.now()})}),[r]),s=(0,n.useCallback)(((t,r)=>{let{reverseOrder:n=!1,gutter:i=8,defaultPosition:s}=r||{},o=e.filter((e=>(e.position||s)===(t.position||s)&&e.height)),a=o.findIndex((e=>e.id===t.id)),u=o.filter(((t,e)=>e<a&&t.visible)).length;return o.filter((t=>t.visible)).slice(...n?[u+1]:[0,u]).reduce(((t,e)=>t+(e.height||0)+i),0)}),[e]);return{toasts:e,handlers:{updateHeight:C,startPause:P,endPause:i,calculateOffset:s}}},N=y`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,B=y`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,L=y`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,D=w("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${N} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${B} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${L} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,U=y`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F=w("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${U} 1s linear infinite;
`,z=y`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,j=y`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,V=w("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${z} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${j} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,H=w("div")`
  position: absolute;
`,q=w("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,K=y`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,W=w("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${K} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$=({toast:t})=>{let{icon:e,type:r,iconTheme:i}=t;return void 0!==e?"string"==typeof e?n.createElement(W,null,e):e:"blank"===r?null:n.createElement(q,null,n.createElement(F,{...i}),"loading"!==r&&n.createElement(H,null,"error"===r?n.createElement(D,{...i}):n.createElement(V,{...i})))},Z=t=>`\n0% {transform: translate3d(0,${-200*t}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,G=t=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*t}%,-1px) scale(.6); opacity:0;}\n`,Q=w("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,J=w("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Y=n.memo((({toast:t,position:e,style:r,children:i})=>{let s=t.height?((t,e)=>{let r=t.includes("top")?1:-1,[n,i]=_()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Z(r),G(r)];return{animation:e?`${y(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${y(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||e||"top-center",t.visible):{opacity:0},o=n.createElement($,{toast:t}),a=n.createElement(J,{...t.ariaProps},v(t.message,t));return n.createElement(Q,{className:t.className,style:{...s,...r,...t.style}},"function"==typeof i?i({icon:o,message:a}):n.createElement(n.Fragment,null,o,a))}));!function(t,e,r,n){c.p=e,p=t,m=r,g=n}(n.createElement);var X=({id:t,className:e,style:r,onHeightUpdate:i,children:s})=>{let o=n.useCallback((e=>{if(e){let r=()=>{let r=e.getBoundingClientRect().height;i(t,r)};r(),new MutationObserver(r).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,i]);return n.createElement("div",{ref:o,className:e,style:r},s)},tt=f`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,et=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:i,children:s,containerStyle:o,containerClassName:a})=>{let{toasts:u,handlers:c}=O(r);return n.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map((r=>{let o=r.position||e,a=((t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}})(o,c.calculateOffset(r,{reverseOrder:t,gutter:i,defaultPosition:e}));return n.createElement(X,{id:r.id,key:r.id,onHeightUpdate:c.updateHeight,className:r.visible?tt:"",style:a},"custom"===r.type?v(r.message,r):s?s(r):n.createElement(Y,{toast:r,position:o}))})))},rt=R},2573:(t,e,r)=>{"use strict";function n(t,e,r){return e<=t&&t<=r}function i(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}r.r(e),r.d(e,{TextDecoder:()=>c,TextEncoder:()=>l});function s(t){this.tokens=[].slice.call(t)}s.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var o=-1;function a(t,e){if(t)throw TypeError("Decoder error");return e||65533}var u="utf-8";function c(t,e){if(!(this instanceof c))return new c(t,e);if((t=void 0!==t?String(t).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function l(t,e){if(!(this instanceof l))return new l(t,e);if((t=void 0!==t?String(t).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function h(t){var e=t.fatal,r=0,i=0,s=0,u=128,c=191;this.handler=function(t,l){if(-1===l&&0!==s)return s=0,a(e);if(-1===l)return o;if(0===s){if(n(l,0,127))return l;if(n(l,194,223))s=1,r=l-192;else if(n(l,224,239))224===l&&(u=160),237===l&&(c=159),s=2,r=l-224;else{if(!n(l,240,244))return a(e);240===l&&(u=144),244===l&&(c=143),s=3,r=l-240}return r<<=6*s,null}if(!n(l,u,c))return r=s=i=0,u=128,c=191,t.prepend(l),a(e);if(u=128,c=191,r+=l-128<<6*(s-(i+=1)),i!==s)return null;var h=r;return r=s=i=0,h}}function d(t){t.fatal;this.handler=function(t,e){if(-1===e)return o;if(n(e,0,127))return e;var r,i;n(e,128,2047)?(r=1,i=192):n(e,2048,65535)?(r=2,i=224):n(e,65536,1114111)&&(r=3,i=240);for(var s=[(e>>6*r)+i];r>0;){var a=e>>6*(r-1);s.push(128|63&a),r-=1}return s}}c.prototype={decode:function(t,e){var r;r="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=i(e),this._streaming||(this._decoder=new h({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var n,a=new s(r),u=[];!a.endOfStream()&&(n=this._decoder.handler(a,a.read()))!==o;)null!==n&&(Array.isArray(n)?u.push.apply(u,n):u.push(n));if(!this._streaming){do{if((n=this._decoder.handler(a,a.read()))===o)break;null!==n&&(Array.isArray(n)?u.push.apply(u,n):u.push(n))}while(!a.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return e}(u)}},l.prototype={encode:function(t,e){t=t?String(t):"",e=i(e),this._streaming||(this._encoder=new d(this._options)),this._streaming=Boolean(e.stream);for(var r,n=[],a=new s(function(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=t.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=1023&s,u=1023&o;i.push(65536+(a<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(t));!a.endOfStream()&&(r=this._encoder.handler(a,a.read()))!==o;)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;(r=this._encoder.handler(a,a.read()))!==o;)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}}},4283:(t,e,r)=>{"use strict";function n(t,e,r){return e<=t&&t<=r}function i(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}r.r(e),r.d(e,{TextDecoder:()=>c,TextEncoder:()=>l});function s(t){this.tokens=[].slice.call(t)}s.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var o=-1;function a(t,e){if(t)throw TypeError("Decoder error");return e||65533}var u="utf-8";function c(t,e){if(!(this instanceof c))return new c(t,e);if((t=void 0!==t?String(t).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function l(t,e){if(!(this instanceof l))return new l(t,e);if((t=void 0!==t?String(t).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function h(t){var e=t.fatal,r=0,i=0,s=0,u=128,c=191;this.handler=function(t,l){if(-1===l&&0!==s)return s=0,a(e);if(-1===l)return o;if(0===s){if(n(l,0,127))return l;if(n(l,194,223))s=1,r=l-192;else if(n(l,224,239))224===l&&(u=160),237===l&&(c=159),s=2,r=l-224;else{if(!n(l,240,244))return a(e);240===l&&(u=144),244===l&&(c=143),s=3,r=l-240}return r<<=6*s,null}if(!n(l,u,c))return r=s=i=0,u=128,c=191,t.prepend(l),a(e);if(u=128,c=191,r+=l-128<<6*(s-(i+=1)),i!==s)return null;var h=r;return r=s=i=0,h}}function d(t){t.fatal;this.handler=function(t,e){if(-1===e)return o;if(n(e,0,127))return e;var r,i;n(e,128,2047)?(r=1,i=192):n(e,2048,65535)?(r=2,i=224):n(e,65536,1114111)&&(r=3,i=240);for(var s=[(e>>6*r)+i];r>0;){var a=e>>6*(r-1);s.push(128|63&a),r-=1}return s}}c.prototype={decode:function(t,e){var r;r="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=i(e),this._streaming||(this._decoder=new h({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var n,a=new s(r),u=[];!a.endOfStream()&&(n=this._decoder.handler(a,a.read()))!==o;)null!==n&&(Array.isArray(n)?u.push.apply(u,n):u.push(n));if(!this._streaming){do{if((n=this._decoder.handler(a,a.read()))===o)break;null!==n&&(Array.isArray(n)?u.push.apply(u,n):u.push(n))}while(!a.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return e}(u)}},l.prototype={encode:function(t,e){t=t?String(t):"",e=i(e),this._streaming||(this._encoder=new d(this._options)),this._streaming=Boolean(e.stream);for(var r,n=[],a=new s(function(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=t.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=1023&s,u=1023&o;i.push(65536+(a<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(t));!a.endOfStream()&&(r=this._encoder.handler(a,a.read()))!==o;)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;(r=this._encoder.handler(a,a.read()))!==o;)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}}}},t=>{var e;e=2447,t(t.s=e)}]);