"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4985],{4985:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var n=t(9367),a=t(3696),l=t(7435),i=t(7371),r=t(6049),d=t(9758),c=t(2540);function o(){const e=(0,l.g)(),s=(0,a.useMemo)((()=>{if(e.address)try{return new n.PublicKey(e.address)}catch(s){console.log("Invalid public key",s)}}),[e]);return s?(0,c.jsxs)("div",{children:[(0,c.jsx)(r.sR,{title:(0,c.jsx)(d.w3,{address:s}),subtitle:(0,c.jsx)("div",{className:"my-4",children:(0,c.jsx)(i.wq,{path:`account/${s}`,label:(0,r.qq)(s.toString())})}),children:(0,c.jsx)("div",{className:"my-4",children:(0,c.jsx)(d.v9,{address:s})})}),(0,c.jsxs)("div",{className:"space-y-8",children:[(0,c.jsx)(d.w_,{address:s}),(0,c.jsx)(d.Xn,{address:s})]})]}):(0,c.jsx)("div",{children:"Error loading account"})}},9758:(e,s,t)=>{t.d(s,{w3:()=>j,xv:()=>f,v9:()=>b,w_:()=>m,Xn:()=>g});var n=t(8267),a=t(9367),l=(0,t(7185).A)("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]),i=t(720),r=t(3696),d=t(6049),c=t(6231),o=t(7371),h=t(3694),u=t(5981),x=t(2540);function j({address:e}){const s=(0,h.MP)({address:e});return(0,x.jsx)("div",{children:(0,x.jsxs)("h1",{className:"text-5xl font-bold cursor-pointer",onClick:()=>s.refetch(),children:[s.data?(0,x.jsx)(p,{balance:s.data}):"..."," SOL"]})})}function b({address:e}){var s,t;const a=(0,n.v)(),{cluster:l}=(0,c.Gx)(),[i,d]=(0,r.useState)(!1),[o,h]=(0,r.useState)(!1),[u,j]=(0,r.useState)(!1);return(0,x.jsxs)("div",{children:[(0,x.jsx)(N,{hide:()=>d(!1),address:e,show:i}),(0,x.jsx)(v,{address:e,show:o,hide:()=>h(!1)}),(0,x.jsx)(S,{address:e,show:u,hide:()=>j(!1)}),(0,x.jsxs)("div",{className:"space-x-2",children:[(0,x.jsx)("button",{disabled:null==(s=l.network)?void 0:s.includes("mainnet"),className:"btn btn-xs lg:btn-md btn-outline",onClick:()=>d(!0),children:"Airdrop"}),(0,x.jsx)("button",{disabled:(null==(t=a.publicKey)?void 0:t.toString())!==e.toString(),className:"btn btn-xs lg:btn-md btn-outline",onClick:()=>j(!0),children:"Send"}),(0,x.jsx)("button",{className:"btn btn-xs lg:btn-md btn-outline",onClick:()=>h(!0),children:"Receive"})]})]})}function m({address:e}){var s,t,n;const[a,c]=(0,r.useState)(!1),u=(0,h.$d)({address:e}),j=(0,i.jE)(),b=(0,r.useMemo)((()=>{var e;return a?u.data:null==(e=u.data)?void 0:e.slice(0,5)}),[u.data,a]);return(0,x.jsxs)("div",{className:"space-y-2",children:[(0,x.jsx)("div",{className:"justify-between",children:(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold",children:"Token Accounts"}),(0,x.jsx)("div",{className:"space-x-2",children:u.isLoading?(0,x.jsx)("span",{className:"loading loading-spinner"}):(0,x.jsx)("button",{className:"btn btn-sm btn-outline",onClick:async()=>{await u.refetch(),await j.invalidateQueries({queryKey:["getTokenAccountBalance"]})},children:(0,x.jsx)(l,{size:16})})})]})}),u.isError&&(0,x.jsxs)("pre",{className:"alert alert-error",children:["Error: ",null==(s=u.error)?void 0:s.message.toString()]}),u.isSuccess&&(0,x.jsx)("div",{children:0===u.data.length?(0,x.jsx)("div",{children:"No token accounts found."}):(0,x.jsxs)("table",{className:"table border-4 rounded-lg border-separate border-base-300",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Public Key"}),(0,x.jsx)("th",{children:"Mint"}),(0,x.jsx)("th",{className:"text-right",children:"Balance"})]})}),(0,x.jsxs)("tbody",{children:[null==b?void 0:b.map((({account:e,pubkey:s})=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"flex space-x-2",children:(0,x.jsx)("span",{className:"font-mono",children:(0,x.jsx)(o.wq,{label:(0,d.qq)(s.toString()),path:`account/${s.toString()}`})})})}),(0,x.jsx)("td",{children:(0,x.jsx)("div",{className:"flex space-x-2",children:(0,x.jsx)("span",{className:"font-mono",children:(0,x.jsx)(o.wq,{label:(0,d.qq)(e.data.parsed.info.mint),path:`account/${e.data.parsed.info.mint.toString()}`})})})}),(0,x.jsx)("td",{className:"text-right",children:(0,x.jsx)("span",{className:"font-mono",children:e.data.parsed.info.tokenAmount.uiAmount})})]},s.toString()))),(null!=(t=null==(n=u.data)?void 0:n.length)?t:0)>5&&(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:4,className:"text-center",children:(0,x.jsx)("button",{className:"btn btn-xs btn-outline",onClick:()=>c(!a),children:a?"Show Less":"Show All"})})})]})]})})]})}function g({address:e}){var s,t,n;const a=(0,h.ry)({address:e}),[i,c]=(0,r.useState)(!1),u=(0,r.useMemo)((()=>{var e;return i?a.data:null==(e=a.data)?void 0:e.slice(0,5)}),[a.data,i]);return(0,x.jsxs)("div",{className:"space-y-2",children:[(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("h2",{className:"text-2xl font-bold",children:"Transaction History"}),(0,x.jsx)("div",{className:"space-x-2",children:a.isLoading?(0,x.jsx)("span",{className:"loading loading-spinner"}):(0,x.jsx)("button",{className:"btn btn-sm btn-outline",onClick:()=>a.refetch(),children:(0,x.jsx)(l,{size:16})})})]}),a.isError&&(0,x.jsxs)("pre",{className:"alert alert-error",children:["Error: ",null==(s=a.error)?void 0:s.message.toString()]}),a.isSuccess&&(0,x.jsx)("div",{children:0===a.data.length?(0,x.jsx)("div",{children:"No transactions found."}):(0,x.jsxs)("table",{className:"table border-4 rounded-lg border-separate border-base-300",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Signature"}),(0,x.jsx)("th",{className:"text-right",children:"Slot"}),(0,x.jsx)("th",{children:"Block Time"}),(0,x.jsx)("th",{className:"text-right",children:"Status"})]})}),(0,x.jsxs)("tbody",{children:[null==u?void 0:u.map((e=>{var s;return(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"font-mono",children:(0,x.jsx)(o.wq,{path:`tx/${e.signature}`,label:(0,d.qq)(e.signature,8)})}),(0,x.jsx)("td",{className:"font-mono text-right",children:(0,x.jsx)(o.wq,{path:`block/${e.slot}`,label:e.slot.toString()})}),(0,x.jsx)("td",{children:new Date(1e3*(null!=(s=e.blockTime)?s:0)).toISOString()}),(0,x.jsx)("td",{className:"text-right",children:e.err?(0,x.jsx)("div",{className:"badge badge-error",title:JSON.stringify(e.err),children:"Failed"}):(0,x.jsx)("div",{className:"badge badge-success",children:"Success"})})]},e.signature)})),(null!=(t=null==(n=a.data)?void 0:n.length)?t:0)>5&&(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:4,className:"text-center",children:(0,x.jsx)("button",{className:"btn btn-xs btn-outline",onClick:()=>c(!i),children:i?"Show Less":"Show All"})})})]})]})})]})}function p({balance:e}){return(0,x.jsx)("span",{children:Math.round(e/a.LAMPORTS_PER_SOL*1e5)/1e5})}function v({hide:e,show:s,address:t}){return(0,x.jsxs)(d.Vm,{title:"Receive",hide:e,show:s,children:[(0,x.jsx)("p",{children:"Receive assets by sending them to your public key:"}),(0,x.jsx)("code",{children:t.toString()})]})}function N({hide:e,show:s,address:t}){const n=(0,h.u1)({address:t}),[a,l]=(0,r.useState)("2");return(0,x.jsx)(d.Vm,{hide:e,show:s,title:"Airdrop",submitDisabled:!a||n.isPending,submitLabel:"Request Airdrop",submit:()=>n.mutateAsync(parseFloat(a)).then((()=>e())),children:(0,x.jsx)("input",{disabled:n.isPending,type:"number",step:"any",min:"1",placeholder:"Amount",className:"input input-bordered w-full",value:a,onChange:e=>l(e.target.value)})})}function S({hide:e,show:s,address:t}){const l=(0,n.v)(),i=(0,h.bQ)({address:t}),[c,o]=(0,r.useState)(""),[u,j]=(0,r.useState)("1");return t&&l.sendTransaction?(0,x.jsxs)(d.Vm,{hide:e,show:s,title:"Send",submitDisabled:!c||!u||i.isPending,submitLabel:"Send",submit:()=>{i.mutateAsync({destination:new a.PublicKey(c),amount:parseFloat(u)}).then((()=>e()))},children:[(0,x.jsx)("input",{disabled:i.isPending,type:"text",placeholder:"Destination",className:"input input-bordered w-full",value:c,onChange:e=>o(e.target.value)}),(0,x.jsx)("input",{disabled:i.isPending,type:"number",step:"any",min:"1",placeholder:"Amount",className:"input input-bordered w-full",value:u,onChange:e=>j(e.target.value)})]}):(0,x.jsx)("div",{children:"Wallet not connected"})}function f({mintAddress:e,clickCallback:s}){const t=(0,h.F7)(),n=(0,u.NA)();let a="...";t.tokens&&(a=t.tokens[e.toString()]&&t.tokens[e.toString()].amountAsFloat?t.tokens[e.toString()].amountAsFloat:"0");const l=s&&t.tokens;return(0,x.jsxs)("span",{className:l?"cursor-pointer":"",onClick:()=>{l&&s(a)},children:[a," ",n.getSymbolByMintAddress(e.toString())]})}}}]);