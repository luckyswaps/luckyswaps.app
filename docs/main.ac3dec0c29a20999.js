(self.webpackChunk=self.webpackChunk||[]).push([[8792],{3017:(t,e,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(null,arguments)}n.d(e,{A:()=>r})},2739:(t,e,n)=>{"use strict";var r=n(1817).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=i}var a=t.length,u=t.charAt(0),l=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return r.alloc(0);for(var n=0,i=0,s=0;t[n]===u;)i++,n++;for(var o=(t.length-n)*l+1>>>0,c=new Uint8Array(o);n<t.length;){var h=e[t.charCodeAt(n)];if(255===h)return;for(var d=0,f=o-1;(0!==h||d<s)&&-1!==f;f--,d++)h+=a*c[f]>>>0,c[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=d,n++}for(var p=o-s;p!==o&&0===c[p];)p++;var m=r.allocUnsafe(i+(o-p));m.fill(0,0,i);for(var g=i;p!==o;)m[g++]=c[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=r.from(e)),!r.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var n=0,i=0,s=0,o=e.length;s!==o&&0===e[s];)s++,n++;for(var l=(o-s)*c+1>>>0,h=new Uint8Array(l);s!==o;){for(var d=e[s],f=0,p=l-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=256*h[p]>>>0,h[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,s++}for(var m=l-i;m!==l&&0===h[m];)m++;for(var g=u.repeat(n);m<l;++m)g+=t.charAt(h[m]);return g},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},4319:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(4423).Buffer}catch(T){}function a(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function u(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function l(t,e,n,i){for(var s=0,o=0,a=Math.min(t.length,n),u=e;u<a;u++){var l=t.charCodeAt(u)-48;s*=i,o=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&o<i,"Invalid character"),s+=o}return s}function c(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,s=0,o=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var s=t.length-n,o=s%r,a=Math.min(s,s-o)+n,u=0,c=n;c<a;c+=r)u=l(t,c,c+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=l(t,c,t.length,e),c=0;c<o;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){c(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(T){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?d[6-u.length]+u+n:u+n}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],c=p[t];n="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(c).toString(t);n=(h=h.idivn(c)).isZero()?m+n:d[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;n.words[0]=a;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,d=Math.min(l,e.length-1),f=Math.max(0,l-t.length+1);f<=d;f++){var p=l-f|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}n.words[l]=0|h,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n._strip()}s.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;t[n++]=255&o,n<t.length&&(t[n++]=o>>8&255),n<t.length&&(t[n++]=o>>16&255),6===s?(n<t.length&&(t[n++]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;t[n--]=255&o,n>=0&&(t[n--]=o>>8&255),n>=0&&(t[n--]=o>>16&255),6===s?(n>=0&&(t[n--]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 8191&e||(n+=13,e>>>=13),127&e||(n+=7,e>>>=7),15&e||(n+=4,e>>>=4),3&e||(n+=2,e>>>=2),1&e||n++,n},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return r(!(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return r(!(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return r(!(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,s=0;s<r.length;s++)e=(0|n.words[s])+(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<n.length;s++)e=(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var s=0,o=0;o<r.length;o++)s=(e=(0|n.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<n.length;o++)s=(e=(0|n.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,n){var r,i,s,o=t.words,a=e.words,u=n.words,l=0,c=0|o[0],h=8191&c,d=c>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,v=g>>>13,w=0|o[3],b=8191&w,_=w>>>13,E=0|o[4],k=8191&E,S=E>>>13,A=0|o[5],M=8191&A,I=A>>>13,T=0|o[6],R=8191&T,x=T>>>13,C=0|o[7],P=8191&C,N=C>>>13,O=0|o[8],L=8191&O,B=O>>>13,D=0|o[9],U=8191&D,j=D>>>13,F=0|a[0],V=8191&F,z=F>>>13,H=0|a[1],q=8191&H,K=H>>>13,W=0|a[2],$=8191&W,Z=W>>>13,G=0|a[3],Q=8191&G,J=G>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ct=0|a[8],ht=8191&ct,dt=ct>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(l+(r=Math.imul(h,V))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(d,V)|0))<<13)|0;l=((s=Math.imul(d,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(p,V),i=(i=Math.imul(p,z))+Math.imul(m,V)|0,s=Math.imul(m,z);var yt=(l+(r=r+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,q)|0))<<13)|0;l=((s=s+Math.imul(d,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,V),i=(i=Math.imul(y,z))+Math.imul(v,V)|0,s=Math.imul(v,z),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,K)|0;var vt=(l+(r=r+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,$)|0))<<13)|0;l=((s=s+Math.imul(d,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,V),i=(i=Math.imul(b,z))+Math.imul(_,V)|0,s=Math.imul(_,z),r=r+Math.imul(y,q)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,q)|0,s=s+Math.imul(v,K)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Z)|0;var wt=(l+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Q)|0))<<13)|0;l=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(k,V),i=(i=Math.imul(k,z))+Math.imul(S,V)|0,s=Math.imul(S,z),r=r+Math.imul(b,q)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,K)|0,r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,J)|0;var bt=(l+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;l=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(M,V),i=(i=Math.imul(M,z))+Math.imul(I,V)|0,s=Math.imul(I,z),r=r+Math.imul(k,q)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(S,q)|0,s=s+Math.imul(S,K)|0,r=r+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,Z)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,Q)|0,s=s+Math.imul(v,J)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var _t=(l+(r=r+Math.imul(h,nt)|0)|0)+((8191&(i=(i=i+Math.imul(h,rt)|0)+Math.imul(d,nt)|0))<<13)|0;l=((s=s+Math.imul(d,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(R,V),i=(i=Math.imul(R,z))+Math.imul(x,V)|0,s=Math.imul(x,z),r=r+Math.imul(M,q)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,K)|0,r=r+Math.imul(k,$)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(S,$)|0,s=s+Math.imul(S,Z)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,J)|0,r=r+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,s=s+Math.imul(m,rt)|0;var Et=(l+(r=r+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;l=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(P,V),i=(i=Math.imul(P,z))+Math.imul(N,V)|0,s=Math.imul(N,z),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(x,q)|0,s=s+Math.imul(x,K)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(I,$)|0,s=s+Math.imul(I,Z)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,J)|0,r=r+Math.imul(b,X)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,s=s+Math.imul(v,rt)|0,r=r+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(l+(r=r+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(d,ut)|0))<<13)|0;l=((s=s+Math.imul(d,lt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(L,V),i=(i=Math.imul(L,z))+Math.imul(B,V)|0,s=Math.imul(B,z),r=r+Math.imul(P,q)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(N,q)|0,s=s+Math.imul(N,K)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,Z)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,J)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(_,nt)|0,s=s+Math.imul(_,rt)|0,r=r+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,lt)|0;var St=(l+(r=r+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;l=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(U,V),i=(i=Math.imul(U,z))+Math.imul(j,V)|0,s=Math.imul(j,z),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(B,q)|0,s=s+Math.imul(B,K)|0,r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,Z)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,J)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,tt)|0,r=r+Math.imul(k,nt)|0,i=(i=i+Math.imul(k,rt)|0)+Math.imul(S,nt)|0,s=s+Math.imul(S,rt)|0,r=r+Math.imul(b,st)|0,i=(i=i+Math.imul(b,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,r=r+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,lt)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,dt)|0;var At=(l+(r=r+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;l=((s=s+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(U,q),i=(i=Math.imul(U,K))+Math.imul(j,q)|0,s=Math.imul(j,K),r=r+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(B,$)|0,s=s+Math.imul(B,Z)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,J)|0,r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(I,nt)|0,s=s+Math.imul(I,rt)|0,r=r+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,r=r+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,lt)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,dt)|0;var Mt=(l+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(U,$),i=(i=Math.imul(U,Z))+Math.imul(j,$)|0,s=Math.imul(j,Z),r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,J)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(x,nt)|0,s=s+Math.imul(x,rt)|0,r=r+Math.imul(M,st)|0,i=(i=i+Math.imul(M,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,r=r+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(S,ut)|0,s=s+Math.imul(S,lt)|0,r=r+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var It=(l+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;l=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(U,Q),i=(i=Math.imul(U,J))+Math.imul(j,Q)|0,s=Math.imul(j,J),r=r+Math.imul(L,X)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(N,nt)|0,s=s+Math.imul(N,rt)|0,r=r+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,r=r+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,lt)|0,r=r+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,dt)|0;var Tt=(l+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(j,X)|0,s=Math.imul(j,tt),r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(B,nt)|0,s=s+Math.imul(B,rt)|0,r=r+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,r=r+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,lt)|0,r=r+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,dt)|0;var Rt=(l+(r=r+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((s=s+Math.imul(S,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(U,nt),i=(i=Math.imul(U,rt))+Math.imul(j,nt)|0,s=Math.imul(j,rt),r=r+Math.imul(L,st)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,r=r+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,lt)|0,r=r+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,dt)|0;var xt=(l+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(I,pt)|0))<<13)|0;l=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(U,st),i=(i=Math.imul(U,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),r=r+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(B,ut)|0,s=s+Math.imul(B,lt)|0,r=r+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,dt)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,dt)|0;var Ct=(l+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(x,pt)|0))<<13)|0;l=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(U,ut),i=(i=Math.imul(U,lt))+Math.imul(j,ut)|0,s=Math.imul(j,lt),r=r+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,dt)|0)+Math.imul(B,ht)|0,s=s+Math.imul(B,dt)|0;var Pt=(l+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(j,ht)|0,s=Math.imul(j,dt);var Nt=(l+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(B,pt)|0))<<13)|0;l=((s=s+Math.imul(B,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Ot=(l+(r=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,mt))+Math.imul(j,pt)|0))<<13)|0;return l=((s=Math.imul(j,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=wt,u[4]=bt,u[5]=_t,u[6]=Et,u[7]=kt,u[8]=St,u[9]=At,u[10]=Mt,u[11]=It,u[12]=Tt,u[13]=Rt,u[14]=xt,u[15]=Ct,u[16]=Pt,u[17]=Nt,u[18]=Ot,0!==l&&(u[19]=l,n.length++),n};function y(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,s=0;s<n.length-1;s++){var o=i;i=0;for(var a=67108863&r,u=Math.min(s,e.length-1),l=Math.max(0,s-t.length+1);l<=u;l++){var c=s-l,h=(0|t.words[c])*(0|e.words[l]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,r=o,o=i}return 0!==r?n.words[s]=r:n.length--,n._strip()}function v(t,e,n){return y(t,e,n)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):n<63?m(this,t,e):n<1024?y(this,t,e):v(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),n=s.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},w.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},w.prototype.permute=function(t,e,n,r,i,s){for(var o=0;o<s;o++)r[o]=e[t[o]],i[o]=n[t[o]]},w.prototype.transform=function(t,e,n,r,i,s){this.permute(s,t,e,n,r,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=u,d=l,f=0;f<o;f++){var p=n[c+f],m=r[c+f],g=n[c+f+o],y=r[c+f+o],v=h*g-d*y;y=h*y+d*g,g=v,n[c+f]=p+g,r[c+f]=m+y,n[c+f+o]=p-g,r[c+f+o]=m-y,f!==a&&(v=u*h-l*d,d=u*d+l*h,h=v)}},w.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},w.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},w.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,n,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)n[o]=0;r(0===s),r(!(-8192&s))},w.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},w.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),s=this.stub(r),o=new Array(r),a=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),d=n.words;d.length=r,this.convert13b(t.words,t.length,o,r),this.convert13b(e.words,e.length,l,r),this.transform(o,s,a,u,r,i),this.transform(l,s,c,h,r,i);for(var f=0;f<r;f++){var p=a[f]*c[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*c[f],a[f]=p}return this.conjugate(a,u,r),this.transform(a,u,d,s,r,i),this.conjugate(d,s,r),this.normalize13b(d,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),v(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new s(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},s.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<n;this.words[e]=u|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=n;if(i-=o,i=Math.max(0,i),u){for(var l=0;l<o;l++)u.words[l]=this.words[l];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-s|h>>>s,c=h&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},s.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var i,s,o=t.length+n;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+n])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var a,u=r.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),r._ishlnsubmul(i,d,h);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},s.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),s=n.cmp(r);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/t|0,n=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),o.isub(u)):(n.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:n.iushln(l)}},s.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;!(e.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(e.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;!(n.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var s=e;e=n,n=s}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new M(t)},s.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(E,_),E.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},E.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(k,_),i(S,_),i(A,_),A.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new E;else if("p224"===t)e=new k;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return b[t]=e,e},M.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(!(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(c(t,t.umod(this.m)._forceRed(this)),t)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],c=u-1;c>=0;c--){var h=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===r&&0===c)&&(i=this.mul(i,n[o]),a=0,o=0)):a=0}u=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new I(t)},i(I,M),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},536:(t,e,n)=>{var r=n(2739);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},5534:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i256=e.u256=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const i=n(6376),s=n(9367),o=r(n(3292));var a=n(6376);Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return a.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return a.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return a.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return a.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return a.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return a.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return a.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return a.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return a.struct}});class BNLayout extends i.Layout{constructor(t,e,n){super(t,n),this.blob=(0,i.blob)(t),this.signed=e}decode(t,e=0){const n=new o.default(this.blob.decode(t,e),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(t,e,n=0){return this.signed&&(t=t.toTwos(8*this.span)),this.blob.encode(t.toArrayLike(Buffer,"le",this.span),e,n)}}function u(t){return new BNLayout(8,!1,t)}e.u64=u,e.i64=function(t){return new BNLayout(8,!0,t)},e.u128=function(t){return new BNLayout(16,!1,t)},e.i128=function(t){return new BNLayout(16,!0,t)},e.u256=function(t){return new BNLayout(32,!1,t)},e.i256=function(t){return new BNLayout(32,!0,t)};class WrappedLayout extends i.Layout{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}e.publicKey=function(t){return new WrappedLayout((0,i.blob)(32),(t=>new s.PublicKey(t)),(t=>t.toBuffer()),t)};class OptionLayout extends i.Layout{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=(0,i.u8)()}encode(t,e,n=0){return null==t?this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+1)+1)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+1);throw new Error("Invalid option "+this.property)}getSpan(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return 1;if(1===n)return this.layout.getSpan(t,e+1)+1;throw new Error("Invalid option "+this.property)}}function l(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function c(t){return t?1:0}function h(t){const e=(0,i.u32)("length"),n=(0,i.struct)([e,(0,i.blob)((0,i.offset)(e,-e.span),"data")]);return new WrappedLayout(n,(({data:t})=>t),(t=>({data:t})),t)}e.option=function(t,e){return new OptionLayout(t,e)},e.bool=function(t){return new WrappedLayout((0,i.u8)(),l,c,t)},e.vec=function(t,e){const n=(0,i.u32)("length"),r=(0,i.struct)([n,(0,i.seq)(t,(0,i.offset)(n,-n.span),"values")]);return new WrappedLayout(r,(({values:t})=>t),(t=>({values:t})),e)},e.tagged=function(t,e,n){const r=(0,i.struct)([u("tag"),e.replicate("data")]);return new WrappedLayout(r,(function({tag:e,data:n}){if(!e.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+e.toString("hex"));return n}),(e=>({tag:t,data:e})),n)},e.vecU8=h,e.str=function(t){return new WrappedLayout(h(),(t=>t.toString("utf-8")),(t=>Buffer.from(t,"utf-8")),t)},e.rustEnum=function(t,e,n){const r=(0,i.union)(null!=n?n:(0,i.u8)(),e);return t.forEach(((t,e)=>r.addVariant(e,t,t.property))),r},e.array=function(t,e,n){const r=(0,i.struct)([(0,i.seq)(t,e,"values")]);return new WrappedLayout(r,(({values:t})=>t),(t=>({values:t})),n)};class MapEntryLayout extends i.Layout{constructor(t,e,n){super(t.span+e.span,n),this.keyLayout=t,this.valueLayout=e}decode(t,e){e=e||0;return[this.keyLayout.decode(t,e),this.valueLayout.decode(t,e+this.keyLayout.getSpan(t,e))]}encode(t,e,n){n=n||0;const r=this.keyLayout.encode(t[0],e,n);return r+this.valueLayout.encode(t[1],e,n+r)}getSpan(t,e){return this.keyLayout.getSpan(t,e)+this.valueLayout.getSpan(t,e)}}e.map=function(t,e,n){const r=(0,i.u32)("length"),s=(0,i.struct)([r,(0,i.seq)(new MapEntryLayout(t,e),(0,i.offset)(r,-r.span),"values")]);return new WrappedLayout(s,(({values:t})=>new Map(t)),(t=>({values:Array.from(t.entries())})),n)}},3292:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(5206).Buffer}catch(T){}function a(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function u(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function l(t,e,n,i){for(var s=0,o=0,a=Math.min(t.length,n),u=e;u<a;u++){var l=t.charCodeAt(u)-48;s*=i,o=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&o<i,"Invalid character"),s+=o}return s}function c(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,s=0,o=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var s=t.length-n,o=s%r,a=Math.min(s,s-o)+n,u=0,c=n;c<a;c+=r)u=l(t,c,c+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=l(t,c,t.length,e),c=0;c<o;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){c(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(T){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?d[6-u.length]+u+n:u+n}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],c=p[t];n="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(c).toString(t);n=(h=h.idivn(c)).isZero()?m+n:d[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;n.words[0]=a;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,d=Math.min(l,e.length-1),f=Math.max(0,l-t.length+1);f<=d;f++){var p=l-f|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}n.words[l]=0|h,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n._strip()}s.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;t[n++]=255&o,n<t.length&&(t[n++]=o>>8&255),n<t.length&&(t[n++]=o>>16&255),6===s?(n<t.length&&(t[n++]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;t[n--]=255&o,n>=0&&(t[n--]=o>>8&255),n>=0&&(t[n--]=o>>16&255),6===s?(n>=0&&(t[n--]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 8191&e||(n+=13,e>>>=13),127&e||(n+=7,e>>>=7),15&e||(n+=4,e>>>=4),3&e||(n+=2,e>>>=2),1&e||n++,n},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return r(!(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return r(!(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return r(!(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,s=0;s<r.length;s++)e=(0|n.words[s])+(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<n.length;s++)e=(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var s=0,o=0;o<r.length;o++)s=(e=(0|n.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<n.length;o++)s=(e=(0|n.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,n){var r,i,s,o=t.words,a=e.words,u=n.words,l=0,c=0|o[0],h=8191&c,d=c>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,v=g>>>13,w=0|o[3],b=8191&w,_=w>>>13,E=0|o[4],k=8191&E,S=E>>>13,A=0|o[5],M=8191&A,I=A>>>13,T=0|o[6],R=8191&T,x=T>>>13,C=0|o[7],P=8191&C,N=C>>>13,O=0|o[8],L=8191&O,B=O>>>13,D=0|o[9],U=8191&D,j=D>>>13,F=0|a[0],V=8191&F,z=F>>>13,H=0|a[1],q=8191&H,K=H>>>13,W=0|a[2],$=8191&W,Z=W>>>13,G=0|a[3],Q=8191&G,J=G>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ct=0|a[8],ht=8191&ct,dt=ct>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(l+(r=Math.imul(h,V))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(d,V)|0))<<13)|0;l=((s=Math.imul(d,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(p,V),i=(i=Math.imul(p,z))+Math.imul(m,V)|0,s=Math.imul(m,z);var yt=(l+(r=r+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,q)|0))<<13)|0;l=((s=s+Math.imul(d,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,V),i=(i=Math.imul(y,z))+Math.imul(v,V)|0,s=Math.imul(v,z),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,K)|0;var vt=(l+(r=r+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,$)|0))<<13)|0;l=((s=s+Math.imul(d,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,V),i=(i=Math.imul(b,z))+Math.imul(_,V)|0,s=Math.imul(_,z),r=r+Math.imul(y,q)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,q)|0,s=s+Math.imul(v,K)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Z)|0;var wt=(l+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Q)|0))<<13)|0;l=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(k,V),i=(i=Math.imul(k,z))+Math.imul(S,V)|0,s=Math.imul(S,z),r=r+Math.imul(b,q)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,K)|0,r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,J)|0;var bt=(l+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;l=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(M,V),i=(i=Math.imul(M,z))+Math.imul(I,V)|0,s=Math.imul(I,z),r=r+Math.imul(k,q)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(S,q)|0,s=s+Math.imul(S,K)|0,r=r+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,Z)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,Q)|0,s=s+Math.imul(v,J)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var _t=(l+(r=r+Math.imul(h,nt)|0)|0)+((8191&(i=(i=i+Math.imul(h,rt)|0)+Math.imul(d,nt)|0))<<13)|0;l=((s=s+Math.imul(d,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(R,V),i=(i=Math.imul(R,z))+Math.imul(x,V)|0,s=Math.imul(x,z),r=r+Math.imul(M,q)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,K)|0,r=r+Math.imul(k,$)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(S,$)|0,s=s+Math.imul(S,Z)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,J)|0,r=r+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,s=s+Math.imul(m,rt)|0;var Et=(l+(r=r+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;l=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(P,V),i=(i=Math.imul(P,z))+Math.imul(N,V)|0,s=Math.imul(N,z),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(x,q)|0,s=s+Math.imul(x,K)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(I,$)|0,s=s+Math.imul(I,Z)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,J)|0,r=r+Math.imul(b,X)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,s=s+Math.imul(v,rt)|0,r=r+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(l+(r=r+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(d,ut)|0))<<13)|0;l=((s=s+Math.imul(d,lt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(L,V),i=(i=Math.imul(L,z))+Math.imul(B,V)|0,s=Math.imul(B,z),r=r+Math.imul(P,q)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(N,q)|0,s=s+Math.imul(N,K)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,Z)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,J)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(_,nt)|0,s=s+Math.imul(_,rt)|0,r=r+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,lt)|0;var St=(l+(r=r+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;l=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(U,V),i=(i=Math.imul(U,z))+Math.imul(j,V)|0,s=Math.imul(j,z),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(B,q)|0,s=s+Math.imul(B,K)|0,r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,Z)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,J)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,tt)|0,r=r+Math.imul(k,nt)|0,i=(i=i+Math.imul(k,rt)|0)+Math.imul(S,nt)|0,s=s+Math.imul(S,rt)|0,r=r+Math.imul(b,st)|0,i=(i=i+Math.imul(b,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,r=r+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,lt)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,dt)|0;var At=(l+(r=r+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;l=((s=s+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(U,q),i=(i=Math.imul(U,K))+Math.imul(j,q)|0,s=Math.imul(j,K),r=r+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(B,$)|0,s=s+Math.imul(B,Z)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,J)|0,r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(I,nt)|0,s=s+Math.imul(I,rt)|0,r=r+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,r=r+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,lt)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,dt)|0;var Mt=(l+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(U,$),i=(i=Math.imul(U,Z))+Math.imul(j,$)|0,s=Math.imul(j,Z),r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,J)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(x,nt)|0,s=s+Math.imul(x,rt)|0,r=r+Math.imul(M,st)|0,i=(i=i+Math.imul(M,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,r=r+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(S,ut)|0,s=s+Math.imul(S,lt)|0,r=r+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var It=(l+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;l=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(U,Q),i=(i=Math.imul(U,J))+Math.imul(j,Q)|0,s=Math.imul(j,J),r=r+Math.imul(L,X)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(N,nt)|0,s=s+Math.imul(N,rt)|0,r=r+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,r=r+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,lt)|0,r=r+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,dt)|0;var Tt=(l+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(j,X)|0,s=Math.imul(j,tt),r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(B,nt)|0,s=s+Math.imul(B,rt)|0,r=r+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,r=r+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,lt)|0,r=r+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,dt)|0;var Rt=(l+(r=r+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((s=s+Math.imul(S,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(U,nt),i=(i=Math.imul(U,rt))+Math.imul(j,nt)|0,s=Math.imul(j,rt),r=r+Math.imul(L,st)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,r=r+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,lt)|0,r=r+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,dt)|0;var xt=(l+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(I,pt)|0))<<13)|0;l=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(U,st),i=(i=Math.imul(U,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),r=r+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(B,ut)|0,s=s+Math.imul(B,lt)|0,r=r+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,dt)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,dt)|0;var Ct=(l+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(x,pt)|0))<<13)|0;l=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(U,ut),i=(i=Math.imul(U,lt))+Math.imul(j,ut)|0,s=Math.imul(j,lt),r=r+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,dt)|0)+Math.imul(B,ht)|0,s=s+Math.imul(B,dt)|0;var Pt=(l+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(j,ht)|0,s=Math.imul(j,dt);var Nt=(l+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(B,pt)|0))<<13)|0;l=((s=s+Math.imul(B,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Ot=(l+(r=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,mt))+Math.imul(j,pt)|0))<<13)|0;return l=((s=Math.imul(j,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=wt,u[4]=bt,u[5]=_t,u[6]=Et,u[7]=kt,u[8]=St,u[9]=At,u[10]=Mt,u[11]=It,u[12]=Tt,u[13]=Rt,u[14]=xt,u[15]=Ct,u[16]=Pt,u[17]=Nt,u[18]=Ot,0!==l&&(u[19]=l,n.length++),n};function y(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,s=0;s<n.length-1;s++){var o=i;i=0;for(var a=67108863&r,u=Math.min(s,e.length-1),l=Math.max(0,s-t.length+1);l<=u;l++){var c=s-l,h=(0|t.words[c])*(0|e.words[l]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,r=o,o=i}return 0!==r?n.words[s]=r:n.length--,n._strip()}function v(t,e,n){return y(t,e,n)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):n<63?m(this,t,e):n<1024?y(this,t,e):v(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),n=s.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},w.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},w.prototype.permute=function(t,e,n,r,i,s){for(var o=0;o<s;o++)r[o]=e[t[o]],i[o]=n[t[o]]},w.prototype.transform=function(t,e,n,r,i,s){this.permute(s,t,e,n,r,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=u,d=l,f=0;f<o;f++){var p=n[c+f],m=r[c+f],g=n[c+f+o],y=r[c+f+o],v=h*g-d*y;y=h*y+d*g,g=v,n[c+f]=p+g,r[c+f]=m+y,n[c+f+o]=p-g,r[c+f+o]=m-y,f!==a&&(v=u*h-l*d,d=u*d+l*h,h=v)}},w.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},w.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},w.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,n,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)n[o]=0;r(0===s),r(!(-8192&s))},w.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},w.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),s=this.stub(r),o=new Array(r),a=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),d=n.words;d.length=r,this.convert13b(t.words,t.length,o,r),this.convert13b(e.words,e.length,l,r),this.transform(o,s,a,u,r,i),this.transform(l,s,c,h,r,i);for(var f=0;f<r;f++){var p=a[f]*c[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*c[f],a[f]=p}return this.conjugate(a,u,r),this.transform(a,u,d,s,r,i),this.conjugate(d,s,r),this.normalize13b(d,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),v(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new s(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},s.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<n;this.words[e]=u|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=n;if(i-=o,i=Math.max(0,i),u){for(var l=0;l<o;l++)u.words[l]=this.words[l];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-s|h>>>s,c=h&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},s.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var i,s,o=t.length+n;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+n])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var a,u=r.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),r._ishlnsubmul(i,d,h);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},s.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),s=n.cmp(r);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/t|0,n=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),o.isub(u)):(n.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:n.iushln(l)}},s.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;!(e.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(e.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;!(n.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var s=e;e=n,n=s}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new M(t)},s.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(E,_),E.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},E.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(k,_),i(S,_),i(A,_),A.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new E;else if("p224"===t)e=new k;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return b[t]=e,e},M.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(!(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(c(t,t.umod(this.m)._forceRed(this)),t)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],c=u-1;c>=0;c--){var h=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===r&&0===c)&&(i=this.mul(i,n[o]),a=0,o=0)):a=0}u=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new I(t)},i(I,M),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},757:(t,e,n)=>{"use strict";function r(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function i(t,...e){if(!((n=t)instanceof Uint8Array||ArrayBuffer.isView(n)&&"Uint8Array"===n.constructor.name))throw new Error("Uint8Array expected");var n;if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function s(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(t.outputLen),r(t.blockLen)}function o(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function a(t,e){i(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}n.d(e,{CC:()=>o,DO:()=>i,Fe:()=>r,Ht:()=>a,sd:()=>s})},2242:(t,e,n)=>{"use strict";n.d(e,{TQ:()=>o,ol:()=>HashMD,r9:()=>s});var r=n(757),i=n(4276);function s(t,e,n){return t&e^~t&n}function o(t,e,n){return t&e^t&n^e&n}class HashMD extends i.Vw{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,i.O8)(this.buffer)}update(t){(0,r.CC)(this);const{view:e,buffer:n,blockLen:s}=this,o=(t=(0,i.ZJ)(t)).length;for(let r=0;r<o;){const a=Math.min(s-this.pos,o-r);if(a!==s)n.set(t.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===s&&(this.process(e,0),this.pos=0);else{const e=(0,i.O8)(t);for(;s<=o-r;r+=s)this.process(e,r)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,r.CC)(this),(0,r.Ht)(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:s,isLE:o}=this;let{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(n,0),a=0);for(let r=a;r<s;r++)e[r]=0;!function(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),u=r?4:0,l=r?0:4;t.setUint32(e+u,o,r),t.setUint32(e+l,a,r)}(n,s-8,BigInt(8*this.length),o),this.process(n,0);const u=(0,i.O8)(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let r=0;r<c;r++)u.setUint32(4*r,h[r],o)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return t.length=r,t.pos=o,t.finished=i,t.destroyed=s,r%e&&t.buffer.set(n),t}}},5423:(t,e,n)=>{"use strict";n.d(e,{sc:()=>u});var r=n(2242),i=n(4276);const s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class SHA256 extends r.ol{constructor(){super(64,32,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4],this.F=0|o[5],this.G=0|o[6],this.H=0|o[7]}get(){const{A:t,B:e,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[t,e,n,r,i,s,o,a]}set(t,e,n,r,i,s,o,a){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)a[r]=t.getUint32(e,!1);for(let r=16;r<64;r++){const t=a[r-15],e=a[r-2],n=(0,i.Ow)(t,7)^(0,i.Ow)(t,18)^t>>>3,s=(0,i.Ow)(e,17)^(0,i.Ow)(e,19)^e>>>10;a[r]=s+a[r-7]+n+a[r-16]|0}let{A:n,B:o,C:u,D:l,E:c,F:h,G:d,H:f}=this;for(let p=0;p<64;p++){const t=f+((0,i.Ow)(c,6)^(0,i.Ow)(c,11)^(0,i.Ow)(c,25))+(0,r.r9)(c,h,d)+s[p]+a[p]|0,e=((0,i.Ow)(n,2)^(0,i.Ow)(n,13)^(0,i.Ow)(n,22))+(0,r.TQ)(n,o,u)|0;f=d,d=h,h=c,c=l+t|0,l=u,u=o,o=n,n=t+e|0}n=n+this.A|0,o=o+this.B|0,u=u+this.C|0,l=l+this.D|0,c=c+this.E|0,h=h+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(n,o,u,l,c,h,d,f)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const u=(0,i.ld)((()=>new SHA256))},4276:(t,e,n)=>{"use strict";n.d(e,{Vw:()=>Hash,Fc:()=>c,Id:()=>d,O8:()=>o,qv:()=>u,po:()=>p,Ow:()=>a,ZJ:()=>h,DH:()=>s,ld:()=>f});const r="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var i=n(757);function s(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function o(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function a(t,e){return t<<32-e|t>>>e}const u=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function l(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function c(t){for(let e=0;e<t.length;e++)t[e]=l(t[e])}function h(t){return"string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),(0,i.DO)(t),t}function d(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];(0,i.DO)(n),e+=n.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const e=t[r];n.set(e,i),i+=e.length}return n}class Hash{clone(){return this._cloneInto()}}function f(t){const e=e=>t().update(h(e)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function p(t=32){if(r&&"function"==typeof r.getRandomValues)return r.getRandomValues(new Uint8Array(t));if(r&&"function"==typeof r.randomBytes)return r.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}},3694:(t,e,n)=>{"use strict";n.d(e,{$5:()=>k,F7:()=>E,MP:()=>g,ry:()=>y,$d:()=>v,u1:()=>b,bQ:()=>w});var r=n(3017),i=n(3696),s=n(3530),o=n(8267),a=n(9367);const u=new a.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),l=new a.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");new a.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),new a.PublicKey("So11111111111111111111111111111111111111112"),new a.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");var c=n(7073),h=n(720),d=n(514),f=n(6824),p=n(2362),m=n(2540);function g({address:t}){const{connection:e}=(0,s.w)();return(0,c.I)({queryKey:["get-balance",{endpoint:e.rpcEndpoint,address:t}],queryFn:()=>e.getBalance(t)})}function y({address:t}){const{connection:e}=(0,s.w)();return(0,c.I)({queryKey:["get-signatures",{endpoint:e.rpcEndpoint,address:t}],queryFn:()=>e.getConfirmedSignaturesForAddress2(t)})}function v({address:t}){const{connection:e}=(0,s.w)();return(0,c.I)({queryKey:["get-token-accounts",{endpoint:e.rpcEndpoint,address:t}],queryFn:async()=>{const[n,r]=await Promise.all([e.getParsedTokenAccountsByOwner(t,{programId:u}),e.getParsedTokenAccountsByOwner(t,{programId:l})]);return[...n.value,...r.value]}})}function w({address:t}){const{connection:e}=(0,s.w)(),n=(0,p.hx)(),i=(0,o.v)(),u=(0,h.jE)();return(0,d.n)({mutationKey:["transfer-sol",{endpoint:e.rpcEndpoint,address:t}],mutationFn:async n=>{let s="";try{const{transaction:o,latestBlockhash:u}=await async function({publicKey:t,destination:e,amount:n,connection:r}){const i=await r.getLatestBlockhash(),s=[a.SystemProgram.transfer({fromPubkey:t,toPubkey:e,lamports:n*a.LAMPORTS_PER_SOL})],o=new a.TransactionMessage({payerKey:t,recentBlockhash:i.blockhash,instructions:s}).compileToLegacyMessage(),u=new a.VersionedTransaction(o);return{transaction:u,latestBlockhash:i}}({publicKey:t,destination:n.destination,amount:n.amount,connection:e});return s=await i.sendTransaction(o,e),await e.confirmTransaction((0,r.A)({signature:s},u),"confirmed"),console.log(s),s}catch(o){return void console.log("error",`Transaction failed! ${o}`,s)}},onSuccess:r=>(r&&n(r),Promise.all([u.invalidateQueries({queryKey:["get-balance",{endpoint:e.rpcEndpoint,address:t}]}),u.invalidateQueries({queryKey:["get-signatures",{endpoint:e.rpcEndpoint,address:t}]})])),onError:t=>{f.Ay.error(`Transaction failed! ${t}`)}})}function b({address:t}){const{connection:e}=(0,s.w)(),n=(0,p.hx)(),i=(0,h.jE)();return(0,d.n)({mutationKey:["airdrop",{endpoint:e.rpcEndpoint,address:t}],mutationFn:async(n=1)=>{const[i,s]=await Promise.all([e.getLatestBlockhash(),e.requestAirdrop(t,n*a.LAMPORTS_PER_SOL)]);return await e.confirmTransaction((0,r.A)({signature:s},i),"confirmed"),s},onSuccess:r=>(n(r),Promise.all([i.invalidateQueries({queryKey:["get-balance",{endpoint:e.rpcEndpoint,address:t}]}),i.invalidateQueries({queryKey:["get-signatures",{endpoint:e.rpcEndpoint,address:t}]})]))})}const _=(0,i.createContext)({});function E(){return(0,i.useContext)(_)}function k({children:t}){const e=(0,o.v)().publicKey,[n,r]=(0,i.useState)(null),s=g({address:e}),u=v({address:e});(0,i.useEffect)((()=>{if(u.isLoading)r(null);else if(u.isSuccess)if(0===u.data.length)r({});else{const t={};u.data.forEach((e=>{const n=e.account.data.parsed.info.mint,r=e.pubkey.toString(),i=e.account.data.parsed.info.tokenAmount.uiAmountString;t[n]={address:r,amountAsFloat:i}})),!s.isLoading&&s.data&&(t.So11111111111111111111111111111111111111112||(t.So11111111111111111111111111111111111111112={address:e.toString(),amountAsFloat:(Math.round(s.data/a.LAMPORTS_PER_SOL*1e5)/1e5).toString()})),r(t)}else console.error("Something went wrong fetching tokens"),r(null)}),[u.data]);const l={address:e,isLoading:u.isLoading,tokens:n,refetch:async()=>{await u.refetch()}};return(0,m.jsx)(_.Provider,{value:l,children:t})}},9758:(t,e,n)=>{"use strict";n.d(e,{w3:()=>p,xv:()=>S,v9:()=>y,hd:()=>m,w_:()=>v,Xn:()=>w});var r=n(8267),i=n(9367),s=(0,n(7185).A)("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]),o=n(720),a=n(3696),u=n(2362),l=n(6231),c=n(7371),h=n(3694),d=n(5981),f=n(2540);function p({address:t}){const e=(0,h.MP)({address:t});return(0,f.jsx)("div",{children:(0,f.jsxs)("h1",{className:"text-5xl font-bold cursor-pointer",onClick:()=>e.refetch(),children:[e.data?(0,f.jsx)(b,{balance:e.data}):"..."," SOL"]})})}function m(){const{publicKey:t}=(0,r.v)();return t?(0,f.jsx)(g,{address:t}):null}function g({address:t}){const{cluster:e}=(0,l.Gx)(),n=(0,h.u1)({address:t}),r=(0,h.MP)({address:t});return r.isLoading?null:r.isError||!r.data?(0,f.jsxs)("div",{className:"alert alert-warning text-warning-content/80 rounded-none flex justify-center",children:[(0,f.jsxs)("span",{children:["You are connected to ",(0,f.jsx)("strong",{children:e.name})," but your account is not found on this cluster."]}),(0,f.jsx)("button",{className:"btn btn-xs btn-neutral",onClick:()=>n.mutateAsync(1).catch((t=>console.log(t))),children:"Request Airdrop"})]}):null}function y({address:t}){var e,n;const i=(0,r.v)(),{cluster:s}=(0,l.Gx)(),[o,u]=(0,a.useState)(!1),[c,h]=(0,a.useState)(!1),[d,p]=(0,a.useState)(!1);return(0,f.jsxs)("div",{children:[(0,f.jsx)(E,{hide:()=>u(!1),address:t,show:o}),(0,f.jsx)(_,{address:t,show:c,hide:()=>h(!1)}),(0,f.jsx)(k,{address:t,show:d,hide:()=>p(!1)}),(0,f.jsxs)("div",{className:"space-x-2",children:[(0,f.jsx)("button",{disabled:null==(e=s.network)?void 0:e.includes("mainnet"),className:"btn btn-xs lg:btn-md btn-outline",onClick:()=>u(!0),children:"Airdrop"}),(0,f.jsx)("button",{disabled:(null==(n=i.publicKey)?void 0:n.toString())!==t.toString(),className:"btn btn-xs lg:btn-md btn-outline",onClick:()=>p(!0),children:"Send"}),(0,f.jsx)("button",{className:"btn btn-xs lg:btn-md btn-outline",onClick:()=>h(!0),children:"Receive"})]})]})}function v({address:t}){var e,n,r;const[i,l]=(0,a.useState)(!1),d=(0,h.$d)({address:t}),p=(0,o.jE)(),m=(0,a.useMemo)((()=>{var t;return i?d.data:null==(t=d.data)?void 0:t.slice(0,5)}),[d.data,i]);return(0,f.jsxs)("div",{className:"space-y-2",children:[(0,f.jsx)("div",{className:"justify-between",children:(0,f.jsxs)("div",{className:"flex justify-between",children:[(0,f.jsx)("h2",{className:"text-2xl font-bold",children:"Token Accounts"}),(0,f.jsx)("div",{className:"space-x-2",children:d.isLoading?(0,f.jsx)("span",{className:"loading loading-spinner"}):(0,f.jsx)("button",{className:"btn btn-sm btn-outline",onClick:async()=>{await d.refetch(),await p.invalidateQueries({queryKey:["getTokenAccountBalance"]})},children:(0,f.jsx)(s,{size:16})})})]})}),d.isError&&(0,f.jsxs)("pre",{className:"alert alert-error",children:["Error: ",null==(e=d.error)?void 0:e.message.toString()]}),d.isSuccess&&(0,f.jsx)("div",{children:0===d.data.length?(0,f.jsx)("div",{children:"No token accounts found."}):(0,f.jsxs)("table",{className:"table border-4 rounded-lg border-separate border-base-300",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"Public Key"}),(0,f.jsx)("th",{children:"Mint"}),(0,f.jsx)("th",{className:"text-right",children:"Balance"})]})}),(0,f.jsxs)("tbody",{children:[null==m?void 0:m.map((({account:t,pubkey:e})=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:(0,f.jsx)("div",{className:"flex space-x-2",children:(0,f.jsx)("span",{className:"font-mono",children:(0,f.jsx)(c.wq,{label:(0,u.qq)(e.toString()),path:`account/${e.toString()}`})})})}),(0,f.jsx)("td",{children:(0,f.jsx)("div",{className:"flex space-x-2",children:(0,f.jsx)("span",{className:"font-mono",children:(0,f.jsx)(c.wq,{label:(0,u.qq)(t.data.parsed.info.mint),path:`account/${t.data.parsed.info.mint.toString()}`})})})}),(0,f.jsx)("td",{className:"text-right",children:(0,f.jsx)("span",{className:"font-mono",children:t.data.parsed.info.tokenAmount.uiAmount})})]},e.toString()))),(null!=(n=null==(r=d.data)?void 0:r.length)?n:0)>5&&(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:4,className:"text-center",children:(0,f.jsx)("button",{className:"btn btn-xs btn-outline",onClick:()=>l(!i),children:i?"Show Less":"Show All"})})})]})]})})]})}function w({address:t}){var e,n,r;const i=(0,h.ry)({address:t}),[o,l]=(0,a.useState)(!1),d=(0,a.useMemo)((()=>{var t;return o?i.data:null==(t=i.data)?void 0:t.slice(0,5)}),[i.data,o]);return(0,f.jsxs)("div",{className:"space-y-2",children:[(0,f.jsxs)("div",{className:"flex justify-between",children:[(0,f.jsx)("h2",{className:"text-2xl font-bold",children:"Transaction History"}),(0,f.jsx)("div",{className:"space-x-2",children:i.isLoading?(0,f.jsx)("span",{className:"loading loading-spinner"}):(0,f.jsx)("button",{className:"btn btn-sm btn-outline",onClick:()=>i.refetch(),children:(0,f.jsx)(s,{size:16})})})]}),i.isError&&(0,f.jsxs)("pre",{className:"alert alert-error",children:["Error: ",null==(e=i.error)?void 0:e.message.toString()]}),i.isSuccess&&(0,f.jsx)("div",{children:0===i.data.length?(0,f.jsx)("div",{children:"No transactions found."}):(0,f.jsxs)("table",{className:"table border-4 rounded-lg border-separate border-base-300",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"Signature"}),(0,f.jsx)("th",{className:"text-right",children:"Slot"}),(0,f.jsx)("th",{children:"Block Time"}),(0,f.jsx)("th",{className:"text-right",children:"Status"})]})}),(0,f.jsxs)("tbody",{children:[null==d?void 0:d.map((t=>{var e;return(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:"font-mono",children:(0,f.jsx)(c.wq,{path:`tx/${t.signature}`,label:(0,u.qq)(t.signature,8)})}),(0,f.jsx)("td",{className:"font-mono text-right",children:(0,f.jsx)(c.wq,{path:`block/${t.slot}`,label:t.slot.toString()})}),(0,f.jsx)("td",{children:new Date(1e3*(null!=(e=t.blockTime)?e:0)).toISOString()}),(0,f.jsx)("td",{className:"text-right",children:t.err?(0,f.jsx)("div",{className:"badge badge-error",title:JSON.stringify(t.err),children:"Failed"}):(0,f.jsx)("div",{className:"badge badge-success",children:"Success"})})]},t.signature)})),(null!=(n=null==(r=i.data)?void 0:r.length)?n:0)>5&&(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:4,className:"text-center",children:(0,f.jsx)("button",{className:"btn btn-xs btn-outline",onClick:()=>l(!o),children:o?"Show Less":"Show All"})})})]})]})})]})}function b({balance:t}){return(0,f.jsx)("span",{children:Math.round(t/i.LAMPORTS_PER_SOL*1e5)/1e5})}function _({hide:t,show:e,address:n}){return(0,f.jsxs)(u.Vm,{title:"Receive",hide:t,show:e,children:[(0,f.jsx)("p",{children:"Receive assets by sending them to your public key:"}),(0,f.jsx)("code",{children:n.toString()})]})}function E({hide:t,show:e,address:n}){const r=(0,h.u1)({address:n}),[i,s]=(0,a.useState)("2");return(0,f.jsx)(u.Vm,{hide:t,show:e,title:"Airdrop",submitDisabled:!i||r.isPending,submitLabel:"Request Airdrop",submit:()=>r.mutateAsync(parseFloat(i)).then((()=>t())),children:(0,f.jsx)("input",{disabled:r.isPending,type:"number",step:"any",min:"1",placeholder:"Amount",className:"input input-bordered w-full",value:i,onChange:t=>s(t.target.value)})})}function k({hide:t,show:e,address:n}){const s=(0,r.v)(),o=(0,h.bQ)({address:n}),[l,c]=(0,a.useState)(""),[d,p]=(0,a.useState)("1");return n&&s.sendTransaction?(0,f.jsxs)(u.Vm,{hide:t,show:e,title:"Send",submitDisabled:!l||!d||o.isPending,submitLabel:"Send",submit:()=>{o.mutateAsync({destination:new i.PublicKey(l),amount:parseFloat(d)}).then((()=>t()))},children:[(0,f.jsx)("input",{disabled:o.isPending,type:"text",placeholder:"Destination",className:"input input-bordered w-full",value:l,onChange:t=>c(t.target.value)}),(0,f.jsx)("input",{disabled:o.isPending,type:"number",step:"any",min:"1",placeholder:"Amount",className:"input input-bordered w-full",value:d,onChange:t=>p(t.target.value)})]}):(0,f.jsx)("div",{children:"Wallet not connected"})}function S({mintAddress:t,clickCallback:e}){const n=(0,h.F7)(),r=(0,d.NA)();let i="...";n.tokens&&(i=n.tokens[t.toString()]&&n.tokens[t.toString()].amountAsFloat?n.tokens[t.toString()].amountAsFloat:"0");const s=e&&n.tokens;return(0,f.jsxs)("span",{className:s?"cursor-pointer":"",onClick:()=>{s&&e(i)},children:[i," ",r.getSymbolByMintAddress(t.toString())]})}},6231:(t,e,n)=>{"use strict";n.d(e,{ZE:()=>B,_C:()=>H,Gx:()=>q});var r=n(3017),i=n(9367);let s=0;function o(t,e){const n="atom"+ ++s,r={toString:()=>n};return"function"==typeof t?r.read=t:(r.init=t,r.read=a,r.write=u),e&&(r.write=e),r}function a(t){return t(this)}function u(t,e,n){return e(this,"function"==typeof n?n(t(this)):n)}const l=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,c=t=>"init"in t,h=t=>!!t.write,d=new WeakMap,f=(t,e)=>{const n=d.get(t);n&&(d.delete(t),n(e))},p=(t,e)=>{t.status="fulfilled",t.value=e},m=(t,e)=>{t.status="rejected",t.reason=e},g=(t,e)=>!!t&&"v"in t&&"v"in e&&Object.is(t.v,e.v),y=(t,e)=>!!t&&"e"in t&&"e"in e&&Object.is(t.e,e.e),v=t=>!!t&&"v"in t&&t.v instanceof Promise,w=t=>{if("e"in t)throw t.e;return t.v},b=()=>{const t=new WeakMap,e=new WeakMap,n=[],r=new WeakMap;let i,s;i=new Set,s=new Set;const o=e=>t.get(e),a=(t,e)=>{e.d.forEach(((e,n)=>{if(!r.has(n)){const t=o(n);r.set(n,[t,new Set]),t&&a(n,t)}r.get(n)[1].add(t)}))},u=(e,i)=>{var s;Object.freeze(i);const u=o(e);if(t.set(e,i),null==(s=n[n.length-1])||s.add(e),r.has(e)||(r.set(e,[u,new Set]),a(e,i)),v(u)){const t="v"in i?i.v instanceof Promise?i.v:Promise.resolve(i.v):Promise.reject(i.e);u.v!==t&&f(u.v,t)}},b=(t,e,n,r)=>{const i=new Map(r?e.d:null);let s=!1;n.forEach(((n,r)=>{!n&&l(t,r)&&(n=e),n?(i.set(r,n),e.d.get(r)!==n&&(s=!0)):console.warn("[Bug] atom state not found")})),(s||e.d.size!==i.size)&&(e.d=i)},_=(t,e,n,r)=>{const i=o(t),s={d:(null==i?void 0:i.d)||new Map,v:e};if(n&&b(t,s,n,r),g(i,s)&&i.d===s.d)return i;if(v(i)&&v(s)&&(l=s,"v"in(a=i)&&"v"in l&&a.v.orig&&a.v.orig===l.v.orig)){if(i.d===s.d)return i;s.v=i.v}var a,l;return u(t,s),s},E=(t,n,r,i)=>{if("function"==typeof(null==(s=n)?void 0:s.then)){let s;const a=()=>{const n=o(t);if(!v(n)||n.v!==u)return;const i=_(t,u,r);e.has(t)&&n.d!==i.d&&x(t,i,n.d)},u=new Promise(((t,e)=>{let r=!1;n.then((e=>{r||(r=!0,p(u,e),t(e),a())}),(t=>{r||(r=!0,m(u,t),e(t),a())})),s=e=>{r||(r=!0,e.then((t=>p(u,t)),(t=>m(u,t))),t(e))}}));return u.orig=n,u.status="pending",((t,e)=>{d.set(t,e),t.catch((()=>{})).finally((()=>d.delete(t)))})(u,(t=>{t&&s(t),null==i||i()})),_(t,u,r,!0)}var s;return _(t,n,r)},k=(t,n)=>{const r=o(t);if(!(null==n?void 0:n(t))&&r){if(e.has(t))return r;if(Array.from(r.d).every((([e,r])=>{if(e===t)return!0;const i=k(e,n);return i===r||g(i,r)})))return r}const i=new Map;let s=!0;const a=e=>{if(l(t,e)){const t=o(e);if(t)return i.set(e,t),w(t);if(c(e))return i.set(e,void 0),e.init;throw new Error("no atom init")}const r=k(e,n);return i.set(e,r),w(r)};let d,f;const p={get signal(){return d||(d=new AbortController),d.signal},get setSelf(){return h(t)||console.warn("setSelf function cannot be used with read-only atom"),!f&&h(t)&&(f=(...e)=>{if(s&&console.warn("setSelf function cannot be called in sync"),!s)return I(t,...e)}),f}};try{const e=t.read(a,p);return E(t,e,i,(()=>null==d?void 0:d.abort()))}catch(m){return((t,e,n)=>{const r=o(t),i={d:(null==r?void 0:r.d)||new Map,e};return n&&b(t,i,n),y(r,i)&&r.d===i.d?r:(u(t,i),i)})(t,m,i)}finally{s=!1}},S=t=>w(k(t)),A=t=>{const n=new Array,i=new Set,s=t=>{if(!i.has(t)){i.add(t);for(const n of(t=>{var n,i;const s=new Set(null==(n=e.get(t))?void 0:n.t);return null==(i=r.get(t))||i[1].forEach((t=>{s.add(t)})),s})(t))t!==n&&s(n);n.push(t)}};s(t);const u=new Set([t]),l=t=>i.has(t);for(let e=n.length-1;e>=0;--e){const t=n[e],r=o(t);if(!r)continue;let s=!1;for(const e of r.d.keys())if(e!==t&&u.has(e)){s=!0;break}if(s){const e=k(t,l);a(t,e),g(r,e)||u.add(t)}i.delete(t)}},M=(t,...e)=>t.write((t=>w(k(t))),((e,...r)=>{const s=n.length>0;let a;if(s||n.push(new Set([e])),l(t,e)){if(!c(e))throw new Error("atom not writable");const t=o(e),n=E(e,r[0]);g(t,n)||A(e)}else a=M(e,...r);if(!s){const t=C(n.pop());i.forEach((e=>e({type:"async-write",flushed:t})))}return a}),...e),I=(t,...e)=>{n.push(new Set([t]));const r=M(t,...e),s=C(n.pop());return i.forEach((t=>t({type:"write",flushed:s}))),r},T=(t,n,r)=>{var i;const a=e.get(t);if(a)return n&&a.t.add(n),a;const u=r||[];null==(i=o(t))||i.d.forEach(((e,n)=>{n!==t&&T(n,t,u)})),k(t);const l={t:new Set(n&&[n]),l:new Set};if(e.set(t,l),s.add(t),h(t)&&t.onMount){const{onMount:e}=t;u.push((()=>{const n=e(((...e)=>I(t,...e)));n&&(l.u=n)}))}return r||u.forEach((t=>t())),l},R=(t,n)=>{if(!((t,e)=>!e.l.size&&(!e.t.size||1===e.t.size&&e.t.has(t)))(t,n))return;const r=n.u;r&&r(),e.delete(t),s.delete(t);const i=o(t);i?(v(i)&&f(i.v),i.d.forEach(((n,r)=>{if(r!==t){const n=e.get(r);n&&(n.t.delete(t),R(r,n))}}))):console.warn("[Bug] could not find atom state to unmount",t)},x=(t,n,r)=>{const i=new Set(n.d.keys()),s=new Set;null==r||r.forEach(((n,r)=>{if(i.has(r))return void i.delete(r);s.add(r);const o=e.get(r);o&&o.t.delete(t)})),i.forEach((e=>{T(e,t)})),s.forEach((t=>{const n=e.get(t);n&&R(t,n)}))},C=t=>{let n;n=new Set;const i=[],s=t=>{var e;if(!r.has(t))return;const[n,a]=r.get(t);r.delete(t),i.push([t,n]),a.forEach(s),null==(e=o(t))||e.d.forEach(((t,e)=>s(e)))};return t.forEach(s),i.forEach((([t,r])=>{const i=o(t);if(i){if(i!==r){const s=e.get(t);s&&i.d!==(null==r?void 0:r.d)&&x(t,i,null==r?void 0:r.d),s&&(v(r)||!g(r,i)&&!y(r,i))&&(s.l.forEach((t=>t())),n.add(t))}}else console.warn("[Bug] no atom state to flush")})),n},P=(t,e)=>{const n=T(t),r=C([t]),s=n.l;return s.add(e),i.forEach((t=>t({type:"sub",flushed:r}))),()=>{s.delete(e),R(t,n),i.forEach((t=>t({type:"unsub"})))}};return{get:S,set:I,sub:P,dev_subscribe_store:t=>(i.add(t),()=>{i.delete(t)}),dev_get_mounted_atoms:()=>s.values(),dev_get_atom_state:e=>t.get(e),dev_get_mounted:t=>e.get(t),dev_restore_atoms:t=>{n.push(new Set);for(const[n,r]of t)c(n)&&(E(n,r),A(n));const e=C(n.pop());i.forEach((t=>t({type:"restore",flushed:e})))}}};let _;Symbol("CONTINUE_PROMISE");const E=()=>(_||(_=b(),globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=_),globalThis.__JOTAI_DEFAULT_STORE__!==_&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044")),_);var k=n(3696);const S=(0,k.createContext)(void 0),A=t=>{const e=(0,k.useContext)(S);return(null==t?void 0:t.store)||e||E()},M=t=>"function"==typeof(null==t?void 0:t.then),I=k.use||(t=>{if("pending"===t.status)throw t;if("fulfilled"===t.status)return t.value;throw"rejected"===t.status?t.reason:(t.status="pending",t.then((e=>{t.status="fulfilled",t.value=e}),(e=>{t.status="rejected",t.reason=e})),t)});function T(t,e){const n=A(e),[[r,i,s],o]=(0,k.useReducer)((e=>{const r=n.get(t);return Object.is(e[0],r)&&e[1]===n&&e[2]===t?e:[r,n,t]}),void 0,(()=>[n.get(t),n,t]));let a=r;i===n&&s===t||(o(),a=n.get(t));const u=null==e?void 0:e.delay;return(0,k.useEffect)((()=>{const e=n.sub(t,(()=>{"number"!=typeof u?o():setTimeout(o,u)}));return o(),e}),[n,t,u]),(0,k.useDebugValue)(a),M(a)?I(a):a}function R(t,e){const n=A(e);return(0,k.useCallback)(((...e)=>{if(!("write"in t))throw new Error("not writable atom");return n.set(t,...e)}),[n,t])}const x=Symbol("RESET");const C=t=>"function"==typeof(null==t?void 0:t.then);const P=function(t=()=>{try{return window.localStorage}catch(t){return void("undefined"!=typeof window&&console.warn(t))}},e){var n;let r,i;const s={getItem:(n,s)=>{var o,a;const u=t=>{if(r!==(t=t||"")){try{i=JSON.parse(t,null==e?void 0:e.reviver)}catch(n){return s}r=t}return i},l=null!=(a=null==(o=t())?void 0:o.getItem(n))?a:null;return C(l)?l.then(u):u(l)},setItem:(n,r)=>{var i;return null==(i=t())?void 0:i.setItem(n,JSON.stringify(r,null==e?void 0:e.replacer))},removeItem:e=>{var n;return null==(n=t())?void 0:n.removeItem(e)}};let o;try{o=null==(n=t())?void 0:n.subscribe}catch(u){}var a;return!o&&"undefined"!=typeof window&&"function"==typeof window.addEventListener&&window.Storage&&(o=(e,n)=>{if(!(t()instanceof window.Storage))return()=>{};const r=r=>{r.storageArea===t()&&r.key===e&&n(r.newValue)};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}}),o&&(s.subscribe=(a=o,(t,e,n)=>a(t,(t=>{let r;try{r=JSON.parse(t||"")}catch(u){r=n}e(r)})))),s}();function N(t,e,n=P,r){const i=o((null==r?void 0:r.getOnInit)?n.getItem(t,e):e);i.debugPrivate=!0,i.onMount=r=>{let i;return r(n.getItem(t,e)),n.subscribe&&(i=n.subscribe(t,r,e)),i};return o((t=>t(i)),((r,s,o)=>{const a="function"==typeof o?o(r(i)):o;return a===x?(s(i,e),n.removeItem(t)):a instanceof Promise?a.then((e=>(s(i,e),n.setItem(t,e)))):(s(i,a),n.setItem(t,a))}))}var O=n(6824),L=n(2540);let B=function(t){return t.Mainnet="mainnet-beta",t.Testnet="testnet",t.Devnet="devnet",t.Custom="custom",t}({});const D=[{name:"mainnet",endpoint:"https://multi-fragrant-dream.solana-mainnet.quiknode.pro/391fe167c5e545dc9cd8335f208e250e7dc59ed7"}],U=N("solana-cluster",D[0]),j=N("solana-clusters",D),F=o((t=>{const e=t(j),n=t(U);return e.map((t=>(0,r.A)({},t,{active:t.name===n.name})))})),V=o((t=>{const e=t(F);return e.find((t=>t.active))||e[0]})),z=(0,k.createContext)({});function H({children:t}){const e=T(V),n=T(F),r=R(U),s=R(j),o={cluster:e,clusters:n.sort(((t,e)=>t.name>e.name?1:-1)),addCluster:t=>{try{new i.Connection(t.endpoint),s([...n,t])}catch(e){O.Ay.error(`${e}`)}},deleteCluster:t=>{s(n.filter((e=>e.name!==t.name)))},setCluster:t=>r(t),getExplorerUrl:t=>`https://explorer.solana.com/${t}${function(t){let e="";switch(t.network){case B.Devnet:e="devnet";break;case B.Mainnet:e="";break;case B.Testnet:e="testnet";break;default:e=`custom&customUrl=${encodeURIComponent(t.endpoint)}`}return e.length?`?cluster=${e}`:""}(e)}`};return(0,L.jsx)(z.Provider,{value:o,children:t})}function q(){return(0,k.useContext)(z)}},7371:(t,e,n)=>{"use strict";n.d(e,{m:()=>d,s3:()=>f,xC:()=>p,wq:()=>h});var r=n(3530),i=(0,n(7185).A)("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]),s=n(7073),o=n(3696),a=n(2362),u=n(6231),l=n(9367),c=n(2540);function h({path:t,label:e,className:n}){const{getExplorerUrl:r}=(0,u.Gx)();return(0,c.jsx)("a",{href:r(t),target:"_blank",rel:"noopener noreferrer",className:n||"link font-mono",children:e})}function d({children:t}){const{cluster:e}=(0,u.Gx)(),{connection:n}=(0,r.w)(),i=(0,s.I)({queryKey:["version",{cluster:e,endpoint:n.rpcEndpoint}],queryFn:()=>n.getVersion(),retry:1});return i.isLoading?null:i.isError||!i.data?(0,c.jsxs)("div",{className:"alert alert-warning text-warning-content/80 rounded-none flex justify-center",children:[(0,c.jsxs)("span",{children:["Error connecting to cluster ",(0,c.jsx)("strong",{children:e.name})]}),(0,c.jsx)("button",{className:"btn btn-xs btn-neutral",onClick:()=>i.refetch(),children:"Refresh"})]}):t}function f({hideModal:t,show:e}){const{addCluster:n}=(0,u.Gx)(),[r,i]=(0,o.useState)(""),[s,h]=(0,o.useState)(),[d,f]=(0,o.useState)("");return(0,c.jsxs)(a.Vm,{title:"Add Cluster",hide:t,show:e,submit:()=>{try{new l.Connection(d),r?(n({name:r,network:s,endpoint:d}),t()):console.log("Invalid cluster name")}catch(e){console.log("Invalid cluster endpoint")}},submitLabel:"Save",children:[(0,c.jsx)("input",{type:"text",placeholder:"Name",className:"input input-bordered w-full",value:r,onChange:t=>i(t.target.value)}),(0,c.jsx)("input",{type:"text",placeholder:"Endpoint",className:"input input-bordered w-full",value:d,onChange:t=>f(t.target.value)}),(0,c.jsxs)("select",{className:"select select-bordered w-full",value:s,onChange:t=>h(t.target.value),children:[(0,c.jsx)("option",{value:void 0,children:"Select a network"}),(0,c.jsx)("option",{value:u.ZE.Devnet,children:"Devnet"}),(0,c.jsx)("option",{value:u.ZE.Testnet,children:"Testnet"}),(0,c.jsx)("option",{value:u.ZE.Mainnet,children:"Mainnet"})]})]})}function p(){const{clusters:t,setCluster:e,deleteCluster:n}=(0,u.Gx)();return(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"table border-4 border-separate border-base-300",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Name/ Network / Endpoint"}),(0,c.jsx)("th",{className:"text-center",children:"Actions"})]})}),(0,c.jsx)("tbody",{children:t.map((t=>{var r;return(0,c.jsxs)("tr",{className:null!=t&&t.active?"bg-base-200":"",children:[(0,c.jsxs)("td",{className:"space-y-2",children:[(0,c.jsx)("div",{className:"whitespace-nowrap space-x-2",children:(0,c.jsx)("span",{className:"text-xl",children:null!=t&&t.active?t.name:(0,c.jsx)("button",{title:"Select cluster",className:"link link-secondary",onClick:()=>e(t),children:t.name})})}),(0,c.jsxs)("span",{className:"text-xs",children:["Network: ",null!=(r=t.network)?r:"custom"]}),(0,c.jsx)("div",{className:"whitespace-nowrap text-gray-500 text-xs",children:t.endpoint})]}),(0,c.jsx)("td",{className:"space-x-2 whitespace-nowrap text-center",children:(0,c.jsx)("button",{disabled:null==t?void 0:t.active,className:"btn btn-xs btn-default btn-outline",onClick:()=>{window.confirm("Are you sure?")&&n(t)},children:(0,c.jsx)(i,{size:16})})})]},t.name)}))})]})})}},3499:(t,e,n)=>{"use strict";n.d(e,{g:()=>Ke,U:()=>qe});var r=n(9367),i=n(3696),s=n(3530);const o=({children:t,endpoint:e,config:n={commitment:"confirmed"}})=>{const o=(0,i.useMemo)((()=>new r.Connection(e,n)),[e,n]);return i.createElement(s.E.Provider,{value:{connection:o}},t)};var a,u=n(8411),l=n.n(u);class WalletError extends Error{constructor(t,e){super(t),this.error=e}}class WalletNotReadyError extends WalletError{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class WalletConfigError extends WalletError{constructor(){super(...arguments),this.name="WalletConfigError"}}class WalletConnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletConnectionError"}}class WalletDisconnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class WalletDisconnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class WalletAccountError extends WalletError{constructor(){super(...arguments),this.name="WalletAccountError"}}class WalletPublicKeyError extends WalletError{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class WalletNotConnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class WalletSendTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class WalletSignTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class WalletSignMessageError extends WalletError{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class WalletSignInError extends WalletError{constructor(){super(...arguments),this.name="WalletSignInError"}}!function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"}(a||(a={}));class BaseWalletAdapter extends(l()){get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,n={}){const r=this.publicKey;if(!r)throw new WalletNotConnectedError;return t.feePayer=t.feePayer||r,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,t}}function c(t){return"version"in t}class BaseSignerWalletAdapter extends BaseWalletAdapter{async sendTransaction(t,e,n={}){let r=!0;try{if(c(t)){if(!this.supportedTransactionVersions)throw new WalletSendTransactionError("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new WalletSendTransactionError(`Sending transaction version ${t.version} isn't supported by this wallet`);try{const r=(t=await this.signTransaction(t)).serialize();return await e.sendRawTransaction(r,n)}catch(i){if(i instanceof WalletSignTransactionError)throw r=!1,i;throw new WalletSendTransactionError(i?.message,i)}}else try{const{signers:r,...i}=n;t=await this.prepareTransaction(t,e,i),r?.length&&t.partialSign(...r);const s=(t=await this.signTransaction(t)).serialize();return await e.sendRawTransaction(s,i)}catch(i){if(i instanceof WalletSignTransactionError)throw r=!1,i;throw new WalletSendTransactionError(i?.message,i)}}catch(i){throw r&&this.emit("error",i),i}}async signAllTransactions(t){for(const n of t)if(c(n)){if(!this.supportedTransactionVersions)throw new WalletSignTransactionError("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new WalletSignTransactionError(`Signing transaction version ${n.version} isn't supported by this wallet`)}const e=[];for(const n of t)e.push(await this.signTransaction(n));return e}}class BaseMessageSignerWalletAdapter extends BaseSignerWalletAdapter{}class BaseSignInMessageSignerWalletAdapter extends BaseMessageSignerWalletAdapter{}new RegExp("^(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n(?<address>[^\\n]+)(?:\\n|$)(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??(?:\\nURI: (?<uri>[^\\n]+))?(?:\\nVersion: (?<version>[^\\n]+))?(?:\\nChain ID: (?<chainId>[^\\n]+))?(?:\\nNonce: (?<nonce>[^\\n]+))?(?:\\nIssued At: (?<issuedAt>[^\\n]+))?(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?(?:\\nNot Before: (?<notBefore>[^\\n]+))?(?:\\nRequest ID: (?<requestId>[^\\n]+))?(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?\\n*$");function h(t){let e=`${t.domain} wants you to sign in with your Solana account:\n`;e+=`${t.address}`,t.statement&&(e+=`\n\n${t.statement}`);const n=[];if(t.uri&&n.push(`URI: ${t.uri}`),t.version&&n.push(`Version: ${t.version}`),t.chainId&&n.push(`Chain ID: ${t.chainId}`),t.nonce&&n.push(`Nonce: ${t.nonce}`),t.issuedAt&&n.push(`Issued At: ${t.issuedAt}`),t.expirationTime&&n.push(`Expiration Time: ${t.expirationTime}`),t.notBefore&&n.push(`Not Before: ${t.notBefore}`),t.requestId&&n.push(`Request ID: ${t.requestId}`),t.resources){n.push("Resources:");for(const e of t.resources)n.push(`- ${e}`)}return n.length&&(e+=`\n\n${n.join("\n")}`),e}const d="ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",f="ERROR_FORBIDDEN_WALLET_BASE_URL",p="ERROR_SECURE_CONTEXT_REQUIRED",m="ERROR_SESSION_CLOSED",g="ERROR_SESSION_TIMEOUT",y="ERROR_WALLET_NOT_FOUND",v="ERROR_INVALID_PROTOCOL_VERSION";class SolanaMobileWalletAdapterError extends Error{constructor(...t){const[e,n,r]=t;super(n),this.code=e,this.data=r,this.name="SolanaMobileWalletAdapterError"}}class SolanaMobileWalletAdapterProtocolError extends Error{constructor(...t){const[e,n,r,i]=t;super(r),this.code=n,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function w(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function b(t,e){return w(this,void 0,void 0,(function*(){const n=yield crypto.subtle.exportKey("raw",t),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i}))}function _(t){return e=function(t){return h(t)}(t),window.btoa(e);var e}const E="solana:signTransactions",k="solana:cloneAuthorization";function S(t,e){return new Proxy({},{get:(n,r)=>(null==n[r]&&(n[r]=function(n){return w(this,void 0,void 0,(function*(){const{method:i,params:s}=function(t,e,n){let r=e,i=t.toString().replace(/[A-Z]/g,(t=>`_${t.toLowerCase()}`)).toLowerCase();switch(t){case"authorize":{let{chain:t}=r;if("legacy"===n){switch(t){case"solana:testnet":t="testnet";break;case"solana:devnet":t="devnet";break;case"solana:mainnet":t="mainnet-beta";break;default:t=r.cluster}r.cluster=t}else{switch(t){case"testnet":case"devnet":t=`solana:${t}`;break;case"mainnet-beta":t="solana:mainnet"}r.chain=t}}case"reauthorize":{const{auth_token:t,identity:e}=r;if(t)if("legacy"===n)i="reauthorize",r={auth_token:t,identity:e};else i="authorize";break}}return{method:i,params:r}}(r,n,t),o=yield e(i,s);return"authorize"===i&&s.sign_in_payload&&!o.sign_in_result&&(o.sign_in_result=yield function(t,e,n){var r;return w(this,void 0,void 0,(function*(){const i=null!==(r=t.domain)&&void 0!==r?r:window.location.host,s=e.accounts[0].address,o=_(Object.assign(Object.assign({},t),{domain:i,address:s}));return{address:s,signed_message:o,signature:(yield n("sign_messages",{addresses:[s],payloads:[o]})).signed_payloads[0].slice(o.length)}}))}(s.sign_in_payload,o,e)),function(t,e,n){if("getCapabilities"===t){const t=e;switch(n){case"legacy":{const e=[E];return!0===t.supports_clone_authorization&&e.push(k),Object.assign(Object.assign({},t),{features:e})}case"v1":return Object.assign(Object.assign({},t),{supports_sign_and_send_transactions:!0,supports_clone_authorization:t.features.includes(k)})}}return e}(r,o,t)}))}),n[r]),defineProperty:()=>!1,deleteProperty:()=>!1})}function A(t,e,n){return w(this,void 0,void 0,(function*(){const r=function(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}(e),i=new Uint8Array(12);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(I(r,i),n,(new TextEncoder).encode(t)),o=new Uint8Array(r.byteLength+i.byteLength+s.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(i),r.byteLength),o.set(new Uint8Array(s),r.byteLength+i.byteLength),o}))}function M(t,e){return w(this,void 0,void 0,(function*(){const n=t.slice(0,4),r=t.slice(4,16),i=t.slice(16),s=yield crypto.subtle.decrypt(I(n,r),e,i);return function(){void 0===T&&(T=new TextDecoder("utf-8"));return T}().decode(s)}))}function I(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let T;function R(){return w(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}))}function x(){return w(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])}))}function C(t,e){return w(this,void 0,void 0,(function*(){return A(JSON.stringify(t),t.id,e)}))}function P(t,e){return w(this,void 0,void 0,(function*(){const n=yield M(t,e),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new SolanaMobileWalletAdapterProtocolError(r.id,r.error.code,r.error.message);return r}))}function N(t,e,n){return w(this,void 0,void 0,(function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t.slice(0,65),{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),o=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])}))}function O(t,e){return w(this,void 0,void 0,(function*(){const n=yield M(t,e),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new SolanaMobileWalletAdapterError(v,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}}))}function L(t){if(t<49152||t>65535)throw new SolanaMobileWalletAdapterError(d,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function B(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function D(t){return t.replace(/[/+=]/g,(t=>({"/":"_","+":"-","=":"."}[t])))}function U(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function j(t,e){let n=null;if(e){try{n=new URL(e)}catch(i){}if("https:"!==(null==n?void 0:n.protocol))throw new SolanaMobileWalletAdapterError(f,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL("solana-wallet:/"));const r=t.startsWith("/")?t:[...U(n.pathname),...U(t)].join("/");return new URL(r,n)}const F=0,V=1;let z=null;function H(t){return w(this,void 0,void 0,(function*(){if("https:"===t.protocol)window.location.assign(t);else try{const n=-1!==navigator.userAgent.indexOf("Firefox/")?F:V;switch(n){case F:e=t,null==z&&(z=document.createElement("iframe"),z.style.display="none",document.body.appendChild(z)),z.contentWindow.location.href=e.toString();break;case V:{const e=new Promise(((t,e)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),t()}window.addEventListener("blur",r);const i=setTimeout((()=>{n(),e()}),2e3)}));window.location.assign(t),yield e;break}}}catch(n){throw new SolanaMobileWalletAdapterError(y,"Found no installed wallet that supports the mobile wallet protocol.")}var e}))}function q(t,e){return w(this,void 0,void 0,(function*(){const n=L(49152+Math.floor(16384*Math.random())),r=yield function(t,e,n,r=["v1"]){return w(this,void 0,void 0,(function*(){const i=L(e),s=B(yield crypto.subtle.exportKey("raw",t)),o=j("v1/associate/local",n);return o.searchParams.set("association",D(s)),o.searchParams.set("port",`${i}`),r.forEach((t=>{o.searchParams.set("v",t)})),o}))}(t,n,e);return yield H(r),n}))}const K={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},W="com.solana.mobilewalletadapter.v1";function $(){if("undefined"==typeof window||!0!==window.isSecureContext)throw new SolanaMobileWalletAdapterError(p,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function Z(t){let e;try{e=new URL(t)}catch(n){throw new SolanaMobileWalletAdapterError(f,"Invalid base URL supplied by wallet")}if("https:"!==e.protocol)throw new SolanaMobileWalletAdapterError(f,"Base URLs supplied by wallets must be valid `https` URLs")}function G(t){return new DataView(t).getUint32(0,!1)}var Q=n(463),J=n.n(Q);function Y(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function X(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function tt(t){return window.btoa(String.fromCharCode.call(null,...t))}function et(t){return new Uint8Array(window.atob(t).split("").map((t=>t.charCodeAt(0))))}function nt(t){return tt("version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}function rt(t){const e=t[0]*r.SIGNATURE_LENGTH_IN_BYTES+1;return"legacy"===r.VersionedMessage.deserializeMessageVersion(t.slice(e,t.length))?r.Transaction.from(t):r.VersionedTransaction.deserialize(t)}function it(t,e){return X(this,void 0,void 0,(function*(){return yield function(t,e){return w(this,void 0,void 0,(function*(){$();const n=yield R(),r=`ws://localhost:${yield q(n.publicKey,null==e?void 0:e.baseUri)}/solana-wallet`;let i;const s=(()=>{const t=[...K.retryDelayScheduleMs];return()=>t.length>1?t.shift():t[0]})();let o=1,a=0,u={__type:"disconnected"};return new Promise(((e,l)=>{let c;const h={},d=()=>w(this,void 0,void 0,(function*(){if("connecting"!==u.__type)return void console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${u.__type}\`.`);c.removeEventListener("open",d);const{associationKeypair:t}=u,e=yield x();c.send(yield b(e.publicKey,t.privateKey)),u={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:e.privateKey}})),f=t=>{t.wasClean?u={__type:"disconnected"}:l(new SolanaMobileWalletAdapterError(m,`The wallet session dropped unexpectedly (${t.code}: ${t.reason}).`,{closeEvent:t})),v()},p=t=>w(this,void 0,void 0,(function*(){v(),Date.now()-i>=K.timeoutMs?l(new SolanaMobileWalletAdapterError(g,`Failed to connect to the wallet websocket at ${r}.`)):(yield new Promise((t=>{const e=s();_=window.setTimeout(t,e)})),E())})),y=r=>w(this,void 0,void 0,(function*(){const i=yield r.data.arrayBuffer();switch(u.__type){case"connecting":if(0!==i.byteLength)throw new Error("Encountered unexpected message while connecting");const r=yield x();c.send(yield b(r.publicKey,n.privateKey)),u={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:r.privateKey};break;case"connected":try{const t=G(i.slice(0,4));if(t!==a+1)throw new Error("Encrypted message has invalid sequence number");a=t;const e=yield P(i,u.sharedSecret),n=h[e.id];delete h[e.id],n.resolve(e.result)}catch(s){if(!(s instanceof SolanaMobileWalletAdapterProtocolError))throw s;{const t=h[s.jsonRpcMessageId];delete h[s.jsonRpcMessageId],t.reject(s)}}break;case"hello_req_sent":{if(0===i.byteLength){const t=yield x();c.send(yield b(t.publicKey,n.privateKey)),u={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:t.privateKey};break}const r=yield N(i,u.associationPublicKey,u.ecdhPrivateKey),d=i.slice(65),f=0!==d.byteLength?yield(()=>w(this,void 0,void 0,(function*(){const t=G(d.slice(0,4));if(t!==a+1)throw new Error("Encrypted message has invalid sequence number");return a=t,O(d,r)})))():{protocol_version:"legacy"};u={__type:"connected",sharedSecret:r,sessionProperties:f};const p=S(f.protocol_version,((t,e)=>w(this,void 0,void 0,(function*(){const n=o++;return c.send(yield C({id:n,jsonrpc:"2.0",method:t,params:null!=e?e:{}},r)),new Promise(((e,r)=>{h[n]={resolve(n){switch(t){case"authorize":case"reauthorize":{const{wallet_uri_base:t}=n;if(null!=t)try{Z(t)}catch(s){return void r(s)}break}}e(n)},reject:r}}))}))));try{e(yield t(p))}catch(s){l(s)}finally{v(),c.close()}break}}}));let v,_;const E=()=>{v&&v(),u={__type:"connecting",associationKeypair:n},void 0===i&&(i=Date.now()),c=new WebSocket(r,[W]),c.addEventListener("open",d),c.addEventListener("close",f),c.addEventListener("error",p),c.addEventListener("message",y),v=()=>{window.clearTimeout(_),c.removeEventListener("open",d),c.removeEventListener("close",f),c.removeEventListener("error",p),c.removeEventListener("message",y)}};E()}))}))}((e=>{const n=new Proxy({},{get(t,n){if(null==t[n])switch(n){case"signAndSendTransactions":t[n]=function(t){var{minContextSlot:n,commitment:r,skipPreflight:i,maxRetries:s,waitForCommitmentToSendNextTransaction:o,transactions:a}=t,u=Y(t,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return X(this,void 0,void 0,(function*(){const t=a.map(nt),l={min_context_slot:n,commitment:r,skip_preflight:i,max_retries:s,wait_for_commitment_to_send_next_transaction:o},{signatures:c}=yield e.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},u),Object.values(l).some((t=>null!=t))?{options:l}:null),{payloads:t}));return c.map(et).map(J().encode)}))};break;case"signMessages":t[n]=function(t){var{payloads:n}=t,r=Y(t,["payloads"]);return X(this,void 0,void 0,(function*(){const t=n.map(tt),{signed_payloads:i}=yield e.signMessages(Object.assign(Object.assign({},r),{payloads:t}));return i.map(et)}))};break;case"signTransactions":t[n]=function(t){var{transactions:n}=t,r=Y(t,["transactions"]);return X(this,void 0,void 0,(function*(){const t=n.map(nt),{signed_payloads:i}=yield e.signTransactions(Object.assign(Object.assign({},r),{payloads:t}));return i.map(et).map(rt)}))};break;default:t[n]=e[n]}return t[n]},defineProperty:()=>!1,deleteProperty:()=>!1});return t(n)}),e)}))}n(7155);const st="function"==typeof Buffer,ot=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder&&new TextEncoder,Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")),at=(t=>{let e={};return t.forEach(((t,n)=>e[t]=n)),e})(ot),ut=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,lt=String.fromCharCode.bind(String),ct=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),t=>t.replace(/[^A-Za-z0-9\+\/]/g,"")),ht=t=>{let e,n,r,i,s="";const o=t.length%3;for(let a=0;a<t.length;){if((n=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=n<<16|r<<8|i,s+=ot[e>>18&63]+ot[e>>12&63]+ot[e>>6&63]+ot[63&e]}return o?s.slice(0,o-3)+"===".substring(o):s},dt=t=>{if(t=t.replace(/\s+/g,""),!ut.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,n,r,i="";for(let s=0;s<t.length;)e=at[t.charAt(s++)]<<18|at[t.charAt(s++)]<<12|(n=at[t.charAt(s++)])<<6|(r=at[t.charAt(s++)]),i+=64===n?lt(e>>16&255):64===r?lt(e>>16&255,e>>8&255):lt(e>>16&255,e>>8&255,255&e);return i};function ft(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function pt(t){return new Uint8Array(window.atob(t).split("").map((t=>t.charCodeAt(0))))}const mt="Mobile Wallet Adapter";function gt(t){return"version"in t}class SolanaMobileWalletAdapter extends BaseSignInMessageSignerWalletAdapter{constructor(t){var e;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=mt,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState="undefined"!=typeof window&&window.isSecureContext&&"undefined"!=typeof document&&/android/i.test(navigator.userAgent)?a.Loadable:a.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=null!==(e=t.chain)&&void 0!==e?e:function(t){switch(t){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet"}}(t.cluster),this._hostAuthority=t.remoteHostAuthority,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==a.Unsupported&&this._authorizationResultCache.get().then((t=>{t&&this.declareWalletAsInstalled()}))}get publicKey(){if(null==this._publicKey&&null!=this._selectedAddress)try{this._publicKey=function(t){const e=pt(t);return new r.PublicKey(e)}(this._selectedAddress)}catch(t){throw new WalletPublicKeyError(t instanceof Error&&(null==t?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==a.Installed&&this.emit("readyStateChange",this._readyState=a.Installed)}runWithGuard(t){return ft(this,void 0,void 0,(function*(){try{return yield t()}catch(e){throw this.emit("error",e),e}}))}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return ft(this,void 0,void 0,(function*(){return yield this.autoConnect()}))}autoConnect(){return ft(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>ft(this,void 0,void 0,(function*(){if(this._readyState!==a.Installed&&this._readyState!==a.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new WalletConnectionError(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))))}))}connect(){return ft(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>ft(this,void 0,void 0,(function*(){if(this._readyState!==a.Installed&&this._readyState!==a.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new WalletConnectionError(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))))}))}performAuthorization(t){return ft(this,void 0,void 0,(function*(){try{const e=yield this._authorizationResultCache.get();return e?(this.handleAuthorizationResult(e),e):yield this.transact((e=>ft(this,void 0,void 0,(function*(){const n=yield e.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)]),n}))))}catch(e){throw new WalletConnectionError(e instanceof Error&&e.message||"Unknown error",e)}}))}handleAuthorizationResult(t){var e;return ft(this,void 0,void 0,(function*(){const n=null==this._authorizationResult||(null===(e=this._authorizationResult)||void 0===e?void 0:e.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some(((e,n)=>e.address!==t.accounts[n].address));if(this._authorizationResult=t,this.declareWalletAsInstalled(),n){const e=yield this._addressSelector.select(t.accounts.map((({address:t})=>t)));e!==this._selectedAddress&&(this._selectedAddress=e,delete this._publicKey,this.emit("connect",this.publicKey))}}))}performReauthorization(t,e){return ft(this,void 0,void 0,(function*(){try{const n=yield t.authorize({auth_token:e,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(n){throw this.disconnect(),new WalletDisconnectedError(n instanceof Error&&(null==n?void 0:n.message)||"Unknown error",n)}}))}disconnect(){return ft(this,void 0,void 0,(function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")}))}transact(t){var e;return ft(this,void 0,void 0,(function*(){const n=null===(e=this._authorizationResult)||void 0===e?void 0:e.wallet_uri_base,r=n?{baseUri:n}:void 0,i=this._hostAuthority?{remoteHostAuthority:this._hostAuthority}:void 0,s=this._connectionGeneration;try{return yield it(t,Object.assign(Object.assign({},r),i))}catch(o){throw this._connectionGeneration!==s&&(yield new Promise((()=>{}))),o instanceof Error&&"SolanaMobileWalletAdapterError"===o.name&&"ERROR_WALLET_NOT_FOUND"===o.code&&(yield this._onWalletNotFound(this)),o}}))}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new WalletNotConnectedError;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return ft(this,void 0,void 0,(function*(){const{authToken:e}=this.assertIsAuthorized();try{return yield this.transact((n=>ft(this,void 0,void 0,(function*(){yield this.performReauthorization(n,e);return yield n.signTransactions({transactions:t})}))))}catch(n){throw new WalletSignTransactionError(null==n?void 0:n.message,n)}}))}sendTransaction(t,e,n){return ft(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ft(this,void 0,void 0,(function*(){const{authToken:r}=this.assertIsAuthorized(),i=null==n?void 0:n.minContextSlot;try{return yield this.transact((s=>ft(this,void 0,void 0,(function*(){function o(){let t,r;switch(e.commitment){case"confirmed":case"finalized":case"processed":t=e.commitment;break;default:t="finalized"}switch(null==n?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":r=n.preflightCommitment;break;case void 0:r=t;break;default:r="finalized"}return("finalized"===r?2:"confirmed"===r?1:0)<("finalized"===t?2:"confirmed"===t?1:0)?r:t}const[a,u,l]=yield Promise.all([s.getCapabilities(),this.performReauthorization(s,r),gt(t)?null:(()=>ft(this,void 0,void 0,(function*(){var n;if(t.feePayer||(t.feePayer=null!==(n=this.publicKey)&&void 0!==n?n:void 0),null==t.recentBlockhash){const{blockhash:n}=yield e.getLatestBlockhash({commitment:o()});t.recentBlockhash=n}})))()]);if(a.supports_sign_and_send_transactions){return(yield s.signAndSendTransactions({minContextSlot:i,transactions:[t]}))[0]}{const[r]=yield s.signTransactions({transactions:[t]});if(gt(r))return yield e.sendTransaction(r);{const t=r.serialize();return yield e.sendRawTransaction(t,Object.assign(Object.assign({},n),{preflightCommitment:o()}))}}}))))}catch(s){throw new WalletSendTransactionError(null==s?void 0:s.message,s)}}))))}))}signTransaction(t){return ft(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ft(this,void 0,void 0,(function*(){const[e]=yield this.performSignTransactions([t]);return e}))))}))}signAllTransactions(t){return ft(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ft(this,void 0,void 0,(function*(){return yield this.performSignTransactions(t)}))))}))}signMessage(t){return ft(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ft(this,void 0,void 0,(function*(){const{authToken:e,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact((r=>ft(this,void 0,void 0,(function*(){yield this.performReauthorization(r,e);const[i]=yield r.signMessages({addresses:[n],payloads:[t]});return i.slice(-64)}))))}catch(r){throw new WalletSignMessageError(null==r?void 0:r.message,r)}}))))}))}signIn(t){return ft(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>ft(this,void 0,void 0,(function*(){var e,n;if(this._readyState!==a.Installed&&this._readyState!==a.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{const r=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:null!==(e=null==t?void 0:t.domain)&&void 0!==e?e:window.location.host}));if(!r.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=r.sign_in_result.address;return{account:Object.assign(Object.assign({},null!==(n=r.accounts.find((t=>t.address==i)))&&void 0!==n?n:{address:i}),{publicKey:pt(i)}),signedMessage:pt(r.sign_in_result.signed_message),signature:pt(r.sign_in_result.signature)}}catch(r){throw new WalletConnectionError(r instanceof Error&&r.message||"Unknown error",r)}finally{this._connecting=!1}}))))}))}}const yt="SolanaMobileWalletAdapterDefaultAuthorizationCache";function vt(){let t;try{t=window.localStorage}catch(e){}return{clear(){return ft(this,void 0,void 0,(function*(){if(t)try{t.removeItem(yt)}catch(e){}}))},get(){return ft(this,void 0,void 0,(function*(){if(t)try{return JSON.parse(t.getItem(yt))||void 0}catch(e){}}))},set(n){return ft(this,void 0,void 0,(function*(){if(t)try{t.setItem(yt,JSON.stringify(n))}catch(e){}}))}}}function wt(t){return ft(this,void 0,void 0,(function*(){"undefined"!=typeof window&&window.location.assign(t.url)}))}const bt="solana:signAndSendTransaction",_t="solana:signTransaction",Et="standard:connect",kt="standard:events";const St=function(t){return Et in t.features&&kt in t.features&&(bt in t.features||_t in t.features)},At="solana:signMessage",Mt="solana:signIn",It="solana:mainnet",Tt="solana:devnet",Rt="solana:testnet",xt="solana:localnet";const Ct="https://api.mainnet-beta.solana.com";function Pt(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Nt="standard:disconnect";function Ot(t,e){if(t===e)return!0;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap;const Lt=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let a=0;a<e.length;a++)e[a]=255;for(let a=0;a<t.length;a++){const n=t.charAt(a),r=n.charCodeAt(0);if(255!==e[r])throw new TypeError(n+" is ambiguous");e[r]=a}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;let s=0,o=0,a=0;for(;t[s]===r;)o++,s++;const u=(t.length-s)*i+1>>>0,l=new Uint8Array(u);for(;t[s];){let r=e[t.charCodeAt(s)];if(255===r)return;let i=0;for(let t=u-1;(0!==r||i<a)&&-1!==t;t--,i++)r+=n*l[t]>>>0,l[t]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error("Non-zero carry");a=i,s++}let c=u-a;for(;c!==u&&0===l[c];)c++;const h=new Uint8Array(o+(u-c));let d=o;for(;c!==u;)h[d++]=l[c++];return h}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";let i=0,o=0,a=0;const u=e.length;for(;a!==u&&0===e[a];)a++,i++;const l=(u-a)*s+1>>>0,c=new Uint8Array(l);for(;a!==u;){let t=e[a],r=0;for(let e=l-1;(0!==t||r<o)&&-1!==e;e--,r++)t+=256*c[e]>>>0,c[e]=t%n>>>0,t=t/n>>>0;if(0!==t)throw new Error("Non-zero carry");o=r,a++}let h=l-o;for(;h!==l&&0===c[h];)h++;let d=r.repeat(i);for(;h<l;++h)d+=t.charAt(c[h]);return d},decodeUnsafe:o,decode:function(t){const e=o(t);if(e)return e;throw new Error("Non-base"+n+" character")}}};const Bt=Lt("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Dt,Ut,jt,Ft,Vt,zt,Ht,qt,Kt,Wt,$t,Zt,Gt,Qt,Jt,Yt,Xt,te,ee=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},ne=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n};class StandardWalletAdapter extends BaseWalletAdapter{get name(){return ee(this,qt,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return ee(this,qt,"f").icon}get readyState(){return ee(this,Kt,"f")}get publicKey(){return ee(this,jt,"f")}get connecting(){return ee(this,Ft,"f")}get supportedTransactionVersions(){return ee(this,Ht,"f")}get wallet(){return ee(this,qt,"f")}get standard(){return!0}constructor({wallet:t}){super(),Dt.add(this),Ut.set(this,void 0),jt.set(this,void 0),Ft.set(this,void 0),Vt.set(this,void 0),zt.set(this,void 0),Ht.set(this,void 0),qt.set(this,void 0),Kt.set(this,"undefined"==typeof window||"undefined"==typeof document?a.Unsupported:a.Installed),Qt.set(this,(t=>{if("accounts"in t){const t=ee(this,qt,"f").accounts[0];ee(this,Ut,"f")&&!ee(this,Vt,"f")&&t!==ee(this,Ut,"f")&&(t?ee(this,Dt,"m",$t).call(this,t):(this.emit("error",new WalletDisconnectedError),ee(this,Dt,"m",Zt).call(this)))}"features"in t&&ee(this,Dt,"m",Gt).call(this)})),ne(this,qt,t,"f"),ne(this,Ut,null,"f"),ne(this,jt,null,"f"),ne(this,Ft,!1,"f"),ne(this,Vt,!1,"f"),ne(this,zt,ee(this,qt,"f").features[kt].on("change",ee(this,Qt,"f")),"f"),ee(this,Dt,"m",Gt).call(this)}destroy(){ne(this,Ut,null,"f"),ne(this,jt,null,"f"),ne(this,Ft,!1,"f"),ne(this,Vt,!1,"f");const t=ee(this,zt,"f");t&&(ne(this,zt,null,"f"),t())}async autoConnect(){return ee(this,Dt,"m",Wt).call(this,{silent:!0})}async connect(){return ee(this,Dt,"m",Wt).call(this)}async disconnect(){if(Nt in ee(this,qt,"f").features)try{ne(this,Vt,!0,"f"),await ee(this,qt,"f").features[Nt].disconnect()}catch(t){this.emit("error",new WalletDisconnectionError(t?.message,t))}finally{ne(this,Vt,!1,"f")}ee(this,Dt,"m",Zt).call(this)}async sendTransaction(t,e,n={}){try{const s=ee(this,Ut,"f");if(!s)throw new WalletNotConnectedError;let o;if(bt in ee(this,qt,"f").features)if(s.features.includes(bt))o=bt;else{if(!(_t in ee(this,qt,"f").features)||!s.features.includes(_t))throw new WalletAccountError;o=_t}else{if(!(_t in ee(this,qt,"f").features))throw new WalletConfigError;if(!s.features.includes(_t))throw new WalletAccountError;o=_t}const a=(r=e.rpcEndpoint).includes(Ct)?It:/\bdevnet\b/i.test(r)?Tt:/\btestnet\b/i.test(r)?Rt:/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?xt:It;if(!s.chains.includes(a))throw new WalletSendTransactionError;try{const{signers:r,...i}=n;let u;if(c(t)?(r?.length&&t.sign(r),u=t.serialize()):(t=await this.prepareTransaction(t,e,i),r?.length&&t.partialSign(...r),u=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===bt){const[t]=await ee(this,qt,"f").features[bt].signAndSendTransaction({account:s,chain:a,transaction:u,options:{preflightCommitment:Pt(i.preflightCommitment||e.commitment),skipPreflight:i.skipPreflight,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot}});return Bt.encode(t.signature)}{const[t]=await ee(this,qt,"f").features[_t].signTransaction({account:s,chain:a,transaction:u,options:{preflightCommitment:Pt(i.preflightCommitment||e.commitment),minContextSlot:i.minContextSlot}});return await e.sendRawTransaction(t.signedTransaction,{...i,preflightCommitment:Pt(i.preflightCommitment||e.commitment)})}}catch(i){if(i instanceof WalletError)throw i;throw new WalletSendTransactionError(i?.message,i)}}catch(i){throw this.emit("error",i),i}var r}}Ut=new WeakMap,jt=new WeakMap,Ft=new WeakMap,Vt=new WeakMap,zt=new WeakMap,Ht=new WeakMap,qt=new WeakMap,Kt=new WeakMap,Qt=new WeakMap,Dt=new WeakSet,Wt=async function(t){try{if(this.connected||this.connecting)return;if(ee(this,Kt,"f")!==a.Installed)throw new WalletNotReadyError;if(ne(this,Ft,!0,"f"),!ee(this,qt,"f").accounts.length)try{await ee(this,qt,"f").features[Et].connect(t)}catch(e){throw new WalletConnectionError(e?.message,e)}const n=ee(this,qt,"f").accounts[0];if(!n)throw new WalletAccountError;ee(this,Dt,"m",$t).call(this,n)}catch(e){throw this.emit("error",e),e}finally{ne(this,Ft,!1,"f")}},$t=function(t){let e;try{e=new r.PublicKey(t.address)}catch(n){throw new WalletPublicKeyError(n?.message,n)}ne(this,Ut,t,"f"),ne(this,jt,e,"f"),ee(this,Dt,"m",Gt).call(this),this.emit("connect",e)},Zt=function(){ne(this,Ut,null,"f"),ne(this,jt,null,"f"),ee(this,Dt,"m",Gt).call(this),this.emit("disconnect")},Gt=function(){const t=bt in ee(this,qt,"f").features?ee(this,qt,"f").features[bt].supportedTransactionVersions:ee(this,qt,"f").features[_t].supportedTransactionVersions;ne(this,Ht,Ot(t,["legacy"])?null:new Set(t),"f"),_t in ee(this,qt,"f").features&&ee(this,Ut,"f")?.features.includes(_t)?(this.signTransaction=ee(this,Dt,"m",Jt),this.signAllTransactions=ee(this,Dt,"m",Yt)):(delete this.signTransaction,delete this.signAllTransactions),At in ee(this,qt,"f").features&&ee(this,Ut,"f")?.features.includes(At)?this.signMessage=ee(this,Dt,"m",Xt):delete this.signMessage,Mt in ee(this,qt,"f").features?this.signIn=ee(this,Dt,"m",te):delete this.signIn},Jt=async function(t){try{const n=ee(this,Ut,"f");if(!n)throw new WalletNotConnectedError;if(!(_t in ee(this,qt,"f").features))throw new WalletConfigError;if(!n.features.includes(_t))throw new WalletAccountError;try{const e=(await ee(this,qt,"f").features[_t].signTransaction({account:n,transaction:c(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return c(t)?r.VersionedTransaction.deserialize(e):r.Transaction.from(e)}catch(e){if(e instanceof WalletError)throw e;throw new WalletSignTransactionError(e?.message,e)}}catch(e){throw this.emit("error",e),e}},Yt=async function(t){try{const n=ee(this,Ut,"f");if(!n)throw new WalletNotConnectedError;if(!(_t in ee(this,qt,"f").features))throw new WalletConfigError;if(!n.features.includes(_t))throw new WalletAccountError;try{const e=await ee(this,qt,"f").features[_t].signTransaction(...t.map((t=>({account:n,transaction:c(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))));return t.map(((t,n)=>{const i=e[n].signedTransaction;return c(t)?r.VersionedTransaction.deserialize(i):r.Transaction.from(i)}))}catch(e){throw new WalletSignTransactionError(e?.message,e)}}catch(e){throw this.emit("error",e),e}},Xt=async function(t){try{const n=ee(this,Ut,"f");if(!n)throw new WalletNotConnectedError;if(!(At in ee(this,qt,"f").features))throw new WalletConfigError;if(!n.features.includes(At))throw new WalletAccountError;try{return(await ee(this,qt,"f").features[At].signMessage({account:n,message:t}))[0].signature}catch(e){throw new WalletSignMessageError(e?.message,e)}}catch(e){throw this.emit("error",e),e}},te=async function(t={}){try{if(!(Mt in ee(this,qt,"f").features))throw new WalletConfigError;let n;try{[n]=await ee(this,qt,"f").features[Mt].signIn(t)}catch(e){throw new WalletSignInError(e?.message,e)}if(!n)throw new WalletSignInError;return ee(this,Dt,"m",$t).call(this,n.account),n}catch(e){throw this.emit("error",e),e}};var re,ie=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},se=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n};let oe;const ae=new Set;const ue={};function le(){if(oe)return oe;if(oe=Object.freeze({register:ce,get:de,on:fe}),"undefined"==typeof window)return oe;const t=Object.freeze({register:ce});try{window.addEventListener("wallet-standard:register-wallet",(({detail:e})=>e(t)))}catch(e){console.error("wallet-standard:register-wallet event listener could not be added\n",e)}try{window.dispatchEvent(new AppReadyEvent(t))}catch(e){console.error("wallet-standard:app-ready event could not be dispatched\n",e)}return oe}function ce(...t){return(t=t.filter((t=>!ae.has(t)))).length?(t.forEach((t=>function(t){he=void 0,ae.add(t)}(t))),ue.register?.forEach((e=>pe((()=>e(...t))))),function(){t.forEach((t=>function(t){he=void 0,ae.delete(t)}(t))),ue.unregister?.forEach((e=>pe((()=>e(...t)))))}):()=>{}}let he;function de(){return he||(he=[...ae]),he}function fe(t,e){return ue[t]?.push(e)||(ue[t]=[e]),function(){ue[t]=ue[t]?.filter((t=>e!==t))}}function pe(t){try{t()}catch(e){console.error(e)}}class AppReadyEvent extends Event{get detail(){return ie(this,re,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),re.set(this,void 0),se(this,re,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}function me(t){const e=ge((()=>new Set)),{get:n,on:r}=ge((()=>function(){if(oe)return oe;if(oe=le(),"undefined"==typeof window)return oe;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),oe;const{register:e}=oe,n=(...t)=>t.forEach((t=>pe((()=>t({register:e})))));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch(r){return console.error("window.navigator.wallets could not be set"),oe}return n(...t),oe}())),[s,o]=(0,i.useState)((()=>ye(n())));(0,i.useEffect)((()=>{const t=[r("register",((...t)=>o((e=>[...e,...ye(t)])))),r("unregister",((...t)=>o((e=>e.filter((e=>t.some((t=>t===e.wallet))))))))];return()=>t.forEach((t=>t()))}),[r]);const a=function(t){const e=(0,i.useRef)(void 0);return(0,i.useEffect)((()=>{e.current=t})),e.current}(s);return(0,i.useEffect)((()=>{if(!a)return;const t=new Set(s);new Set(a.filter((e=>!t.has(e)))).forEach((t=>t.destroy()))}),[a,s]),(0,i.useEffect)((()=>()=>s.forEach((t=>t.destroy()))),[]),(0,i.useMemo)((()=>[...s,...t.filter((({name:t})=>!s.some((e=>e.name===t))||(e.has(t)||(e.add(t),console.warn(`${t} was registered as a Standard Wallet. The Wallet Adapter for ${t} can be removed from your app.`)),!1)))]),[s,t,e])}function ge(t){const e=(0,i.useRef)(void 0);return void 0===e.current&&(e.current={value:t()}),e.current.value}function ye(t){return t.filter(St).map((t=>new StandardWalletAdapter({wallet:t})))}var ve;re=new WeakMap,function(t){t[t.DESKTOP_WEB=0]="DESKTOP_WEB",t[t.MOBILE_WEB=1]="MOBILE_WEB"}(ve||(ve={}));class WalletNotSelectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}var we=n(8267);function be({children:t,wallets:e,adapter:n,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:o,onError:u,onSelectWallet:l}){const c=(0,i.useRef)(!1),[h,d]=(0,i.useState)(!1),f=(0,i.useRef)(!1),[p,m]=(0,i.useState)(!1),[g,y]=(0,i.useState)((()=>n?.publicKey??null)),[v,w]=(0,i.useState)((()=>n?.connected??!1)),b=(0,i.useRef)(u);(0,i.useEffect)((()=>(b.current=u,()=>{b.current=void 0})),[u]);const _=(0,i.useRef)(((t,e)=>(r.current||(b.current?b.current(t,e):(console.error(t,e),t instanceof WalletNotReadyError&&"undefined"!=typeof window&&e&&window.open(e.url,"_blank"))),t))),[E,k]=(0,i.useState)((()=>e.map((t=>({adapter:t,readyState:t.readyState}))).filter((({readyState:t})=>t!==a.Unsupported))));(0,i.useEffect)((()=>{function t(t){k((e=>{const n=e.findIndex((({adapter:t})=>t===this));if(-1===n)return e;const{adapter:r}=e[n];return[...e.slice(0,n),{adapter:r,readyState:t},...e.slice(n+1)].filter((({readyState:t})=>t!==a.Unsupported))}))}return k((t=>e.map(((e,n)=>{const r=t[n];return r&&r.adapter===e&&r.readyState===e.readyState?r:{adapter:e,readyState:e.readyState}})).filter((({readyState:t})=>t!==a.Unsupported)))),e.forEach((e=>e.on("readyStateChange",t,e))),()=>{e.forEach((e=>e.off("readyStateChange",t,e)))}}),[n,e]);const S=(0,i.useMemo)((()=>E.find((t=>t.adapter===n))??null),[n,E]);(0,i.useEffect)((()=>{if(!n)return;const t=t=>{y(t),c.current=!1,d(!1),w(!0),f.current=!1,m(!1)},e=()=>{r.current||(y(null),c.current=!1,d(!1),w(!1),f.current=!1,m(!1))},i=t=>{_.current(t,n)};return n.on("connect",t),n.on("disconnect",e),n.on("error",i),()=>{n.off("connect",t),n.off("disconnect",e),n.off("error",i),e()}}),[n,r]);const A=(0,i.useRef)(!1);(0,i.useEffect)((()=>()=>{A.current=!1}),[n]),(0,i.useEffect)((()=>{A.current||c.current||v||!s||S?.readyState!==a.Installed&&S?.readyState!==a.Loadable||(c.current=!0,d(!0),A.current=!0,async function(){try{await s()}catch{o()}finally{d(!1),c.current=!1}}())}),[v,s,o,S]);const M=(0,i.useCallback)((async(t,e,r)=>{if(!n)throw _.current(new WalletNotSelectedError);if(!v)throw _.current(new WalletNotConnectedError,n);return await n.sendTransaction(t,e,r)}),[n,v]),I=(0,i.useMemo)((()=>n&&"signTransaction"in n?async t=>{if(!v)throw _.current(new WalletNotConnectedError,n);return await n.signTransaction(t)}:void 0),[n,v]),T=(0,i.useMemo)((()=>n&&"signAllTransactions"in n?async t=>{if(!v)throw _.current(new WalletNotConnectedError,n);return await n.signAllTransactions(t)}:void 0),[n,v]),R=(0,i.useMemo)((()=>n&&"signMessage"in n?async t=>{if(!v)throw _.current(new WalletNotConnectedError,n);return await n.signMessage(t)}:void 0),[n,v]),x=(0,i.useMemo)((()=>n&&"signIn"in n?async t=>await n.signIn(t):void 0),[n]),C=(0,i.useCallback)((async()=>{if(c.current||f.current||S?.adapter.connected)return;if(!S)throw _.current(new WalletNotSelectedError);const{adapter:t,readyState:e}=S;if(e!==a.Installed&&e!==a.Loadable)throw _.current(new WalletNotReadyError,t);c.current=!0,d(!0);try{await t.connect()}catch(n){throw o(),n}finally{d(!1),c.current=!1}}),[o,S]),P=(0,i.useCallback)((async()=>{if(!f.current&&n){f.current=!0,m(!0);try{await n.disconnect()}finally{m(!1),f.current=!1}}}),[n]);return i.createElement(we.b.Provider,{value:{autoConnect:!!s,wallets:E,wallet:S,publicKey:g,connected:v,connecting:h,disconnecting:p,select:l,connect:C,disconnect:P,sendTransaction:M,signTransaction:I,signAllTransactions:T,signMessage:R,signIn:x}},t)}let _e;function Ee(t){return function({adapters:t,userAgentString:e}){return t.some((t=>t.name!==mt&&t.readyState===a.Installed))?ve.DESKTOP_WEB:e&&/android/i.test(e)&&!function(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}(e)?ve.MOBILE_WEB:ve.DESKTOP_WEB}({adapters:t,userAgentString:(void 0===_e&&(_e=globalThis.navigator?.userAgent??null),_e)})===ve.MOBILE_WEB}function ke(){const t=globalThis.location;if(t)return`${t.protocol}//${t.host}`}function Se({children:t,wallets:e,autoConnect:n,localStorageKey:r="walletName",onError:o}){const{connection:a}=(0,s.w)(),u=me(e),l=(0,i.useMemo)((()=>{if(!Ee(u))return null;const t=u.find((t=>t.name===mt));return t||new SolanaMobileWalletAdapter({addressSelector:{select(t){return ft(this,void 0,void 0,(function*(){return t[0]}))}},appIdentity:{uri:ke()},authorizationResultCache:vt(),cluster:(e=a?.rpcEndpoint,e?/devnet/i.test(e)?"devnet":/testnet/i.test(e)?"testnet":"mainnet-beta":"mainnet-beta"),onWalletNotFound:wt});var e}),[u,a?.rpcEndpoint]),c=(0,i.useMemo)((()=>null==l||-1!==u.indexOf(l)?u:[l,...u]),[u,l]),[h,d]=function(t,e){const n=(0,i.useState)((()=>{try{const e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch(n){"undefined"!=typeof window&&console.error(n)}return e})),r=n[0],s=(0,i.useRef)(!0);return(0,i.useEffect)((()=>{if(s.current)s.current=!1;else try{null===r?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(r))}catch(e){"undefined"!=typeof window&&console.error(e)}}),[r,t]),n}(r,Ee(u)?mt:null),f=(0,i.useMemo)((()=>c.find((t=>t.name===h))??null),[c,h]),p=(0,i.useCallback)((t=>{h!==t&&(f&&f.name!==mt&&f.disconnect(),d(t))}),[f,d,h]);(0,i.useEffect)((()=>{if(f)return f.on("disconnect",t),()=>{f.off("disconnect",t)};function t(){y.current||h===mt&&Ee(u)||d(null)}}),[f,u,d,h]);const m=(0,i.useRef)(!1),g=(0,i.useMemo)((()=>{if(n&&f)return async()=>{(!0===n||await n(f))&&(m.current?await f.connect():await f.autoConnect())}}),[n,f]),y=(0,i.useRef)(!1);(0,i.useEffect)((()=>{if(h!==mt||!Ee(u))return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)};function t(){y.current=!0}y.current=!1}),[u,h]);const v=(0,i.useCallback)((()=>{f&&f.name!==mt&&p(null)}),[f,p]),w=(0,i.useCallback)((t=>{m.current=!0,p(t)}),[p]);return i.createElement(be,{wallets:c,adapter:f,isUnloadingRef:y,onAutoConnectRequest:g,onConnectError:v,onError:o,onSelectWallet:w},t)}const Ae=t=>i.createElement("button",{className:`wallet-adapter-button ${t.className||""}`,disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&i.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&i.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),Me=({wallet:t,...e})=>t&&i.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...e});function Ie({walletIcon:t,walletName:e,...n}){return i.createElement(Ae,{...n,className:"wallet-adapter-button-trigger",startIcon:t&&e?i.createElement(Me,{wallet:{adapter:{icon:t,name:e}}}):void 0})}const Te={setVisible(t){console.error(Re("call","setVisible"))},visible:!1};function Re(t,e){return`You have tried to  ${t} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}Object.defineProperty(Te,"visible",{get:()=>(console.error(Re("read","visible")),!1)});const xe=(0,i.createContext)(Te);function Ce(){return(0,i.useContext)(xe)}function Pe({children:t,labels:e,...n}){const{setVisible:r}=Ce(),{buttonState:s,onConnect:o,onDisconnect:a,publicKey:u,walletIcon:l,walletName:c}=function({onSelectWallet:t}){const{connect:e,connected:n,connecting:r,disconnect:s,disconnecting:o,publicKey:a,select:u,wallet:l,wallets:c}=(0,we.v)();let h;h=r?"connecting":n?"connected":o?"disconnecting":l?"has-wallet":"no-wallet";const d=(0,i.useCallback)((()=>{e().catch((()=>{}))}),[e]),f=(0,i.useCallback)((()=>{s().catch((()=>{}))}),[s]);return{buttonState:h,onConnect:"has-wallet"===h?d:void 0,onDisconnect:"disconnecting"!==h&&"no-wallet"!==h?f:void 0,onSelectWallet:(0,i.useCallback)((()=>{t({onSelectWallet:u,wallets:c})}),[t,u,c]),publicKey:a??void 0,walletIcon:l?.adapter.icon,walletName:l?.adapter.name}}({onSelectWallet(){r(!0)}}),[h,d]=(0,i.useState)(!1),[f,p]=(0,i.useState)(!1),m=(0,i.useRef)(null);(0,i.useEffect)((()=>{const t=t=>{const e=m.current;e&&!e.contains(t.target)&&p(!1)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[]);const g=(0,i.useMemo)((()=>{if(t)return t;if(u){const t=u.toBase58();return t.slice(0,4)+".."+t.slice(-4)}return"connecting"===s||"has-wallet"===s?e[s]:e["no-wallet"]}),[s,t,e,u]);return i.createElement("div",{className:"wallet-adapter-dropdown"},i.createElement(Ie,{...n,"aria-expanded":f,style:{pointerEvents:f?"none":"auto",...n.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":o&&o();break;case"connected":p(!0)}},walletIcon:l,walletName:c},g),i.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${f&&"wallet-adapter-dropdown-list-active"}`,ref:m,role:"menu"},u?i.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(u.toBase58()),d(!0),setTimeout((()=>d(!1)),400)},role:"menuitem"},h?e.copied:e["copy-address"]):null,i.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),p(!1)},role:"menuitem"},e["change-wallet"]),a?i.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{a(),p(!1)},role:"menuitem"},e.disconnect):null))}const Ne={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};var Oe=n(8325);const Le=({id:t,children:e,expanded:n=!1})=>{const r=(0,i.useRef)(null),s=(0,i.useRef)(!0);return(0,i.useLayoutEffect)((()=>{n?(()=>{const t=r.current;t&&requestAnimationFrame((()=>{t.style.height=t.scrollHeight+"px"}))})():(()=>{const t=r.current;t&&requestAnimationFrame((()=>{t.style.height=t.offsetHeight+"px",t.style.overflow="hidden",requestAnimationFrame((()=>{t.style.height="0"}))}))})()}),[n]),(0,i.useLayoutEffect)((()=>{const t=r.current;if(t)return s.current&&(e(),s.current=!1),t.addEventListener("transitionend",i),()=>t.removeEventListener("transitionend",i);function e(){t&&(t.style.overflow=n?"initial":"hidden",n&&(t.style.height="auto"))}function i(n){t&&n.target===t&&"height"===n.propertyName&&e()}}),[n]),i.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:r,role:"region",style:{height:0,transition:s.current?void 0:"height 250ms ease-out"}},e)},Be=({handleClick:t,tabIndex:e,wallet:n})=>i.createElement("li",null,i.createElement(Ae,{onClick:t,startIcon:i.createElement(Me,{wallet:n}),tabIndex:e},n.adapter.name,n.readyState===a.Installed&&i.createElement("span",null,"Detected"))),De=()=>i.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),i.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),i.createElement("g",{clipPath:"url(#clip0_880_5115)"},i.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),i.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#9945FF"}),i.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),i.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),i.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),i.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),i.createElement("stop",{offset:"1",stopColor:"#00D18C"})),i.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#9945FF"}),i.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),i.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),i.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),i.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),i.createElement("stop",{offset:"1",stopColor:"#00D18C"})),i.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#9945FF"}),i.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),i.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),i.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),i.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),i.createElement("stop",{offset:"1",stopColor:"#00D18C"})),i.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#9945FF"}),i.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),i.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),i.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),i.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),i.createElement("stop",{offset:"1",stopColor:"#00D18C"})),i.createElement("clipPath",{id:"clip0_880_5115"},i.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Ue=({className:t="",container:e="body"})=>{const n=(0,i.useRef)(null),{wallets:r,select:s}=(0,we.v)(),{setVisible:o}=Ce(),[u,l]=(0,i.useState)(!1),[c,h]=(0,i.useState)(!1),[d,f]=(0,i.useState)(null),[p,m]=(0,i.useMemo)((()=>{const t=[],e=[];for(const n of r)n.readyState===a.Installed?t.push(n):e.push(n);return t.length?[t,e]:[e,[]]}),[r]),g=(0,i.useCallback)((()=>{h(!1),setTimeout((()=>o(!1)),150)}),[o]),y=(0,i.useCallback)((t=>{t.preventDefault(),g()}),[g]),v=(0,i.useCallback)(((t,e)=>{s(e),y(t)}),[s,y]),w=(0,i.useCallback)((()=>l(!u)),[u]),b=(0,i.useCallback)((t=>{const e=n.current;if(!e)return;const r=e.querySelectorAll("button"),i=r[0],s=r[r.length-1];t.shiftKey?document.activeElement===i&&(s.focus(),t.preventDefault()):document.activeElement===s&&(i.focus(),t.preventDefault())}),[n]);return(0,i.useLayoutEffect)((()=>{const t=t=>{"Escape"===t.key?g():"Tab"===t.key&&b(t)},{overflow:e}=window.getComputedStyle(document.body);return setTimeout((()=>h(!0)),0),document.body.style.overflow="hidden",window.addEventListener("keydown",t,!1),()=>{document.body.style.overflow=e,window.removeEventListener("keydown",t,!1)}}),[g,b]),(0,i.useLayoutEffect)((()=>f(document.querySelector(e))),[e]),d&&(0,Oe.createPortal)(i.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${c&&"wallet-adapter-modal-fade-in"} ${t}`,ref:n,role:"dialog"},i.createElement("div",{className:"wallet-adapter-modal-container"},i.createElement("div",{className:"wallet-adapter-modal-wrapper"},i.createElement("button",{onClick:y,className:"wallet-adapter-modal-button-close"},i.createElement("svg",{width:"14",height:"14"},i.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),p.length?i.createElement(i.Fragment,null,i.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),i.createElement("ul",{className:"wallet-adapter-modal-list"},p.map((t=>i.createElement(Be,{key:t.adapter.name,handleClick:e=>v(e,t.adapter.name),wallet:t}))),m.length?i.createElement(Le,{expanded:u,id:"wallet-adapter-modal-collapse"},m.map((t=>i.createElement(Be,{key:t.adapter.name,handleClick:e=>v(e,t.adapter.name),tabIndex:u?0:-1,wallet:t})))):null),m.length?i.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:w,tabIndex:0},i.createElement("span",null,u?"Less ":"More ","options"),i.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:""+(u?"wallet-adapter-modal-list-more-icon-rotate":"")},i.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):i.createElement(i.Fragment,null,i.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),i.createElement("div",{className:"wallet-adapter-modal-middle"},i.createElement(De,null)),m.length?i.createElement(i.Fragment,null,i.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:w,tabIndex:0},i.createElement("span",null,u?"Hide ":"Already have a wallet? View ","options"),i.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:""+(u?"wallet-adapter-modal-list-more-icon-rotate":"")},i.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),i.createElement(Le,{expanded:u,id:"wallet-adapter-modal-collapse"},i.createElement("ul",{className:"wallet-adapter-modal-list"},m.map((t=>i.createElement(Be,{key:t.adapter.name,handleClick:e=>v(e,t.adapter.name),tabIndex:u?0:-1,wallet:t})))))):null))),i.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:y})),d)},je=({children:t,...e})=>{const[n,r]=(0,i.useState)(!1);return i.createElement(xe.Provider,{value:{visible:n,setVisible:r}},t,n&&i.createElement(Ue,{...e}))};var Fe=n(6231),Ve=n(3694),ze=n(2362),He=n(2540);n(6909);const qe=function(t){return i.createElement(Pe,{...t,labels:Ne})};function Ke({children:t}){const{cluster:e}=(0,Fe.Gx)(),n=((0,ze.RU)(),(0,i.useMemo)((()=>e.endpoint),[e])),r=(0,i.useCallback)((t=>{}),[]);return(0,He.jsx)(o,{endpoint:n,children:(0,He.jsx)(Se,{wallets:[],onError:r,autoConnect:!0,children:(0,He.jsx)(je,{children:(0,He.jsx)(Ve.$5,{children:t})})})})}},5981:(t,e,n)=>{"use strict";n.d(e,{vS:()=>S,Hk:()=>A,NA:()=>E});var r=n(3017),i=n(3696),s=n(7073),o=n(720),a=n(514),u=n(3530),l=n(8267),c=n(2362),h=n(8358),d=n(6591),f=n(9307),p=n.n(f),m=n(2473),g=n.n(m),y="src/lib";async function v(t,e,r={}){let i,s=!1;try{i=await n(4843)(`./${t}`),console.debug(`Local ${t} loaded`)}catch(o){if(!e)throw o;if(console.debug(`Fetching ${t} from ${e}`),i=await new Promise(((t,n)=>{g().get(e,r,(e=>{let r="";e.on("data",(t=>{r+=t})),e.on("end",(()=>{try{t(JSON.parse(r))}catch(e){n(new Error(`Failed to parse JSON: ${e}`))}}))})).on("error",(t=>{n(new Error(`Failed to fetch data: ${t}`))}))})),i.error)throw Error(i.error);const n=p().join(y,"..","assets","swap-data"),a=p().join(n,t);await d.promises.writeFile(a,JSON.stringify(i,null,2),"utf-8"),s=!0,console.debug(`Saved ${t} to local cache`)}return{hasBeenReloaded:s,json:i}}var w=n(2540);const b=[{name:"Wrapped SOL",symbol:"wSOL",mintAddress:"So11111111111111111111111111111111111111112",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",getObjectURL:"https://tokens.jup.ag/token/So11111111111111111111111111111111111111112"},{name:"USD backed by Circle",symbol:"USDC",mintAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",getObjectURL:"https://tokens.jup.ag/token/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"}],_=(0,i.createContext)({});function E(){return(0,i.useContext)(_)}async function k(t){return await v(`token-${t}.json`,!1)}function S({children:t}){const e=[];b.map((t=>e.push(t))),e.push({name:"Just a Chill Guy",symbol:"CHILLGUY",mintAddress:"Df6yfrKC8kZE3KNkrHERKzAetSxbrWeniQfyJY4Jpump",decimals:6,logoURI:"https://ipfs.io/ipfs/QmaFy59TMnLb4jGgL6LpquyXSxTRXKR4mEfSobUSsPoR46",getObjectURL:"https://tokens.jup.ag/token/Df6yfrKC8kZE3KNkrHERKzAetSxbrWeniQfyJY4Jpump"});const[n,r]=(0,i.useState)(e),[o,a]=(0,i.useState)({}),u=(0,s.I)({queryKey:["get-top-tokens"],queryFn:()=>async function(){return(await v("tokens-with-volume.json",!1)).json.result.rows.map((t=>({mintAddress:t.mint,amount:t.volume_24_hour,traders:t.traders})))}()});function l(t){const e=n.find((e=>e.mintAddress===t));return e||{name:"...",symbol:"...",mintAddress:t,decimals:0,logoURI:"...",getObjectURL:"..."}}(0,i.useEffect)((()=>{!async function(){if(u.isSuccess&&u.data.length>0)try{for(const t in u.data){const e=u.data[t].mintAddress;if(o[e]={volumeInUSD:u.data[t].amount},n.find((t=>t.mintAddress===e)))continue;const r=await k(e);n.push({name:r.json.name,symbol:r.json.symbol,mintAddress:r.json.address,decimals:r.json.decimals,logoURI:r.json.logoURI,getObjectURL:`https://tokens.jup.ag/token/${e}`})}n.sort(((t,e)=>o[t.mintAddress]||o[e.mintAddress]?o[t.mintAddress]?o[e.mintAddress]?+o[e.mintAddress].volumeInUSD-+o[t.mintAddress].volumeInUSD:-1:1:t.name.localeCompare(e.name)))}catch(t){console.log(t)}}()}),[u.data]);const c={allTokens:n,allTokensStats:o,isHouseToken:function(t){return!!b.find((e=>e.mintAddress===t))},getTokenByMintAddress:l,getSymbolByMintAddress:function(t){const e=n.find((e=>e.mintAddress===t));return e?e.symbol:"..."},satoshiToFloat:function(t,e){return(+e/Math.pow(10,l(t).decimals)).toString()},calculatePrice:function(t){return+t.outAmount/+t.inAmount*Math.pow(10,l(t.inputMint).decimals)/Math.pow(10,l(t.outputMint).decimals)},getStatsByMintAddress:function(t){return o[t]}};return(0,w.jsx)(_.Provider,{value:c,children:t})}function A(){const{connection:t}=(0,u.w)(),e=(0,l.v)(),n=(0,c.hx)(),i=(0,c.RU)(),s=e.publicKey,d=(0,o.jE)();return(0,a.n)({mutationKey:["lucky-swap",{endpoint:t.rpcEndpoint,address:s}],mutationFn:async s=>{let o="";try{o=(await(0,h.sS)(e,t,s.inputMint,s.outputMint,s.amountAsInteger,s.oddsAsFloat)).signature,n(o,"sent");const i=await t.getLatestBlockhash();return await t.confirmTransaction((0,r.A)({signature:o},i),"confirmed"),o}catch(a){return console.error(a),void i(`Transaction ${o} failed! ${a}`)}},onSuccess:e=>(e&&n(e),Promise.all([d.invalidateQueries({queryKey:["get-token-accounts",{endpoint:t.rpcEndpoint,address:s}]}),d.invalidateQueries({queryKey:["get-signatures",{endpoint:t.rpcEndpoint,address:s}]}),d.invalidateQueries({queryKey:["get-balance",{endpoint:t.rpcEndpoint,address:s}]})])),onError:t=>{i(`Transaction failed! ${t}`)}})}},5768:(t,e,n)=>{"use strict";n.d(e,{Q:()=>d,x:()=>h});n(3696);var r=n(9166),i=n(7124),s=n(2540);const o={level:5,experience:750,nextLevelExperience:1e3,achievements:["First Swap","Lucky Streak: Win 3 times in a row","High Roller: Swap 1000 tokens"],dailyChallenges:["Complete 5 swaps today for bonus XP!"]};function a(t){const{name:e,className:n,percent:r,price:i}=t;return(0,s.jsxs)("div",{className:`w-full h-[208px] ${n} bg-no-repeat bg-full py-6 px-7 flex flex-col justify-between rounded-[40px]`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsx)("span",{className:"text-sm font-semibold font-BelanosimaSemiBold text-[#F0F7FA]",children:e}),(0,s.jsx)("span",{className:"text-sm font-semibold font-BelanosimaSemiBold text-[#607583]",children:"24h"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-start",children:[(0,s.jsx)("span",{className:"text-[48px] font-semibold font-BelanosimaSemiBold text-[#F0F7FA]",children:i}),(0,s.jsx)("span",{className:"text-sm font-semibold font-BelanosimaSemiBold text-[#607583]",children:r})]})]})}function u(){return(0,s.jsxs)("div",{className:"w-full px-7 h-[239px] flex flex-col justify-between pt-[24px] mb-[44px]",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-[14px] font-BelanosimaSemiBold text-[#F0F7FA]",children:"Your Progress"}),(0,s.jsxs)("div",{className:"text-[64px] font-BelanosimaRegular text-[#F0F7FA] leading-[72px]",children:["Level"," ",(0,s.jsx)("span",{className:"text-[64px] font-BelanosimaRegular text-[#4791FF]",children:"4"})]})]}),(0,s.jsx)("div",{className:"flex flex-row justify-end",children:(0,s.jsxs)("div",{className:"text-[14px] font-BelanosimaSemiBold text-[#F0F7FA]",children:["750 /"," ",(0,s.jsx)("span",{className:"text-[14px] font-BelanosimaSemiBold text-[#87ABCC]",children:"1000 xp"})]})})]})}function l(){return(0,s.jsx)("div",{className:"w-full h-[196px] achieve-gradient flex items-center justify-center p-px relative rounded-[40px] z-[11]",children:(0,s.jsxs)("div",{className:"bg-[#1B1C1F] shadow-custom-big-inset rounded-[40px] flex flex-col justify-between relative z-[10000] h-full w-full",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 pt-6 pl-6",children:[(0,s.jsx)("span",{className:"text-[#F0F7FA] text-sm font-semibold font-BelanosimaSemiBold",children:"Achievements"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("span",{className:"flex items-center justify-center rotate-90",children:(0,s.jsx)(i.ZL,{})}),(0,s.jsx)("span",{className:"flex items-center justify-center -rotate-90",children:(0,s.jsx)(i.ZL,{})})]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2 pb-4 overflow-hidden flex-1 h-full relative z-[1] w-full",children:[(0,s.jsxs)("div",{className:"min-w-[182px] flex items-center h-20 rounded-[22px] ml-[22px] mt-[60px] relative achieve-item p-px",children:[(0,s.jsxs)("div",{className:"bg-[#232429] flex items-center gap-3 p-2 w-full rounded-[22px]",children:[(0,s.jsx)("img",{alt:"first-swap",src:"/assets/image/achivements/first-swap.png"}),(0,s.jsx)("span",{className:"text-base font-semibold font-BelanosimaSemiBold text-[#F0F7FA]",children:"First Swap"})]}),(0,s.jsx)("img",{alt:"check",src:"/assets/image/achivements/check.png",className:"absolute -bottom-2 -right-2"})]}),(0,s.jsx)("div",{className:"min-w-[201px] flex items-center h-20 rounded-[22px] mt-10 relative achieve-item p-1",children:(0,s.jsx)("div",{className:"flex bg-[url('/assets/image/win-bg.png')] bg-no-repeat bg-center relative bg-cover items-center justify-center h-full w-full rounded-[20px]",children:(0,s.jsxs)("span",{className:"text-xs leading-6 font-semibold text-center flex items-center font-BelanosimaSemiBold text-[#F0F7FA]",children:["Win"," ",(0,s.jsx)("span",{className:"text-[#6D9BFF] font-normal text-[32px] text-center leading-[32px] tracking-[-0.01em]",children:"3"})," ","times in a row"]})})})]})]})})}function c(){return(0,s.jsxs)("div",{className:"bg-[url('/assets/image/swaps_bg.png')] w-full bg-no-repeat bg-full h-[236px] px-[24px] flex flex-row justify-between relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex flex-col justify-between py-4 md:py-[32px]",children:[(0,s.jsx)("div",{className:"text-[14px] font-BelanosimaSemiBold text-[#F0F7FA]",children:"Challenges"}),(0,s.jsx)("div",{className:"text-xl md:text-[40px] font-BelanosimaRegular text-[#F0F7FA] md:leading-[40px] w-[150px] md:w-[270px]",children:"Complete today for bonus XP!"})]}),(0,s.jsx)("img",{src:"/assets/image/5.png",className:"absolute right-[24px] w-20 h-full md:w-[119px] "}),(0,s.jsx)("button",{className:"absolute bottom-[32px] right-[16px] custom-gradient p-px rounded-[40px] h-10 cursor-pointer w-[71px] flex items-center justify-center",children:(0,s.jsx)("div",{className:"text-[14px] bg-[#232429] rounded-[40px] h-full px-4 shadow-custom-inset flex items-center font-BelanosimaSemiBold text-[#4791FF]",children:"Swaps"})})]})}function h(){const{achievements:t,dailyChallenges:e,level:n,experience:i,nextLevelExperience:h}=o;return(0,r._)().gamificationVisible?(0,s.jsxs)("div",{className:"min-w-[514px] w-[514px] max-w-[514px] flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-1 w-full",children:[(0,s.jsx)(a,{name:"Total Winnings",percent:"5K SOL (18%)",price:"31k",className:"bg-[url('/assets/image/total-win.png')]"}),(0,s.jsx)(a,{name:"Total Swaps",percent:"400 (22%)",price:"4,200",className:"bg-[url('/assets/image/total-swap.png')]"})]}),(0,s.jsxs)("div",{className:"h-[616px] w-full bg-[url('/assets/image/progress.png')] bg-no-repeat bg-full p-px flex flex-col items-center",children:[(0,s.jsx)(u,{}),(0,s.jsx)(l,{}),(0,s.jsx)(c,{})]})]}):null}function d(){const t=(0,r._)();return(0,s.jsx)("span",{className:"flex items-center justify-center cursor-pointer",onClick:()=>t.setGamificationVisible(!t.gamificationVisible),children:(0,s.jsx)("img",{alt:"game-icon",src:"/assets/image//game-icon.png"})})}},9166:(t,e,n)=>{"use strict";n.d(e,{A:()=>a,_:()=>o});var r=n(3696),i=n(2540);const s=(0,r.createContext)({});function o(){return(0,r.useContext)(s)}function a({children:t}){const[e,n]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!1),[u,l]=(0,r.useState)(!1),c={chatVisible:e,setChatVisible:n,gamificationVisible:o,setGamificationVisible:a,swapInfoVisible:u,setSwapInfoVisible:l};return(0,i.jsx)(s.Provider,{value:c,children:t})}},2362:(t,e,n)=>{"use strict";n.d(e,{sR:()=>ac,Vm:()=>oc,$T:()=>sc,qq:()=>uc,sv:()=>hc,RU:()=>cc,hx:()=>lc});var r={};n.r(r),n.d(r,{eyes:()=>M,face:()=>S,mouth:()=>A,sides:()=>E,texture:()=>I,top:()=>k});var i={};n.r(i),n.d(i,{create:()=>C,meta:()=>x,schema:()=>R});var s=n(3499),o=n(3696),a=n(7435),u=(n(9348),n(9758),n(7371)),l=n(6824),c=n(3017),h=n(3694);function d(t){return t.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}const f=-2147483648,p=2147483647;function m(t){return t^=t<<13,t^=t>>17,t^=t<<5}function g(t=""){let e=function(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n)|0,e=m(e);return e}(t=t.toString())||1;const n=()=>e=m(e),r=(t,e)=>Math.floor((n()-f)/(p-f)*(e+1-t)+t);return{seed:t,next:n,bool:(t=50)=>r(1,100)<=t,integer:(t,e)=>r(t,e),pick(t,e){var i;return 0===t.length?(n(),e):null!==(i=t[r(0,t.length-1)])&&void 0!==i?i:e},shuffle(t){const e=g(n().toString()),r=[...t];for(let n=r.length-1;n>0;n--){const t=e.integer(0,n);[r[n],r[t]]=[r[t],r[n]]}return r},string(t,e="abcdefghijklmnopqrstuvwxyz1234567890"){const r=g(n().toString());let i="";for(let n=0;n<t;n++)i+=e[r.integer(0,e.length-1)];return i}}}function y(t){let e=t.attributes.viewBox.split(" ");return{x:parseInt(e[0]),y:parseInt(e[1]),width:parseInt(e[2]),height:parseInt(e[3])}}const v={type:"object",$schema:"http://json-schema.org/draft-07/schema#",properties:{seed:{type:"string"},flip:{type:"boolean",default:!1},rotate:{type:"integer",minimum:0,maximum:360,default:0},scale:{type:"integer",minimum:0,maximum:200,default:100},radius:{type:"integer",minimum:0,maximum:50,default:0},size:{type:"integer",minimum:1},backgroundColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"}},backgroundType:{type:"array",items:{type:"string",enum:["solid","gradientLinear"]},default:["solid"]},backgroundRotation:{type:"array",items:{type:"integer",minimum:-360,maximum:360},default:[0,360]},translateX:{type:"integer",minimum:-100,maximum:100,default:0},translateY:{type:"integer",minimum:-100,maximum:100,default:0},clip:{type:"boolean",default:!0},randomizeIds:{type:"boolean",default:!1}}};function w(t){var e;let n={},r=null!==(e=t.properties)&&void 0!==e?e:{};return Object.keys(r).forEach((t=>{let e=r[t];"object"==typeof e&&void 0!==e.default&&(Array.isArray(e.default)?n[t]=[...e.default]:"object"==typeof e.default?n[t]={...e.default}:n[t]=e.default)})),n}function b(t){return"transparent"===t?t:`#${t}`}function _(t,e={}){var n,r,i,s,o;e=function(t,e){var n;let r={...w(v),...w(null!==(n=t.schema)&&void 0!==n?n:{}),...e};return JSON.parse(JSON.stringify(r))}(t,e);const a=g(e.seed),u=t.create({prng:a,options:e}),l=a.pick(null!==(n=e.backgroundType)&&void 0!==n?n:[],"solid"),{primary:c,secondary:h}=function(t,e,n){var r;let i=t.shuffle(e);i.length<=1||2==e.length&&"gradientLinear"==n?(i=e,t.next()):i=t.shuffle(e),0===i.length&&(i=["transparent"]);const s=i[0],o=null!==(r=i[1])&&void 0!==r?r:i[0];return{primary:b(s),secondary:b(o)}}(a,null!==(r=e.backgroundColor)&&void 0!==r?r:[],l),f=a.integer((null===(i=e.backgroundRotation)||void 0===i?void 0:i.length)?Math.min(...e.backgroundRotation):0,(null===(s=e.backgroundRotation)||void 0===s?void 0:s.length)?Math.max(...e.backgroundRotation):0);e.size&&(u.attributes.width=e.size.toString(),u.attributes.height=e.size.toString()),void 0!==e.scale&&100!==e.scale&&(u.body=function(t,e){let{width:n,height:r,x:i,y:s}=y(t),o=e?(e-100)/100:0;return`<g transform="translate(${(n/2+i)*o*-1} ${(r/2+s)*o*-1}) scale(${e/100})">${t.body}</g>`}(u,e.scale)),e.flip&&(u.body=function(t){let{width:e,x:n}=y(t);return`<g transform="scale(-1 1) translate(${-1*e-2*n} 0)">${t.body}</g>`}(u)),e.rotate&&(u.body=function(t,e){let{width:n,height:r,x:i,y:s}=y(t);return`<g transform="rotate(${e}, ${n/2+i}, ${r/2+s})">${t.body}</g>`}(u,e.rotate)),(e.translateX||e.translateY)&&(u.body=function(t,e,n){let r=y(t);return`<g transform="translate(${(r.width+2*r.x)*((null!=e?e:0)/100)} ${(r.height+2*r.y)*((null!=n?n:0)/100)})">${t.body}</g>`}(u,e.translateX,e.translateY)),"transparent"!==c&&"transparent"!==h&&(u.body=function(t,e,n,r,i){let{width:s,height:o,x:a,y:u}=y(t);const l=`<rect fill="${e}" width="${s}" height="${o}" x="${a}" y="${u}" />`;switch(r){case"solid":return l+t.body;case"gradientLinear":return`<rect fill="url(#backgroundLinear)" width="${s}" height="${o}" x="${a}" y="${u}" /><defs><linearGradient id="backgroundLinear" gradientTransform="rotate(${i} 0.5 0.5)"><stop stop-color="${e}"/><stop offset="1" stop-color="${n}"/></linearGradient></defs>`+t.body}}(u,c,h,l,f)),(e.radius||e.clip)&&(u.body=function(t,e){let{width:n,height:r,x:i,y:s}=y(t);return`<mask id="viewboxMask"><rect width="${n}" height="${r}" rx="${e?n*e/100:0}" ry="${e?r*e/100:0}" x="${i}" y="${s}" fill="#fff" /></mask><g mask="url(#viewboxMask)">${t.body}</g>`}(u,null!==(o=e.radius)&&void 0!==o?o:0)),e.randomizeIds&&(u.body=function(t){const e=g(Math.random().toString()),n={};return t.body.replace(/(id="|url\(#)([a-z0-9-_]+)([")])/gi,((t,r,i,s)=>(n[i]=n[i]||e.string(8),`${r}${n[i]}${s}`)))}(u));const p=function(t){const e={xmlns:"http://www.w3.org/2000/svg",...t.attributes};return Object.keys(e).map((t=>`${d(t)}="${d(e[t])}"`)).join(" ")}(u),m=function(t){var e,n,r,i,s,o,a;const u=null===(e=t.meta)||void 0===e?void 0:e.title,l=null===(n=t.meta)||void 0===n?void 0:n.creator,c=null===(r=t.meta)||void 0===r?void 0:r.source,h=null===(s=null===(i=t.meta)||void 0===i?void 0:i.license)||void 0===s?void 0:s.url,f=function(t){var e,n,r,i,s,o,a,u,l,c,h,d,f,p,m;let g=(null===(e=t.meta)||void 0===e?void 0:e.title)?`\u201e${null===(n=t.meta)||void 0===n?void 0:n.title}\u201d`:"Design",y=`\u201e${null!==(i=null===(r=t.meta)||void 0===r?void 0:r.creator)&&void 0!==i?i:"Unknown"}\u201d`;(null===(s=t.meta)||void 0===s?void 0:s.source)&&(g+=` (${t.meta.source})`);let v="";return"MIT"!==(null===(a=null===(o=t.meta)||void 0===o?void 0:o.license)||void 0===a?void 0:a.name)&&"DiceBear"!==(null===(u=t.meta)||void 0===u?void 0:u.creator)&&(null===(l=t.meta)||void 0===l?void 0:l.title)&&(v+="Remix of "),v+=`${g} by ${y}`,(null===(h=null===(c=t.meta)||void 0===c?void 0:c.license)||void 0===h?void 0:h.name)&&(v+=`, licensed under \u201e${null===(f=null===(d=t.meta)||void 0===d?void 0:d.license)||void 0===f?void 0:f.name}\u201d`,(null===(m=null===(p=t.meta)||void 0===p?void 0:p.license)||void 0===m?void 0:m.url)&&(v+=` (${t.meta.license.url})`)),v}(t);return u||l||c||h||f?'<metadata xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"><rdf:RDF><rdf:Description>'+(u?`<dc:title>${d(u)}</dc:title>`:"")+(l?`<dc:creator>${d(l)}</dc:creator>`:"")+(c?`<dc:source xsi:type="dcterms:URI">${d(null!==(a=null===(o=t.meta)||void 0===o?void 0:o.source)&&void 0!==a?a:"")}</dc:source>`:"")+(h?`<dcterms:license xsi:type="dcterms:URI">${d(h)}</dcterms:license>`:"")+(f?`<dc:rights>${d(f)}</dc:rights>`:"")+"</rdf:Description></rdf:RDF></metadata>":""}(t),_=`<svg ${p}>${m}${u.body}</svg>`;return{toString:()=>_,toJson:()=>{var t;return{svg:_,extra:{primaryBackgroundColor:c,secondaryBackgroundColor:h,backgroundType:l,backgroundRotation:f,...null===(t=u.extra)||void 0===t?void 0:t.call(u)}}},toDataUri:()=>`data:image/svg+xml;utf8,${encodeURIComponent(_)}`}}const E={antenna01:(t,e)=>`<mask id="sidesAntenna01-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="6" y="11" width="156" height="51"><g fill="#fff"><rect x="6" y="31" width="36" height="14" rx="4"/><rect x="18" y="14" width="36" height="48" rx="4"/><rect x="126" y="28" width="36" height="24" rx="4"/><path d="M11 11h2v20h-2z"/></g></mask><g mask="url(#sidesAntenna01-a)"><path d="M0 0h180v76H0V0Z" fill="${d(`${e.base}`)}"/><path fill="#fff" fill-opacity=".3" d="M0 0h180v76H0z"/><path fill="#000" fill-opacity=".1" d="M0 38h180v38H0z"/></g><path fill="#fff" fill-opacity=".4" d="M11 11h2v20h-2z"/><circle cx="12" cy="8" r="4" fill="#FFEA8F"/><circle cx="13" cy="7" r="2" fill="#fff"/>`,antenna02:(t,e)=>`<mask id="sidesAntenna02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="10" y="9" width="160" height="51"><g fill="#fff"><rect x="10" y="28" width="36" height="32" rx="4"/><path d="M160 9h2v20h-2z"/><rect x="134" y="28" width="36" height="32" rx="4"/></g></mask><g mask="url(#sidesAntenna02-a)"><path d="M0 0h180v76H0V0Z" fill="${d(`${e.base}`)}"/><path d="M0 0h180v76H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#000" fill-opacity=".1" d="M0 38h180v38H0z"/></g><path fill="#fff" fill-opacity=".4" d="M160 8h2v20h-2z"/><circle cx="161" cy="5" r="4" fill="#E1E6E8"/><circle cx="162" cy="4" r="2" fill="#fff"/>`,cables01:(t,e)=>`<path d="M38 12c-2.95 11.7-19.9 6.67-23.37 18-3.46 11.35 8.03 20 17.53 20" stroke="#2A3544" stroke-width="6" opacity=".9"/><path d="M150 55c8.4 3.49 20.1-7.6 16-16.5-4.1-8.9-16-6.7-16-19.3" stroke="#2A3544" stroke-width="4" opacity=".9"/><mask id="sidesCables01-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="21" y="6" width="138" height="58"><g fill="#fff"><rect x="21" y="35" width="16" height="22" rx="2"/><rect x="136" y="42" width="23" height="22" rx="2"/><rect x="136" y="6" width="23" height="18" rx="2"/></g></mask><g mask="url(#sidesCables01-a)"><path d="M0 0h180v76H0V0Z" fill="${d(`${e.base}`)}"/><path d="M0 0h180v76H0V0Z" fill="#fff" fill-opacity=".3"/></g>`,cables02:(t,e)=>`<g opacity=".9" stroke="#2A3544"><ellipse cx="32.5" cy="23" rx="16.5" ry="18" stroke-width="6"/><path d="M29.51 36.76c-7.4 4.29-17 1.55-21.42-6.1" stroke-width="4"/><ellipse cx="28.5" cy="52.5" rx="16.5" ry="14.5" stroke-width="4"/></g><g opacity=".9" stroke="#2A3544"><path d="M168.6 60.42c-4.27-7.41-13.95-9.84-21.6-5.42" stroke-width="4"/><ellipse cx="148.5" cy="22.5" rx="16.5" ry="15.5" stroke-width="6"/></g><mask id="sidesCables02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="21" y="0" width="138" height="72"><g fill="#fff"><rect x="21" y="27" width="16" height="22" rx="2"/><rect x="22" y="60" width="16" height="12" rx="2"/><rect x="143" y="42" width="16" height="22" rx="2"/><rect x="143" width="16" height="22" rx="2"/></g></mask><g mask="url(#sidesCables02-a)"><path d="M0 0h180v76H0V0Z" fill="${d(`${e.base}`)}"/><path d="M0 0h180v76H0V0Z" fill="#fff" fill-opacity=".3"/></g>`,round:(t,e)=>`<mask id="sidesRound-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="12" y="16" width="156" height="45"><g fill="#fff"><ellipse cx="150" cy="38.5" rx="18" ry="22.5"/><ellipse cx="18" cy="22.5" rx="18" ry="22.5" transform="matrix(-1 0 0 1 48 16)"/></g></mask><g mask="url(#sidesRound-a)"><path d="M0 0h180v76H0V0Z" fill="${d(`${e.base}`)}"/><path d="M0 0h180v76H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#000" fill-opacity=".2" d="M20 0h140v76H20z"/></g>`,square:(t,e)=>`<mask id="sidesSquare-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="14" y="16" width="152" height="44"><g fill="#fff"><rect x="14" y="16" width="36" height="44" rx="9"/><rect x="130" y="16" width="36" height="44" rx="9"/></g></mask><g mask="url(#sidesSquare-a)"><path d="M0 0h180v76H0V0Z" fill="${d(`${e.base}`)}"/><path d="M0 0h180v76H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#000" fill-opacity=".1" d="M0 38h180v38H0z"/></g>`,squareAssymetric:(t,e)=>`<mask id="sidesSquareAssymetric-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="10" y="8" width="165" height="60"><g fill="#fff"><rect x="10" y="31" width="36" height="30" rx="4"/><rect x="20" y="15" width="26" height="30" rx="4"/><rect x="139" y="23" width="36" height="30" rx="4"/><rect x="134" y="8" width="36" height="60" rx="4"/></g></mask><g mask="url(#sidesSquareAssymetric-a)"><path d="M0 0h180v76H0V0Z" fill="${d(`${e.base}`)}"/><path d="M0 0h180v76H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#000" fill-opacity=".1" d="M0 47h180v29H0z"/><circle cx="161" cy="20" r="5" fill="#fff" fill-opacity=".6"/><circle cx="161" cy="36" r="5" fill="#fff" fill-opacity=".6"/></g>`},k={antenna:(t,e)=>`<mask id="topAntenna-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="38" y="5" width="24" height="47"><path d="M38 38c0-1.1.9-2 2-2h20a2 2 0 0 1 2 2v14H38V38ZM48 5h4v31h-4z" fill="#fff"/></mask><g mask="url(#topAntenna-a)"><path d="M0 0h100v52H0V0Z" fill="${d(`${e.base}`)}"/><path d="M0 3h100v52H0V3Z" fill="#fff" fill-opacity=".3"/><path fill="#fff" fill-opacity=".2" d="M38 36h24v16H38z"/></g><circle cx="50" cy="8" r="8" fill="#FFE65C"/><circle cx="53" cy="5" r="3" fill="#fff"/>`,antennaCrooked:(t,e)=>`<mask id="topAntennaCrooked-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="38" y="12" width="24" height="40"><g fill="#fff"><path d="M55.54 34.39 51 45h-3.74l4.92-10.44-6.05-10.43 3.22-11.84 2.9.8-2.9 10.62 6.2 10.68Z"/><path d="M38 39h24v13H38z"/></g></mask><g mask="url(#topAntennaCrooked-a)"><path d="M0 0h100v52H0V0Z" fill="${d(`${e.base}`)}"/><path d="M0 6h100v52H0V6Z" fill="#fff" fill-opacity=".3"/><path fill="#fff" fill-opacity=".2" d="M38 39h24v13H38z"/></g><circle cx="50" cy="8" r="8" fill="#FFE65C"/><circle cx="53" cy="5" r="3" fill="#fff"/>`,bulb01:(t,e)=>`<mask id="topBulb01-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="22" y="0" width="56" height="52"><g fill="#fff"><path fill-rule="evenodd" clip-rule="evenodd" d="M32 16A16 16 0 0 1 48 0h4a16 16 0 0 1 16 16v16a8 8 0 0 1-8 8H40a8 8 0 0 1-8-8V16Z"/><rect x="22" y="40" width="56" height="12" rx="1"/></g></mask><g mask="url(#topBulb01-a)"><path d="M0 0h100v52H0V0Z" fill="${d(`${e.base}`)}"/><path d="M0 0h100v52H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#fff" fill-opacity=".4" d="M20-3h60v43H20z"/><path d="M49 3.5c4.93 0 9.37 2.13 12.44 5.52" stroke="#fff" stroke-width="2" stroke-linecap="round"/><path d="m49.83 26-9-9L38 19.83l10 10V40h4V29.97l10.14-10.14L59.31 17l-9 9h-.48Z" fill="#fff" fill-opacity=".8"/></g>`,glowingBulb01:(t,e)=>'<g filter="url(#topGlowingBulb01-a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M32 24A16 16 0 0 1 48 8h4a16 16 0 0 1 16 16v8a8 8 0 0 1-8 8H40a8 8 0 0 1-8-8v-8Z" fill="#fff" fill-opacity=".3"/></g><path d="M49 11.5c4.93 0 9.37 2.13 12.44 5.52" stroke="#fff" stroke-width="2" stroke-linecap="round"/><path d="m49.83 29-9-9L38 22.83l10 10V40h4v-7.03l10.14-10.14L59.31 20l-9 9h-.48Z" fill="#fff" fill-opacity=".8"/><rect x="22" y="40" width="56" height="12" rx="1" fill="#48494B"/><defs><filter id="topGlowingBulb01-a" x="24" y="0" width="52" height="48" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="4"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_617_621"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_617_621" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="2"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"/><feBlend in2="shape" result="effect2_innerShadow_617_621"/></filter></defs>',glowingBulb02:(t,e)=>'<g filter="url(#topGlowingBulb02-a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M30 33a20 20 0 1 1 40 0v11H30V33Z" fill="#fff" fill-opacity=".3"/></g><ellipse cx="50" cy="30" rx="4" ry="6" fill="#fff" fill-opacity=".6"/><path d="M50 15.5c4.93 0 9.37 2.13 12.44 5.52m2.43 3.5c.7 1.3 1.21 2.73 1.53 4.23" stroke="#fff" stroke-width="2" stroke-linecap="round"/><rect x="20" y="36" width="60" height="16" rx="1" fill="#48494B"/><defs><filter id="topGlowingBulb02-a" x="22" y="5" width="56" height="47" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="4"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_617_633"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_617_633" result="shape"/><feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/><feOffset/><feGaussianBlur stdDeviation="2"/><feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/><feColorMatrix values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.5 0"/><feBlend in2="shape" result="effect2_innerShadow_617_633"/></filter></defs>',horns:(t,e)=>`<mask id="topHorns-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="8" y="12" width="84" height="40"><g fill="#fff"><path d="M8 40h26v12H8z"/><path transform="matrix(-1 0 0 1 92 40)" d="M0 0h26v12H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M16.52 13.74c0 7.84 5.39 20.71 13.72 27.04H11.36S7.84 22.66 13.43 14.1c.9-1.38 3.1-1.42 3.1-.36ZM84 14c.66 7.04-5.77 20.62-14 27h19s3.14-18.26-2-27c-1-1.7-3.14-1.45-3 0Z"/></g></mask><g mask="url(#topHorns-a)"><path d="M0 0h100v52H0V0Z" fill="${d(`${e.base}`)}"/><path d="M0 0h100v52H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#000" fill-opacity=".4" d="M0 40h100v12H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15.46 13h16.1v27H20.83c-7.45-7.85-5.36-27-5.36-27ZM84.82 13h7.75v27H81.82c5.75-7.8 3-27 3-27Z" fill="#fff" fill-opacity=".4"/></g>`,lights:(t,e)=>`<mask id="topLights-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="10" y="22" width="80" height="30"><g fill="#fff"><path d="M10 42c0-1.1.9-2 2-2h76a2 2 0 0 1 2 2v10H10V42Z"/><path d="M18 27a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v25H18V27ZM42 27a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v25H42V27ZM66 27a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v25H66V27Z"/></g></mask><g mask="url(#topLights-a)"><path d="M0 0h100v52H0V0Z" fill="${d(`${e.base}`)}"/><path d="M0 0h100v52H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#fff" fill-opacity=".6" d="M0 0h100v40H0z"/><rect x="24" y="28" width="4" height="8" rx="2" fill="#fff" fill-opacity=".6"/><rect x="48" y="28" width="4" height="8" rx="2" fill="#fff" fill-opacity=".6"/><rect x="72" y="28" width="4" height="8" rx="2" fill="#fff" fill-opacity=".6"/></g>`,pyramid:(t,e)=>`<mask id="topPyramid-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="18" y="8" width="64" height="44"><path fill-rule="evenodd" clip-rule="evenodd" d="m50 8 32 44H18L50 8Z" fill="#fff"/></mask><g mask="url(#topPyramid-a)"><path d="M0 0h100v52H0V0Z" fill="${d(`${e.base}`)}"/><path d="M0 0h100v52H0V0Z" fill="#fff" fill-opacity=".3"/><path fill="#fff" fill-opacity=".8" d="M50 4h30v48H50z"/></g>`,radar:(t,e)=>'<mask id="topRadar-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="37" y="0" width="36" height="53"><g fill="#fff"><path fill-rule="evenodd" clip-rule="evenodd" d="M43.8.11A20 20 0 1 0 72.08 28.4"/><circle cx="67.13" cy="5.06" r="4" transform="rotate(45 67.13 5.06)"/><path transform="rotate(45 64.3 6.48)" d="M64.31 6.48h2v26h-2z"/><path d="M47.94 28.11h4v24h-4z"/></g></mask><g mask="url(#topRadar-a)"><path d="M0 0h100v52H0V0Z" fill="#90A4AE"/><path d="M0 0h100v52H0V0Z" fill="#fff" fill-opacity=".3"/><path fill-rule="evenodd" clip-rule="evenodd" d="M43.8.11A20 20 0 1 0 72.08 28.4" fill="#fff" fill-opacity=".2"/><circle cx="67.13" cy="7.41" r="5.66" transform="rotate(45 67.13 7.4)" fill="#fff" fill-opacity=".8"/></g>'},S={round01:(t,e)=>{var n,r;return`<mask id="faceRound01-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120"><path fill-rule="evenodd" clip-rule="evenodd" d="M66 0c58.35 0 64 40.69 64 78 0 33.31-25.47 42-64 42-37.46 0-66-8.69-66-42C0 40.69 7.65 0 66 0Z" fill="#fff"/></mask><g mask="url(#faceRound01-a)"><path d="M-4-2h138v124H-4V-2Z" fill="${d(`${e.base}`)}"/><g transform="translate(-1 -1)">${null!==(r=null===(n=t.texture)||void 0===n?void 0:n.value(t,e))&&void 0!==r?r:""}</g></g>`},round02:(t,e)=>{var n,r;return`<mask id="faceRound02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 31v-1c.18-.48.4-1.5 1-3 .83-3.06 2.78-6.56 6-10C16.7 6.6 35.17 0 65 0s48.3 6.6 58 17c3.22 3.44 5.17 6.94 6 10 .6 1.5.82 2.52 1 3v40c0-.1-.03.5 0 1a53.93 53.93 0 0 1-1 6c-1.19 6-3.4 11.91-7 17-9.72 16.34-27.74 26-57 26s-47.28-9.66-57-26C4.4 88.91 2.2 83 1 77a53.95 53.95 0 0 1-1-6c.03-.45 0-1.32 0-1V31Z" fill="#fff"/></mask><g mask="url(#faceRound02-a)"><path d="M-4-2h138v124H-4V-2Z" fill="${d(`${e.base}`)}"/><g transform="translate(-1 -1)">${null!==(r=null===(n=t.texture)||void 0===n?void 0:n.value(t,e))&&void 0!==r?r:""}</g></g>`},square01:(t,e)=>{var n,r;return`<mask id="faceSquare01-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120"><rect width="130" height="120" rx="18" fill="#fff"/></mask><g mask="url(#faceSquare01-a)"><path d="M-2-2h134v124H-2V-2Z" fill="${d(`${e.base}`)}"/><g transform="translate(-1 -1)">${null!==(r=null===(n=t.texture)||void 0===n?void 0:n.value(t,e))&&void 0!==r?r:""}</g></g>`},square02:(t,e)=>{var n,r;return`<mask id="faceSquare02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120"><path d="M0 12A12 12 0 0 1 12 0h106a12 12 0 0 1 12 12v70a38 38 0 0 1-38 38H38A38 38 0 0 1 0 82V12Z" fill="#fff"/></mask><g mask="url(#faceSquare02-a)"><path d="M-2-2h134v124H-2V-2Z" fill="${d(`${e.base}`)}"/><g transform="translate(-1 -1)">${null!==(r=null===(n=t.texture)||void 0===n?void 0:n.value(t,e))&&void 0!==r?r:""}</g></g>`},square03:(t,e)=>{var n,r;return`<mask id="faceSquare03-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 18A18 18 0 0 1 18 0h94a18 18 0 0 1 18 18v27.15a40 40 0 0 1-2.28 13.31L110.24 108a18 18 0 0 1-16.98 12H36.74a18 18 0 0 1-16.98-12L2.28 58.45A40 40 0 0 1 0 45.15V18Z" fill="#fff"/></mask><g mask="url(#faceSquare03-a)"><path d="M-2-2h134v124H-2V-2Z" fill="${d(`${e.base}`)}"/><g transform="translate(-1 -1)">${null!==(r=null===(n=t.texture)||void 0===n?void 0:n.value(t,e))&&void 0!==r?r:""}</g></g>`},square04:(t,e)=>{var n,r;return`<mask id="faceSquare04-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="130" height="120"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 102V68.85a40 40 0 0 1 2.28-13.31L19.76 12A18 18 0 0 1 36.74 0h56.52a18 18 0 0 1 16.98 12l17.48 43.54A40 40 0 0 1 130 68.85V102a18 18 0 0 1-18 18H18a18 18 0 0 1-18-18Z" fill="#fff"/></mask><g mask="url(#faceSquare04-a)"><path d="M-2-2h134v124H-2V-2Z" fill="${d(`${e.base}`)}"/><g transform="translate(-1 -1)">${null!==(r=null===(n=t.texture)||void 0===n?void 0:n.value(t,e))&&void 0!==r?r:""}</g></g>`}},A={bite:(t,e)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#000" fill-opacity=".6"/><path fill-rule="evenodd" clip-rule="evenodd" d="m20 17 6-8H14l6 8ZM32 17l6-8H26l6 8ZM44 17l6-8H38l6 8ZM56 17l6-8H50l6 8Z" fill="#E1E6E8"/>',diagram:(t,e)=>'<rect x="4" y="4" width="68" height="24" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="8" width="60" height="16" rx="2" fill="#000" fill-opacity=".8"/><path d="M9 17h11l2-4 3 7 4-8 2 9 3-11 3 10 3-3h15l3-4 2 7 3-3h4" stroke="#4EFAC9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>',grill01:(t,e)=>'<g fill="#000" fill-opacity=".6"><rect x="12" y="12" width="4" height="8" rx="2"/><rect x="36" y="12" width="4" height="8" rx="2"/><rect x="24" y="12" width="4" height="8" rx="2"/><rect x="48" y="12" width="4" height="8" rx="2"/><rect x="60" y="12" width="4" height="8" rx="2"/></g>',grill02:(t,e)=>'<g fill="#000" fill-opacity=".6"><rect x="28" y="10" width="6" height="14" rx="2"/><rect x="14" y="10" width="6" height="14" rx="2"/><rect x="42" y="10" width="6" height="14" rx="2"/><rect x="56" y="10" width="6" height="14" rx="2"/></g>',grill03:(t,e)=>'<rect x="4" y="5" width="68" height="22" rx="5" fill="#000" fill-opacity=".2"/><rect x="8" y="9" width="60" height="14" rx="2" fill="#fff"/><path fill="#000" fill-opacity=".1" d="M18 9h4v14h-4zM42 9h4v14h-4zM30 9h4v14h-4zM54 9h4v14h-4z"/>',smile01:(t,e)=>'<path d="M27.05 8.44a2 2 0 1 1 3.9-.88C31.72 10.96 34.4 13 38 13c3.6 0 6.28-2.04 7.05-5.44a2 2 0 1 1 3.9.88C47.75 13.7 43.43 17 38 17s-9.76-3.3-10.95-8.56Z" fill="#000" fill-opacity=".6"/>',smile02:(t,e)=>'<path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#000" fill-opacity=".8"/><mask id="mouthSmile02-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="18" y="8" width="40" height="20"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 10.22C18 21.78 24.47 28 38 28c13.52 0 20-6.34 20-17.78C58 9.5 57.17 8 55 8H21c-2.05 0-3 1.38-3 2.22Z" fill="#fff"/></mask><g mask="url(#mouthSmile02-a)"><rect x="30" y="2" width="16" height="14" rx="2" fill="#fff"/></g>',square01:(t,e)=>'<rect x="24" y="6" width="27" height="8" rx="4" fill="#000" fill-opacity=".8"/>',square02:(t,e)=>'<rect x="16" y="8" width="44" height="4" rx="2" fill="#000" fill-opacity=".8"/>'},M={bulging:(t,e)=>'<circle cx="28" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="74" cy="24" r="18" fill="#000" fill-opacity=".2"/><circle cx="28" cy="24" r="15" fill="#F1EEDA"/><circle cx="74" cy="24" r="15" fill="#F1EEDA"/><rect x="26" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="74" y="15" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',dizzy:(t,e)=>'<path d="m25 27.2 5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L28.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L25 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5ZM79 27.2l5.5 5.5c.5.4 1.2.4 1.6 0l1.6-1.6c.4-.5.4-1.2 0-1.6L82.2 24l5.5-5.5c.4-.5.4-1.2 0-1.6l-1.6-1.6c-.5-.4-1.2-.4-1.6 0L79 20.8l-5.5-5.5c-.5-.4-1.2-.4-1.6 0l-1.6 1.6c-.4.4-.4 1.1 0 1.6l5.5 5.5-5.5 5.5c-.4.5-.4 1.2 0 1.6l1.6 1.6c.5.4 1.2.4 1.6 0l5.5-5.5Z" fill="#000" fill-opacity=".8"/>',eva:(t,e)=>'<g fill-rule="evenodd" clip-rule="evenodd"><path d="M53 0c34.75 0 49 17.47 49 31 0 13.53-19.59 17-49 17-29.05 0-51-3.47-51-17S17.11 0 53 0Z" fill="#000" fill-opacity=".8"/><path d="M28.82 34.65c-6.53-1.35-11.24-6.34-10.52-11.14.72-4.79 6.6-7.58 13.12-6.23 6.53 1.36 11.24 6.35 10.52 11.15-.72 4.8-6.6 7.59-13.12 6.23ZM75.42 34.65c-6.52 1.36-12.4-1.43-13.12-6.23-.72-4.8 4-9.8 10.52-11.15 6.52-1.35 12.4 1.44 13.12 6.24.72 4.81-4 9.8-10.52 11.15Z" fill="#25A6F5"/></g>',frame1:(t,e)=>'<rect y="4" width="104" height="42" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><rect x="66" y="25" width="10" height="11" rx="2" fill="#8BDDFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21 4h8L12 46H4L21 4Z" fill="#fff" fill-opacity=".4"/>',frame2:(t,e)=>'<rect x="8" y="10" width="88" height="36" rx="4" fill="#000" fill-opacity=".8"/><rect x="28" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><rect x="66" y="21" width="10" height="17" rx="2" fill="#5EF2B8"/><path fill-rule="evenodd" clip-rule="evenodd" d="M83 10h5L76 46h-5l12-36Z" fill="#fff" fill-opacity=".4"/>',glow:(t,e)=>'<g fill="#fff"><circle cx="21" cy="30" r="15" fill-opacity=".1"/><circle cx="83" cy="30" r="15" fill-opacity=".1"/><circle cx="21" cy="30" r="12" fill-opacity=".1"/><circle cx="83" cy="30" r="12" fill-opacity=".1"/><circle cx="21" cy="30" r="6" fill-opacity=".8"/><circle cx="83" cy="30" r="6" fill-opacity=".8"/><circle cx="21" cy="30" r="3" fill-opacity=".8"/><circle cx="83" cy="30" r="3" fill-opacity=".8"/></g>',happy:(t,e)=>'<path d="m18 19 12-2M20 31c0-3.31 2.9-6 7-6 3.1 0 6 2.69 6 6M86 20l-12-3M84 31c0-3.31-2.9-6-6-6-4.1 0-7 2.69-7 6" stroke="#000" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>',hearts:(t,e)=>'<path d="M29.27 9.68c-2.55.13-4.96 2.24-6.25 4.15-1.48-1.76-4.1-3.6-6.65-3.47-5.48.28-8.85 3.8-8.63 8.1.3 5.72 4.88 8.89 9.7 12.24 1.71 1.15 5 4.15 5.42 4.82.42.67 2.14.6 2.58-.13a37.8 37.8 0 0 1 4.9-5.36c4.43-3.84 8.66-7.47 8.36-13.2-.23-4.3-3.95-7.44-9.43-7.15ZM87.63 10.36c-2.55-.14-5.17 1.7-6.65 3.47-1.3-1.9-3.7-4.02-6.25-4.15-5.48-.29-9.2 2.86-9.43 7.16-.3 5.72 3.93 9.35 8.36 13.19 1.6 1.32 4.55 4.64 4.9 5.36.35.7 2.06.82 2.58.13.51-.7 3.7-3.67 5.42-4.82 4.81-3.35 9.4-6.52 9.7-12.24.22-4.3-3.15-7.82-8.63-8.1Z" fill="#FF5353" fill-opacity=".8"/>',robocop:(t,e)=>'<rect x="7" y="16" width="91" height="16" rx="4" fill="#000" fill-opacity=".8"/><mask id="eyesRobocop-a" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="7" y="16" width="91" height="16"><rect x="7" y="16" width="91" height="16" rx="4" fill="#fff"/></mask><g mask="url(#eyesRobocop-a)" fill-rule="evenodd" clip-rule="evenodd" fill="#fff" fill-opacity=".8"><path d="M76 7h18L82 37H64L76 7ZM52 7h9L49 37h-9L52 7Z"/></g>',round:(t,e)=>'<g fill="#fff"><circle cx="24" cy="30" r="6"/><circle cx="80" cy="30" r="6"/></g>',roundFrame01:(t,e)=>'<rect y="12" width="104" height="32" rx="16" fill="#000" fill-opacity=".8"/><rect x="24" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/><rect x="70" y="22" width="10" height="12" rx="2" fill="#F4F4F4"/>',roundFrame02:(t,e)=>'<rect y="11" width="104" height="34" rx="17" fill="#000" fill-opacity=".8"/><circle cx="29" cy="28" r="13" fill="#F1EEDA"/><circle cx="75" cy="28" r="13" fill="#F1EEDA"/><rect x="24" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/><rect x="70" y="23" width="10" height="10" rx="2" fill="#000" fill-opacity=".8"/>',sensor:(t,e)=>'<path d="M28 44a20 20 0 0 0 19.9-18h41.52a5 5 0 1 0 0-4H47.9A20 20 0 1 0 28 44Z" fill="#000" fill-opacity=".2"/><circle cx="94" cy="24" r="2" fill="#fff"/><circle cx="28" cy="24" r="16" fill="#000" fill-opacity=".6"/><circle cx="34" cy="16" r="3" fill="#fff"/>',shade01:(t,e)=>'<path d="M96 2H8c-4.5 0-8 3.5-8 8.03V28c0 4.5 3.5 8 8 8h13c8 0 11 8 18 8h27c7 0 9-8 17-8h13c4.5 0 8-3.5 8-8V10c0-4.5-3.5-8-8-8Z" fill="#000" fill-opacity=".8"/><path d="M87 14H17c-3.5 0-5 3-5 5v2c0 2 1.5 5 5 5h12c6 0 11.62 8 17 8h14c5.38 0 9-8 15-8h12c3.5 0 5-3 5-5v-2c0-2-1.5-5-5-5Z" fill="#FF3D3D"/><path d="M22.44 36.09 37.26 2h11L31.4 40.78l-.76-.58c-2.38-1.82-4.83-3.69-8.2-4.11ZM11.48 36 26.26 2h4L15.48 36h-4Z" fill="#fff" fill-opacity=".2"/>'},I={camo01:(t,e)=>'<g fill="#000" fill-opacity=".2"><path d="M117.94-4a6.08 6.08 0 0 0 2.52-.99l.77-.12c2.72-.42 9.94-1.53 11.25-.4.85.75.47 3.39.2 5.28-.11.72-.2 1.34-.2 1.7-1.33.06-2.34-1.4-3.32-2.83-1.46-2.12-2.88-4.17-5.2-1.06-1.1 1.46-.85 3.3-.6 5.18.28 1.98.55 3.99-.74 5.62-1.54 1.93-4 2.2-6.42 2.47-2.56.28-5.1.56-6.48 2.8-.4.66-.5 1.8-.62 3.05-.2 2.15-.43 4.58-2.25 5.14-3.12.97-3.32-1.69-3.5-4-.09-1.25-.18-2.4-.7-2.84-5.7-4.7-6.23 4.37-6.35 6.43v.03c-.03.43.05.78.12 1.1.13.57.23 1.05-.33 1.73-.3.36-.7.3-1.12.23-.43-.06-.89-.13-1.27.23-1.5 1.4-1.54 1.54-1.88 3.11l-.09.37c-.11.53-.19.99-.25 1.4-.14.94-.26 1.67-.84 2.64-.27.45-.63.89-1 1.33-1.2 1.46-2.39 2.9-.14 4.69-.61 0-6 1.46-6.35 1.64-.52.27-1.12.98-1.66 1.61a4.5 4.5 0 0 1-1.18 1.15c-3.2 1.1-2.97-1.28-2.74-3.74.14-1.48.28-2.98-.32-3.77 8.28-.27 13.26-8.21 13.75-14.38a5 5 0 0 0-.65-2.5c-.28-.62-.54-1.2-.55-1.8-.02-.83.25-1.4.52-1.97.22-.47.44-.93.5-1.54.23-2.64-.85-3.61-2.27-4.89-.7-.64-1.5-1.35-2.26-2.4-2.5-3.45-1.2-3.99 2.6-3.36 2.17.36 4.26 1 6.36 1.63 2.56.78 5.12 1.56 7.84 1.83 3.48.34 6.71.18 8.36-2.66.95-1.63 1.37-6.13-1.8-6.48.8-.13 1.44-.38 2.1-.64a9.32 9.32 0 0 1 3.02-.77c1 .4 2.06.64 3.16.74ZM123.7 79.87v.01ZM32.38 86.47c.1.04.21.04.34 0-.18.13-.46.02-.37 0h.03ZM32.37 86.46h-.02.02ZM131.44 126.49c-.34-.03-.33-.04 0-.06.07-.28.16-.57.26-.85.21-.67.4-1.26.03-1.4 1.13-.21.92 1.8.8 2.96-.03.28-.05.5-.05.64-1.06 0-1.18-.59-1.04-1.3Z"/><path d="M131.52 125.78v-.04c-.44.03-.44.04 0 .07v-.02ZM41.65-5.5c.39.07 1.5.18 1.87 0h-1.87ZM39.01 51.48c-1.06-.25-1.44-.92-1.73-1.42-.16-.28-.3-.5-.5-.58-2.83-1.05-3.29.92-3.77 3.98-.1.56-.11 1.03-.13 1.47-.05 1.08-.08 1.9-1.09 2.94-.58.6-1.52.91-2.45 1.22a8.8 8.8 0 0 0-1.87.78c-1.47.93-2.12 1.78-2.92 2.83-.32.4-.66.85-1.08 1.34-.96 1.11-2.36 2.19-3.82 3.3-3.9 2.98-8.2 6.25-5.32 11.4 3.1 5.55 4.32.87 5.27-2.75.36-1.39.68-2.62 1.05-3.05 4.67-5.47 5.68-.12 6.29 3.08.1.52.18.99.27 1.34 1.31 5.03 3.1 1.4 4.58-1.58.44-.9.86-1.74 1.22-2.28.44-.63.99-1.1 1.52-1.55a5.7 5.7 0 0 0 1.68-1.92c.24-.52.12-1.17 0-1.84-.2-1.1-.4-2.25.97-2.95 1.45-.73 3.12.16 4.6.96 1.13.6 2.15 1.16 2.9.9 2.33-.83.23-3.6-1.45-5.82-.78-1.02-1.46-1.93-1.59-2.47-.36-1.58.28-2.95.91-4.32.64-1.38 1.28-2.77.9-4.37-.66.1-1.23.4-1.8.72-.8.44-1.61.88-2.65.64ZM80.6 88.07ZM95.89 72.7c.38-2.66-1.73-4.02-3.9-5.43-.7-.45-1.39-.9-2.02-1.4-1.43-1.13-2.4-2.07-3.12-3.66a3.83 3.83 0 0 1-.17-1.2c-.04-.69-.08-1.4-.42-1.65-1.85-1.27-2.88-.4-4.13.66-.6.5-1.24 1.05-2.04 1.42-2.72 1.24-2.75 1.22-4.38.26-.33-.2-.72-.43-1.22-.7l-.71-.4c-1.5-.9-2.56-1.53-4.4 1.07-.73 1.04-.7 2.87-.66 4.77.07 3.18.14 6.57-3.42 6.77 1.57.69.86 2.74.14 4.83-.74 2.15-1.49 4.34.23 5.1 4.18 1.83 5.4-6.86 6.09-11.83.23-1.64.4-2.88.6-3.2 1.67-2.62 7.63-4.86 9.34-.98.31.7.08 1.44-.15 2.2-.22.73-.45 1.47-.2 2.2.37 1.03.97 1.41 1.67 1.86.38.23.78.49 1.19.87 2.9 2.71 2.79 2.88 1.34 5.18l-.86 1.4c-.3.54-.56 1.38-.83 2.31-.61 2.1-1.35 4.63-3.25 4.92 1.04-.01 2.13.24 3.2.5 2.06.47 4.08.94 5.61-.45 1.07-.97.89-2.72.71-4.4-.11-1.09-.22-2.15.03-2.93.44-1.42 1.63-2.6 2.81-3.77 1.34-1.34 2.68-2.66 2.92-4.32ZM18.9 104.45c.03.48.07 1.03.18 1.7.4 2.48 1.51 3.9 2.95 5.7v.01l.95 1.2c-4.37.08-7.8 4.62-3.04 7.18-1.93-1.03-3.39.12-4.58 1.07-1.49 1.19-2.55 2.03-3.57-2.27l-.28-1.1c-.23-.86-.48-1.84-.58-2.5-.21-1.44-.18-1.61-.01-2.4l.1-.47c.08-.47.26-.79.43-1.09.35-.63.63-1.15-.13-2.67-.4-.79-.88-1.4-1.34-1.99-.85-1.06-1.6-2.02-1.58-3.73 0-.48.21-.86.43-1.27.37-.68.78-1.45.38-2.92a12.4 12.4 0 0 0-1.08-2.46c-.5-.97-1.01-1.94-1.2-2.99 1.81.08 2.96 1.45 3.98 2.68.36.44.71.85 1.07 1.19.8.75 1.75 1.28 2.69 1.8.8.45 1.6.9 2.24 1.45 1.8 1.58 1.86 2.4 1.98 3.9ZM24.68 91.3c1.49.12 5.48-3.14 5.74-4.07-1.29.24-2.6-.36-3.88-.94-1.44-.66-2.84-1.3-4.14-.73-2.3 1 .15 5.56 2.28 5.74ZM83.04 92.92c-1.63.3-3.49.64-4.58 0-1.06-.62-3.16-3.28-.1-3.13.78.3 1.67.5 2.56.68 1.87.4 3.7.8 4.21 2.16-.57.02-1.3.15-2.09.3ZM62.6 68.99c-.84-.05-1.62-.2-2.34-.34-2.16-.41-3.75-.72-4.43 2.13 1.12-.05 2.23.25 3.23.5 2.11.56 3.68.97 3.53-2.3ZM91.57 105.44c-.72-.36-1.4-.7-1.93-.74.68-.1.8-.77.92-1.4.1-.52.2-1.02.61-1.16.17.05.36.1.58.14 1.76.41 4.88 1.14 4.11 2.82-.93 2.04-2.71 1.14-4.3.34Z"/><path d="M23.02 113.15c-.74.04-.24.2.07.24l-.07-.24ZM64.47 65.13c.83-.57.8-3.2-.45-3.31-1.75.39-.86 4.2.45 3.3ZM129.6 34.45c.03.59 2.6 3.1 2.88 3.08 0-.07.02-.26.06-.51.17-1.29.59-4.32-.85-3.64a5 5 0 0 0-.71.44c-.42.3-.85.6-1.38.63ZM21.62 127.86c-5.14 0-3.31-2.39-1.94-1.65.3.16.55.44.81.71.3.32.6.64.96.78.09.04.11.07.14.1 0 .03.02.04.03.06ZM-.7-.88c.01-.43-2.42-1.19-1-.21-.14-.1-.03-.05.17.03.3.13.83.34.83.18ZM123.37 43.75c-1.53-.42 2.62-.23 2.1.93-.42-.05-.79-.27-1.16-.49-.3-.17-.6-.35-.94-.44Z"/></g><path d="M38.12 26.75c.24-.76-.15-1.6-.53-2.44-.32-.7-.64-1.4-.61-2.05.02-.62.47-1.75.9-2.82a18.15 18.15 0 0 0 .84-2.47c.8-3.23 2.3-9.38 7.7-6.52-4.33-2.3-2.55-4.12-.56-6.15a12.3 12.3 0 0 0 2.06-2.51c.4-.74.72-1.08.91-1.27.11-.12.18-.19.19-.26 0-.1-.1-.22-.34-.5l-.4-.45c-.59-.7-4.78-1.65-5.78-1.63-3.82.09-7.98 3.7-9.9 6.62-1.03 1.56-.67 2.43-.33 3.26.2.5.4.98.3 1.6-.05.25-.02.5 0 .74.09.73.16 1.35-2.01 1.47-2.7.15-7.77-4.33-7.8-6.53 0-.73.78-1.56 1.57-2.4 1.4-1.46 2.79-2.94-.21-3.87-2.24-.7-9.03 3.8-9.45 5.5-.26 1.06.5 2.2 1.15 3.2 1.06 1.6 1.88 2.84-2.02 2.81 0-.02 3.63 2.29 4 2.77.85 1.09 1.17 1.88 1.45 2.56.47 1.17.81 2 3.44 3.44 1.1.6 2.28 1.12 3.45 1.64 1.58.69 3.16 1.39 4.56 2.28.76.49 1.4 1.07 2.03 1.63 1.48 1.32 2.86 2.57 5.4 2.34ZM127.37 3.5c-1.41.74-.6 1.4.37 2.18.98.79 2.12 1.7 1.37 2.97-.47.81-1.6.99-2.76 1.16-1.17.18-2.37.37-2.95 1.22-.84 1.23-.5 2.1-.18 2.94.39.98.76 1.93-.78 3.38-1.08 1.01-2.1 1.34-2.98 1.62-1.31.42-2.33.75-2.8 3.09-.74 3.58 1.1 5.97 2.84 8.24 1.97 2.58 3.85 5.02 1.78 8.9l-.34.62c-1.09 1.9-3 5.22.62 6.34 2.63.81 2.48-.12 2.31-1.08-.12-.73-.25-1.48.8-1.52-.21-.6 2.98.1 2.58.98.84.09 1.25.54 1.65.98.57.63 1.12 1.24 2.9.7 1.76-.55 2.05-2.2 2.28-3.55l.02-.1c.35-2.04-.6-3.8-1.5-5.5-.75-1.41-1.47-2.78-1.42-4.22v-.54c-.01-.36-.02-.65.16-1.13a2.74 2.74 0 0 1 2-.48c1.16.24 1.48-.2.97-1.3 1-1.93.62-5.18.29-8.05-.15-1.3-.3-2.51-.3-3.5 0-.67.13-1.8.27-3.13.36-3.47.87-8.26-.26-9.68-.66-.83-5.81-2.13-6.94-1.54ZM129.58 52.35c-2.97-.76-2.61 1.57-2.33 3.35.08.52.15 1 .13 1.33-.14 2.96-.48 3.68-4.15 4.16-.88.12-1.72-.1-2.55-.3-1.4-.36-2.76-.7-4.23.55-.83.7-.8 1.57-.76 2.44.02.43.04.85-.04 1.26-.14.7-.68 1.78-1.25 2.93-1.05 2.11-2.22 4.48-1.26 5.11.65.44 2.53-.06 4.66-.62 3.68-.96 8.12-2.13 8.4.86.18 1.78-2.15 2.05-4.37 2.3-1.44.17-2.83.34-3.45.9-.19.17-.55 1.43-.91 2.68-.4 1.4-.81 2.8-.96 2.67.65.54 1.69-.2 2.91-1.07 1.8-1.28 4.02-2.86 6.04-1.12-2.49-4.76 4.86-4.08 7.99-3.8.34.04.63.07.86.08V60.21c-3.56.93-3.33-1.08-3.07-3.31.22-1.92.45-4-1.66-4.55ZM131.51 120.55c.9.05 1.81.1 2.8.1 0 .8-.74 1.17-1.48 1.53-.64.31-1.29.63-1.46 1.24-.48 1.73.58 2.33 1.56 2.88.71.4 1.38.77 1.38 1.52-.84 0-1.78.04-2.76.09-2.07.09-4.3.18-6.04-.09h-2.93l-.25-1.14-.43-.2c-1.22-.57-3.28-1.53-4.19-2.16-4.51-3.15-.46-6.42 3.78-7.72-2.92.9 1.1 3.79 2.51 4.18 1.1.3 1.74.15 2.5-.03.44-.1.94-.22 1.58-.26 1.2-.06 2.31 0 3.43.06ZM13.29 31.85c-.62-.31-1.29-.12-1.96.08-.78.22-1.56.45-2.29-.09-.39-.29-.26-.87-.13-1.41.1-.44.2-.85 0-1.05-2-1.94-2.12-1.47-2.46-.15-.15.59-.34 1.35-.77 2.14-.86 1.58-1.96 1.95-3.06 2.31-1.3.44-2.6.86-3.45 3.34-1.84 5.28-5.2 3.61-6.4-1-.2-.72-.77-1.78-1.4-2.98-1.6-2.98-3.62-6.77-1.23-7.9-1.66.79-3.61 1.13-5.57 1.48-2.27.4-4.54.8-6.34 1.9-1.92 1.15-1.91 1.41-1.88 2.74a131.99 131.99 0 0 0 .07 5.55l.04 1.51c.04 1.5.67 2.78 1.33 4.1.38.76.77 1.55 1.05 2.4.58 1.78.82 3.66 1.05 5.53.16 1.24.32 2.48.57 3.68l.17.75c.51 2.35 1 4.58-.37 6.85-.19.3-.65.66-1.14 1.04-.88.67-1.87 1.42-1.64 2.14.34 1.05 2.04-.49 2.92-1.28l.43-.38c.79-.6.83-1.17.86-1.64.04-.57.07-.97 1.4-1.01 1.8-.06 3.65 1.93 4.74 3.1l.32.35c.6.64 1.17 1.43 1.76 2.25 1.52 2.14 3.2 4.48 6.06 4.83 8.88 1.1 10.66-9.15 7.36-13.8a21.83 21.83 0 0 0-2.63-2.84c-1.67-1.6-3.39-3.25-3.85-5.15-.76-3.13 1.93-5.67 5.62-3.87 1.76.86 2.32 2.35 2.9 3.85.48 1.28.96 2.57 2.2 3.48 2.6 1.93 2.84 1.38 3.27.4.23-.52.52-1.16 1.25-1.6 2.1-1.29 5.75-2.35 6.25.86.18 1.13-.76 2.09-1.71 3.07-1.14 1.16-2.3 2.35-1.63 3.88 1.29 2.95 2.46 1.35 3.46-.01.2-.3.41-.57.61-.8 2.79-3.15 5.56-6.44 4.73-10.59-.53-2.65-2.38-4.54-4.27-6.47a32.36 32.36 0 0 1-2.47-2.72c-.45-.58-.88-1.64-1.33-2.77-.7-1.73-1.45-3.61-2.44-4.1ZM62.98 102.48c-.03 1.26-.05 2.5.5 3.73 1.29 2.79 2 4.45.22 7.05-.48.7-.98 1.22-1.46 1.72a7.8 7.8 0 0 0-2.1 3.14c-.15.47-.27.9-.38 1.3-.39 1.46-.68 2.53-2.7 3.5-4.64 2.25-8.11.2-11.17-2.37l-.69-.58c-1.54-1.28-2.59-2.15-3.53-3.9a2.45 2.45 0 0 1-.22-1.54c.07-.74.13-1.36-1.28-2.02-1.37-.64-2.7-.4-4.05-.15-1.68.3-3.38.61-5.15-.8-4.02-3.22-3-9.5.72-12.22 1.04-.77 2-1.22 2.8-1.6 1.85-.87 2.81-1.33 1.96-4.33a4.63 4.63 0 0 1-1.56-2.2 3.8 3.8 0 0 1 .5-2.08c-.1-.46.05-.9.19-1.3.28-.83.49-1.45-1.73-1.46.62-.45.8-1.45.97-2.48.27-1.52.55-3.13 2.25-3.3 2.92-.28 3.24 2.71 3.49 4.96.08.73.15 1.39.3 1.82 1.18 3.4 2.57 4.57 6.35 3.22.98-.35 5.57-2.81 5.93-3.35-1.65 2.5 1.72 4.87 4.24 6.64.62.43 1.2.83 1.62 1.19l.53.42a10.7 10.7 0 0 1 2.71 2.8c.8 1.4.77 2.8.74 4.2ZM104.42 120.99c-1.44-.16-6.73-2.2-6.09-3.91 1.63-4.33 10.12.56 13.06 2.25l.53.3c-1.12.06-2.2.38-3.27.7-1.4.4-2.78.82-4.23.66Z" fill="#000" fill-opacity=".4"/><g fill="#fff" fill-opacity=".2"><path d="M19.25-3.59c.2 1.51 3.16 3.8 5.07 2.44 1.22.44-.59-2.79-.89-3.09-1.59-1.58-4.59-2.32-4.18.65ZM52.27-1.64c-.74-.18-1.44-.34-2.03-.55-.54-.19-.57-2.24-.35-2.65.44-.8 1.95-.7 3.33-.63.4.03.8.05 1.15.05h13.3c-1.86.74.15 1.5 1.1 1.7.78-.22 6.37 3.92 6.21 5.65-.08.94-.75 1.63-1.43 2.33-.8.85-1.65 1.72-1.54 3.08.08.82.88 2.18 1.78 3.7 2.25 3.8 5.1 8.61-1.44 8.74-3.05.06-2.98-1.38-2.89-3.06.06-1.11.13-2.34-.72-3.3a6.06 6.06 0 0 0-2.07-1.28c-1.01-.46-2.03-.92-2.44-1.8-.2-.44-.05-1.37.12-2.38.41-2.5.9-5.45-3.81-2.21-.48.33-.77.97-1.07 1.61-.57 1.24-1.14 2.48-3.01 1.5-1.63-.84-.73-2.5.17-4.18.69-1.27 1.38-2.54.96-3.46-.8-1.8-3.2-2.37-5.31-2.86ZM132.7 85.8c-2.76.72-4.35-1.84-5.62-3.89-.87-1.4-1.59-2.56-2.43-2.3-2.23-1.92-4.4-.16-6.18 1.3-.67.55-1.3 1.06-1.84 1.3.1.08-4.98-1.12-3.95-1.32-6.82-2.32-6.9 2.9-6.97 7.43-.03 1.96-.06 3.8-.63 4.85-1.02 1.9-2.46 2.63-4.81 3.45-.83.3-1.74.46-2.65.63-1.9.35-3.79.7-4.86 2.17-.2.27-.39 1.13-.52 1.74-.08.35-.14.62-.17.62.6.16 4.88 1.51 5.32 1.88.4.33.5.92.6 1.46.08.46.16.88.4 1.08.7.59 1.38 1 2.04 1.38 1.12.66 2.15 1.26 2.96 2.6.35.57.53 1.24.7 1.9.43 1.59.85 3.14 3.64 3.2 2.27.04 3.61-1.72 4.31-3.23.32-.68.23-2.56.14-4.68-.23-5.18-.52-11.76 4.75-5.66.52.6.72 1 .88 1.34.28.57.46.95 1.87 1.74.58.32 1.16.34 1.72.35.81.02 1.58.04 2.27 1 .7 1 .36 1.94.15 2.5-.24.64-.3.8 1.55-.04 4.29-1.93 4.45-6.24 4.6-9.86.02-.72.05-1.4.1-2.05.21-2.25.7-3.59 1.64-5.58l.42-.7c1.03-1.65 3.32-5.32.58-4.6ZM48.2 122.55c-.78-1.1-1.78-1.81-2.83-2.58-.48-.35-.97-.7-1.46-1.1-.28-.24-.6-.44-.91-.64-.63-.4-1.26-.8-1.59-1.42-.27-.5-.17-1.18-.07-1.85.1-.78.22-1.55-.23-2.05-1.27-1.42-2.98-1.08-4.79-.73-2.4.48-4.96.99-6.8-2.63-1.32-2.59-1.96-6.32-.25-8.84.73-1.06 2.32-1.8 3.89-2.5 1.94-.9 3.85-1.78 3.98-3.24.07-.85-.57-1.46-1.23-2.1-.58-.55-1.18-1.12-1.34-1.9-.13-.64.21-1.41.54-2.15.64-1.43 1.22-2.72-1.91-2.65.05.02 0 .04-.04.06a.67.67 0 0 0-.04.02c-.04-.02-.4.12-.81.3-.54.23-1.2.5-1.45.52 0 0-.14.12-.35.34-.96.97-3.65 3.7-5.01 3.57-2.7-.24-3.74-5.44-2.3-5.71a3.69 3.69 0 0 1-1.55-.77c-.85-.6-1.74-1.23-3.58-.68-1.44.43-1.8 1.05-2.27 1.86-.16.26-.33.55-.55.86-.69.97-1.08 1.62-1.33 2.03-.26.43-.36.61-.5.64-.11.03-.24-.03-.45-.14-.4-.19-1.12-.53-2.61-.78l-.06.3c-.2 1.16-.28 1.62-.13 1.97.1.22.3.4.63.7.25.24.6.55 1.02 1 .55.6 1.18 1.13 1.81 1.67.45.39.9.77 1.32 1.17.52.5 5.35 5.5 4.35 5.73.97.18 1.07 2.48 1.16 4.7.07 1.54.13 3.04.5 3.73.35.7.93 1.28 1.5 1.88.47.47.93.95 1.28 1.48.94 1.42 1.09 3.08 1.23 4.77.15 1.61.29 3.25 1.14 4.72.22.38.58.7.94 1.01.35.3.69.6.9.95.14.24.39.45.63.66l.39.36c.74.8.82 1.22.88 1.48.01.08.03.14.06.2.12.21.5.28 2.28.62h.03c3.28.62 12.62.33 15.2-1.77.36-.3.74-1.11 1.03-1.73.2-.4.34-.73.42-.74a1.4 1.4 0 0 1-.64-.55c0-.02-.02-.03-.03-.05ZM79.18 120.45c-.9-.1-1.55-.38-2.19-.66a5.57 5.57 0 0 0-3.16-.62c-1.2.12-2.12.7-3.04 1.26-.53.33-1.07.66-1.67.9-1.45.6-3.96.86-6.7 1.14-5.5.57-11.92 1.23-12.49 4.92.93 0 2.35.1 4 .2 5.07.3 12.3.75 13.99-.83.86-.81.74-1.5.64-2.07-.14-.83-.25-1.44 2.63-1.9.94-.15 1.63.1 2.32.33 1.05.37 2.1.73 4.02-.31.27-.15 3.76-2.13 1.64-2.37ZM77.4 100.15c4.94-5.13 6.28 2.22 6.28 5.26 0 3.48-6 6.05-7.87 2.3-.62-1.24.37-6.3 1.59-7.56ZM133 1.74a9.56 9.56 0 0 1-1.94-2.4c-1-1.52-2.09-3.15-3.48-3.32-3.76-.47-3.33 3.97-2.97 7.59.19 1.88.35 3.55-.12 4.17.06 0 .28.14.61.34 1.59.99 5.53 3.43 3.55-1.06-.18-.4-.88-.72-1.58-1.05-1.28-.6-2.56-1.2-.54-2.26 1.29-.67 2.72 0 4.1.66.98.46 1.94.9 2.8.87l.03-.76c.07-1.02.15-2.35-.46-2.78ZM131.77 44.91c.4-.53.76-1.04 1.08-1.22.19-.12.83 16.67.15 16.46-3.3 1.97-2.89-2.4-2.63-5.1.1-.98.16-1.73.03-1.9-.47-.64-1.46-.88-2.45-1.11-1.36-.33-2.73-.66-2.77-2.05-.02-.59 2.1-2.22 2.63-2.58.2-.13.21-.35.22-.58.02-.24.03-.5.27-.65.14-.1.48 0 .87.1.5.14 1.07.3 1.35.08.42-.32.85-.9 1.25-1.45Z"/><path d="M95.36 58c-.5-.86-1-1.72-2.15-2.23-3.03-1.34-3.09-1.96-3.19-3.02-.06-.63-.13-1.4-.84-2.57-1.72-2.82-6.06-2.63-9.5-2.47-.7.03-1.36.06-1.95.06-.77 0-1.32-.03-1.75-.06-1.36-.08-1.5-.1-3.27 1.42-.71.62-1.42 1.34-2.14 2.09-.82.83-1.65 1.69-2.55 2.44-1.94 1.62-6.42 5.7-3.14 7.97-1.6.35-1.1 3.07.01 3.67-.13.05-1.51 3.29-1.44 3.47-.73-.05-1.42-.23-2.08-.4-1.48-.38-2.83-.73-4.14.54-1.11 1.08-.75 2.66-.39 4.24.31 1.33.62 2.66.04 3.7-1.61 2.93-6.9 3.21-9.69 1.46-1.9-1.2-6.26-5.08-7.47-6.87-2.06-3.06-1.24-5.8 3.08-5.68 1.06.02 1.8.47 2.36.8.82.48 1.18.69 1.38-1.18.08-.82-.8-1.87-1.51-2.72-.27-.32-.52-.62-.68-.86l-.33-.5c-1.85-2.74-2.6-3.85-1.2-7.19l.2-.48c1-2.38 1.34-3.2.4-5.92-1.1-3.13-1.4-4.45-1.14-7.76 0-.15.03-.32.05-.51.17-1.38.45-3.65-1.94-4 .36-.53 1.73-4.44 1.4-4.8 2.04.23 2.36-.14 2.97-.84.38-.43.88-1 1.99-1.62.77-.43 1.75-.54 2.75-.64 1.38-.15 2.8-.3 3.68-1.35.81-.95.85-2.49.88-4 .02-1.11.05-2.21.38-3.05.61-1.55 1.43-3.46 3.5-4.15 5-1.67 4.6 2.62 4.33 5.63-.05.51-.1 1-.1 1.4-.17 5.12-.25 10.56.75 15.5 1.02 5.02 1.87 3.1 3.02.5.22-.5.45-1.03.7-1.53a7.55 7.55 0 0 1 1.87-2.2c.66-.6 1.32-1.2 1.75-1.99.32-.6.3-1.21.27-1.8-.04-.84-.08-1.62.82-2.26.67-.48 1.47-.32 2.2-.17.6.12 1.15.23 1.55-.04.77-.51.88-1.96 1-3.46.17-2.13.35-4.36 2.45-4.1 2.06.23 2.25 2.33 2.41 4.09.11 1.24.21 2.32.95 2.46l-1.38.33c-3.21.74-7.77 1.8-1.48 3.92-1.93.18-1.37 2.48-1.1 3.54 0 .08.03.15.04.21.06.3.42.56.8.8.37.27.76.54.81.87.13.73-.07 1.1-.27 1.46-.14.26-.29.52-.3.93-.02.53-.08 1.04-.13 1.5-.2 2-.32 3.04 3 1.42.92-.46 1.14-1.1 1.3-1.58.24-.69.39-1.11 2.26-.44.07.19.23.3.5.34.28-.08.73.23 1.26.59.82.55 1.82 1.22 2.69.86 1.72-.71 1.07-1.93.48-3.03a5 5 0 0 1-.5-1.14c-.58-2.61-.2-2.79.63-3.18a4.8 4.8 0 0 0 2.33-2.14c.74-1.2.26-2.42-.18-3.55-.6-1.49-1.14-2.85 1.26-3.91 6.1-2.7 7.06 3.57 6.3 6.56l-.1.35c-.83 3.24-1.46 5.65.13 9 1.08 2.29 2.86 3.64 4.77 5.1.96.72 1.95 1.48 2.9 2.4 3.59 3.42 3.88 7.5-.21 10.8-3.28 2.62-7.68 3.4-11.1.65-.57-.46-.92-1.06-1.27-1.66ZM89.12 88.84c-4.72-.62-6.35-.74-9.92.14.23.23.24.4.04.5.6.23 1.51.39 2.5.55 1.75.3 3.7.64 4.43 1.5.18.2.03 1.03-.1 1.78-.12.66-.23 1.26-.1 1.34-.1-.06 4.21-5.26 4.88-5.76-.58.02-1.15 0-1.73-.05ZM7.23 102.28l.36.2c.5.18 1.02.26 1.58.24-.26 1.4-2.3 4-4.55 3.57-2.66-.5-1.64-1.68-.56-2.92.59-.68 1.2-1.37 1.24-2 0-.16 1.28.55 1.92.9ZM6.12 95.63c.4.56 1.08.99 1.74 1.4.3.18.59.36.84.55.37-.54.01-1.6-.34-2.66-.3-.87-.58-1.73-.44-2.27-1.71-.06-2.55 1.94-1.8 2.98ZM37.15-5.3c-1.63.91-7.34 4.14-7.66.8l-.07-.92h7.93l-.2.11Z"/></g>',camo02:(t,e)=>'<g fill="#fff" fill-opacity=".2"><path d="M-29.7 126.12c-2.62.41-9.54 1.51-10.8.4-.82-.74-.45-3.34-.18-5.2.1-.72.18-1.32.18-1.68 1.28-.06 2.24 1.38 3.19 2.8 1.4 2.08 2.75 4.1 5 1.03 1.04-1.44.8-3.25.55-5.1-.26-1.95-.52-3.93.72-5.53 1.48-1.9 3.83-2.17 6.16-2.44 2.47-.27 4.9-.55 6.23-2.77.38-.64.48-1.77.6-3 .19-2.11.4-4.5 2.15-5.06 3-.95 3.19 1.67 3.35 3.95.1 1.23.18 2.36.68 2.8 5.46 4.63 5.98-4.3 6.1-6.34v-.03c.02-.42-.05-.76-.12-1.08-.12-.57-.22-1.04.32-1.71.28-.35.67-.3 1.08-.23.4.07.84.14 1.21-.22 1.45-1.39 1.48-1.52 1.8-3.06l.04-.17.05-.2c.11-.52.18-.97.24-1.38A6.4 6.4 0 0 1 .61 88c1.15-1.44 2.3-2.87.14-4.63.6 0 5.76-1.43 6.1-1.62.5-.27 1.07-.96 1.59-1.58.45-.55.85-1.04 1.12-1.14 3.07-1.09 2.85 1.27 2.63 3.69-.14 1.45-.27 2.94.3 3.71-7.95.27-12.73 8.1-13.2 14.16-.07.93.29 1.73.62 2.48.27.6.53 1.17.54 1.76a4.1 4.1 0 0 1-.5 1.95c-.21.46-.42.91-.48 1.52-.23 2.6.81 3.55 2.17 4.8.69.64 1.45 1.34 2.17 2.37 2.4 3.4 1.15 3.93-2.49 3.32-2.09-.36-4.1-.98-6.1-1.61a38.06 38.06 0 0 0-7.53-1.8c-3.34-.34-6.44-.18-8.02 2.61-.92 1.62-1.32 6.05 1.72 6.4-.76.11-1.38.37-2.02.62-.83.34-1.69.68-2.9.76-.96-.39-1.97-.63-3.03-.73-.9.14-1.7.47-2.42.96l-.74.12ZM150.24 57.01c.47.27 1.37.22 2.35.17 1.06-.06 2.2-.12 2.96.21.4.18.8.64 1.2 1.1.37.42.74.85 1.12 1.06.86.5 1.78.67 2.7.84.71.13 1.42.26 2.1.53 2.8 1.14 4.88 3.6 3.26 6.47-.44.8-1.47 1.33-2.5 1.87-1.3.7-2.6 1.38-2.6 2.59 0 4.48 7.78-2.91 8.48-4.5.2-.44.27-.95.34-1.47.1-.72.2-1.46.64-2.03a6.98 6.98 0 0 1 1.96-1.3c.48-.25.87-.46.94-.58 1.3-2.1.75-7.26.32-11.22-.17-1.6-.32-3-.32-3.94-2.2.01-3.19 2.7-4.19 5.38-1.44 3.9-2.89 7.8-8.04 3.5-1.37-1.15-5.3-8.12-5.3-9.42 0-1.18.6-1.84 1.25-2.55.31-.34.63-.68.9-1.1l.75-1.14c.82-1.22 1.01-1.5 1.23-3.82.17-1.88.38-2.17.93-2.91.22-.3.5-.7.87-1.3.17-.3.5-.56.8-.82.7-.6 1.4-1.18.36-2.07-2.6-2.23-8.24 3.55-9.22 4.7-2.78 3.29-6.55 7.77-6.22 11.93.08.94 2.09 9.32 2.92 9.81ZM116.75 116.14c-.33.4-.66.78-.62 1.29.12 1.79.13 1.78.35 1.67.17-.08.46-.22 1.02.3.16.15.63.36 1.2.62 1.33.6 3.16 1.42 2.6 2.12-.28.36-1.04.4-1.85.42-.8.04-1.65.08-2.1.44-.35.28-.56.83-.76 1.32-.16.4-.3.78-.5.92-1.56 1.17-2.17 1.27-5.48 1.27 2.2-.62-3.45-4.51-4.02-3.27.53-1.16-.17-2.38-.85-3.54-.4-.68-.78-1.34-.89-1.96-.14-.8-.11-1.59-.09-2.36.06-1.75.1-3.41-1.76-4.88.63-.08.99-.53 1.34-.97.38-.47.75-.94 1.45-.96.87 2.37 2.9 2.54 5.03 2.71.98.08 1.99.17 2.92.46.3.1.57.17.84.24 1.05.28 1.9.5 2.52 1.58.74 1.28.18 1.95-.35 2.58ZM173.2-4.11c0-1.08-1.99-.92-3.45-.8-.4.02-.76.05-1.03.05.63.25 1 .42 1.24.54.2.1.32.15.45.2.26.06.53.06 1.34.04l1.44-.03ZM-39.75-2.61c-.2.65-.4 1.23-.03 1.36-1.09.22-.88-1.77-.77-2.9.03-.28.05-.5.05-.63 1.44 0 1.07 1.16.75 2.17ZM117.76-4.86h-3.58c.3.14.62.32.94.5 1.33.74 2.63 1.46 2.64-.5ZM172.3 4.14c.43-.08.7-.05.85-.03.09.02.14.03.16 0 .04-.03.03-.1 0-.3-.04-.3-.12-.85-.12-1.87-1.02.02-2.63 2.18-.9 2.2h.01ZM44.89 126.51h1.79c-.37-.08-1.44-.18-1.8 0ZM44.95 71.71c.63-.08 1.17-.4 1.72-.7.78-.43 1.55-.86 2.54-.62 1.02.25 1.4.9 1.67 1.4.15.27.28.5.47.57 2.72 1.03 3.16-.9 3.63-3.93.08-.54.1-1.01.12-1.44.04-1.06.08-1.87 1.04-2.9.55-.59 1.45-.9 2.34-1.2.65-.22 1.3-.45 1.8-.77a9.8 9.8 0 0 0 2.8-2.78c.3-.4.63-.85 1.04-1.33.92-1.1 2.27-2.15 3.66-3.24 3.76-2.94 7.88-6.16 5.11-11.24-2.97-5.46-4.15-.85-5.06 2.71-.34 1.37-.65 2.58-1 3-4.48 5.4-5.45.13-6.04-3.03-.1-.51-.18-.97-.26-1.32-1.26-4.95-2.98-1.38-4.4 1.56-.42.89-.82 1.72-1.17 2.24a7.8 7.8 0 0 1-1.46 1.53 5.57 5.57 0 0 0-1.6 1.9c-.24.5-.12 1.15 0 1.8.18 1.1.38 2.23-.94 2.9-1.4.75-3-.14-4.42-.92-1.08-.6-2.06-1.14-2.77-.88-2.25.8-.23 3.54 1.39 5.73.74 1 1.4 1.9 1.52 2.43.34 1.55-.27 2.9-.88 4.25-.61 1.36-1.23 2.73-.85 4.3ZM9.52 34.33H9.3h.23ZM.12 41.5c-.43 1.4-1.57 2.56-2.7 3.72-1.29 1.32-2.57 2.62-2.8 4.25-.36 2.63 1.66 3.97 3.75 5.35.66.44 1.33.89 1.93 1.38a9.29 9.29 0 0 1 3 3.61c.12.27.14.72.16 1.18.04.68.07 1.39.4 1.62 1.78 1.26 2.77.4 3.96-.64a8.62 8.62 0 0 1 1.96-1.4c2.61-1.23 2.65-1.2 4.21-.26.32.2.7.42 1.17.68l.68.41c1.44.88 2.46 1.5 4.22-1.06.7-1.02.67-2.83.63-4.7-.06-3.14-.13-6.47 3.3-6.66-1.52-.68-.85-2.7-.16-4.77.71-2.1 1.43-4.26-.22-5-4-1.81-5.17 6.75-5.84 11.65-.22 1.61-.38 2.83-.58 3.14-1.6 2.6-7.32 4.8-8.96.97-.3-.68-.08-1.41.14-2.16.22-.72.43-1.46.2-2.16-.36-1.03-.94-1.4-1.61-1.84a7.11 7.11 0 0 1-1.14-.86c-2.78-2.67-2.68-2.84-1.29-5.1l.83-1.38c.3-.53.53-1.37.8-2.28.58-2.08 1.29-4.56 3.12-4.84-1 0-2.04-.24-3.08-.5-1.97-.46-3.9-.93-5.37.44-1.03.96-.85 2.69-.68 4.33.1 1.08.2 2.13-.03 2.9ZM65.5 10.9l-.9-1.2c4.2-.06 7.5-4.53 2.91-7.06 1.87 1.02 3.27-.12 4.4-1.04 1.44-1.17 2.46-2 3.44 2.24l.27 1.07c.22.86.46 1.82.56 2.48.2 1.4.16 1.57 0 2.35l-.09.46c-.08.46-.25.78-.4 1.07-.35.63-.62 1.14.1 2.63.39.78.85 1.38 1.3 1.96.8 1.05 1.54 2 1.51 3.68 0 .47-.2.84-.4 1.25a3.46 3.46 0 0 0-.38 2.87c.23.84.63 1.63 1.04 2.43.49.95.98 1.9 1.15 2.94-1.73-.07-2.83-1.43-3.82-2.64-.35-.43-.68-.84-1.02-1.17-.76-.74-1.69-1.26-2.58-1.77-.78-.45-1.54-.88-2.16-1.43-1.72-1.56-1.78-2.36-1.9-3.84-.03-.47-.07-1-.17-1.67-.38-2.44-1.46-3.83-2.84-5.62ZM65.15 36.8c2.2-.98-.14-5.47-2.18-5.64-1.43-.13-5.26 3.09-5.5 4 1.22-.23 2.48.36 3.71.93 1.38.65 2.73 1.27 3.97.72ZM11.35 29.55c1.01.62 3.03 3.24.1 3.1-.75-.3-1.61-.5-2.46-.68-1.8-.4-3.54-.79-4.05-2.13.56-.01 1.26-.15 2.01-.29 1.57-.3 3.35-.63 4.4 0ZM33.07 51.36c-1.07.05-2.14-.24-3.1-.5-2.03-.54-3.54-.95-3.39 2.27.8.05 1.55.2 2.24.33 2.07.41 3.6.71 4.25-2.1ZM-.27 19.32c-.1.52-.18 1.02-.58 1.15a30.5 30.5 0 0 0-.56-.14c-1.69-.4-4.68-1.12-3.95-2.77.9-2 2.61-1.12 4.13-.34.69.36 1.33.7 1.85.73-.66.1-.78.76-.89 1.37ZM91.3 46.57a6.25 6.25 0 0 1 .02-3.58c-2.2.01-2.03 3.55-.02 3.58Z"/><path d="m64.5 9.39.06.24c.71-.04.23-.2-.07-.24ZM100.06 44.32c.47.67.52 1.66.58 2.66.09 1.51.17 3.07 1.68 3.62 1.52.56 2.3-.7 3.12-2.06.7-1.15 1.44-2.36 2.7-2.6.84-.18 1.7.24 2.58.66.82.4 1.66.8 2.53.74 2.5-.16 6.46-2.7 6.26-4.97a6.74 6.74 0 0 1-2.82-.24c-.74-.17-1.46-.35-2.3-.3-.86.05-1.7.3-2.52.55-.77.23-1.53.46-2.24.5-3.26.17-3.24-.2-3.16-1.36.03-.52.08-1.2-.15-2.06a12.3 12.3 0 0 1-.18-.78c-.12-.56-.16-.8-.75-1.63-.26-.37-.74-.65-1.24-.94-.6-.35-1.22-.71-1.47-1.25-.1-.21 0-.92.12-1.74.2-1.42.43-3.19-.18-3.31-.8 1.18-2.06 2.1-3.31 3.01-1.56 1.14-3.12 2.29-3.82 3.94-1.22 2.86.3 3.98 2.07 5.28.87.64 1.8 1.33 2.49 2.28ZM25.21 60.2c1.68-.4.82-4.15-.44-3.26-.8.56-.77 3.14.44 3.25ZM55.6 35.91ZM-39.74 88.2c.24-.1.46-.27.68-.43.4-.29.82-.59 1.32-.62-.02-.57-2.5-3.04-2.76-3.03l-.06.5c-.16 1.27-.56 4.26.82 3.59ZM66.99-3.94c-.29-.31-.57-.63-.92-.76-.09-.04-.1-.08-.13-.11a.26.26 0 0 0-.04-.05c4.93 0 3.18 2.35 1.87 1.62-.29-.15-.54-.43-.78-.7ZM88.29 122.17c.14.1.03.05-.16-.03-.3-.13-.8-.34-.8-.19-.01.43 2.33 1.18.96.22ZM-32.66 77.55c.3.18.58.35.9.44 1.47.41-2.51.23-2.02-.92.41.06.77.27 1.12.48Z"/></g><path d="M146.72 95.46c-.16.3-.3.57-.35.7 2.15.2 2.73 13.63-4.7 10.83-.65-.25-1-1.85-1.4-3.64-.8-3.58-1.76-7.9-5.6-3.63-1.26 1.4-.54 3.23.18 5.05.83 2.1 1.65 4.18-.53 5.6-3.24 2.1-4.6-.3-5.97-2.75-1.03-1.81-2.06-3.65-3.9-3.67 3.2 2.08 3.08 8.06 2.99 12.56-.03 1.64-.06 3.09.08 4.08a3.87 3.87 0 0 0 1.87-.63 3.42 3.42 0 0 1 1.93-.6c1.2.08 2 .62 2.82 1.17.37.25.73.5 1.13.7.31.16.68.43 1.08.71 1.2.86 2.73 1.95 4.1 1.34.42-.2.5-.97.57-1.83.1-1.05.2-2.22.97-2.6 1.55-.73 1.53.95 1.51 2.6-.01 1.05-.03 2.09.35 2.51 1.36 1.54 7.6 1.89 9.7 1.9.05-.89-.06-1.55-.14-2.06-.18-1.09-.25-1.56 1.41-2.24 2.63-1.06 7.26 1.84 8.77 3.05.32.26.4.77.48 1.23.06.4.12.76.3.88.65.41 6.09.27 6.46.2 2.22-.47 3.63-1.9 3.03-4.86-.48-2.38-2.85-3.47-5.25-4.57-2.57-1.2-5.18-2.39-5.54-5.2-.09-.66.27-1.47.61-2.27.27-.62.54-1.24.58-1.76.07-.8-.1-1.63-.27-2.45-.22-1.07-.44-2.13-.15-3.15.18-.62 3.65-4.84 4.01-4.96h.03-.03c-.6-.01-1.13-.23-1.65-.45a4.27 4.27 0 0 0-1.77-.45c-.1-.02-.42.6-.77 1.31-.46.91-1 1.99-1.28 2.07-3.05.9-2.28-1.25-1.72-2.8.16-.46.3-.86.33-1.12.1-1.1-.09-2.15-.28-3.2-.14-.73-.28-1.47-.31-2.22-.03-.56.1-1.07.23-1.58.17-.7.35-1.39.1-2.2-.05-.16-.68-.01-1.28.12-.53.13-1.03.25-1.04.12-.11-.71.15-1.83.41-2.95.65-2.73 1.3-5.48-3.47-2.33-2.43 1.61-3.42 3.92-4.43 6.27-.86 2.02-1.74 4.07-3.56 5.72.09.02-.32.8-.64 1.44ZM-35.67 117.64c1.35-.73.57-1.37-.36-2.15-.94-.77-2.03-1.67-1.31-2.92.46-.8 1.54-.97 2.65-1.15 1.14-.17 2.3-.36 2.85-1.2.8-1.2.48-2.06.17-2.9-.37-.96-.73-1.9.75-3.32 1.04-1 2.01-1.32 2.86-1.6 1.26-.41 2.23-.73 2.7-3.04.7-3.53-1.06-5.88-2.74-8.12-1.9-2.54-3.7-4.94-1.71-8.77l.32-.6c1.05-1.87 2.87-5.15-.6-6.25-2.52-.8-2.37.12-2.21 1.07.11.71.24 1.45-.78 1.49.21.58-2.85-.1-2.47-.96-.8-.1-1.2-.54-1.58-.97-.55-.63-1.08-1.22-2.78-.68-1.7.53-1.97 2.16-2.2 3.49l-.01.1c-.34 2 .56 3.74 1.43 5.41.72 1.4 1.42 2.74 1.37 4.16v.53c.01.36.02.64-.16 1.12-.56.4-1.2.56-1.92.46-1.1-.23-1.41.2-.92 1.3-.97 1.89-.6 5.1-.29 7.92.15 1.27.29 2.47.29 3.44 0 .67-.12 1.78-.25 3.09-.35 3.41-.84 8.14.25 9.54.63.81 5.57 2.1 6.66 1.5ZM-35.55 66.22c.26 1.76.6 4.05-2.25 3.3-2.03-.53-1.8-2.59-1.59-4.48.25-2.2.47-4.18-2.94-3.26V46.16l.81.08c3.02.28 10.07.94 7.68-3.74 1.94 1.71 4.07.16 5.8-1.1 1.17-.86 2.17-1.59 2.8-1.05-.15-.13-.54 1.24-.92 2.62-.35 1.23-.7 2.47-.88 2.64-.6.56-1.93.72-3.32.88-2.13.26-4.37.53-4.2 2.27.28 2.95 4.55 1.8 8.07.85 2.06-.55 3.86-1.04 4.49-.61.9.63-.22 2.95-1.22 5.04-.55 1.13-1.07 2.2-1.2 2.88-.08.4-.06.82-.04 1.24.03.86.07 1.71-.73 2.4-1.41 1.24-2.72.9-4.06.55-.8-.2-1.6-.41-2.45-.3-3.52.48-3.85 1.19-3.99 4.1-.01.33.06.8.14 1.3ZM-39.65 2.34c1.08.06 2.14.12 3.3.05.61-.03 1.08-.15 1.52-.25.72-.18 1.34-.33 2.4-.03 1.35.39 5.2 3.24 2.4 4.12 4.07-1.28 7.96-4.5 3.63-7.6a35.47 35.47 0 0 0-4.02-2.13l-.41-.2-.25-1.13h-2.81c-1.67-.26-3.81-.17-5.8-.08-.94.04-1.84.08-2.64.08 0 .75.63 1.11 1.31 1.5.94.54 1.97 1.13 1.5 2.84-.16.62-.78.93-1.4 1.23-.7.36-1.41.71-1.41 1.52.94-.01 1.81.04 2.68.09ZM75.74 89.64c-.64.2-1.28.38-1.88.08-.95-.49-1.67-2.34-2.34-4.05-.44-1.1-.84-2.15-1.28-2.72a31.61 31.61 0 0 0-2.37-2.68c-1.8-1.9-3.6-3.76-4.1-6.38-.8-4.08 1.87-7.33 4.54-10.44.2-.21.39-.49.6-.77.95-1.35 2.07-2.92 3.32-.01.64 1.5-.47 2.67-1.56 3.82-.92.96-1.82 1.91-1.65 3.02.49 3.17 3.98 2.13 6 .86.7-.44.98-1.07 1.2-1.58.42-.96.65-1.5 3.15.4 1.18.9 1.65 2.16 2.12 3.42.53 1.48 1.08 2.95 2.76 3.8 3.54 1.77 6.12-.73 5.4-3.82-.45-1.86-2.1-3.5-3.7-5.07a21.31 21.31 0 0 1-2.52-2.78c-3.18-4.59-1.47-14.68 7.06-13.6 2.76.35 4.36 2.65 5.82 4.76.57.8 1.1 1.59 1.69 2.21l.31.34c1.06 1.16 2.83 3.12 4.57 3.06 1.26-.04 1.3-.43 1.33-1 .03-.45.08-1.03.83-1.61l.41-.37c.85-.78 2.48-2.3 2.8-1.27.23.71-.72 1.46-1.56 2.12-.48.37-.92.72-1.1 1.02-1.32 2.24-.85 4.43-.35 6.75l.15.73c.25 1.2.4 2.4.55 3.63.23 1.84.45 3.7 1.01 5.45.27.84.64 1.61 1.01 2.37.63 1.29 1.24 2.55 1.27 4.03l.04 1.49c.03 1.55.08 3.21.06 4.59v.88c.04 1.3.05 1.57-1.79 2.7-1.73 1.07-3.91 1.47-6.1 1.87-1.87.34-3.75.68-5.34 1.45 2.3-1.11.35-4.84-1.18-7.78a17.3 17.3 0 0 1-1.34-2.93c-1.16-4.55-4.38-6.19-6.15-.98-.82 2.43-2.06 2.85-3.31 3.28-1.06.36-2.11.72-2.94 2.28-.4.78-.6 1.53-.74 2.11-.32 1.3-.44 1.76-2.36-.15-.2-.2-.1-.6 0-1.03.1-.54.24-1.11-.14-1.4-.7-.53-1.45-.3-2.2-.08ZM25.66 16.46c.54 1.21.52 2.44.5 3.67-.03 1.38-.06 2.76.7 4.13.61 1.1 1.61 1.93 2.6 2.76l.51.42c.41.35.96.74 1.55 1.17 2.42 1.75 5.66 4.08 4.08 6.54.34-.53 4.75-2.96 5.7-3.3 3.63-1.33 4.96-.18 6.09 3.17.14.43.21 1.07.29 1.8.23 2.2.55 5.15 3.35 4.88 1.63-.16 1.9-1.75 2.16-3.24.17-1.03.34-2 .93-2.45-2.13-.01-1.93-.62-1.66-1.43.13-.4.28-.84.18-1.29.36-.65.52-1.33.48-2.05a4.56 4.56 0 0 0-1.5-2.17c-.82-2.95.11-3.4 1.89-4.26.76-.37 1.68-.82 2.69-1.58 3.57-2.68 4.55-8.87.69-12.03-1.7-1.4-3.33-1.1-4.95-.8-1.3.25-2.58.49-3.89-.14-1.35-.65-1.3-1.27-1.23-1.99.05-.45.1-.95-.2-1.51-.91-1.73-1.92-2.59-3.4-3.85l-.66-.56C39.63-.19 36.29-2.2 31.83 0c-1.94.96-2.21 2.02-2.59 3.45-.1.4-.21.82-.37 1.28-.5 1.5-1.24 2.28-2 3.1-.47.49-.95 1-1.41 1.69-1.7 2.56-1.03 4.2.2 6.94ZM50.53 97.14c-.37-.83-.74-1.65-.51-2.4 2.43-.23 3.76 1 5.17 2.3.6.56 1.22 1.13 1.95 1.6 1.34.89 2.86 1.58 4.37 2.26 1.13.52 2.26 1.03 3.32 1.62 2.52 1.41 2.85 2.23 3.3 3.39.27.67.58 1.45 1.39 2.52.36.47 3.83 2.75 3.85 2.73-3.75-.03-2.96 1.2-1.95 2.76.63.99 1.36 2.11 1.1 3.15-.4 1.69-6.91 6.12-9.06 5.43-2.88-.92-1.54-2.37-.2-3.82.75-.82 1.5-1.64 1.5-2.36-.02-2.16-4.89-6.58-7.49-6.43-2.08.11-2.01.72-1.93 1.45.02.23.05.48 0 .73-.1.6.1 1.08.29 1.57.33.82.67 1.68-.32 3.22-1.85 2.87-5.83 6.43-9.5 6.52-.96.02-5-.91-5.56-1.6-.15-.2-.27-.34-.37-.45-.24-.28-.34-.4-.33-.5 0-.07.07-.14.18-.25.18-.2.49-.52.87-1.25.47-.88 1.24-1.7 1.98-2.47 1.9-2 3.62-3.8-.54-6.07 5.2 2.82 6.64-3.24 7.4-6.42l.1-.47c.13-.5.4-1.22.7-1.96.41-1.05.84-2.16.87-2.78.03-.65-.28-1.33-.59-2.02ZM-7.8 5.76c.62-1.68-4.45-3.7-5.84-3.85-1.4-.15-2.72.25-4.06.66-1.03.31-2.07.62-3.13.68l.5.3C-17.51 5.2-9.36 10.02-7.8 5.76ZM127.24 37.29c-2.09-1.27-10.33-4.32-11.54-1.56-.16.37-1.55-1.53-1.65-1.74-.7-1.55 0-3 .7-4.43a24 24 0 0 0 .44-.93c.2-.48.44-.93.68-1.38.58-1.11 1.15-2.2 1.22-3.49.04-.87-.33-1.75-.69-2.61-.38-.92-.75-1.82-.62-2.68.29-1.82 1.1-2.1 2.2-2.5.57-.19 1.21-.42 1.9-.9 1.67-1.13 1.8-1.67 2.09-2.77.09-.36.2-.78.38-1.3.29-.83.47-1.95.66-3.11.3-1.8.62-3.71 1.36-4.86.92-1.4 1.49-1.38 2.45-1.32a7.1 7.1 0 0 0 1.86-.08 10 10 0 0 0 1.94-.7c1.15-.51 2.38-1.05 3.28-.86.37.07.84.67 1.4 1.38.73.9 1.6 2 2.55 2.38.82.34 1.82.26 2.8.2.9-.07 1.8-.14 2.45.15 1.26.56 1.52 1.27 1.83 2.1.2.53.42 1.12.96 1.77.44.53.94.91 1.42 1.29a5.74 5.74 0 0 1 1.95 2.16c.3.65.28 1.25.26 1.8-.05.98-.08 1.78 1.85 2.37l-.19.19c-1.9 1.94-8.68 8.87-11.31 8.51-2-.27-1.93-1.88-1.85-3.4l.02-.85c0-.67.04-1.34.08-2.02.15-2.15.28-4.29-1.12-6.25-1.96-2.73-4.45-3.42-6.23-.42a5.04 5.04 0 0 0-.56 2.08c-.1.9-.2 1.8-.91 2.6-.63.72-1.36 1.01-2.1 1.32-.47.19-.96.38-1.42.7-3.4 2.22-6.44 5.64-5.11 9.76.94 2.93 2.6 2.98 4.49 3.05 1.36.04 2.84.09 4.27 1.2.73.57.94 1.13 1.16 1.68.28.72.54 1.4 1.95 2 1.2.5 2.63.45 4.05.4 1.09-.04 2.17-.08 3.15.13-.91.52-3.35 4.7-2.85 4.36-3.56 2.98-5.53.76-7.4-1.35-.73-.83-1.44-1.63-2.23-2.1Z" fill="#000" fill-opacity=".2"/><g fill="#000" fill-opacity=".1"><path d="M109.88 125c-.42-1.6-4.19-2.3-5.67-1.5-4.74 2.55 6.75 5.59 5.67 1.5ZM68.14 124.62c-.2-1.48-3.03-3.74-4.87-2.4-1.17-.44.56 2.75.85 3.04 1.53 1.56 4.41 2.3 4.02-.64ZM38.4 123.25c-.57-.2-1.24-.37-1.95-.54-2.03-.49-4.33-1.05-5.1-2.82-.4-.9.26-2.16.92-3.41.86-1.65 1.73-3.29.17-4.12-1.8-.96-2.35.26-2.9 1.48-.28.63-.56 1.26-1.02 1.59-4.52 3.19-4.05.28-3.66-2.18.16-1 .3-1.92.11-2.34-.39-.88-1.36-1.33-2.34-1.78-.76-.35-1.51-.7-1.98-1.26-.82-.95-.75-2.15-.7-3.26.09-1.65.16-3.06-2.77-3-6.28.12-3.54 4.87-1.38 8.61.86 1.5 1.63 2.83 1.7 3.64.1 1.34-.7 2.2-1.48 3.03-.65.7-1.3 1.37-1.37 2.3-.15 1.7 5.21 5.78 5.96 5.56.91.2 2.84.95 1.06 1.68h12.76c.33 0 .71.02 1.1.04 1.33.09 2.78.17 3.2-.61.21-.4.18-2.43-.34-2.61ZM128.02 117.12c-.42 2.86-.83 5.6 3.2 7.24 2.48 1.01-2.12 2.56-3.9 2.07-2.48-.69-3.08-1.86-3.46-4.18-.08-.5 0-1.05.08-1.61.22-1.52.44-3.04-2.53-3.18-2.4-.12-2.53.8-2.24 2.62 0 .05-3.92-.42-3.95-.44-.98-1.12-.4-1.58.2-2.04.33-.26.66-.52.71-.9.23-1.6.34-4.56-2.51-5.45-1.19-.37-2.27-.1-3.33.18-1.36.35-2.69.69-4.15-.4-.52-.39-.81-2.33-1.01-3.68-.12-.75-.2-1.32-.28-1.34.36-.54-1-1.2-2.34-1.85-.97-.48-1.92-.94-2.16-1.34-1.48-2.46 1.52-2.95 4.24-3.4.98-.16 1.94-.31 2.61-.55 1.05-.38 1.8-.71 2.4-.98 1.82-.81 2.1-.93 4.79.65.76.45 1.58 1.07 2.4 1.68.63.47 1.26.94 1.84 1.32-.73.15 3.81 1.89 3.44 1.7.82.4 1.34.6 1.7.73.31.1.5.17.65.3.25.18.39.5.76 1.36l.3.67.25.58c.74 1.65 1.8 4.03 2.31 5.68.46 1.45.22 3.03 0 4.57ZM-40.75 36.57c2.64-.71 4.17 1.8 5.4 3.83.82 1.38 1.52 2.52 2.33 2.26 2.14 1.9 4.2.16 5.92-1.27a9.27 9.27 0 0 1 1.78-1.3c-.11-.06 4.77 1.12 3.78 1.32 6.55 2.28 6.63-2.85 6.7-7.32.02-1.93.05-3.74.6-4.78.98-1.87 2.36-2.59 4.62-3.4.8-.29 1.67-.45 2.54-.62 1.82-.34 3.63-.68 4.66-2.13.19-.27.38-1.12.5-1.72.08-.35.14-.61.17-.62-.58-.15-4.68-1.48-5.1-1.84-.4-.33-.5-.91-.59-1.44-.08-.45-.15-.86-.38-1.07a13.4 13.4 0 0 0-1.96-1.35c-1.07-.65-2.06-1.25-2.84-2.57-.34-.56-.5-1.22-.67-1.86-.41-1.58-.81-3.11-3.5-3.17-2.17-.04-3.46 1.7-4.14 3.18-.3.67-.22 2.52-.13 4.61.22 5.1.5 11.58-4.56 5.58a5.4 5.4 0 0 1-.84-1.33c-.27-.55-.45-.93-1.8-1.7a3.27 3.27 0 0 0-1.65-.35c-.78-.02-1.52-.04-2.18-.99-.68-.98-.34-1.91-.14-2.47.23-.62.28-.77-1.49.05-4.11 1.9-4.27 6.15-4.4 9.71-.03.7-.06 1.39-.12 2.02a14.87 14.87 0 0 1-1.96 6.18c-.99 1.63-3.19 5.25-.55 4.55ZM40.36.37c.74 1.07 1.7 1.79 2.7 2.54.47.34.94.7 1.4 1.1.28.22.58.42.89.62.6.39 1.2.78 1.52 1.4.26.49.16 1.15.07 1.82-.1.76-.21 1.52.22 2.02 1.21 1.4 2.86 1.06 4.6.71 2.3-.47 4.76-.97 6.52 2.6 1.27 2.55 1.89 6.22.24 8.7-.7 1.05-2.23 1.77-3.73 2.47-1.88.89-3.7 1.75-3.83 3.19-.07.83.55 1.44 1.18 2.06.56.55 1.13 1.11 1.28 1.87.13.64-.2 1.4-.52 2.12-.6 1.42-1.16 2.69 1.84 2.61-.05-.02 0-.04.04-.05l.03-.02a4 4 0 0 0 .79-.3c.52-.22 1.16-.5 1.4-.5l.33-.34c.92-.96 3.5-3.65 4.81-3.52 2.58.23 3.58 5.36 2.2 5.62.58.1 1.03.43 1.49.76.81.59 1.67 1.21 3.43.67 1.39-.43 1.73-1.03 2.18-1.83.15-.27.31-.56.53-.86.66-.95 1.03-1.6 1.27-2 .25-.42.36-.6.5-.63.1-.03.21.03.42.14a8.2 8.2 0 0 0 2.5.77l.06-.3c.2-1.15.27-1.6.12-1.94-.1-.22-.29-.4-.6-.69-.24-.23-.57-.54-.98-1-.53-.57-1.14-1.1-1.74-1.63-.43-.38-.86-.76-1.27-1.15-.5-.5-5.13-5.41-4.17-5.65-.93-.17-1.02-2.44-1.11-4.62-.07-1.52-.13-3-.47-3.68-.35-.68-.9-1.27-1.45-1.85-.45-.47-.9-.94-1.23-1.46-.9-1.4-1.04-3.03-1.18-4.7-.14-1.59-.28-3.2-1.1-4.65-.2-.37-.55-.69-.9-1-.33-.3-.66-.59-.86-.93-.13-.23-.37-.45-.6-.65a5.04 5.04 0 0 1-.38-.36c-.7-.78-.78-1.2-.83-1.45a.7.7 0 0 0-.06-.2c-.12-.2-.48-.28-2.2-.6v-.01c-3.15-.61-12.12-.32-14.6 1.74-.35.3-.71 1.1-.99 1.7-.18.4-.32.72-.4.74.37.18.49.36.61.54l.04.05ZM168.56 110.33c-.52 2.23 1.1 4.08 3.18 5.07 1.07.51.98 1.45.87 2.57-.04.37-.08.75-.08 1.15-2.47-.01-7.4-2.84-8.96-4.83-1.63-2.09-1.13-3.1-.36-4.64.24-.46.49-.97.71-1.57.44-1.16.6-2.33.76-3.41.4-2.81.7-4.97 5.53-4.54 0 .55-.33.87-.67 1.22-.45.46-.93.95-.72 2.06.13.7.62 1.09 1.11 1.47.7.55 1.38 1.09 1.02 2.51-.14.55-.64.97-1.16 1.4-.53.46-1.08.92-1.22 1.54ZM10.62 2.44c.85.1 1.48.38 2.1.65.85.38 1.67.75 3.02.6 1.15-.11 2.03-.67 2.92-1.23.51-.33 1.03-.66 1.6-.9 1.4-.58 3.8-.84 6.43-1.12C31.97-.1 38.13-.76 38.68-4.4c-.9 0-2.25-.09-3.83-.19-4.88-.3-11.82-.74-13.43.82-.83.8-.72 1.47-.62 2.04.14.8.24 1.4-2.53 1.86-.9.15-1.56-.09-2.22-.32-1-.37-2-.72-3.86.3-.27.15-3.62 2.1-1.58 2.34ZM162.37 32.42c.58-1.44 1.49-3.74 2.94-3.83.52.44 1.18 1.41 1.77 2.28.5.74.96 1.4 1.22 1.6 1.21.88 1.55.84 2.5.73.42-.04.96-.1 1.73-.1 0 2.23-.61 3.37-1.32 4.68-.46.86-.97 1.8-1.36 3.18-.04.14-.08.41-.12.76-.2 1.7-.63 5.14-3.16 3.16-.62-.49-.64-1.98-.66-3.73-.04-3.23-.1-7.36-3.93-7.81.11-.2.24-.53.4-.92ZM102.33-.92c0 3 1.28 10.24 6.03 5.19 1.17-1.24 2.12-6.23 1.52-7.46-1.78-3.67-7.55-1.14-7.55 2.28ZM-39.18 121.74c-.62-.97-1.22-1.9-1.86-2.36-.59-.43-.5-1.74-.45-2.75.02-.27.04-.53.04-.74.82-.04 1.74.4 2.68.86 1.33.64 2.7 1.31 3.94.64 1.94-1.04.71-1.63-.52-2.22-.67-.32-1.34-.64-1.51-1.04-1.9-4.42 1.88-2.01 3.4-1.04.32.2.54.34.59.34-.46.6-.3 2.25-.12 4.1.34 3.57.76 7.94-2.85 7.48-1.33-.17-2.37-1.77-3.34-3.27ZM-39.86 76.85c.39-.54.8-1.12 1.2-1.43.27-.2.82-.06 1.3.07.37.1.7.2.83.1.23-.15.24-.4.26-.63 0-.23.02-.45.2-.58.52-.35 2.56-1.95 2.54-2.53-.04-1.38-1.35-1.7-2.67-2.02-.95-.23-1.9-.46-2.35-1.1-.12-.16-.05-.9.04-1.86.24-2.67.64-6.97-2.53-5.03-.65-.21-.04 16.33.15 16.21.3-.18.65-.68 1.03-1.2ZM140.32 121.53c.32-2.06.62-4 3.36-3.26.21.05-.09.84-.45 1.8-.55 1.43-1.23 3.23-.5 3.4-.34.06-.38.48-.41.88-.02.2-.03.39-.09.52-.7 1.7-.86 1.7-2.44 1.61-.45-.02-1.01-.05-1.73-.05.1-.05-.5-.82-.65-.94 2.3-.06 2.61-2.07 2.9-3.97ZM137.39 125.49h.02c-.02-.02-.03-.03-.02 0ZM126.5-1.19a7.7 7.7 0 0 0-.07-2.35 11 11 0 0 0-.45-.86h.36c2-.02 7.66-.07 4.51 2.37-.97.76-3.05.86-4.34.84ZM139.1-3.8s3.3 1.83 3.43 1.4c.65-2.3-1.46-2.17-3.33-2.05-.4.02-.8.05-1.14.05.42.09.76.29 1.03.6Z"/><path d="M-4.91 63.96c.48.84.96 1.69 2.06 2.19C.05 67.47.1 68.09.2 69.13c.07.62.14 1.38.82 2.52 1.65 2.79 5.81 2.6 9.11 2.44.68-.03 1.31-.06 1.88-.06.74 0 1.26.03 1.68.06 1.3.08 1.44.1 3.13-1.4.7-.6 1.37-1.32 2.06-2.05.78-.83 1.59-1.67 2.45-2.41 1.86-1.6 6.16-5.62 3.02-7.85 1.53-.35 1.06-3.02-.02-3.61.13-.05 1.46-3.25 1.39-3.42.7.04 1.36.22 2 .39 1.41.37 2.71.72 3.96-.53 1.08-1.07.73-2.62.38-4.18-.3-1.3-.6-2.62-.04-3.64 1.55-2.89 6.63-3.17 9.3-1.44 1.82 1.19 6 5 7.16 6.77 1.98 3.02 1.2 5.71-2.95 5.6-1-.02-1.73-.46-2.26-.78-.79-.48-1.13-.69-1.32 1.15-.08.8.76 1.85 1.45 2.69a11.22 11.22 0 0 1 .97 1.33c1.77 2.7 2.49 3.8 1.15 7.08-.06.17-.13.33-.2.48-.95 2.34-1.28 3.15-.37 5.83 1.05 3.08 1.34 4.39 1.09 7.64l-.06.51c-.16 1.36-.42 3.6 1.87 3.93-.35.53-1.66 4.38-1.34 4.75-1.96-.24-2.27.13-2.85.8-.37.44-.85 1-1.91 1.61-.75.42-1.69.53-2.64.63-1.33.15-2.68.3-3.54 1.33-.78.93-.8 2.45-.84 3.94a9.36 9.36 0 0 1-.37 3c-.58 1.53-1.37 3.41-3.36 4.1-4.8 1.64-4.42-2.59-4.15-5.55.04-.5.09-.98.1-1.38.16-5.04.23-10.4-.73-15.26-.98-4.94-1.8-3.05-2.9-.5-.2.5-.43 1.02-.67 1.51a7.4 7.4 0 0 1-1.79 2.16 7.71 7.71 0 0 0-1.68 1.97c-.31.59-.28 1.2-.26 1.78.04.82.08 1.6-.78 2.22-.65.48-1.41.32-2.11.17-.58-.12-1.11-.23-1.5.03-.73.51-.84 1.94-.96 3.41-.16 2.1-.33 4.3-2.35 4.05-1.98-.24-2.16-2.3-2.31-4.03-.11-1.23-.2-2.29-.9-2.42.37-.1.82-.22 1.3-.33 3.1-.74 7.47-1.78 1.43-3.86 1.85-.18 1.31-2.45 1.07-3.5l-.05-.2c-.07-.3-.42-.55-.77-.8-.36-.25-.73-.52-.79-.84-.12-.72.07-1.08.26-1.44.14-.26.28-.52.3-.91.01-.53.07-1.03.11-1.48.2-1.98.3-3-2.86-1.4-.9.45-1.1 1.07-1.27 1.56-.22.67-.36 1.09-2.16.43-.06-.2-.22-.3-.48-.34-.27.08-.7-.22-1.21-.58-.78-.54-1.74-1.2-2.58-.85-1.66.7-1.03 1.9-.47 2.98.21.4.42.8.49 1.13.55 2.58.2 2.75-.6 3.13-.58.28-1.38.66-2.24 2.1-.71 1.2-.26 2.4.17 3.5.57 1.48 1.09 2.83-1.21 3.87-5.86 2.66-6.78-3.52-6.04-6.46l.08-.34c.8-3.2 1.4-5.58-.11-8.87-1.04-2.26-2.75-3.59-4.58-5.02a31.58 31.58 0 0 1-2.8-2.36c-3.43-3.38-3.7-7.4.22-10.64 3.14-2.6 7.36-3.36 10.65-.65.54.45.88 1.04 1.22 1.63ZM86.86 16.93c.45.21 1.04 1 1.64 1.81.56.75 1.14 1.52 1.63 1.89.6.45 1.26.79 1.9 1.12 1.04.56 2.06 1.1 2.8 2.08 3.04 4.1.8 6.84-1.88 10.1l-.1.11c-2.9 3.54-4.47 14.02-1.33 17.42.5.54 1.28.95 2.1 1.38.9.47 1.85.97 2.5 1.68.39.42.63.92.88 1.42.23.46.46.93.8 1.33 1.22 1.44 4.02 4.31 6.14 4.43.44-2.45 1.27-3.31 3.72-4.66 3.3 1.12 4.88-6.03 4.72-6.91-.32-1.77-1.37-4.19-3.9-4.25-2.3-.06-2.76 1.15-3.21 2.36-.3.78-.58 1.56-1.37 2-2.46 1.36-2.85.26-3.46-1.48a29 29 0 0 0-.32-.88c-.24-.6-.33-1.11-.42-1.58a3.98 3.98 0 0 0-1.1-2.37 5.33 5.33 0 0 0-1.8-1.06c-.85-.36-1.7-.73-2.14-1.46-2.07-3.5 1.1-6 3.99-8.28 1.3-1.02 2.53-2 3.22-3-.17-.06 6.45-2 7.03-2.1.38-.07.87-.13 1.39-.19 2.34-.27 5.48-.63 3.8-2.41-.62-.68-1.64-.9-2.7-1.11-1.22-.26-2.5-.53-3.3-1.53-1.03-1.27-.77-2.71-.5-4.13.2-1.14.4-2.26-.08-3.27-1.42.03-2.77.55-4.1 1.06-2.34.9-4.62 1.79-7.15-.15-1.72-1.33-1.57-3.06-1.41-4.78.12-1.39.25-2.77-.6-3.93-.39-.54-.53-.8-.6-.92-.02-.06-.03-.08-.05-.09l-.03.02c-.08.05-.3.2-1.34-.01-3.03-.65-3.15-.21-3.45.88-.1.35-.2.78-.44 1.25-.47.93-2.52 7.7-1.48 8.2ZM10.6 33.44c-3.42.87-5 .75-9.52.13-.56-.05-1.1-.07-1.66-.05.64-.48 4.78-5.6 4.68-5.67.13.08.02.67-.1 1.32-.12.74-.26 1.56-.1 1.77.7.84 2.58 1.16 4.26 1.46.95.16 1.83.32 2.4.55-.2.1-.18.27.04.5ZM79.33 20.15c.03 0 .16.08.35.19.61.35 1.83 1.05 1.84.89.04-.62.63-1.3 1.19-1.97 1.04-1.22 2.02-2.37-.54-2.88-2.15-.42-4.12 2.14-4.37 3.53.54-.03 1.05.05 1.53.24ZM118.27 70.9a24.6 24.6 0 0 0-2.77-2.67c-2.59-1.07 2.46-6.6 4.3-8.62l.51-.57c.58-.67 1.67-2.92 2.66-4.95.92-1.92 1.76-3.64 1.98-3.66.62-.06 2.05 9.72 2.81 14.88.22 1.49.38 2.6.45 2.97l.1.51c.44 2.3.93 4.86-.84 6.78-1.56 1.69-5.46 3.05-7.56 1.36-1.1-.88-1.12-2.12-1.13-3.35a5.16 5.16 0 0 0-.5-2.67ZM159.65 16.33c.22.93 1.78 3.29 2.94 3.32.06-.43.78-1.77 1.51-3.12.8-1.5 1.61-3 1.5-3.22-1.15-2.31-6.57.33-5.95 3.02ZM79.07 25.5c.63.42 1.3.84 1.67 1.38.72 1.03-.08 3-1.72 2.95.13-.54-.15-1.39-.43-2.25-.34-1.03-.68-2.08-.33-2.61l.8.54ZM136.95 74.33c.54 1.43 1.05 2.8 1.32 3.25.4.66.87 1.3 1.34 1.96.74 1.03 1.5 2.06 1.98 3.16 1.2 2.68.71 4.72.2 6.84-.36 1.54-.73 3.11-.47 5 .68 4.82 4.12 2.8 5.67-.43-1.37-.18 1.95-6.67 3.6-8.01.3-.26.76-.7 1.3-1.23 2.12-2.07 5.63-5.5 7.4-4.22 1.62 1.17.7 2.52-.2 3.86-.63.94-1.26 1.87-1 2.72.04.18.62.01 1.06-.12.3-.09.53-.16.55-.11.01.03.11.05.26.07.32.06.86.15 1 .62.1.32-.07.7-.23 1.06-.14.3-.27.6-.22.84.36 1.7.13 3.27-.1 4.9-.13.93-.27 1.88-.3 2.89-.2 5.7 1.44 2.6 2.6.4.44-.83.8-1.53 1-1.6-2.04-1.62-1.4-7.4 1.75-8.04 1.3-.26 2.33.32 3.29.87 1.22.7 2.33 1.33 3.77.05.56-.49.1-7.65-.2-7.9-.47-.4-1.5-.53-2.45-.66a9.14 9.14 0 0 1-1.5-.27c-1.31-.44-6.6-2.23-2.77-3 .9-.18 1.86.33 2.81.84 1.09.57 2.17 1.14 3.17.73 1.94-.8 1.43-8.67 1.11-13.53-.1-1.35-.17-2.47-.17-3.14-2 .05-3.64 2.87-4.19 4.25-1.56 3.92-2.2 5.05-7.02 7.43a57.6 57.6 0 0 0-3.55 1.73l-.02.01c-.3.18-.76.17-1.2.16-.47 0-.9-.02-1.1.2-.25.28-.1.92.08 1.63.24.96.5 2.06-.09 2.7-2.03 2.16-3.39.77-4.94-.83l-.62-.62-.8-.76c-1.02-.95-2.35-2.2-2.83-3.06-1.66-2.96.06-3.47 2.02-4.05 1.55-.46 3.26-.96 3.52-2.78.18-1.32-1.54-2.18-3.3-3.05-.94-.48-1.9-.96-2.56-1.51-.45-.38-.77-.85-1.09-1.32-.56-.81-1.12-1.63-2.37-1.98-4.87-1.36-11.02 8.46-7.25 10.07.28.12 1.02 2.09 1.72 3.96ZM58.31 125.53c-.3-3.3-5.79-.12-7.35.79l-.2.1h7.62l-.07-.9ZM117.73 125.89c.52-.17 2.31-2.67 2.55-3.2a2.8 2.8 0 0 0-.15.73c-.12 1-.3 2.42-2.4 2.47Z"/></g>',circuits:(t,e)=>'<path d="M15 0h-4v18h4V0ZM23 0h-4v34h53.42a5 5 0 1 0 0-4H23V0Z" fill="#000" fill-opacity=".1"/><path d="M122 34.58a5 5 0 1 0-4 0V64h23v-4h-19V34.58Z" fill="#fff" fill-opacity=".2"/><path d="M114 46h-4v26h31v-4h-27V46ZM27 103.58a5 5 0 1 1 4 0V133H8v-4h19v-25.42Z" fill="#000" fill-opacity=".2"/>',dirty01:(t,e)=>'<g fill-rule="evenodd" clip-rule="evenodd" fill="#000"><path d="M-9.12 122.1c4.36-30.7 13.06-4.57 33.99-9.98 9.24-2.39 1.77-12.82 8.67-17.35 5.82-3.82 13.76-.74 20.43-3.21 9.63-3.57 9.5-10.82 18.48-11.9 8.48-1.03 17.37 2.34 25.93 1.08 16.15-2.4 9.53-34.03 21.64-39.61 12.1-5.6 32.05 4.06 34.66 19.87 2.54 15.42-14.46 72.78-14.46 72.78H-9.12" fill-opacity=".2"/><path d="M35.93 122c37.67 0 41.6-14.75 60.14-21.5 18.53-6.76 34.78 10.71 41-6.27 6.24-16.98 6.2 35.95 6.2 35.95H35.94V122Z" fill-opacity=".1"/><path d="M-2 4.87C9.73 3.75 5.96 16.8 10.6 16.8c1.85 0 4.03-8.46 7.38-8.46 2.46 0 2 5.5 7.32 4.91 5-.54 4.08-4 6.6-4 5.45 0 3.39 20.2 7.74 20.2 4.36 0 5.73-14.8 7.65-20.64 2.43-7.4 16.97-11.56 6.6-14.5H-2.29" fill-opacity=".4"/></g>',dirty02:(t,e)=>'<g fill-rule="evenodd" clip-rule="evenodd" fill="#000"><path d="M100 124.65c-3.19-17.34-9.55-2.58-24.85-5.63-6.76-1.35-1.3-7.25-6.34-9.8-4.26-2.17-10.06-.43-14.94-1.82-7.04-2.02-6.95-6.12-13.5-6.73-6.2-.58-12.7 1.33-18.97.61C9.6 99.93 14.44 82.06 5.58 78.9c-8.85-3.15-23.43 2.3-25.34 11.23-1.86 8.71 10.57 41.12 10.57 41.12h109.2" fill-opacity=".2"/><path d="M136 116.77c-51.24 0-56.58-25.8-81.8-37.61C29 67.34 6.9 97.9-1.56 68.2c-8.48-29.7-8.43 62.86-8.43 62.86h146v-14.3Z" fill-opacity=".1"/><path d="M141.57 3.18c-11.93-.98-5.03 10.8-9.74 10.8-6.97 0-2.1-7.97-10.58-7.78-2.22.06-4.95 1.94-5.11 4.5-.37 5.52 3.71 15.03-1.84 15.3-5.18.25-1.1-9.64-1.65-16.24-.3-3.77-4.18-6.75-6.97-6.75-7.57 0-1.68 15.7-7.13 15.7s-1.2-9.05-5.08-13.84C88.97-.7 74.17-3.44 84.72-6h57.15" fill-opacity=".4"/></g>',dots:(t,e)=>'<g fill="#000"><path d="M27.3 65.2a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM35.7 69.41a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM35.7 82.03a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM35.7 94.66a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM34.1 109.2a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM49.2 107.1a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM27.3 90.45a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM29.2 101.1a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM51.1 103.2a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM42 88.34a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM39.9 103.07a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM29.4 75.72a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM39.9 77.83a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM10.5 94.66a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM8.4 84.14a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM10.5 107.28a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM2.1 90.45a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM4.2 100.97a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM14.7 90.45a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM16.8 100.97a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM8.4 71.52a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM4.2 75.72a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM14.7 65.2a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM16.8 75.72a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM21 96.76a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM23.1 82.03a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM21 109.38a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM35.7 119.9a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM27.3 115.69a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM42 113.59a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM8.4 122a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM4.2 113.59a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM14.7 115.69a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM23.1 119.9a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM21 71.52a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2Z" fill-opacity=".2"/><path d="M117.3 4.2a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM125.7 8.41a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM125.7 21.03a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM125.7 33.66a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM123.6 48.38a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM119.4 27.34a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM117.3 42.07a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM132 27.34a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM129.9 42.07a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM119.4 14.72a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM129.9 16.83a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM100.5 33.66a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM98.4 23.14a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM100.5 46.28a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM92.1 29.45a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM106.8 27.34a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM104.7 42.07a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM100.5 8.41a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM92.1 16.83a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM106.8 2.1a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM104.7 16.83a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM113.1 33.66a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM111 23.14a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM113.1 46.28a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM123.6 61a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM132 52.59a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM104.7 54.69a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2ZM113.1 58.9a2.1 2.1 0 1 1-4.2 0 2.1 2.1 0 0 1 4.2 0ZM111 10.52a2.1 2.1 0 1 0 0-4.2 2.1 2.1 0 0 0 0 4.2Z" fill-opacity=".1"/></g>',grunge01:(t,e)=>'<path d="M69.1 77c-.08.01-.09.02-.1.11.09-.01.1-.02.1-.1ZM81.25 107.1l.13-.1c1.9 0-1.25.19-.13.1ZM86 85.11c.09-.01.1-.02.1-.1-.08 0-.09.01-.1.1ZM15 92c.01.09.02.1.1.11 0-.09-.01-.1-.1-.1Z" fill="#000" fill-opacity=".4"/>',grunge02:(t,e)=>'<path d="M29.47 34.03c-.1 0-.19-.06-.26-.12-.08-.07-.14-.12-.13.14.01.5.67-.05.4-.02ZM9.33 48.92s.2-.56.03-.74c-.17.17-.18.42-.03.74ZM7.5 52c.06 0 .57-.28.48-.43-.12-.18-.49.34-.49.42ZM22.9 59.14c-.13-.11-.53-.45-.28-.5.14-.03.5.36.32.54v-.01h-.01l-.03-.03ZM26.33 108.46c.13-.02.66-.36.34-.45-.21-.04-.6.5-.34.46ZM52.63 96.34c-.05.05-.2.09-.34.12-.15.04-.26.07-.16.1.19.06.84.16.5-.22ZM4.76 43.63ZM5.1 71.63l.06-.1c1.02 0-.68.19-.07.1ZM80.53 109.92c.09-.02.1-.02.1-.11-.07.01-.08.02-.1.1ZM29.17 117.78c.08-.02.09-.03.1-.11-.08.01-.09.02-.1.1ZM9.01 49.75c.08-.02.09-.03.1-.12-.08.02-.09.03-.1.12ZM65.84 48.74c.02.09.03.1.1.1 0-.08-.01-.09-.1-.1ZM107.28 76.91c-.08.02-.09.03-.1.12.08-.02.09-.03.1-.12Z" fill="#000" fill-opacity=".2"/>'};function T({prng:t,group:e,values:n=[]}){const i=r,s=t.pick(n);return s&&i[e][s]?{name:s,value:i[e][s]}:void 0}const R={$schema:"http://json-schema.org/draft-07/schema#",properties:{baseColor:{type:"array",items:{type:"string",pattern:"^(transparent|[a-fA-F0-9]{6})$"},default:["ffb300","1e88e5","546e7a","6d4c41","00acc1","f4511e","5e35b1","43a047","757575","3949ab","039be5","7cb342","c0ca33","fb8c00","d81b60","8e24aa","e53935","00897b","fdd835"]},eyes:{type:"array",items:{type:"string",enum:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},default:["bulging","dizzy","eva","frame1","frame2","glow","happy","hearts","robocop","round","roundFrame01","roundFrame02","sensor","shade01"]},face:{type:"array",items:{type:"string",enum:["round01","round02","square01","square02","square03","square04"]},default:["round01","round02","square01","square02","square03","square04"]},mouth:{type:"array",items:{type:"string",enum:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]},default:["bite","diagram","grill01","grill02","grill03","smile01","smile02","square01","square02"]},mouthProbability:{type:"integer",minimum:0,maximum:100,default:100},sides:{type:"array",items:{type:"string",enum:["antenna01","antenna02","cables01","cables02","round","square","squareAssymetric"]},default:["antenna01","antenna02","cables01","cables02","round","square","squareAssymetric"]},sidesProbability:{type:"integer",minimum:0,maximum:100,default:100},texture:{type:"array",items:{type:"string",enum:["camo01","camo02","circuits","dirty01","dirty02","dots","grunge01","grunge02"]},default:["camo01","camo02","circuits","dirty01","dirty02","dots","grunge01","grunge02"]},textureProbability:{type:"integer",minimum:0,maximum:100,default:50},top:{type:"array",items:{type:"string",enum:["antenna","antennaCrooked","bulb01","glowingBulb01","glowingBulb02","horns","lights","pyramid","radar"]},default:["antenna","antennaCrooked","bulb01","glowingBulb01","glowingBulb02","horns","lights","pyramid","radar"]},topProbability:{type:"integer",minimum:0,maximum:100,default:100}}},x={title:"Bottts",creator:"Pablo Stanley",source:"https://bottts.com/",homepage:"https://twitter.com/pablostanley",license:{name:"Free for personal and commercial use",url:"https://bottts.com/"}},C=({prng:t,options:e})=>{var n,r,i,s,o,a,u,l,c,h;const d=function({prng:t,options:e}){const n=T({prng:t,group:"sides",values:e.sides}),r=T({prng:t,group:"top",values:e.top}),i=T({prng:t,group:"face",values:e.face}),s=T({prng:t,group:"mouth",values:e.mouth}),o=T({prng:t,group:"eyes",values:e.eyes}),a=T({prng:t,group:"texture",values:e.texture});return{sides:t.bool(e.sidesProbability)?n:void 0,top:t.bool(e.topProbability)?r:void 0,face:i,mouth:t.bool(e.mouthProbability)?s:void 0,eyes:o,texture:t.bool(e.textureProbability)?a:void 0}}({prng:t,options:e}),f=function({prng:t,options:e}){var n,r;return{base:(r=t.pick(null!==(n=e.baseColor)&&void 0!==n?n:[],"transparent"),"transparent"===r?r:`#${r}`)}}({prng:t,options:e});return{attributes:{viewBox:"0 0 180 180",fill:"none","shape-rendering":"auto"},body:`<g transform="translate(0 66)">${null!==(r=null===(n=d.sides)||void 0===n?void 0:n.value(d,f))&&void 0!==r?r:""}</g><g transform="translate(41)">${null!==(s=null===(i=d.top)||void 0===i?void 0:i.value(d,f))&&void 0!==s?s:""}</g><g transform="translate(25 44)">${null!==(a=null===(o=d.face)||void 0===o?void 0:o.value(d,f))&&void 0!==a?a:""}</g><g transform="translate(52 124)">${null!==(l=null===(u=d.mouth)||void 0===u?void 0:u.value(d,f))&&void 0!==l?l:""}</g><g transform="translate(38 76)">${null!==(h=null===(c=d.eyes)||void 0===c?void 0:c.value(d,f))&&void 0!==h?h:""}</g>`,extra:()=>({...Object.entries(d).reduce(((t,[e,n])=>(t[e]=null==n?void 0:n.name,t)),{}),...Object.entries(f).reduce(((t,[e,n])=>(t[`${e}Color`]=n,t)),{})})}},P=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},N={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,o=s?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,l=e>>2,c=(3&e)<<4|o>>4;let h=(15&o)<<2|u>>6,d=63&u;a||(d=64,s||(h=64)),r.push(n[l],n[c],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(P(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const o=i<t.length?n[t.charAt(i)]:64;++i;const a=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==o||null==a)throw new DecodeBase64StringError;const u=e<<2|s>>4;if(r.push(u),64!==o){const t=s<<4&240|o>>2;if(r.push(t),64!==a){const t=o<<6&192|a;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O=function(t){return function(t){const e=P(t);return N.encodeByteArray(e,!0)}(t).replace(/\./g,"")},L=function(t){try{return N.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};const B=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,D=()=>{try{return B()||(()=>{if("undefined"==typeof process)return;const t={}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&L(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},U=t=>{var e,n;return null===(n=null===(e=D())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},j=t=>{const e=U(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},F=()=>{var t;return null===(t=D())||void 0===t?void 0:t.config},V=t=>{var e;return null===(e=D())||void 0===e?void 0:e[`_${t}`]};class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function z(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[O(JSON.stringify({alg:"none",type:"JWT"})),O(JSON.stringify(s)),""].join(".")}function H(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function q(){return!function(){var t;const e=null===(t=D())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){try{return"object"==typeof indexedDB}catch(t){return!1}}class FirebaseError extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(W,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new FirebaseError(r,o,n)}}const W=/\{\$([^}]+)}/g;function $(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(Z(n)&&Z(s)){if(!$(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Z(t){return null!==t&&"object"==typeof t}function G(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Q(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function J(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class ObserverProxy{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=Y),void 0===r.error&&(r.error=Y),void 0===r.complete&&(r.complete=Y);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Y(){}function X(t){return t&&t._delegate?t._delegate:t}class Component{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const tt="[DEFAULT]";class Provider{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Deferred;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:tt})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:r});n.resolve(t)}catch(e){}}}}clearInstance(t=tt){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=tt){return this.instances.has(t)}getOptions(t=tt){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===tt?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(t=tt){return this.component?this.component.multipleInstances?t:tt:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class index_esm2017_ComponentContainer{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Provider(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const et=[];var nt;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(nt||(nt={}));const rt={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},it=nt.INFO,st={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},ot=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=st[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Logger{constructor(t){this.name=t,this._logLevel=it,this._logHandler=ot,this._userLogHandler=null,et.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?rt[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...t),this._logHandler(this,nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...t),this._logHandler(this,nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...t),this._logHandler(this,nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...t),this._logHandler(this,nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...t),this._logHandler(this,nt.ERROR,...t)}}let at,ut;const lt=new WeakMap,ct=new WeakMap,ht=new WeakMap,dt=new WeakMap,ft=new WeakMap;let pt={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ct.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ht.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yt(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function mt(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ut||(ut=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(vt(this),e),yt(lt.get(this))}:function(...e){return yt(t.apply(vt(this),e))}:function(e,...n){const r=t.call(vt(this),e,...n);return ht.set(r,e.sort?e.sort():[e]),yt(r)}}function gt(t){return"function"==typeof t?mt(t):(t instanceof IDBTransaction&&function(t){if(ct.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)}));ct.set(t,e)}(t),e=t,(at||(at=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>e instanceof t))?new Proxy(t,pt):t);var e}function yt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(yt(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&lt.set(e,t)})).catch((()=>{})),ft.set(e,t),e}(t);if(dt.has(t))return dt.get(t);const e=gt(t);return e!==t&&(dt.set(t,e),ft.set(e,t)),e}const vt=t=>ft.get(t);const wt=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],_t=new Map;function Et(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(_t.get(e))return _t.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!wt.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),i&&s.done]))[0]};return _t.set(e,s),s}pt=(t=>({...t,get:(e,n,r)=>Et(e,n)||t.get(e,n,r),has:(e,n)=>!!Et(e,n)||t.has(e,n)}))(pt);class PlatformLoggerServiceImpl{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const kt="@firebase/app",St="0.10.18",At=new Logger("@firebase/app"),Mt="@firebase/app-compat",It="@firebase/analytics-compat",Tt="@firebase/analytics",Rt="@firebase/app-check-compat",xt="@firebase/app-check",Ct="@firebase/auth",Pt="@firebase/auth-compat",Nt="@firebase/database",Ot="@firebase/data-connect",Lt="@firebase/database-compat",Bt="@firebase/functions",Dt="@firebase/functions-compat",Ut="@firebase/installations",jt="@firebase/installations-compat",Ft="@firebase/messaging",Vt="@firebase/messaging-compat",zt="@firebase/performance",Ht="@firebase/performance-compat",qt="@firebase/remote-config",Kt="@firebase/remote-config-compat",Wt="@firebase/storage",$t="@firebase/storage-compat",Zt="@firebase/firestore",Gt="@firebase/vertexai",Qt="@firebase/firestore-compat",Jt="firebase",Yt="[DEFAULT]",Xt={[kt]:"fire-core",[Mt]:"fire-core-compat",[Tt]:"fire-analytics",[It]:"fire-analytics-compat",[xt]:"fire-app-check",[Rt]:"fire-app-check-compat",[Ct]:"fire-auth",[Pt]:"fire-auth-compat",[Nt]:"fire-rtdb",[Ot]:"fire-data-connect",[Lt]:"fire-rtdb-compat",[Bt]:"fire-fn",[Dt]:"fire-fn-compat",[Ut]:"fire-iid",[jt]:"fire-iid-compat",[Ft]:"fire-fcm",[Vt]:"fire-fcm-compat",[zt]:"fire-perf",[Ht]:"fire-perf-compat",[qt]:"fire-rc",[Kt]:"fire-rc-compat",[Wt]:"fire-gcs",[$t]:"fire-gcs-compat",[Zt]:"fire-fst",[Qt]:"fire-fst-compat",[Gt]:"fire-vertex","fire-js":"fire-js",[Jt]:"fire-js-all"},te=new Map,ee=new Map,ne=new Map;function re(t,e){try{t.container.addComponent(e)}catch(n){At.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ie(t){const e=t.name;if(ne.has(e))return At.debug(`There were multiple attempts to register component ${e}.`),!1;ne.set(e,t);for(const n of te.values())re(n,t);for(const n of ee.values())re(n,t);return!0}function se(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oe(t){return void 0!==t.settings}const ae=new ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class FirebaseAppImpl{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Component("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ae.create("app-deleted",{appName:this._name})}}const ue="11.2.0";function le(t,e={}){let n=t;if("object"!=typeof e){e={name:e}}const r=Object.assign({name:Yt,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ae.create("bad-app-name",{appName:String(i)});if(n||(n=F()),!n)throw ae.create("no-options");const s=te.get(i);if(s){if($(n,s.options)&&$(r,s.config))return s;throw ae.create("duplicate-app",{appName:i})}const o=new index_esm2017_ComponentContainer(i);for(const u of ne.values())o.addComponent(u);const a=new FirebaseAppImpl(n,r,o);return te.set(i,a),a}function ce(t=Yt){const e=te.get(t);if(!e&&t===Yt&&F())return le();if(!e)throw ae.create("no-app",{appName:t});return e}function he(t,e,n){var r;let i=null!==(r=Xt[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=[`Unable to register library "${i}" with version "${e}":`];return s&&t.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void At.warn(t.join(" "))}ie(new Component(`${i}-version`,(()=>({library:i,version:e})),"VERSION"))}const de="firebase-heartbeat-store";let fe=null;function pe(){return fe||(fe=function(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=yt(o);return r&&o.addEventListener("upgradeneeded",(t=>{r(yt(o.result),t.oldVersion,t.newVersion,yt(o.transaction),t)})),n&&o.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{s&&t.addEventListener("close",(()=>s())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(de)}catch(n){console.warn(n)}}}).catch((t=>{throw ae.create("idb-open",{originalErrorMessage:t.message})}))),fe}async function me(t,e){try{const n=(await pe()).transaction(de,"readwrite"),r=n.objectStore(de);await r.put(e,ge(t)),await n.done}catch(n){if(n instanceof FirebaseError)At.warn(n.message);else{const t=ae.create("idb-set",{originalErrorMessage:null==n?void 0:n.message});At.warn(t.message)}}}function ge(t){return`${t.name}!${t.options.appId}`}class HeartbeatServiceImpl{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ye();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((t=>t.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(n){At.warn(n)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=ye(),{heartbeatsToSend:n,unsentEntries:r}=function(t,e=1024){const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),ve(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ve(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=O(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return At.warn(e),""}}}function ye(){return(new Date).toISOString().substring(0,10)}class HeartbeatStorageImpl{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!K()&&new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await pe()).transaction(de),n=await e.objectStore(de).get(ge(t));return await e.done,n}catch(e){if(e instanceof FirebaseError)At.warn(e.message);else{const t=ae.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});At.warn(t.message)}}}(this.app);return(null==t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return me(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return me(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function ve(t){return O(JSON.stringify({version:2,heartbeats:t})).length}var we;we="",ie(new Component("platform-logger",(t=>new PlatformLoggerServiceImpl(t)),"PRIVATE")),ie(new Component("heartbeat",(t=>new HeartbeatServiceImpl(t)),"PRIVATE")),he(kt,St,we),he(kt,St,"esm2017"),he("fire-js","");var be,_e,Ee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},ke={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function r(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.D=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}(e,(function(){this.blockSize=-1})),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var r=e-this.blockSize,i=this.B,s=this.h,o=0;o<e;){if(0==s)for(;o<=r;)n(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(i[s++]=t.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<e;)if(i[s++]=t[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.u(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var i={};function s(t){return-128<=t&&128>t?function(t,e){var n=i;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new r([0|t],0>t?-1:0)})):new r([0|t],0>t?-1:0)}function o(t){if(isNaN(t)||!isFinite(t))return a;if(0>t)return d(o(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=4294967296;return new r(e,0)}var a=s(0),u=s(1),l=s(16777216);function c(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function h(t){return-1==t.h}function d(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new r(n,~t.h).add(u)}function f(t,e){return t.add(d(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function m(t,e){this.g=t,this.h=e}function g(t,e){if(c(e))throw Error("division by zero");if(c(t))return new m(a,a);if(h(t))return e=g(d(t),e),new m(d(e.g),d(e.h));if(h(e))return e=g(t,d(e)),new m(d(e.g),e.h);if(30<t.g.length){if(h(t)||h(e))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=e;0>=r.l(t);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var l=s.add(r);0>=l.l(t)&&(i=i.add(n),s=l),r=v(r,1),n=v(n,1)}return e=f(t,i.j(e)),new m(i,e)}for(i=a;0<=t.l(e);){for(n=Math.max(1,Math.floor(t.m()/e.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),l=(s=o(n)).j(e);h(l)||0<l.l(t);)l=(s=o(n-=r)).j(e);c(s)&&(s=u),i=i.add(s),t=f(t,l)}return new m(i,t)}function y(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.i(i)<<1|t.i(i-1)>>>31;return new r(n,t.h)}function v(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],o=0;o<i;o++)s[o]=0<e?t.i(o+n)>>>e|t.i(o+n+1)<<32-e:t.i(o+n);return new r(s,t.h)}(t=r.prototype).m=function(){if(h(this))return-d(this).m();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.i(n);t+=(0<=r?r:4294967296+r)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(c(this))return"0";if(h(this))return"-"+d(this).toString(t);for(var e=o(Math.pow(t,6)),n=this,r="";;){var i=g(n,e).g,s=((0<(n=f(n,i.j(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return h(t=f(this,t))?-1:c(t)?0:1},t.abs=function(){return h(this)?d(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var o=i+(65535&this.i(s))+(65535&t.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(t.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(c(this)||c(t))return a;if(h(this))return h(t)?d(this).j(d(t)):d(d(this).j(t));if(h(t))return d(this.j(d(t)));if(0>this.l(l)&&0>t.l(l))return o(this.m()*t.m());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var u=this.i(i)>>>16,f=65535&this.i(i),m=t.i(s)>>>16,g=65535&t.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=u*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=u*m,p(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new r(n,0)},t.A=function(t){return g(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)&t.i(i);return new r(n,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)|t.i(i);return new r(n,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)^t.i(i);return new r(n,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,_e=ke.Md5=e,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return d(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<e.length;s+=8){var u=Math.min(8,e.length-s),l=parseInt(e.substring(s,s+u),n);8>u?(u=o(Math.pow(n,u)),i=i.j(u).add(o(l))):i=(i=i.j(r)).add(o(l))}return i},be=ke.Integer=r}).apply(void 0!==Ee?Ee:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Se,Ae,Me,Ie,Te,Re,xe,Ce,Pe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Ne={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Pe&&Pe];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,r){if(r)t:{var i=n;t=t.split(".");for(var s=0;s<t.length-1;s++){var o=t[s];if(!(o in i))break t;i=i[o]}(r=r(s=i[t=t[t.length-1]]))!=s&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(t,e){return e}))}}));var r=r||{},i=this||self;function s(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function o(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,n){return t.call.apply(t.bind,arguments)}function u(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function l(t,e,n){return(l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:u).apply(null,arguments)}function c(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function h(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function d(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function f(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(s(e)){const n=t.length||0,r=e.length||0;t.length=n+r;for(let i=0;i<r;i++)t[n+i]=e[i]}else t.push(e)}}function p(t){return/^[\s\xa0]*$/.test(t)}function m(){var t=i.navigator;return t&&(t=t.userAgent)?t:""}function g(t){return g[" "](t),t}g[" "]=function(){};var y=!(-1==m().indexOf("Gecko")||-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge")||-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE")||-1!=m().indexOf("Edge"));function v(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function w(t){const e={};for(const n in t)e[n]=t[n];return e}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<b.length;e++)n=b[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function E(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function k(t){i.setTimeout((()=>{throw t}),0)}function S(){var t=T;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var A=new class na{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Ca),(t=>t.reset()));class Ca{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let M,I=!1,T=new class Aa{constructor(){this.h=this.g=null}add(t,e){const n=A.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const t=i.Promise.resolve(void 0);M=()=>{t.then(x)}};var x=()=>{for(var t;t=S();){try{t.h.call(t.g)}catch(n){k(n)}var e=A;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}I=!1};function C(){this.s=this.s,this.C=this.C}function P(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}C.prototype.s=!1,C.prototype.ma=function(){this.s||(this.s=!0,this.N())},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};i.addEventListener("test",t,e),i.removeEventListener("test",t,e)}catch(n){}return t}();function O(t,e){if(P.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(y){t:{try{g(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:L[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&O.aa.h.call(this)}}h(O,P);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),D=0;function U(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++D,this.da=this.fa=!1}function j(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function F(t){this.src=t,this.g={},this.h=0}function V(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=Array.prototype.indexOf.call(i,e,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(j(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function z(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.da&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}F.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=z(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new U(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var H="closure_lm_"+(1e6*Math.random()|0),q={};function K(t,e,n,r,i){if(r&&r.once)return $(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)K(t,e[s],n,r,i);return null}return n=tt(n),t&&t[B]?t.K(e,n,o(r)?!!r.capture:!!r,i):W(t,e,n,!1,r,i)}function W(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,u=Y(t);if(u||(t[H]=u=new F(t)),(n=u.add(e,n,r,a,s)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}const e=J;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)N||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Q(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function $(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$(t,e[s],n,r,i);return null}return n=tt(n),t&&t[B]?t.L(e,n,o(r)?!!r.capture:!!r,i):W(t,e,n,!0,r,i)}function Z(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Z(t,e[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=tt(n),t&&t[B]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=z(s=t.g[e],n,r,i))&&(j(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=Y(t))&&(e=t.g[e.toString()],t=-1,e&&(t=z(e,n,r,i)),(n=-1<t?e[t]:null)&&G(n))}function G(t){if("number"!=typeof t&&t&&!t.da){var e=t.src;if(e&&e[B])V(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Q(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Y(e))?(V(n,t),0==n.h&&(n.src=null,e[H]=null)):j(t)}}}function Q(t){return t in q?q[t]:q[t]="on"+t}function J(t,e){if(t.da)t=!0;else{e=new O(e,this);var n=t.listener,r=t.ha||t.src;t.fa&&G(t),t=n.call(r,e)}return t}function Y(t){return(t=t[H])instanceof F?t:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function tt(t){return"function"==typeof t?t:(t[X]||(t[X]=function(e){return t.handleEvent(e)}),t[X])}function et(){C.call(this),this.i=new F(this),this.M=this,this.F=null}function nt(t,e){var n,r=t.F;if(r)for(n=[];r;r=r.F)n.push(r);if(t=t.M,r=e.type||e,"string"==typeof e)e=new P(e,t);else if(e instanceof P)e.target=e.target||t;else{var i=e;_(e=new P(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=rt(o,r,!0,e)&&i}if(i=rt(o=e.g=t,r,!0,e)&&i,i=rt(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=rt(o=e.g=n[s],r,!1,e)&&i}function rt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.da&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.fa&&V(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function it(t,e,n){if("function"==typeof t)n&&(t=l(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=l(t.handleEvent,t)}return 2147483647<Number(e)?-1:i.setTimeout(t,e||0)}function st(t){t.g=it((()=>{t.g=null,t.i&&(t.i=!1,st(t))}),t.l);const e=t.h;t.h=null,t.m.apply(null,e)}h(et,C),et.prototype[B]=!0,et.prototype.removeEventListener=function(t,e,n,r){Z(this,t,e,n,r)},et.prototype.N=function(){if(et.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)j(n[r]);delete e.g[t],e.h--}}this.F=null},et.prototype.K=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},et.prototype.L=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};class eb extends C{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ot(t){C.call(this),this.h=t,this.g={}}h(ot,C);var at=[];function ut(t){v(t.g,(function(t,e){this.g.hasOwnProperty(e)&&G(t)}),t),t.g={}}ot.prototype.N=function(){ot.aa.N.call(this),ut(this)},ot.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lt=i.JSON.stringify,ct=i.JSON.parse,ht=class{stringify(t){return i.JSON.stringify(t,void 0)}parse(t){return i.JSON.parse(t,void 0)}};function dt(){}function ft(t){return t.h||(t.h=t.i())}function pt(){}dt.prototype.h=null;var mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gt(){P.call(this,"d")}function yt(){P.call(this,"c")}h(gt,P),h(yt,P);var vt={},wt=null;function bt(){return wt=wt||new et}function _t(t){P.call(this,vt.La,t)}function Et(t){const e=bt();nt(e,new _t(e))}function kt(t,e){P.call(this,vt.STAT_EVENT,t),this.stat=e}function St(t){const e=bt();nt(e,new kt(e,t))}function At(t,e){P.call(this,vt.Ma,t),this.size=e}function Mt(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){t()}),e)}function It(){this.g=!0}function Tt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return lt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}vt.La="serverreachability",h(_t,P),vt.STAT_EVENT="statevent",h(kt,P),vt.Ma="timingevent",h(At,P),It.prototype.xa=function(){this.g=!1},It.prototype.info=function(){};var Rt,xt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ct={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pt(){}function Nt(t,e,n,r){this.j=t,this.i=e,this.l=n,this.R=r||1,this.U=new ot(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}h(Pt,dt),Pt.prototype.g=function(){return new XMLHttpRequest},Pt.prototype.i=function(){return{}},Rt=new Pt;var Lt={},Bt={};function Dt(t,e,n){t.L=1,t.v=le(ie(e)),t.m=n,t.P=!0,Ut(t,null)}function Ut(t,e){t.F=Date.now(),Vt(t),t.A=ie(t.v);var n=t.A,r=t.R;Array.isArray(r)||(r=[String(r)]),ke(n.i,"t",r),t.C=0,n=t.j.J,t.h=new Ot,t.g=kn(t.j,n?e:null,!t.m),0<t.O&&(t.M=new eb(l(t.Y,t,t.g),t.O)),e=t.U,n=t.g,r=t.ca;var i="readystatechange";Array.isArray(i)||(i&&(at[0]=i.toString()),i=at);for(var s=0;s<i.length;s++){var o=K(n,i[s],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}e=t.H?w(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Et(),function(t,e,n,r,i,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.i,t.u,t.A,t.l,t.R,t.m)}function jt(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.j.Ca)}function Ft(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Bt:(n=Number(e.substring(n,r)),isNaN(n)?Lt:(r+=1)+n>e.length?Bt:(e=e.slice(r,r+n),t.C=r+n,e))}function Vt(t){t.S=Date.now()+t.I,zt(t,t.I)}function zt(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Mt(l(t.ba,t),e)}function Ht(t){t.B&&(i.clearTimeout(t.B),t.B=null)}function qt(t){0==t.j.G||t.J||vn(t.j,t)}function Kt(t){Ht(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,ut(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function Wt(t,e){try{var n=t.j;if(0!=n.G&&(n.g==t||Jt(n.h,t)))if(!t.K&&Jt(n.h,t)&&3==n.G){try{var r=n.Da.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;yn(n),an(n)}pn(n),St(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Mt(l(n.Za,n),6e3));if(1>=Qt(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else bn(n,11)}else if((t.K||n.g==t)&&yn(n),!p(e))for(i=n.Da.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.T=l[0],l=l[1],2==n.G)if("c"==l[0]){n.K=l[1],n.ia=l[2];const e=l[3];null!=e&&(n.la=e,n.j.info("VER="+n.la));const i=l[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=l[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Yt(s,s.h),s.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.ya=t,ue(r.I,r.D,t))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=t;if((r=n).qa=En(r,r.J?r.ia:null,r.W),o.K){Xt(r.h,o);var a=o,u=r.L;u&&(a.I=u),a.B&&(Ht(a),Vt(a)),r.g=o}else fn(r);0<n.i.length&&ln(n)}else"stop"!=l[0]&&"close"!=l[0]||bn(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?bn(n,7):on(n):"noop"!=l[0]&&n.l&&n.l.ta(l),n.v=0)}Et()}catch(c){}}Nt.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==en(t)?e.j():this.Y(t)},Nt.prototype.Y=function(t){try{if(t==this.g)t:{const d=en(this.g);var e=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=d||7==e||Et(),Ht(this);var n=this.g.Z();this.X=n;e:if(jt(this)){var r=nn(this.g);t="";var s=r.length,o=4==en(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Kt(this),qt(this);var a="";break e}this.h.i=new i.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:!(o&&e==s-1)});r.length=0,this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){e:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(u)){var c=u;break e}}c=null}if(!(n=c)){this.o=!1,this.s=3,St(12),Kt(this),qt(this);break t}Tt(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wt(this,n)}if(this.P){let t;for(n=!0;!this.J&&this.C<a.length;){if(t=Ft(this,a),t==Bt){4==d&&(this.s=4,St(14),n=!1),Tt(this.i,this.l,null,"[Incomplete Response]");break}if(t==Lt){this.s=4,St(15),Tt(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Tt(this.i,this.l,t,null),Wt(this,t)}if(jt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,St(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),mn(h),h.M=!0,St(11))}}else Tt(this.i,this.l,a,"[Invalid Chunked Response]"),Kt(this),qt(this)}else Tt(this.i,this.l,a,null),Wt(this,a);4==d&&Kt(this),this.o&&!this.J&&(4==d?vn(this.j,this):(this.o=!1,Vt(this)))}else(function(t){const e={};t=(t.g&&2<=en(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(p(t[r]))continue;var n=E(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Kt(this),qt(this)}}}catch(Oe){}},Nt.prototype.cancel=function(){this.J=!0,Kt(this)},Nt.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.i,this.A),2!=this.L&&(Et(),St(17)),Kt(this),this.s=2,qt(this)):zt(this,this.S-t)};var $t=class{constructor(t,e){this.g=t,this.map=e}};function Zt(t){this.l=t||10,i.PerformanceNavigationTiming?t=0<(t=i.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Qt(t){return t.h?1:t.g?t.g.size:0}function Jt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Yt(t,e){t.g?t.g.add(e):t.h=e}function Xt(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function te(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return d(t.i)}function ee(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(s(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}Zt.prototype.cancel=function(){if(this.i=te(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ne=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function re(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof re){this.h=t.h,se(this,t.j),this.o=t.o,this.g=t.g,oe(this,t.s),this.l=t.l;var e=t.i,n=new we;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ae(this,n),this.m=t.m}else t&&(e=String(t).match(ne))?(this.h=!1,se(this,e[1]||"",!0),this.o=ce(e[2]||""),this.g=ce(e[3]||"",!0),oe(this,e[4]),this.l=ce(e[5]||"",!0),ae(this,e[6]||"",!0),this.m=ce(e[7]||"")):(this.h=!1,this.i=new we(null,this.h))}function ie(t){return new re(t)}function se(t,e,n){t.j=n?ce(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function oe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function ae(t,e,n){e instanceof we?(t.i=e,function(t,e){e&&!t.j&&(be(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(_e(this,e),ke(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=he(e,ye)),t.i=new we(e,t.h))}function ue(t,e,n){t.i.set(e,n)}function le(t){return ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ce(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function he(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,de),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function de(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}re.prototype.toString=function(){var t=[],e=this.j;e&&t.push(he(e,pe,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(he(e,pe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(he(n,"/"==n.charAt(0)?ge:me,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",he(n,ve)),t.join("")};var fe,pe=/[#\/\?@]/g,me=/[#\?:]/g,ge=/[#\?]/g,ye=/[#\?@]/g,ve=/#/g;function we(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function be(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function _e(t,e){be(t),e=Le(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Ee(t,e){return be(t),e=Le(t,e),t.g.has(e)}function ke(t,e,n){_e(t,e),0<n.length&&(t.i=null,t.g.set(Le(t,e),d(n)),t.h+=n.length)}function Le(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function De(t,e,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ue(){this.g=new ht}function je(t,e,n){const r=n||"";try{ee(t,(function(t,n){let i=t;o(t)&&(i=lt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Fe(t){this.l=t.Ub||null,this.j=t.eb||!1}function Ve(t,e){et.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function ze(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function He(t){t.readyState=4,t.l=null,t.j=null,t.v=null,qe(t)}function qe(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ke(t){let e="";return v(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function We(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Ke(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ue(t,e,n))}function $e(t){et.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=we.prototype).add=function(t,e){be(this),this.i=null,t=Le(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){be(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},t.na=function(){be(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},t.V=function(t){be(this);let e=[];if("string"==typeof t)Ee(this,t)&&(e=e.concat(this.g.get(Le(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},t.set=function(t,e){return be(this),this.i=null,Ee(this,t=Le(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")},h(Fe,dt),Fe.prototype.g=function(){return new Ve(this.l,this.j)},Fe.prototype.i=(fe={},function(){return fe}),h(Ve,et),(t=Ve.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,qe(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||i).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,He(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,qe(this)),this.g&&(this.readyState=3,qe(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ze(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?He(this):qe(this),3==this.readyState&&ze(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,He(this))},t.Qa=function(t){this.g&&(this.response=t,He(this))},t.ga=function(){this.g&&He(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ve.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),h($e,et);var Ze=/^https?$/i,Ge=["POST","PUT"];function Qe(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,Je(t),Xe(t)}function Je(t){t.A||(t.A=!0,nt(t,"complete"),nt(t,"error"))}function Ye(t){if(t.h&&void 0!==r&&(!t.v[1]||4!=en(t)||2!=t.Z()))if(t.u&&4==en(t))it(t.Ea,0,t);else if(nt(t,"readystatechange"),4==en(t)){t.h=!1;try{const r=t.Z();t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var s;if(s=0===r){var o=String(t.D).match(ne)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Ze.test(o?o.toLowerCase():"")}n=s}if(n)nt(t,"complete"),nt(t,"success");else{t.m=6;try{var a=2<en(t)?t.g.statusText:""}catch(u){a=""}t.l=a+" ["+t.Z()+"]",Je(t)}}finally{Xe(t)}}}function Xe(t,e){if(t.g){tn(t);const r=t.g,i=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||nt(t,"ready");try{r.onreadystatechange=i}catch(n){}}}function tn(t){t.I&&(i.clearTimeout(t.I),t.I=null)}function en(t){return t.g?t.g.readyState:0}function nn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(Be){return null}}function rn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function sn(t){this.Aa=0,this.i=[],this.j=new It,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rn("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rn("baseRetryDelayMs",5e3,t),this.cb=rn("retryDelaySeedMs",1e4,t),this.Wa=rn("forwardChannelMaxRetries",2,t),this.wa=rn("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Zt(t&&t.concurrentRequestLimit),this.Da=new Ue,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function on(t){if(un(t),3==t.G){var e=t.U++,n=ie(t.I);if(ue(n,"SID",t.K),ue(n,"RID",e),ue(n,"TYPE","terminate"),hn(t,n),(e=new Nt(t,t.j,e)).L=2,e.v=le(ie(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=e.v,n=!0),n||(e.g=kn(e.j,null),e.g.ea(e.v)),e.F=Date.now(),Vt(e)}_n(t)}function an(t){t.g&&(mn(t),t.g.cancel(),t.g=null)}function un(t){an(t),t.u&&(i.clearTimeout(t.u),t.u=null),yn(t),t.h.cancel(),t.s&&("number"==typeof t.s&&i.clearTimeout(t.s),t.s=null)}function ln(t){if(!Gt(t.h)&&!t.s){t.s=!0;var e=t.Ga;M||R(),I||(M(),I=!0),T.add(e,t),t.B=0}}function cn(t,e){var n;n=e?e.l:t.U++;const r=ie(t.I);ue(r,"SID",t.K),ue(r,"RID",n),ue(r,"AID",t.T),hn(t,r),t.m&&t.o&&We(r,t.m,t.o),n=new Nt(t,t.j,n,t.B+1),null===t.m&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=dn(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),Yt(t.h,n),Dt(n,r,e)}function hn(t,e){t.H&&v(t.H,(function(t,n){ue(e,n,t)})),t.l&&ee({},(function(t,n){ue(e,n,t)}))}function dn(t,e,n){n=Math.min(t.i.length,n);var r=t.l?l(t.l.Na,t.l,t):null;t:{var i=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=e,0>n)e=Math.max(0,i[o].g-100),s=!1;else try{je(a,t,"req"+n+"_")}catch(Oe){r&&r(a)}}if(s){r=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,r}function fn(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;M||R(),I||(M(),I=!0),T.add(e,t),t.v=0}}function pn(t){return!(t.g||t.u||3<=t.v)&&(t.Y++,t.u=Mt(l(t.Fa,t),wn(t,t.v)),t.v++,!0)}function mn(t){null!=t.A&&(i.clearTimeout(t.A),t.A=null)}function gn(t){t.g=new Nt(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=ie(t.qa);ue(e,"RID","rpc"),ue(e,"SID",t.K),ue(e,"AID",t.T),ue(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&ue(e,"TO",t.ja),ue(e,"TYPE","xmlhttp"),hn(t,e),t.m&&t.o&&We(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=le(ie(e)),n.m=null,n.P=!0,Ut(n,t)}function yn(t){null!=t.C&&(i.clearTimeout(t.C),t.C=null)}function vn(t,e){var n=null;if(t.g==e){yn(t),mn(t),t.g=null;var r=2}else{if(!Jt(t.h,e))return;n=e.D,Xt(t.h,e),r=1}if(0!=t.G)if(e.o)if(1==r){n=e.m?e.m.length:0,e=Date.now()-e.F;var i=t.B;nt(r=bt(),new At(r,n)),ln(t)}else fn(t);else if(3==(i=e.s)||0==i&&0<e.X||!(1==r&&function(t,e){return!(Qt(t.h)>=t.h.j-(t.s?1:0)||(t.s?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa)||(t.s=Mt(l(t.Ga,t,e),wn(t,t.B)),t.B++,0)))}(t,e)||2==r&&pn(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:bn(t,5);break;case 4:bn(t,10);break;case 3:bn(t,6);break;default:bn(t,2)}}function wn(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function bn(t,e){if(t.j.info("Error code "+e),2==e){var n=l(t.fb,t),r=t.Xa;const e=!r;r=new re(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||se(r,"https"),le(r),e?function(t,e){const n=new It;if(i.Image){const r=new Image;r.onload=c(De,n,"TestLoadImage: loaded",!0,e,r),r.onerror=c(De,n,"TestLoadImage: error",!1,e,r),r.onabort=c(De,n,"TestLoadImage: abort",!1,e,r),r.ontimeout=c(De,n,"TestLoadImage: timeout",!1,e,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(r.toString(),n):function(t,e){new It;const n=new AbortController,r=setTimeout((()=>{n.abort(),De(0,0,!1,e)}),1e4);fetch(t,{signal:n.signal}).then((t=>{clearTimeout(r),t.ok?De(0,0,!0,e):De(0,0,!1,e)})).catch((()=>{clearTimeout(r),De(0,0,!1,e)}))}(r.toString(),n)}else St(2);t.G=0,t.l&&t.l.sa(e),_n(t),un(t)}function _n(t){if(t.G=0,t.ka=[],t.l){const e=te(t.h);0==e.length&&0==t.i.length||(f(t.ka,e),f(t.ka,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.ra()}}function En(t,e,n){var r=n instanceof re?ie(n):new re(n);if(""!=r.g)e&&(r.g=e+"."+r.g),oe(r,r.s);else{var s=i.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new re(null);r&&se(o,r),e&&(o.g=e),s&&oe(o,s),n&&(o.l=n),r=o}return n=t.D,e=t.ya,n&&e&&ue(r,n,e),ue(r,"VER",t.la),hn(t,r),r}function kn(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new $e(new Fe({eb:n})):new $e(t.pa)).Ha(t.J),e}function Sn(){}function An(){}function Mn(t,e){et.call(this),this.g=new sn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!p(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!p(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new Rn(this)}function In(t){gt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Tn(){yt.call(this),this.status=1}function Rn(t){this.g=t}(t=$e.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rt.g(),this.v=this.o?ft(this.o):ft(Rt),this.g.onreadystatechange=l(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(o){return void Qe(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),s=i.FormData&&t instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ge,e,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tn(this),this.u=!0,this.g.send(t),this.u=!1}catch(o){Qe(this,o)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,nt(this,"complete"),nt(this,"abort"),Xe(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xe(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ye(this):this.bb())},t.bb=function(){Ye(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<en(this)?this.g.status:-1}catch(fe){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(fe){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ct(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=sn.prototype).la=8,t.G=1,t.connect=function(t,e,n,r){St(0),this.W=t,this.H=e||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=En(this,null,this.W),ln(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Nt(this,this.j,t);let s=this.o;if(this.S&&(s?(s=w(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=dn(this,i,e),ue(n=ie(this.I),"RID",t),ue(n,"CVER",22),this.D&&ue(n,"X-HTTP-Session-Id",this.D),hn(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Ke(s)))+"&"+e:this.m&&We(n,this.m,s)),Yt(this.h,i),this.Ua&&ue(n,"TYPE","init"),this.P?(ue(n,"$req",e),ue(n,"SID","null"),i.T=!0,Dt(i,n,null)):Dt(i,n,e),this.G=2}}else 3==this.G&&(t?cn(this,t):0==this.i.length||Gt(this.h)||cn(this))},t.Fa=function(){if(this.u=null,gn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=Mt(l(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),an(this),gn(this))},t.Za=function(){null!=this.C&&(this.C=null,an(this),pn(this),St(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=Sn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},An.prototype.g=function(t,e){return new Mn(t,e)},h(Mn,et),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){on(this.g)},Mn.prototype.o=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.u&&((n={}).__data__=lt(t),t=n);e.i.push(new $t(e.Ya++,t)),3==e.G&&ln(e)},Mn.prototype.N=function(){this.g.l=null,delete this.j,on(this.g),delete this.g,Mn.aa.N.call(this)},h(In,gt),h(Tn,yt),h(Rn,Sn),Rn.prototype.ua=function(){nt(this.g,"a")},Rn.prototype.ta=function(t){nt(this.g,new In(t))},Rn.prototype.sa=function(t){nt(this.g,new Tn)},Rn.prototype.ra=function(){nt(this.g,"b")},An.prototype.createWebChannel=An.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,Ce=Ne.createWebChannelTransport=function(){return new An},xe=Ne.getStatEventTarget=function(){return bt()},Re=Ne.Event=vt,Te=Ne.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,Ie=Ne.ErrorCode=xt,Ct.COMPLETE="complete",Me=Ne.EventType=Ct,pt.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",et.prototype.listen=et.prototype.K,Ae=Ne.WebChannel=pt,Ne.FetchXmlHttpFactory=Fe,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,Se=Ne.XhrIo=$e}).apply(void 0!==Pe?Pe:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Oe="@firebase/firestore";class User{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");let Le="11.2.0";const Be=new Logger("@firebase/firestore");function De(){return Be.logLevel}function Ue(t,...e){if(Be.logLevel<=nt.DEBUG){const n=e.map(Ve);Be.debug(`Firestore (${Le}): ${t}`,...n)}}function je(t,...e){if(Be.logLevel<=nt.ERROR){const n=e.map(Ve);Be.error(`Firestore (${Le}): ${t}`,...n)}}function Fe(t,...e){if(Be.logLevel<=nt.WARN){const n=e.map(Ve);Be.warn(`Firestore (${Le}): ${t}`,...n)}}function Ve(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function ze(t="Unexpected state"){const e=`FIRESTORE (${Le}) INTERNAL ASSERTION FAILED: `+t;throw je(e),new Error(e)}function He(t,e){t||ze()}function qe(t,e){return t}const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class __PRIVATE_Deferred{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class __PRIVATE_OAuthToken{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(User.UNAUTHENTICATED)))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(t){this.t=t,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){He(void 0===this.o);let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new __PRIVATE_Deferred,t.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},o=t=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new __PRIVATE_Deferred)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(He("string"==typeof e.accessToken),new __PRIVATE_OAuthToken(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return He(null===t||"string"==typeof t),new User(t)}}class __PRIVATE_FirstPartyToken{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=User.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(User.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){He(void 0===this.o);const n=t=>{null!=t.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.R;return this.R=t.token,Ue("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?r(t):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(He("string"==typeof t.token),this.R=t.token,new AppCheckToken(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function We(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class __PRIVATE_AutoId{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=We(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%62))}return n}}function $e(t,e){return t<e?-1:t>e?1:0}function Ze(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class Timestamp{static now(){return Timestamp.fromMillis(Date.now())}static fromDate(t){return Timestamp.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Timestamp(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?$e(this.nanoseconds,t.nanoseconds):$e(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class SnapshotVersion{static fromTimestamp(t){return new SnapshotVersion(t)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class BasePath{constructor(t,e,n){void 0===e?e=0:e>t.length&&ze(),void 0===n?n=t.length-e:n>t.length-e&&ze(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===BasePath.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof BasePath?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=BasePath.compareSegments(t.get(r),e.get(r));if(0!==n)return n}return Math.sign(t.length-e.length)}static compareSegments(t,e){const n=BasePath.isNumericId(t),r=BasePath.isNumericId(e);return n&&!r?-1:!n&&r?1:n&&r?BasePath.extractNumericId(t).compare(BasePath.extractNumericId(e)):t<e?-1:t>e?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return be.fromString(t.substring(4,t.length-2))}}class ResourcePath extends BasePath{construct(t,e,n){return new ResourcePath(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new FirestoreError(Ke.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new ResourcePath(e)}static emptyPath(){return new ResourcePath([])}}const Ge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(t,e,n){return new FieldPath$1(t,e,n)}static isValidIdentifier(t){return Ge.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new FirestoreError(Ke.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new FieldPath$1(e)}static emptyPath(){return new FieldPath$1([])}}class DocumentKey{constructor(t){this.path=t}static fromPath(t){return new DocumentKey(ResourcePath.fromString(t))}static fromName(t){return new DocumentKey(ResourcePath.fromString(t).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ResourcePath.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ResourcePath.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new DocumentKey(new ResourcePath(t.slice()))}}class FieldIndex{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}FieldIndex.UNKNOWN_ID=-1;function Qe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=SnapshotVersion.fromTimestamp(1e9===r?new Timestamp(n+1,0):new Timestamp(n,r));return new IndexOffset(i,DocumentKey.empty(),e)}function Je(t){return new IndexOffset(t.readTime,t.key,-1)}class IndexOffset{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function Ye(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=DocumentKey.comparator(t.documentKey,e.documentKey),0!==n?n:$e(t.largestBatchId,e.largestBatchId))}const Xe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function tn(t){if(t.code!==Ke.FAILED_PRECONDITION||t.message!==Xe)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}class PersistencePromise{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new PersistencePromise(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof PersistencePromise?e:PersistencePromise.resolve(e)}catch(t){return PersistencePromise.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):PersistencePromise.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):PersistencePromise.reject(e)}static resolve(t){return new PersistencePromise(((e,n)=>{e(t)}))}static reject(t){return new PersistencePromise(((e,n)=>{n(t)}))}static waitFor(t){return new PersistencePromise(((e,n)=>{let r=0,i=0,s=!1;t.forEach((t=>{++r,t.next((()=>{++i,s&&i===r&&e()}),(t=>n(t)))})),s=!0,i===r&&e()}))}static or(t){let e=PersistencePromise.resolve(!1);for(const n of t)e=e.next((t=>t?PersistencePromise.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new PersistencePromise(((n,r)=>{const i=t.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const u=a;e(t[u]).next((t=>{s[u]=t,++o,o===i&&n(s)}),(t=>r(t)))}}))}static doWhile(t,e){return new PersistencePromise(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}function en(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nn(t){return"IndexedDbTransactionError"===t.name}class __PRIVATE_ListenSequence{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ie(t),this.se=t=>e.writeSequenceNumber(t))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}function rn(t){return null==t}function sn(t){return 0===t&&1/t==-1/0}function on(t){return"number"==typeof t&&Number.isInteger(t)&&!sn(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function an(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ln(e)),e=un(t.get(n),e);return ln(e)}function un(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const e=t.charAt(i);switch(e){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=e}}return n}function ln(t){return t+"\x01\x01"}__PRIVATE_ListenSequence.oe=-1;const cn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hn=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dn=hn,fn=[...dn,"indexConfiguration","indexState","indexEntries"];function pn(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mn(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gn(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class SortedMap{constructor(t,e){this.comparator=t,this.root=e||LLRBNode.EMPTY}insert(t,e){return new SortedMap(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(t){return new SortedMap(this.comparator,this.root.remove(t,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new SortedMapIterator(this.root,t,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new SortedMapIterator(this.root,t,this.comparator,!0)}}class SortedMapIterator{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class LLRBNode{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:LLRBNode.RED,this.left=null!=r?r:LLRBNode.EMPTY,this.right=null!=i?i:LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new LLRBNode(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return LLRBNode.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze();if(this.right.isRed())throw ze();const t=this.left.check();if(t!==this.right.check())throw ze();return t+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1,LLRBNode.EMPTY=new class LLRBEmptyNode{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(t,e,n,r,i){return this}insert(t,e,n){return new LLRBNode(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class SortedSet{constructor(t){this.comparator=t,this.data=new SortedMap(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(t){return new SortedSetIterator(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof SortedSet))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new SortedSet(this.comparator);return e.data=t,e}}class SortedSetIterator{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class FieldMask{constructor(t){this.fields=t,t.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(t){let e=new SortedSet(FieldPath$1.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new FieldMask(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ze(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ByteString{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+t):t}}(t);return new ByteString(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new ByteString(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $e(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const yn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vn(t){if(He(!!t),"string"==typeof t){let e=0;const n=yn.exec(t);if(He(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(t.seconds),nanos:wn(t.nanos)}}function wn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function bn(t){return"string"==typeof t?ByteString.fromBase64String(t):ByteString.fromUint8Array(t)}function _n(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function En(t){const e=t.mapValue.fields.__previous_value__;return _n(e)?En(e):e}function kn(t){const e=vn(t.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(e.seconds,e.nanos)}class DatabaseInfo{constructor(t,e,n,r,i,s,o,a,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=u}}class DatabaseId{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof DatabaseId&&t.projectId===this.projectId&&t.database===this.database}}const Sn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function An(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_n(t)?4:zn(t)?9007199254740991:Fn(t)?10:11:ze()}function Mn(t,e){if(t===e)return!0;const n=An(t);if(n!==An(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kn(t).isEqual(kn(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=vn(t.timestampValue),r=vn(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return bn(t.bytesValue).isEqual(bn(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return wn(t.geoPointValue.latitude)===wn(e.geoPointValue.latitude)&&wn(t.geoPointValue.longitude)===wn(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return wn(t.integerValue)===wn(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=wn(t.doubleValue),r=wn(e.doubleValue);return n===r?sn(n)===sn(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ze(t.arrayValue.values||[],e.arrayValue.values||[],Mn);case 10:case 11:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(pn(n)!==pn(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Mn(n[i],r[i])))return!1;return!0}(t,e);default:return ze()}}function In(t,e){return void 0!==(t.values||[]).find((t=>Mn(t,e)))}function Tn(t,e){if(t===e)return 0;const n=An(t),r=An(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=wn(t.integerValue||t.doubleValue),r=wn(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Rn(t.timestampValue,e.timestampValue);case 4:return Rn(kn(t),kn(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(t,e){const n=bn(t),r=bn(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=$e(n[i],r[i]);if(0!==t)return t}return $e(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=$e(wn(t.latitude),wn(e.latitude));return 0!==n?n:$e(wn(t.longitude),wn(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xn(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n,r,i,s;const o=t.fields||{},a=e.fields||{},u=null===(n=o.value)||void 0===n?void 0:n.arrayValue,l=null===(r=a.value)||void 0===r?void 0:r.arrayValue,c=$e((null===(i=null==u?void 0:u.values)||void 0===i?void 0:i.length)||0,(null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:xn(u,l)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===Sn.mapValue&&e===Sn.mapValue)return 0;if(t===Sn.mapValue)return 1;if(e===Sn.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const t=$e(r[o],s[o]);if(0!==t)return t;const e=Tn(n[r[o]],i[s[o]]);if(0!==e)return e}return $e(r.length,s.length)}(t.mapValue,e.mapValue);default:throw ze()}}function Rn(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return $e(t,e);const n=vn(t),r=vn(e),i=$e(n.seconds,r.seconds);return 0!==i?i:$e(n.nanos,r.nanos)}function xn(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=Tn(n[i],r[i]);if(t)return t}return $e(n.length,r.length)}function Cn(t){return Pn(t)}function Pn(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=vn(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return bn(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return DocumentKey.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return`geo(${t.latitude},${t.longitude})`}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=Pn(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${Pn(t.fields[i])}`;return n+"}"}(t.mapValue):ze()}function Nn(t){switch(An(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=En(t);return e?16+Nn(e):16;case 5:return 2*t.stringValue.length;case 6:return bn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce(((t,e)=>t+Nn(e)),0)}(t.arrayValue);case 10:case 11:return function(t){let e=0;return mn(t.fields,((t,n)=>{e+=t.length+Nn(n)})),e}(t.mapValue);default:throw ze()}}function On(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ln(t){return!!t&&"integerValue"in t}function Bn(t){return!!t&&"arrayValue"in t}function Dn(t){return!!t&&"nullValue"in t}function Un(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jn(t){return!!t&&"mapValue"in t}function Fn(t){var e,n;return"__vector__"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vn(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mn(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Vn(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vn(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zn(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class ObjectValue{constructor(t){this.value=t}static empty(){return new ObjectValue({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!jn(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vn(e)}setAll(t){let e=FieldPath$1.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Vn(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());jn(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Mn(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];jn(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){mn(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new ObjectValue(Vn(this.value))}}function Hn(t){const e=[];return mn(t.fields,((t,n)=>{const r=new FieldPath$1([t]);if(jn(n)){const t=Hn(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new FieldMask(e)}class MutableDocument{constructor(t,e,n,r,i,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new MutableDocument(t,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(t,e,n,r){return new MutableDocument(t,1,e,SnapshotVersion.min(),n,r,0)}static newNoDocument(t,e){return new MutableDocument(t,2,e,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(t,e){return new MutableDocument(t,3,e,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(SnapshotVersion.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof MutableDocument&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bound{constructor(t,e){this.position=t,this.inclusive=e}}function qn(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?DocumentKey.comparator(DocumentKey.fromName(o.referenceValue),n.key):Tn(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Kn(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mn(t.position[n],e.position[n]))return!1;return!0}class OrderBy{constructor(t,e="asc"){this.field=t,this.dir=e}}function Wn(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Filter{}class FieldFilter extends Filter{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new __PRIVATE_KeyFieldFilter(t,e,n):"array-contains"===e?new __PRIVATE_ArrayContainsFilter(t,n):"in"===e?new __PRIVATE_InFilter(t,n):"not-in"===e?new __PRIVATE_NotInFilter(t,n):"array-contains-any"===e?new __PRIVATE_ArrayContainsAnyFilter(t,n):new FieldFilter(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new __PRIVATE_KeyFieldInFilter(t,n):new __PRIVATE_KeyFieldNotInFilter(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Tn(e,this.value)):null!==e&&An(this.value)===An(e)&&this.matchesComparison(Tn(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ze()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new CompositeFilter(t,e)}matches(t){return $n(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $n(t){return"and"===t.op}function Zn(t){return Gn(t)&&$n(t)}function Gn(t){for(const e of t.filters)if(e instanceof CompositeFilter)return!1;return!0}function Qn(t){if(t instanceof FieldFilter)return t.field.canonicalString()+t.op.toString()+Cn(t.value);if(Zn(t))return t.filters.map((t=>Qn(t))).join(",");{const e=t.filters.map((t=>Qn(t))).join(",");return`${t.op}(${e})`}}function Jn(t,e){return t instanceof FieldFilter?function(t,e){return e instanceof FieldFilter&&t.op===e.op&&t.field.isEqual(e.field)&&Mn(t.value,e.value)}(t,e):t instanceof CompositeFilter?function(t,e){return e instanceof CompositeFilter&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,r)=>t&&Jn(n,e.filters[r])),!0)}(t,e):void ze()}function Yn(t){return t instanceof FieldFilter?function(t){return`${t.field.canonicalString()} ${t.op} ${Cn(t.value)}`}(t):t instanceof CompositeFilter?function(t){return t.op.toString()+" {"+t.getFilters().map(Yn).join(" ,")+"}"}(t):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(t,e,n){super(t,e,n),this.key=DocumentKey.fromName(n.referenceValue)}matches(t){const e=DocumentKey.comparator(t.key,this.key);return this.matchesComparison(e)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(t,e){super(t,"in",e),this.keys=Xn("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(t,e){super(t,"not-in",e),this.keys=Xn("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Xn(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>DocumentKey.fromName(t.referenceValue)))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Bn(e)&&In(e.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&In(this.value.arrayValue,e)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(t,e){super(t,"not-in",e)}matches(t){if(In(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!In(this.value.arrayValue,e)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Bn(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>In(this.value.arrayValue,t)))}}class __PRIVATE_TargetImpl{constructor(t,e=null,n=[],r=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function tr(t,e=null,n=[],r=[],i=null,s=null,o=null){return new __PRIVATE_TargetImpl(t,e,n,r,i,s,o)}function er(t){const e=qe(t);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Qn(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),rn(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Cn(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Cn(t))).join(",")),e.ue=t}return e.ue}function nr(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Wn(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Jn(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kn(t.startAt,e.startAt)&&Kn(t.endAt,e.endAt)}function rr(t){return DocumentKey.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class __PRIVATE_QueryImpl{constructor(t,e=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ir(t,e,n,r,i,s,o,a){return new __PRIVATE_QueryImpl(t,e,n,r,i,s,o,a)}function sr(t){return new __PRIVATE_QueryImpl(t)}function or(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ar(t){return null!==t.collectionGroup}function ur(t){const e=qe(t);if(null===e.ce){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",r=function(t){let e=new SortedSet(FieldPath$1.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);r.forEach((r=>{t.has(r.canonicalString())||r.isKeyField()||e.ce.push(new OrderBy(r,n))})),t.has(FieldPath$1.keyField().canonicalString())||e.ce.push(new OrderBy(FieldPath$1.keyField(),n))}return e.ce}function lr(t){const e=qe(t);return e.le||(e.le=cr(e,ur(t))),e.le}function cr(t,e){if("F"===t.limitType)return tr(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new OrderBy(t.field,e)}));const n=t.endAt?new Bound(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bound(t.startAt.position,t.startAt.inclusive):null;return tr(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hr(t,e){const n=t.filters.concat([e]);return new __PRIVATE_QueryImpl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dr(t,e,n){return new __PRIVATE_QueryImpl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fr(t,e){return nr(lr(t),lr(e))&&t.limitType===e.limitType}function pr(t){return`${er(lr(t))}|lt:${t.limitType}`}function mr(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>Yn(t))).join(", ")}]`),rn(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Cn(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Cn(t))).join(",")),`Target(${e})`}(lr(t))}; limitType=${t.limitType})`}function gr(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):DocumentKey.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of ur(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=qn(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,ur(t),e))&&!(t.endAt&&!function(t,e,n){const r=qn(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,ur(t),e))}(t,e)}function yr(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vr(t){return(e,n)=>{let r=!1;for(const i of ur(t)){const t=wr(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function wr(t,e,n){const r=t.field.isKeyField()?DocumentKey.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Tn(r,i):ze()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze()}}class ObjectMap{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){mn(this.inner,((e,n)=>{for(const[r,i]of n)t(r,i)}))}isEmpty(){return gn(this.inner)}size(){return this.innerSize}}const br=new SortedMap(DocumentKey.comparator);function _r(){return br}const Er=new SortedMap(DocumentKey.comparator);function kr(...t){let e=Er;for(const n of t)e=e.insert(n.key,n);return e}function Sr(t){let e=Er;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Ar(){return Ir()}function Mr(){return Ir()}function Ir(){return new ObjectMap((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Tr=new SortedMap(DocumentKey.comparator),Rr=new SortedSet(DocumentKey.comparator);function xr(...t){let e=Rr;for(const n of t)e=e.add(n);return e}const Cr=new SortedSet($e);function Pr(){return Cr}function Nr(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sn(e)?"-0":e}}function Or(t){return{integerValue:""+t}}function Lr(t,e){return on(e)?Or(e):Nr(t,e)}class TransformOperation{constructor(){this._=void 0}}function Br(t,e,n){return t instanceof __PRIVATE_ServerTimestampTransform?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&_n(e)&&(e=En(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof __PRIVATE_ArrayUnionTransformOperation?jr(t,e):t instanceof __PRIVATE_ArrayRemoveTransformOperation?Fr(t,e):function(t,e){const n=Ur(t,e),r=Vr(n)+Vr(t.Pe);return Ln(n)&&Ln(t.Pe)?Or(r):Nr(t.serializer,r)}(t,e)}function Dr(t,e,n){return t instanceof __PRIVATE_ArrayUnionTransformOperation?jr(t,e):t instanceof __PRIVATE_ArrayRemoveTransformOperation?Fr(t,e):n}function Ur(t,e){return t instanceof __PRIVATE_NumericIncrementTransformOperation?function(t){return Ln(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(t){super(),this.elements=t}}function jr(t,e){const n=zr(e);for(const r of t.elements)n.some((t=>Mn(t,r)))||n.push(r);return{arrayValue:{values:n}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(t){super(),this.elements=t}}function Fr(t,e){let n=zr(e);for(const r of t.elements)n=n.filter((t=>!Mn(t,r)));return{arrayValue:{values:n}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function Vr(t){return wn(t.integerValue||t.doubleValue)}function zr(t){return Bn(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class FieldTransform{constructor(t,e){this.field=t,this.transform=e}}class MutationResult{constructor(t,e){this.version=t,this.transformResults=e}}class Precondition{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Precondition}static exists(t){return new Precondition(void 0,t)}static updateTime(t){return new Precondition(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hr(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Mutation{}function qr(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new __PRIVATE_DeleteMutation(t.key,Precondition.none()):new __PRIVATE_SetMutation(t.key,t.data,Precondition.none());{const n=t.data,r=ObjectValue.empty();let i=new SortedSet(FieldPath$1.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new __PRIVATE_PatchMutation(t.key,r,new FieldMask(i.toArray()),Precondition.none())}}function Kr(t,e,n){t instanceof __PRIVATE_SetMutation?function(t,e,n){const r=t.value.clone(),i=Qr(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof __PRIVATE_PatchMutation?function(t,e,n){if(!Hr(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=Qr(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Gr(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Wr(t,e,n,r){return t instanceof __PRIVATE_SetMutation?function(t,e,n,r){if(!Hr(t.precondition,e))return n;const i=t.value.clone(),s=Jr(t.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof __PRIVATE_PatchMutation?function(t,e,n,r){if(!Hr(t.precondition,e))return n;const i=Jr(t.fieldTransforms,r,e),s=e.data;return s.setAll(Gr(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return Hr(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function $r(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=Ur(r.transform,t||null);null!=i&&(null===n&&(n=ObjectValue.empty()),n.set(r.field,i))}return n||null}function Zr(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ze(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof __PRIVATE_ArrayUnionTransformOperation&&e instanceof __PRIVATE_ArrayUnionTransformOperation||t instanceof __PRIVATE_ArrayRemoveTransformOperation&&e instanceof __PRIVATE_ArrayRemoveTransformOperation?Ze(t.elements,e.elements,Mn):t instanceof __PRIVATE_NumericIncrementTransformOperation&&e instanceof __PRIVATE_NumericIncrementTransformOperation?Mn(t.Pe,e.Pe):t instanceof __PRIVATE_ServerTimestampTransform&&e instanceof __PRIVATE_ServerTimestampTransform}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Gr(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Qr(t,e,n){const r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Dr(o,a,n[i]))}return r}function Jr(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,Br(t,s,e))}return r}class __PRIVATE_DeleteMutation extends Mutation{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MutationBatch{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&Kr(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Wr(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Wr(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Mr();return this.mutations.forEach((r=>{const i=t.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=e.has(r.key)?null:o;const a=qr(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(SnapshotVersion.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),xr())}isEqual(t){return this.batchId===t.batchId&&Ze(this.mutations,t.mutations,((t,e)=>Zr(t,e)))&&Ze(this.baseMutations,t.baseMutations,((t,e)=>Zr(t,e)))}}class MutationBatchResult{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){He(t.mutations.length===n.length);let r=Tr;const i=t.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new MutationBatchResult(t,e,n,r)}}class Overlay{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ExistenceFilter{constructor(t,e){this.count=t,this.unchangedNames=e}}var Yr,Xr;function ti(t){switch(t){default:return ze();case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0}}function ei(t){if(void 0===t)return je("GRPC error has no .code"),Ke.UNKNOWN;switch(t){case Yr.OK:return Ke.OK;case Yr.CANCELLED:return Ke.CANCELLED;case Yr.UNKNOWN:return Ke.UNKNOWN;case Yr.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case Yr.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case Yr.INTERNAL:return Ke.INTERNAL;case Yr.UNAVAILABLE:return Ke.UNAVAILABLE;case Yr.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case Yr.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case Yr.NOT_FOUND:return Ke.NOT_FOUND;case Yr.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case Yr.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case Yr.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case Yr.ABORTED:return Ke.ABORTED;case Yr.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case Yr.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case Yr.DATA_LOSS:return Ke.DATA_LOSS;default:return ze()}}(Xr=Yr||(Yr={}))[Xr.OK=0]="OK",Xr[Xr.CANCELLED=1]="CANCELLED",Xr[Xr.UNKNOWN=2]="UNKNOWN",Xr[Xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xr[Xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xr[Xr.NOT_FOUND=5]="NOT_FOUND",Xr[Xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xr[Xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xr[Xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xr[Xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xr[Xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xr[Xr.ABORTED=10]="ABORTED",Xr[Xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xr[Xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xr[Xr.INTERNAL=13]="INTERNAL",Xr[Xr.UNAVAILABLE=14]="UNAVAILABLE",Xr[Xr.DATA_LOSS=15]="DATA_LOSS";let ni=null;function ri(){return new TextEncoder}const ii=new be([4294967295,4294967295],0);function si(t){const e=ri().encode(t),n=new _e;return n.update(e),new Uint8Array(n.digest())}function oi(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new be([n,r],0),new be([i,s],0)]}class BloomFilter{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${e}`);if(n<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ie=be.fromNumber(this.Te)}de(t,e,n){let r=t.add(e.multiply(be.fromNumber(n)));return 1===r.compare(ii)&&(r=new be([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}Ee(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=si(t),[n,r]=oi(e);for(let i=0;i<this.hashCount;i++){const t=this.de(n,r,i);if(!this.Ee(t))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new BloomFilter(i,r,e);return n.forEach((t=>s.insert(t))),s}insert(t){if(0===this.Te)return;const e=si(t),[n,r]=oi(e);for(let i=0;i<this.hashCount;i++){const t=this.de(n,r,i);this.Ae(t)}}Ae(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class RemoteEvent{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,TargetChange.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new RemoteEvent(SnapshotVersion.min(),r,new SortedMap($e),_r(),xr())}}class TargetChange{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new TargetChange(n,e,xr(),xr(),xr())}}class __PRIVATE_DocumentWatchChange{constructor(t,e,n,r){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=r}}class __PRIVATE_ExistenceFilterChange{constructor(t,e){this.targetId=t,this.me=e}}class __PRIVATE_WatchTargetChange{constructor(t,e,n=ByteString.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class __PRIVATE_TargetState{constructor(){this.fe=0,this.ge=ui(),this.pe=ByteString.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=xr(),e=xr(),n=xr();return this.ge.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ze()}})),new TargetChange(this.pe,this.ye,t,e,n)}Ce(){this.we=!1,this.ge=ui()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class __PRIVATE_WatchChangeAggregator{constructor(t){this.Be=t,this.Le=new Map,this.ke=_r(),this.qe=ai(),this.Qe=ai(),this.Ke=new SortedMap($e)}$e(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(e,t.Ve):this.We(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.We(e,t.key,t.Ve)}Ge(t){this.forEachTarget(t,(e=>{const n=this.ze(e);switch(t.state){case 0:this.je(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.je(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),n.De(t.resumeToken));break;default:ze()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Le.forEach(((t,n)=>{this.je(n)&&e(n)}))}Je(t){const e=t.targetId,n=t.me.count,r=this.Ye(e);if(r){const i=r.target;if(rr(i))if(0===n){const t=new DocumentKey(i.path);this.We(e,t,MutableDocument.newNoDocument(t,SnapshotVersion.min()))}else He(1===n);else{const r=this.Ze(e);if(r!==n){const n=this.Xe(t),i=n?this.et(n,t,r):1;if(0!==i){this.He(e);const t=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,t)}null==ni||ni.tt(function(t,e,n,r,i){var s,o,a,u,l,c;const h={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},d=e.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(u=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==u?u:0,padding:null!==(c=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==c?c:0,mightContain:t=>{var e;return null!==(e=null==r?void 0:r.mightContain(t))&&void 0!==e&&e}}),h}(r,t.me,this.Be.nt(),n,i))}}}}Xe(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=e;let s,o;try{s=bn(n).toUint8Array()}catch(t){if(t instanceof __PRIVATE_Base64DecodeError)return Fe("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{o=new BloomFilter(s,r,i)}catch(t){return Fe(t instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===o.Te?null:o}et(t,e,n){return e.me.count===n-this.rt(t,e.targetId)?0:2}rt(t,e){const n=this.Be.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Be.nt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.mightContain(s)||(this.We(e,n,null),r++)})),r}it(t){const e=new Map;this.Le.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&rr(i.target)){const e=new DocumentKey(i.target.path);this.st(e).has(r)||this.ot(r,e)||this.We(r,e,MutableDocument.newNoDocument(e,t))}n.be&&(e.set(r,n.ve()),n.Ce())}}));let n=xr();this.Qe.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.Ye(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.ke.forEach(((e,n)=>n.setReadTime(t)));const r=new RemoteEvent(t,e,this.Ke,this.ke,n);return this.ke=_r(),this.qe=ai(),this.Qe=ai(),this.Ke=new SortedMap($e),r}Ue(t,e){if(!this.je(t))return;const n=this.ot(t,e.key)?2:0;this.ze(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t)),this.Qe=this.Qe.insert(e.key,this._t(e.key).add(t))}We(t,e,n){if(!this.je(t))return;const r=this.ze(t);this.ot(t,e)?r.Fe(e,1):r.Me(e),this.Qe=this.Qe.insert(e,this._t(e).delete(t)),this.Qe=this.Qe.insert(e,this._t(e).add(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Le.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Be.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let e=this.Le.get(t);return e||(e=new __PRIVATE_TargetState,this.Le.set(t,e)),e}_t(t){let e=this.Qe.get(t);return e||(e=new SortedSet($e),this.Qe=this.Qe.insert(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new SortedSet($e),this.qe=this.qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||Ue("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.Le.get(t);return e&&e.Se?null:this.Be.ut(t)}He(t){this.Le.set(t,new __PRIVATE_TargetState),this.Be.getRemoteKeysForTarget(t).forEach((e=>{this.We(t,e,null)}))}ot(t,e){return this.Be.getRemoteKeysForTarget(t).has(e)}}function ai(){return new SortedMap(DocumentKey.comparator)}function ui(){return new SortedMap(DocumentKey.comparator)}const li={asc:"ASCENDING",desc:"DESCENDING"},ci={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hi={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function di(t,e){return t.useProto3Json||rn(e)?e:{value:e}}function fi(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pi(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mi(t,e){return fi(t,e.toTimestamp())}function gi(t){return He(!!t),SnapshotVersion.fromTimestamp(function(t){const e=vn(t);return new Timestamp(e.seconds,e.nanos)}(t))}function yi(t,e){return vi(t,e).canonicalString()}function vi(t,e){const n=function(t){return new ResourcePath(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function wi(t){const e=ResourcePath.fromString(t);return He(ji(e)),e}function bi(t,e){return yi(t.databaseId,e.path)}function _i(t,e){const n=wi(e);if(n.get(1)!==t.databaseId.projectId)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new DocumentKey(Ai(n))}function Ei(t,e){return yi(t.databaseId,e)}function ki(t){const e=wi(t);return 4===e.length?ResourcePath.emptyPath():Ai(e)}function Si(t){return new ResourcePath(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ai(t){return He(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Mi(t,e,n){return{name:bi(t,e),fields:n.value.mapValue.fields}}function Ii(t,e){let n;if(e instanceof __PRIVATE_SetMutation)n={update:Mi(t,e.key,e.value)};else if(e instanceof __PRIVATE_DeleteMutation)n={delete:bi(t,e.key)};else if(e instanceof __PRIVATE_PatchMutation)n={update:Mi(t,e.key,e.data),updateMask:Ui(e.fieldMask)};else{if(!(e instanceof __PRIVATE_VerifyMutation))return ze();n={verify:bi(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:e.field.canonicalString(),increment:n.Pe};throw ze()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:mi(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ze()}(t,e.precondition)),n}function Ti(t,e){return{documents:[Ei(t,e.path)]}}function Ri(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ei(t,i);const s=function(t){if(0!==t.length)return Di(CompositeFilter.create(t,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Li(t.field),direction:Pi(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=di(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{ct:n,parent:i}}function xi(t){let e=ki(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=Ci(t);return e instanceof CompositeFilter&&Zn(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=function(t){return t.map((t=>function(t){return new OrderBy(Bi(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,rn(e)?null:e}(n.limit));let u=null;n.startAt&&(u=function(t){const e=!!t.before,n=t.values||[];return new Bound(n,e)}(n.startAt));let l=null;return n.endAt&&(l=function(t){const e=!t.before,n=t.values||[];return new Bound(n,e)}(n.endAt)),ir(e,i,o,s,a,"F",u,l)}function Ci(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Bi(t.unaryFilter.field);return FieldFilter.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Bi(t.unaryFilter.field);return FieldFilter.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bi(t.unaryFilter.field);return FieldFilter.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Bi(t.unaryFilter.field);return FieldFilter.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ze()}}(t):void 0!==t.fieldFilter?function(t){return FieldFilter.create(Bi(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ze()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return CompositeFilter.create(t.compositeFilter.filters.map((t=>Ci(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ze()}}(t.compositeFilter.op))}(t):ze()}function Pi(t){return li[t]}function Ni(t){return ci[t]}function Oi(t){return hi[t]}function Li(t){return{fieldPath:t.canonicalString()}}function Bi(t){return FieldPath$1.fromServerFormat(t.fieldPath)}function Di(t){return t instanceof FieldFilter?function(t){if("=="===t.op){if(Un(t.value))return{unaryFilter:{field:Li(t.field),op:"IS_NAN"}};if(Dn(t.value))return{unaryFilter:{field:Li(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Un(t.value))return{unaryFilter:{field:Li(t.field),op:"IS_NOT_NAN"}};if(Dn(t.value))return{unaryFilter:{field:Li(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Li(t.field),op:Ni(t.op),value:t.value}}}(t):t instanceof CompositeFilter?function(t){const e=t.getFilters().map((t=>Di(t)));return 1===e.length?e[0]:{compositeFilter:{op:Oi(t.op),filters:e}}}(t):ze()}function Ui(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ji(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class TargetData{constructor(t,e,n,r,i=SnapshotVersion.min(),s=SnapshotVersion.min(),o=ByteString.EMPTY_BYTE_STRING,a=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new TargetData(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class __PRIVATE_LocalSerializer{constructor(t){this.ht=t}}function Fi(t){const e=xi({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?dr(e,e.limit,"L"):e}class __PRIVATE_FirestoreIndexValueWriter{constructor(){}dt(t,e){this.Et(t,e),e.At()}Et(t,e){if("nullValue"in t)this.Rt(e,5);else if("booleanValue"in t)this.Rt(e,10),e.Vt(t.booleanValue?1:0);else if("integerValue"in t)this.Rt(e,15),e.Vt(wn(t.integerValue));else if("doubleValue"in t){const n=wn(t.doubleValue);isNaN(n)?this.Rt(e,13):(this.Rt(e,15),sn(n)?e.Vt(0):e.Vt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Rt(e,20),"string"==typeof n&&(n=vn(n)),e.ft(`${n.seconds||""}`),e.Vt(n.nanos||0)}else if("stringValue"in t)this.gt(t.stringValue,e),this.yt(e);else if("bytesValue"in t)this.Rt(e,30),e.wt(bn(t.bytesValue)),this.yt(e);else if("referenceValue"in t)this.St(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Rt(e,45),e.Vt(n.latitude||0),e.Vt(n.longitude||0)}else"mapValue"in t?zn(t)?this.Rt(e,Number.MAX_SAFE_INTEGER):Fn(t)?this.bt(t.mapValue,e):(this.Dt(t.mapValue,e),this.yt(e)):"arrayValue"in t?(this.vt(t.arrayValue,e),this.yt(e)):ze()}gt(t,e){this.Rt(e,25),this.Ct(t,e)}Ct(t,e){e.ft(t)}Dt(t,e){const n=t.fields||{};this.Rt(e,55);for(const r of Object.keys(n))this.gt(r,e),this.Et(n[r],e)}bt(t,e){var n,r;const i=t.fields||{};this.Rt(e,53);const s="value",o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(e,15),e.Vt(wn(o)),this.gt(s,e),this.Et(i[s],e)}vt(t,e){const n=t.values||[];this.Rt(e,50);for(const r of n)this.Et(r,e)}St(t,e){this.Rt(e,37),DocumentKey.fromName(t).path.forEach((t=>{this.Rt(e,60),this.Ct(t,e)}))}Rt(t,e){t.Vt(e)}yt(t){t.Vt(2)}}__PRIVATE_FirestoreIndexValueWriter.Ft=new __PRIVATE_FirestoreIndexValueWriter;class __PRIVATE_MemoryIndexManager{constructor(){this.ln=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(t,e){return this.ln.add(e),PersistencePromise.resolve()}getCollectionParents(t,e){return PersistencePromise.resolve(this.ln.getEntries(e))}addFieldIndex(t,e){return PersistencePromise.resolve()}deleteFieldIndex(t,e){return PersistencePromise.resolve()}deleteAllFieldIndexes(t){return PersistencePromise.resolve()}createTargetIndexes(t,e){return PersistencePromise.resolve()}getDocumentsMatchingTarget(t,e){return PersistencePromise.resolve(null)}getIndexType(t,e){return PersistencePromise.resolve(0)}getFieldIndexes(t,e){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(t){return PersistencePromise.resolve(null)}getMinOffset(t,e){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(t,e){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(t,e,n){return PersistencePromise.resolve()}updateIndexEntries(t,e){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new SortedSet(ResourcePath.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new SortedSet(ResourcePath.comparator)).toArray()}}new Uint8Array(0);const Vi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class LruParams{static withCacheSize(t){return new LruParams(t,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(41943040,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);class __PRIVATE_TargetIdGenerator{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new __PRIVATE_TargetIdGenerator(0)}static Qn(){return new __PRIVATE_TargetIdGenerator(-1)}}function zi([t,e],[n,r]){const i=$e(t,n);return 0===i?$e(e,r):i}class __PRIVATE_RollingSequenceNumberBuffer{constructor(t){this.Gn=t,this.buffer=new SortedSet(zi),this.zn=0}jn(){return++this.zn}Hn(t){const e=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();zi(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(t){Ue("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){nn(t)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await tn(t)}await this.Yn(3e5)}))}}class __PRIVATE_LruGarbageCollectorImpl{constructor(t,e){this.Zn=t,this.params=e}calculateTargetCount(t,e){return this.Zn.Xn(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return PersistencePromise.resolve(__PRIVATE_ListenSequence.oe);const n=new __PRIVATE_RollingSequenceNumberBuffer(e);return this.Zn.forEachTarget(t,(t=>n.Hn(t.sequenceNumber))).next((()=>this.Zn.er(t,(t=>n.Hn(t))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.Zn.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.Zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(Vi)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vi):this.tr(t,e)))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,e){let n,r,i,s,o,a,u;const l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),r=this.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),this.nthSequenceNumber(t,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(t,n,e)))).next((e=>(i=e,a=Date.now(),this.removeOrphanedDocuments(t,n)))).next((t=>(u=Date.now(),De()<=nt.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-l}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${t} documents in `+(u-a)+"ms\n"+`Total Duration: ${u-l}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t}))))}}function Hi(t,e){return new __PRIVATE_LruGarbageCollectorImpl(t,e)}class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,MutableDocument.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?PersistencePromise.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class OverlayedDocument{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class LocalDocumentsView{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&Wr(n.mutation,t,FieldMask.empty(),Timestamp.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,xr()).next((()=>e))))}getLocalViewOfDocuments(t,e,n=xr()){const r=Ar();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=kr();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=Ar();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,xr())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=_r();const s=Ir(),o=Ir();return e.forEach(((t,e)=>{const o=n.get(e.key);r.has(e.key)&&(void 0===o||o.mutation instanceof __PRIVATE_PatchMutation)?i=i.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),Wr(o.mutation,e,o.mutation.getFieldMask(),Timestamp.now())):s.set(e.key,FieldMask.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new OverlayedDocument(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=Ir();let r=new SortedMap(((t,e)=>t-e)),i=xr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||FieldMask.empty();o=i.applyToLocalView(s,o),n.set(t,o);const a=(r.get(i.batchId)||xr()).add(t);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,u=r.value,l=Mr();u.forEach((t=>{if(!i.has(t)){const r=qr(e.get(t),n.get(t));null!==r&&l.set(t,r),i=i.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,l))}return PersistencePromise.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,r){return function(t){return DocumentKey.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):ar(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):PersistencePromise.resolve(Ar());let o=-1,a=i;return s.next((e=>PersistencePromise.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(e)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,a,e,xr()))).next((t=>({batchId:o,changes:Sr(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new DocumentKey(e)).next((t=>{let e=kr();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const i=e.collectionGroup;let s=kr();return this.indexManager.getCollectionParents(t,i).next((o=>PersistencePromise.forEach(o,(o=>{const a=function(t,e){return new __PRIVATE_QueryImpl(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return this.getDocumentsMatchingCollectionQuery(t,a,n,r).next((t=>{t.forEach(((t,e)=>{s=s.insert(t,e)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,r)))).next((t=>{i.forEach(((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,MutableDocument.newInvalidDocument(r)))}));let n=kr();return t.forEach(((t,r)=>{const s=i.get(t);void 0!==s&&Wr(s.mutation,r,FieldMask.empty(),Timestamp.now()),gr(e,r)&&(n=n.insert(t,r))})),n}))}}class __PRIVATE_MemoryBundleCache{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,e){return PersistencePromise.resolve(this.Tr.get(e))}saveBundleMetadata(t,e){return this.Tr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:gi(t.createTime)}}(e)),PersistencePromise.resolve()}getNamedQuery(t,e){return PersistencePromise.resolve(this.Ir.get(e))}saveNamedQuery(t,e){return this.Ir.set(e.name,function(t){return{name:t.name,query:Fi(t.bundledQuery),readTime:gi(t.readTime)}}(e)),PersistencePromise.resolve()}}class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.dr=new Map}getOverlay(t,e){return PersistencePromise.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Ar();return PersistencePromise.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.Tt(t,e,r)})),PersistencePromise.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.dr.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.dr.delete(n)),PersistencePromise.resolve()}getOverlaysForCollection(t,e,n){const r=Ar(),i=e.length+1,s=new DocumentKey(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return PersistencePromise.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new SortedMap(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=Ar(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=Ar(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=r)););return PersistencePromise.resolve(o)}Tt(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.dr.get(r.largestBatchId).delete(n.key);this.dr.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new Overlay(e,n));let i=this.dr.get(e);void 0===i&&(i=xr(),this.dr.set(e,i)),this.dr.set(e,i.add(n.key))}}class __PRIVATE_MemoryGlobalsCache{constructor(){this.sessionToken=ByteString.EMPTY_BYTE_STRING}getSessionToken(t){return PersistencePromise.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,PersistencePromise.resolve()}}class __PRIVATE_ReferenceSet{constructor(){this.Er=new SortedSet(__PRIVATE_DocReference.Ar),this.Rr=new SortedSet(__PRIVATE_DocReference.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(t,e){const n=new __PRIVATE_DocReference(t,e);this.Er=this.Er.add(n),this.Rr=this.Rr.add(n)}mr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.gr(new __PRIVATE_DocReference(t,e))}pr(t,e){t.forEach((t=>this.removeReference(t,e)))}yr(t){const e=new DocumentKey(new ResourcePath([])),n=new __PRIVATE_DocReference(e,t),r=new __PRIVATE_DocReference(e,t+1),i=[];return this.Rr.forEachInRange([n,r],(t=>{this.gr(t),i.push(t.key)})),i}wr(){this.Er.forEach((t=>this.gr(t)))}gr(t){this.Er=this.Er.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const e=new DocumentKey(new ResourcePath([])),n=new __PRIVATE_DocReference(e,t),r=new __PRIVATE_DocReference(e,t+1);let i=xr();return this.Rr.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new __PRIVATE_DocReference(t,0),n=this.Er.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class __PRIVATE_DocReference{constructor(t,e){this.key=t,this.br=e}static Ar(t,e){return DocumentKey.comparator(t.key,e.key)||$e(t.br,e.br)}static Vr(t,e){return $e(t.br,e.br)||DocumentKey.comparator(t.key,e.key)}}class __PRIVATE_MemoryMutationQueue{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Dr=1,this.vr=new SortedSet(__PRIVATE_DocReference.Ar)}checkEmpty(t){return PersistencePromise.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new MutationBatch(i,e,n,r);this.mutationQueue.push(s);for(const o of r)this.vr=this.vr.add(new __PRIVATE_DocReference(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return PersistencePromise.resolve(s)}lookupMutationBatch(t,e){return PersistencePromise.resolve(this.Cr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.Fr(n),i=r<0?0:r;return PersistencePromise.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(t){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new __PRIVATE_DocReference(e,0),r=new __PRIVATE_DocReference(e,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],(t=>{const e=this.Cr(t.br);i.push(e)})),PersistencePromise.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new SortedSet($e);return e.forEach((t=>{const e=new __PRIVATE_DocReference(t,0),r=new __PRIVATE_DocReference(t,Number.POSITIVE_INFINITY);this.vr.forEachInRange([e,r],(t=>{n=n.add(t.br)}))})),PersistencePromise.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;DocumentKey.isDocumentKey(i)||(i=i.child(""));const s=new __PRIVATE_DocReference(new DocumentKey(i),0);let o=new SortedSet($e);return this.vr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.br)),!0)}),s),PersistencePromise.resolve(this.Mr(o))}Mr(t){const e=[];return t.forEach((t=>{const n=this.Cr(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){He(0===this.Or(e.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return PersistencePromise.forEach(e.mutations,(r=>{const i=new __PRIVATE_DocReference(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.vr=n}))}Bn(t){}containsKey(t,e){const n=new __PRIVATE_DocReference(e,0),r=this.vr.firstAfterOrEqual(n);return PersistencePromise.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,PersistencePromise.resolve()}Or(t,e){return this.Fr(t)}Fr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Cr(t){const e=this.Fr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(t){this.Nr=t,this.docs=new SortedMap(DocumentKey.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,s=this.Nr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return PersistencePromise.resolve(n?n.document.mutableCopy():MutableDocument.newInvalidDocument(e))}getEntries(t,e){let n=_r();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():MutableDocument.newInvalidDocument(t))})),PersistencePromise.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=_r();const s=e.path,o=new DocumentKey(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||Ye(Je(o),n)<=0||(r.has(o.key)||gr(e,o))&&(i=i.insert(o.key,o.mutableCopy()))}return PersistencePromise.resolve(i)}getAllFromCollectionGroup(t,e,n,r){ze()}Br(t,e){return PersistencePromise.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(t){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(t){super(),this.hr=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.hr.addEntry(t,r)):this.hr.removeEntry(n)})),PersistencePromise.waitFor(e)}getFromCache(t,e){return this.hr.getEntry(t,e)}getAllFromCache(t,e){return this.hr.getEntries(t,e)}}class __PRIVATE_MemoryTargetCache{constructor(t){this.persistence=t,this.Lr=new ObjectMap((t=>er(t)),nr),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.kr=0,this.qr=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Qr=__PRIVATE_TargetIdGenerator.qn()}forEachTarget(t,e){return this.Lr.forEach(((t,n)=>e(n))),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(t){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return PersistencePromise.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.kr&&(this.kr=e),PersistencePromise.resolve()}Un(t){this.Lr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Qr=new __PRIVATE_TargetIdGenerator(e),this.highestTargetId=e),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,e){return this.Un(e),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(t,e){return this.Un(e),PersistencePromise.resolve()}removeTargetData(t,e){return this.Lr.delete(e.target),this.qr.yr(e.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Lr.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Lr.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)})),PersistencePromise.waitFor(i).next((()=>r))}getTargetCount(t){return PersistencePromise.resolve(this.targetCount)}getTargetData(t,e){const n=this.Lr.get(e)||null;return PersistencePromise.resolve(n)}addMatchingKeys(t,e,n){return this.qr.mr(e,n),PersistencePromise.resolve()}removeMatchingKeys(t,e,n){this.qr.pr(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),PersistencePromise.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.qr.yr(e),PersistencePromise.resolve()}getMatchingKeysForTargetId(t,e){const n=this.qr.Sr(e);return PersistencePromise.resolve(n)}containsKey(t,e){return PersistencePromise.resolve(this.qr.containsKey(e))}}class __PRIVATE_MemoryPersistence{constructor(t,e){this.Kr={},this.overlays={},this.$r=new __PRIVATE_ListenSequence(0),this.Ur=!1,this.Ur=!0,this.Wr=new __PRIVATE_MemoryGlobalsCache,this.referenceDelegate=t(this),this.Gr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(t){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(t)}((t=>this.referenceDelegate.zr(t))),this.serializer=new __PRIVATE_LocalSerializer(e),this.jr=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Kr[t.toKey()];return n||(n=new __PRIVATE_MemoryMutationQueue(e,this.referenceDelegate),this.Kr[t.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,e,n){Ue("MemoryPersistence","Starting transaction:",t);const r=new __PRIVATE_MemoryTransaction(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((t=>this.referenceDelegate.Jr(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Yr(t,e){return PersistencePromise.or(Object.values(this.Kr).map((n=>()=>n.containsKey(t,e))))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(t){super(),this.currentSequenceNumber=t}}class __PRIVATE_MemoryEagerDelegate{constructor(t){this.persistence=t,this.Zr=new __PRIVATE_ReferenceSet,this.Xr=null}static ei(t){return new __PRIVATE_MemoryEagerDelegate(t)}get ti(){if(this.Xr)return this.Xr;throw ze()}addReference(t,e,n){return this.Zr.addReference(n,e),this.ti.delete(n.toString()),PersistencePromise.resolve()}removeReference(t,e,n){return this.Zr.removeReference(n,e),this.ti.add(n.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(t,e){return this.ti.add(e.toString()),PersistencePromise.resolve()}removeTarget(t,e){this.Zr.yr(e.targetId).forEach((t=>this.ti.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.ti.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Hr(){this.Xr=new Set}Jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.ti,(n=>{const r=DocumentKey.fromPath(n);return this.ni(t,r).next((t=>{t||e.removeEntry(r,SnapshotVersion.min())}))})).next((()=>(this.Xr=null,e.apply(t))))}updateLimboDocument(t,e){return this.ni(t,e).next((t=>{t?this.ti.delete(e.toString()):this.ti.add(e.toString())}))}zr(t){return 0}ni(t,e){return PersistencePromise.or([()=>PersistencePromise.resolve(this.Zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Yr(t,e)])}}class __PRIVATE_MemoryLruDelegate{constructor(t,e){this.persistence=t,this.ri=new ObjectMap((t=>an(t.path)),((t,e)=>t.isEqual(e))),this.garbageCollector=Hi(this,e)}static ei(t,e){return new __PRIVATE_MemoryLruDelegate(t,e)}Hr(){}Jr(t){return PersistencePromise.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}Xn(t){const e=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}nr(t){let e=0;return this.er(t,(t=>{e++})).next((()=>e))}er(t,e){return PersistencePromise.forEach(this.ri,((n,r)=>this.ir(t,n,r).next((t=>t?PersistencePromise.resolve():e(r)))))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Br(t,(r=>this.ir(t,r,e).next((t=>{t||(n++,i.removeEntry(r,SnapshotVersion.min()))})))).next((()=>i.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,e){return this.ri.set(e,t.currentSequenceNumber),PersistencePromise.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.ri.set(n,t.currentSequenceNumber),PersistencePromise.resolve()}removeReference(t,e,n){return this.ri.set(n,t.currentSequenceNumber),PersistencePromise.resolve()}updateLimboDocument(t,e){return this.ri.set(e,t.currentSequenceNumber),PersistencePromise.resolve()}zr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Nn(t.data.value)),e}ir(t,e,n){return PersistencePromise.or([()=>this.persistence.Yr(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.ri.get(e);return PersistencePromise.resolve(void 0!==t&&t>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class __PRIVATE_LocalViewChanges{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Wi=n,this.Gi=r}static zi(t,e){let n=xr(),r=xr();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new __PRIVATE_LocalViewChanges(t,e.fromCache,n,r)}}class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class __PRIVATE_QueryEngine{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=q()?8:en(H())>0?6:4}initialize(t,e){this.Zi=t,this.indexManager=e,this.ji=!0}getDocumentsMatchingQuery(t,e,n,r){const i={result:null};return this.Xi(t,e).next((t=>{i.result=t})).next((()=>{if(!i.result)return this.es(t,e,r,n).next((t=>{i.result=t}))})).next((()=>{if(i.result)return;const n=new QueryContext;return this.ts(t,e,n).next((r=>{if(i.result=r,this.Hi)return this.ns(t,e,n,r.size)}))})).next((()=>i.result))}ns(t,e,n,r){return n.documentReadCount<this.Ji?(De()<=nt.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",mr(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),PersistencePromise.resolve()):(De()<=nt.DEBUG&&Ue("QueryEngine","Query:",mr(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(De()<=nt.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",mr(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,lr(e))):PersistencePromise.resolve())}Xi(t,e){if(or(e))return PersistencePromise.resolve(null);let n=lr(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=dr(e,null,"F"),n=lr(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=xr(...r);return this.Zi.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.rs(e,r);return this.ss(e,s,i,n.readTime)?this.Xi(t,dr(e,null,"F")):this.os(t,s,e,n)}))))})))))}es(t,e,n,r){return or(e)||r.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.Zi.getDocuments(t,n).next((i=>{const s=this.rs(e,i);return this.ss(e,s,n,r)?PersistencePromise.resolve(null):(De()<=nt.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mr(e)),this.os(t,s,e,Qe(r,-1)).next((t=>t)))}))}rs(t,e){let n=new SortedSet(vr(t));return e.forEach(((e,r)=>{gr(t,r)&&(n=n.add(r))})),n}ss(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(t,e,n){return De()<=nt.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",mr(e)),this.Zi.getDocumentsMatchingQuery(t,e,IndexOffset.min(),n)}os(t,e,n,r){return this.Zi.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class __PRIVATE_LocalStoreImpl{constructor(t,e,n,r){this.persistence=t,this._s=e,this.serializer=r,this.us=new SortedMap($e),this.cs=new ObjectMap((t=>er(t)),nr),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(n)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LocalDocumentsView(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.us)))}}function qi(t,e,n,r){return new __PRIVATE_LocalStoreImpl(t,e,n,r)}async function Ki(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n.Ps(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],s=[];let o=xr();for(const t of r){i.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({Ts:t,removedBatchIds:i,addedBatchIds:s})))}))}))}function Wi(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Gr.getLastRemoteSnapshotVersion(t)))}function $i(t,e,n){let r=xr(),i=xr();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=_r();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(SnapshotVersion.min())?(e.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),r=r.insert(n,s)):Ue("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Is:r,ds:i}}))}function Zi(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Gi(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.Gr.getTargetData(t,e).next((i=>i?(r=i,PersistencePromise.resolve(r)):n.Gr.allocateTargetId(t).next((i=>(r=new TargetData(e,i,"TargetPurposeListen",t.currentSequenceNumber),n.Gr.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.us.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(t.targetId,t),n.cs.set(e,t.targetId)),t}))}async function Qi(t,e,n){const r=qe(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!nn(t))throw t;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function Ji(t,e,n){const r=qe(t);let i=SnapshotVersion.min(),s=xr();return r.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,n){const r=qe(t),i=r.cs.get(n);return void 0!==i?PersistencePromise.resolve(r.us.get(i)):r.Gr.getTargetData(e,n)}(r,t,lr(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>r._s.getDocumentsMatchingQuery(t,e,n?i:SnapshotVersion.min(),n?s:xr()))).next((t=>(Yi(r,yr(e),t),{documents:t,Es:s})))))}function Yi(t,e,n){let r=t.ls.get(e)||SnapshotVersion.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.ls.set(e,r)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=Pr()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class __PRIVATE_MemorySharedClientState{constructor(){this._o=new __PRIVATE_LocalClientState,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,e,n){this.ao[t]=e}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class __PRIVATE_NoopConnectivityMonitor{uo(t){}shutdown(){}}class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xi=null;function ts(){return null===Xi?Xi=268435456+Math.round(2147483648*Math.random()):Xi++,"0x"+Xi.toString(16)}const es={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class __PRIVATE_StreamBridge{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}const ns="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class __PRIVATE_RestConnection{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=e+"://"+t.host,this.Mo=`projects/${n}/databases/${r}`,this.xo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Oo(t,e,n,r,i){const s=ts(),o=this.No(t,e.toUriEncodedString());Ue("RestConnection",`Sending RPC '${t}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(a,r,i),this.Lo(t,o,a,n).then((e=>(Ue("RestConnection",`Received RPC '${t}' ${s}: `,e),e)),(e=>{throw Fe("RestConnection",`RPC '${t}' ${s} failed with error: `,e,"url: ",o,"request:",n),e}))}ko(t,e,n,r,i,s){return this.Oo(t,e,n,r,i)}Bo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Le,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}No(t,e){const n=es[t];return`${this.Fo}/v1/${e}:${n}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Lo(t,e,n,r){const i=ts();return new Promise(((s,o)=>{const a=new Se;a.setWithCredentials(!0),a.listenOnce(Me.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Ie.NO_ERROR:const e=a.getResponseJson();Ue(ns,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(e)),s(e);break;case Ie.TIMEOUT:Ue(ns,`RPC '${t}' ${i} timed out`),o(new FirestoreError(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case Ie.HTTP_ERROR:const n=a.getStatus();if(Ue(ns,`RPC '${t}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(e)>=0?e:Ke.UNKNOWN}(e.status);o(new FirestoreError(t,e.message))}else o(new FirestoreError(Ke.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new FirestoreError(Ke.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{Ue(ns,`RPC '${t}' ${i} completed.`)}}));const u=JSON.stringify(r);Ue(ns,`RPC '${t}' ${i} sending request:`,r),a.send(e,"POST",u,n,15)}))}qo(t,e,n){const r=ts(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Ce(),o=xe(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Bo(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const l=i.join("");Ue(ns,`Creating RPC '${t}' stream ${r}: ${l}`,a);const c=s.createWebChannel(l,a);let h=!1,d=!1;const f=new __PRIVATE_StreamBridge({Eo:e=>{d?Ue(ns,`Not sending because RPC '${t}' stream ${r} is closed:`,e):(h||(Ue(ns,`Opening RPC '${t}' stream ${r} transport.`),c.open(),h=!0),Ue(ns,`RPC '${t}' stream ${r} sending:`,e),c.send(e))},Ao:()=>c.close()}),p=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(c,Ae.EventType.OPEN,(()=>{d||(Ue(ns,`RPC '${t}' stream ${r} transport opened.`),f.So())})),p(c,Ae.EventType.CLOSE,(()=>{d||(d=!0,Ue(ns,`RPC '${t}' stream ${r} transport closed`),f.Do())})),p(c,Ae.EventType.ERROR,(e=>{d||(d=!0,Fe(ns,`RPC '${t}' stream ${r} transport errored:`,e),f.Do(new FirestoreError(Ke.UNAVAILABLE,"The operation could not be completed")))})),p(c,Ae.EventType.MESSAGE,(e=>{var n;if(!d){const i=e.data[0];He(!!i);const s=i,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Ue(ns,`RPC '${t}' stream ${r} received error:`,o);const e=o.status;let n=function(t){const e=Yr[t];if(void 0!==e)return ei(e)}(e),i=o.message;void 0===n&&(n=Ke.INTERNAL,i="Unknown error status: "+e+" with message "+o.message),d=!0,f.Do(new FirestoreError(n,i)),c.close()}else Ue(ns,`RPC '${t}' stream ${r} received:`,i),f.vo(i)}})),p(o,Re.STAT_EVENT,(e=>{e.stat===Te.PROXY?Ue(ns,`RPC '${t}' stream ${r} detected buffering proxy`):e.stat===Te.NOPROXY&&Ue(ns,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.bo()}),0),f}}function rs(){return"undefined"!=typeof document?document:null}function is(t){return new JsonProtoSerializer(t,!0)}class __PRIVATE_ExponentialBackoff{constructor(t,e,n=1e3,r=1.5,i=6e4){this.li=t,this.timerId=e,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const e=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,e-n);r>0&&Ue("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),t()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class __PRIVATE_PersistentStream{constructor(t,e,n,r,i,s,o,a){this.li=t,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new __PRIVATE_ExponentialBackoff(t,e)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,e){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==t?this.r_.reset():e&&e.code===Ke.RESOURCE_EXHAUSTED?(je(e.toString()),je("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):e&&e.code===Ke.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(e)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),e=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.Xo===e&&this.I_(t,n)}),(e=>{t((()=>{const t=new FirestoreError(Ke.UNKNOWN,"Fetching auth token failed: "+e.message);return this.d_(t)}))}))}I_(t,e){const n=this.T_(this.Xo);this.stream=this.E_(t,e),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((t=>{n((()=>this.d_(t)))})),this.stream.onMessage((t=>{n((()=>1==++this.n_?this.A_(t):this.onNext(t)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}d_(t){return Ue("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return e=>{this.li.enqueueAndForget((()=>this.Xo===t?e():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(t,e,n,r,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i}E_(t,e){return this.connection.qo("Listen",t,e)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(He(void 0===e||"string"==typeof e),ByteString.fromBase64String(e||"")):(He(void 0===e||e instanceof Buffer||e instanceof Uint8Array),ByteString.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?Ke.UNKNOWN:ei(t.code);return new FirestoreError(e,t.message||"")}(o);n=new __PRIVATE_WatchTargetChange(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_i(t,r.document.name),s=gi(r.document.updateTime),o=r.document.createTime?gi(r.document.createTime):SnapshotVersion.min(),a=new ObjectValue({mapValue:{fields:r.document.fields}}),u=MutableDocument.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_i(t,r.document),s=r.readTime?gi(r.readTime):SnapshotVersion.min(),o=MutableDocument.newNoDocument(i,s),a=r.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_i(t,r.document),s=r.removedTargetIds||[];n=new __PRIVATE_DocumentWatchChange([],s,i,null)}else{if(!("filter"in e))return ze();{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:i}=t,s=new ExistenceFilter(r,i),o=t.targetId;n=new __PRIVATE_ExistenceFilterChange(o,s)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return SnapshotVersion.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?SnapshotVersion.min():e.readTime?gi(e.readTime):SnapshotVersion.min()}(t);return this.listener.R_(e,n)}V_(t){const e={};e.database=Si(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=rr(r)?{documents:Ti(t,r)}:{query:Ri(t,r).ct},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=pi(t,e.resumeToken);const r=di(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(SnapshotVersion.min())>0){n.readTime=fi(t,e.snapshotVersion.toTimestamp());const r=di(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.c_(e)}m_(t){const e={};e.database=Si(this.serializer),e.removeTarget=t,this.c_(e)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(t,e,n,r,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(t,e){return this.connection.qo("Write",t,e)}A_(t){return He(!!t.streamToken),this.lastStreamToken=t.streamToken,He(!t.writeResults||0===t.writeResults.length),this.listener.p_()}onNext(t){He(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const e=function(t,e){return t&&t.length>0?(He(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?gi(t.updateTime):gi(e);return n.isEqual(SnapshotVersion.min())&&(n=gi(e)),new MutationResult(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=gi(t.commitTime);return this.listener.y_(n,e)}w_(){const t={};t.database=Si(this.serializer),this.c_(t)}g_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>Ii(this.serializer,t)))};this.c_(e)}}class __PRIVATE_DatastoreImpl extends class Datastore{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new FirestoreError(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,e,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.Oo(t,vi(e,n),r,i,s))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new FirestoreError(Ke.UNKNOWN,t.toString())}))}ko(t,e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.ko(t,vi(e,n),r,s,o,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new FirestoreError(Ke.UNKNOWN,t.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(t){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,"Online"===t&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(je(e),this.C_=!1):Ue("OnlineStateTracker",e)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class __PRIVATE_RemoteStoreImpl{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo((t=>{n.enqueueAndForget((async()=>{fs(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=qe(t);e.k_.add(4),await os(e),e.K_.set("Unknown"),e.k_.delete(4),await ss(e)}(this))}))})),this.K_=new __PRIVATE_OnlineStateTracker(n,r)}}async function ss(t){if(fs(t))for(const e of t.q_)await e(!0)}async function os(t){for(const e of t.q_)await e(!1)}function as(t,e){const n=qe(t);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),ds(n)?hs(n):Ps(n).s_()&&ls(n,e))}function us(t,e){const n=qe(t),r=Ps(n);n.L_.delete(e),r.s_()&&cs(n,e),0===n.L_.size&&(r.s_()?r.a_():fs(n)&&n.K_.set("Unknown"))}function ls(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(SnapshotVersion.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ps(t).V_(e)}function cs(t,e){t.U_.xe(e),Ps(t).m_(e)}function hs(t){t.U_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.L_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ps(t).start(),t.K_.F_()}function ds(t){return fs(t)&&!Ps(t).i_()&&t.L_.size>0}function fs(t){return 0===qe(t).k_.size}function ps(t){t.U_=void 0}async function ms(t){t.K_.set("Online")}async function gs(t){t.L_.forEach(((e,n)=>{ls(t,e)}))}async function ys(t,e){ps(t),ds(t)?(t.K_.O_(e),hs(t)):t.K_.set("Unknown")}async function vs(t,e,n){if(t.K_.set("Online"),e instanceof __PRIVATE_WatchTargetChange&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.L_.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.L_.delete(r),t.U_.removeTarget(r))}(t,e)}catch(n){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await ws(t,n)}else if(e instanceof __PRIVATE_DocumentWatchChange?t.U_.$e(e):e instanceof __PRIVATE_ExistenceFilterChange?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(SnapshotVersion.min()))try{const e=await Wi(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.U_.it(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.L_.get(r);i&&t.L_.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const r=t.L_.get(e);if(!r)return;t.L_.set(e,r.withResumeToken(ByteString.EMPTY_BYTE_STRING,r.snapshotVersion)),cs(t,e);const i=new TargetData(r.target,e,n,r.sequenceNumber);ls(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Ue("RemoteStore","Failed to raise snapshot:",e),await ws(t,e)}}async function ws(t,e,n){if(!nn(e))throw e;t.k_.add(1),await os(t),t.K_.set("Offline"),n||(n=()=>Wi(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await ss(t)}))}function bs(t,e){return e().catch((n=>ws(t,n,e)))}async function _s(t){const e=qe(t),n=Ns(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;Es(e);)try{const t=await Zi(e.localStore,r);if(null===t){0===e.B_.length&&n.a_();break}r=t.batchId,ks(e,t)}catch(t){await ws(e,t)}Ss(e)&&As(e)}function Es(t){return fs(t)&&t.B_.length<10}function ks(t,e){t.B_.push(e);const n=Ns(t);n.s_()&&n.f_&&n.g_(e.mutations)}function Ss(t){return fs(t)&&!Ns(t).i_()&&t.B_.length>0}function As(t){Ns(t).start()}async function Ms(t){Ns(t).w_()}async function Is(t){const e=Ns(t);for(const n of t.B_)e.g_(n.mutations)}async function Ts(t,e,n){const r=t.B_.shift(),i=MutationBatchResult.from(r,e,n);await bs(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await _s(t)}async function Rs(t,e){e&&Ns(t).f_&&await async function(t,e){if(function(t){return ti(t)&&t!==Ke.ABORTED}(e.code)){const n=t.B_.shift();Ns(t).__(),await bs(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await _s(t)}}(t,e),Ss(t)&&As(t)}async function xs(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=fs(n);n.k_.add(3),await os(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await ss(n)}async function Cs(t,e){const n=qe(t);e?(n.k_.delete(2),await ss(n)):e||(n.k_.add(2),await os(n),n.K_.set("Unknown"))}function Ps(t){return t.W_||(t.W_=function(t,e,n){const r=qe(t);return r.b_(),new __PRIVATE_PersistentListenStream(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Ro:ms.bind(null,t),mo:gs.bind(null,t),po:ys.bind(null,t),R_:vs.bind(null,t)}),t.q_.push((async e=>{e?(t.W_.__(),ds(t)?hs(t):t.K_.set("Unknown")):(await t.W_.stop(),ps(t))}))),t.W_}function Ns(t){return t.G_||(t.G_=function(t,e,n){const r=qe(t);return r.b_(),new __PRIVATE_PersistentWriteStream(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:Ms.bind(null,t),po:Rs.bind(null,t),p_:Is.bind(null,t),y_:Ts.bind(null,t)}),t.q_.push((async e=>{e?(t.G_.__(),await _s(t)):(await t.G_.stop(),t.B_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.B_.length} pending writes`),t.B_=[]))}))),t.G_}class DelayedOperation{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,o=new DelayedOperation(t,e,s,r,i);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(Ke.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Os(t,e){if(je("AsyncQueue",`${e}: ${t}`),nn(t))return new FirestoreError(Ke.UNAVAILABLE,`${e}: ${t}`);throw t}class DocumentSet{static emptySet(t){return new DocumentSet(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||DocumentKey.comparator(e.key,n.key):(t,e)=>DocumentKey.comparator(t.key,e.key),this.keyedMap=kr(),this.sortedSet=new SortedMap(this.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof DocumentSet))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new DocumentSet;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class __PRIVATE_DocumentChangeSet{constructor(){this.z_=new SortedMap(DocumentKey.comparator)}track(t){const e=t.doc.key,n=this.z_.get(e);n?0!==t.type&&3===n.type?this.z_=this.z_.insert(e,t):3===t.type&&1!==n.type?this.z_=this.z_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.z_=this.z_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.z_=this.z_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.z_=this.z_.remove(e):1===t.type&&2===n.type?this.z_=this.z_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.z_=this.z_.insert(e,{type:2,doc:t.doc}):ze():this.z_=this.z_.insert(e,t)}j_(){const t=[];return this.z_.inorderTraversal(((e,n)=>{t.push(n)})),t}}class ViewSnapshot{constructor(t,e,n,r,i,s,o,a,u){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(t,e,n,r,i){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new ViewSnapshot(t,e,DocumentSet.emptySet(e),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fr(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class __PRIVATE_QueryListenersInfo{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((t=>t.Z_()))}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=Ls(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(t,e){const n=qe(t),r=n.queries;n.queries=Ls(),r.forEach(((t,n)=>{for(const r of n.J_)r.onError(e)}))}(this,new FirestoreError(Ke.ABORTED,"Firestore shutting down"))}}function Ls(){return new ObjectMap((t=>pr(t)),fr)}async function Bs(t,e){const n=qe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new __PRIVATE_QueryListenersInfo,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(t){const n=Os(t,`Initialization of query '${mr(e.query)}' failed`);return void e.onError(n)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&Fs(n)}async function Ds(t,e){const n=qe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const t=s.J_.indexOf(e);t>=0&&(s.J_.splice(t,1),0===s.J_.length?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Us(t,e){const n=qe(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.J_)t.ta(i)&&(r=!0);e.H_=i}}r&&Fs(n)}function js(t,e,n){const r=qe(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function Fs(t){t.X_.forEach((t=>{t.next()}))}var Vs,zs;(zs=Vs||(Vs={})).na="default",zs.Cache="cache";class __PRIVATE_QueryListener{constructor(t,e,n){this.query=t,this.ra=e,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new ViewSnapshot(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ia?this.oa(t)&&(this.ra.next(t),e=!0):this._a(t,this.onlineState)&&(this.aa(t),e=!0),this.sa=t,e}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let e=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),e=!0),e}_a(t,e){if(!t.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==e;return(!this.options.ua||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}oa(t){if(t.docChanges.length>0)return!0;const e=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}aa(t){t=ViewSnapshot.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==Vs.Cache}}class __PRIVATE_AddedLimboDocument{constructor(t){this.key=t}}class __PRIVATE_RemovedLimboDocument{constructor(t){this.key=t}}class __PRIVATE_View{constructor(t,e){this.query=t,this.Ea=e,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=xr(),this.mutatedKeys=xr(),this.Va=vr(t),this.ma=new DocumentSet(this.Va)}get fa(){return this.Ea}ga(t,e){const n=e?e.pa:new __PRIVATE_DocumentChangeSet,r=e?e.ma:this.ma;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const l=r.get(t),c=gr(this.query,e)?e:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;l&&c?l.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.ya(l,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Va(c,a)>0||u&&this.Va(c,u)<0)&&(o=!0)):!l&&c?(n.track({type:0,doc:c}),f=!0):l&&!c&&(n.track({type:1,doc:l}),f=!0,(a||u)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{ma:s,pa:n,ss:o,mutatedKeys:i}}ya(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){const i=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const s=t.pa.j_();s.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return n(t)-n(e)}(t.type,e.type)||this.Va(t.doc,e.doc))),this.wa(n),r=null!=r&&r;const o=e&&!r?this.Sa():[],a=0===this.Ra.size&&this.current&&!r?1:0,u=a!==this.Aa;return this.Aa=a,0!==s.length||u?{snapshot:new ViewSnapshot(this.query,t.ma,i,s,t.mutatedKeys,0===a,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:o}:{ba:o}}ea(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ma:this.ma,pa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.Ea.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach((t=>this.Ea=this.Ea.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.Ea=this.Ea.delete(t))),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=xr(),this.ma.forEach((t=>{this.Da(t.key)&&(this.Ra=this.Ra.add(t.key))}));const e=[];return t.forEach((t=>{this.Ra.has(t)||e.push(new __PRIVATE_RemovedLimboDocument(t))})),this.Ra.forEach((n=>{t.has(n)||e.push(new __PRIVATE_AddedLimboDocument(n))})),e}va(t){this.Ea=t.Es,this.Ra=xr();const e=this.ga(t.documents);return this.applyChanges(e,!0)}Ca(){return ViewSnapshot.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class LimboResolution{constructor(t){this.key=t,this.Fa=!1}}class __PRIVATE_SyncEngineImpl{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new ObjectMap((t=>pr(t)),fr),this.Oa=new Map,this.Na=new Set,this.Ba=new SortedMap(DocumentKey.comparator),this.La=new Map,this.ka=new __PRIVATE_ReferenceSet,this.qa={},this.Qa=new Map,this.Ka=__PRIVATE_TargetIdGenerator.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function Hs(t,e,n=!0){const r=co(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await Ks(r,e,n,!0),i}async function qs(t,e){const n=co(t);await Ks(n,e,!0,!1)}async function Ks(t,e,n,r){const i=await Gi(t.localStore,lr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Ws(t,e,s,"current"===o,i.resumeToken)),t.isPrimaryClient&&n&&as(t.remoteStore,i),a}async function Ws(t,e,n,r,i){t.Ua=(e,n,r)=>async function(t,e,n,r){let i=e.view.ga(n);i.ss&&(i=await Ji(t.localStore,e.query,!1).then((({documents:t})=>e.view.ga(t,i))));const s=r&&r.targetChanges.get(e.targetId),o=r&&null!=r.targetMismatches.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,s,o);return io(t,e.targetId,a.ba),a.snapshot}(t,e,n,r);const s=await Ji(t.localStore,e,!0),o=new __PRIVATE_View(e,s.Es),a=o.ga(s.documents),u=TargetChange.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),l=o.applyChanges(a,t.isPrimaryClient,u);io(t,n,l.ba);const c=new __PRIVATE_QueryView(e,n,o);return t.xa.set(e,c),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),l.snapshot}async function $s(t,e,n){const r=qe(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter((t=>!fr(t,e)))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qi(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&us(r.remoteStore,i.targetId),no(r,i.targetId)})).catch(tn)):(no(r,i.targetId),await Qi(r.localStore,i.targetId,!0))}async function Zs(t,e){const n=qe(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),us(n.remoteStore,r.targetId))}async function Gs(t,e){const n=qe(t);try{const t=await function(t,e){const n=qe(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const o=[];e.targetChanges.forEach(((s,a)=>{const u=i.get(a);if(!u)return;o.push(n.Gr.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.Gr.addMatchingKeys(t,s.addedDocuments,a))));let l=u.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?l=l.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(a,l),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,l,s)&&o.push(n.Gr.updateTargetData(t,l))}));let a=_r(),u=xr();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),o.push($i(t,s,e.documentUpdates).next((t=>{a=t.Is,u=t.ds}))),!r.isEqual(SnapshotVersion.min())){const e=n.Gr.getLastRemoteSnapshotVersion(t).next((e=>n.Gr.setTargetsMetadata(t,t.currentSequenceNumber,r)));o.push(e)}return PersistencePromise.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,u))).next((()=>a))})).then((t=>(n.us=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.La.get(e);r&&(He(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Fa=!0:t.modifiedDocuments.size>0?He(r.Fa):t.removedDocuments.size>0&&(He(r.Fa),r.Fa=!1))})),await ao(n,t,e)}catch(t){await tn(t)}}function Qs(t,e,n){const r=qe(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.xa.forEach(((n,r)=>{const i=r.view.ea(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=qe(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const i of n.J_)i.ea(e)&&(r=!0)})),r&&Fs(n)}(r.eventManager,e),t.length&&r.Ma.R_(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Js(t,e,n){const r=qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.La.get(e),s=i&&i.key;if(s){let t=new SortedMap(DocumentKey.comparator);t=t.insert(s,MutableDocument.newNoDocument(s,SnapshotVersion.min()));const n=xr().add(s),i=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap($e),t,n);await Gs(r,i),r.Ba=r.Ba.remove(s),r.La.delete(e),oo(r)}else await Qi(r.localStore,e,!1).then((()=>no(r,e,n))).catch(tn)}async function Ys(t,e){const n=qe(t),r=e.batch.batchId;try{const t=await function(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let o=PersistencePromise.resolve();return s.forEach((t=>{o=o.next((()=>r.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);He(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=xr();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(n.localStore,e);eo(n,r,null),to(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ao(n,t)}catch(t){await tn(t)}}async function Xs(t,e,n){const r=qe(t);try{const t=await function(t,e){const n=qe(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(He(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);eo(r,e,n),to(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ao(r,t)}catch(n){await tn(n)}}function to(t,e){(t.Qa.get(e)||[]).forEach((t=>{t.resolve()})),t.Qa.delete(e)}function eo(t,e,n){const r=qe(t);let i=r.qa[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function no(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach((e=>{t.ka.containsKey(e)||ro(t,e)}))}function ro(t,e){t.Na.delete(e.path.canonicalString());const n=t.Ba.get(e);null!==n&&(us(t.remoteStore,n),t.Ba=t.Ba.remove(e),t.La.delete(n),oo(t))}function io(t,e,n){for(const r of n)r instanceof __PRIVATE_AddedLimboDocument?(t.ka.addReference(r.key,e),so(t,r)):r instanceof __PRIVATE_RemovedLimboDocument?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||ro(t,r.key)):ze()}function so(t,e){const n=e.key,r=n.path.canonicalString();t.Ba.get(n)||t.Na.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.Na.add(r),oo(t))}function oo(t){for(;t.Na.size>0&&t.Ba.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new DocumentKey(ResourcePath.fromString(e)),r=t.Ka.next();t.La.set(r,new LimboResolution(n)),t.Ba=t.Ba.insert(n,r),as(t.remoteStore,new TargetData(lr(sr(n.path)),r,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.oe))}}async function ao(t,e,n){const r=qe(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach(((t,a)=>{o.push(r.Ua(a,e,n).then((t=>{var e;if((t||n)&&r.isPrimaryClient){const i=t?!t.fromCache:null===(e=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===e?void 0:e.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(t){i.push(t);const e=__PRIVATE_LocalViewChanges.zi(a.targetId,t);s.push(e)}})))})),await Promise.all(o),r.Ma.R_(i),await async function(t,e){const n=qe(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>PersistencePromise.forEach(e,(e=>PersistencePromise.forEach(e.Wi,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>PersistencePromise.forEach(e.Gi,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!nn(t))throw t;Ue("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.us.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(t,i)}}}(r.localStore,s))}async function uo(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const t=await Ki(n.localStore,e);n.currentUser=e,function(t,e){t.Qa.forEach((t=>{t.forEach((t=>{t.reject(new FirestoreError(Ke.CANCELLED,e))}))})),t.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await ao(n,t.Ts)}}function lo(t,e){const n=qe(t),r=n.La.get(e);if(r&&r.Fa)return xr().add(r.key);{let t=xr();const r=n.Oa.get(e);if(!r)return t;for(const e of r){const r=n.xa.get(e);t=t.unionWith(r.view.fa)}return t}}function co(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gs.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lo.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Js.bind(null,e),e.Ma.R_=Us.bind(null,e.eventManager),e.Ma.Wa=js.bind(null,e.eventManager),e}function ho(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ys.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xs.bind(null,e),e}class __PRIVATE_MemoryOfflineComponentProvider{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=is(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,e){return null}Ya(t,e){return null}Ha(t){return qi(this.persistence,new __PRIVATE_QueryEngine,t.initialUser,this.serializer)}ja(t){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.ei,this.serializer)}za(t){return new __PRIVATE_MemorySharedClientState}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}__PRIVATE_MemoryOfflineComponentProvider.provider={build:()=>new __PRIVATE_MemoryOfflineComponentProvider};class __PRIVATE_LruGcMemoryOfflineComponentProvider extends __PRIVATE_MemoryOfflineComponentProvider{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,e){He(this.persistence.referenceDelegate instanceof __PRIVATE_MemoryLruDelegate);const n=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(n,t.asyncQueue,e)}ja(t){const e=void 0!==this.cacheSizeBytes?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_MemoryPersistence((t=>__PRIVATE_MemoryLruDelegate.ei(t,e)),this.serializer)}}class OnlineComponentProvider{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Qs(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=uo.bind(null,this.syncEngine),await Cs(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new __PRIVATE_EventManagerImpl}createDatastore(t){const e=is(t.databaseInfo.databaseId),n=function(t){return new __PRIVATE_WebChannelConnection(t)}(t.databaseInfo);return function(t,e,n,r){return new __PRIVATE_DatastoreImpl(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,r,i){return new __PRIVATE_RemoteStoreImpl(t,e,n,r,i)}(this.localStore,this.datastore,t.asyncQueue,(t=>Qs(this.syncEngine,t,0)),__PRIVATE_BrowserConnectivityMonitor.p()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor)}createSyncEngine(t,e){return function(t,e,n,r,i,s,o){const a=new __PRIVATE_SyncEngineImpl(t,e,n,r,i,s);return o&&(a.$a=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=qe(t);Ue("RemoteStore","RemoteStore shutting down."),e.k_.add(5),await os(e),e.Q_.shutdown(),e.K_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}OnlineComponentProvider.provider={build:()=>new OnlineComponentProvider};class __PRIVATE_AsyncObserver{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):je("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}class FirestoreClient{constructor(t,e,n,r,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async t=>{Ue("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Ue("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Os(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function fo(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await Ki(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function po(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mo(t);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((t=>xs(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>xs(e.remoteStore,n))),t._onlineComponents=e}async function mo(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await fo(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(t){return"FirebaseError"===t.name?t.code===Ke.FAILED_PRECONDITION||t.code===Ke.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Fe("Error using user provided cache. Falling back to memory cache: "+n),await fo(t,new __PRIVATE_MemoryOfflineComponentProvider)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await fo(t,new __PRIVATE_LruGcMemoryOfflineComponentProvider(void 0));return t._offlineComponents}async function go(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await po(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await po(t,new OnlineComponentProvider))),t._onlineComponents}function yo(t){return go(t).then((t=>t.syncEngine))}async function vo(t){const e=await go(t),n=e.eventManager;return n.onListen=Hs.bind(null,e.syncEngine),n.onUnlisten=$s.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qs.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Zs.bind(null,e.syncEngine),n}function wo(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const bo=new Map;function _o(t,e,n){if(!n)throw new FirestoreError(Ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Eo(t){if(!DocumentKey.isDocumentKey(t))throw new FirestoreError(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ko(t){if(DocumentKey.isDocumentKey(t))throw new FirestoreError(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function So(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":ze()}function Ao(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=So(t);throw new FirestoreError(Ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Mo(t,e){if(e<=0)throw new FirestoreError(Ke.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class FirestoreSettingsImpl{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new FirestoreError(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new FirestoreError(Ke.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wo(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new FirestoreError(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new FirestoreError(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new FirestoreError(Ke.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Firestore$1{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new FirestoreError(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new FirestoreError(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(t.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new FirestoreError(Ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=bo.get(t);e&&(Ue("ComponentProvider","Removing Datastore"),bo.delete(t),e.terminate())}(this),Promise.resolve()}}class Query{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Query(this.firestore,t,this._query)}}class DocumentReference{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new DocumentReference(this.firestore,t,this._key)}}class CollectionReference extends Query{constructor(t,e,n){super(t,e,sr(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(t))}withConverter(t){return new CollectionReference(this.firestore,t,this._path)}}function Io(t,e,...n){if(t=X(t),_o("collection","path",e),t instanceof Firestore$1){const r=ResourcePath.fromString(e,...n);return ko(r),new CollectionReference(t,null,r)}{if(!(t instanceof DocumentReference||t instanceof CollectionReference))throw new FirestoreError(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ResourcePath.fromString(e,...n));return ko(r),new CollectionReference(t.firestore,null,r)}}class __PRIVATE_AsyncQueueImpl{constructor(t=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.fu=()=>{const t=rs();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.r_.Jo()},this.gu=t;const e=rs();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.du){this.du=!0,this.Vu=t||!1;const e=rs();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.du)return new Promise((()=>{}));const e=new __PRIVATE_Deferred;return this.yu((()=>this.du&&this.Vu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Iu.push(t),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!nn(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(t){const e=this.gu.then((()=>(this.Ru=!0,t().catch((t=>{this.Au=t,this.Ru=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw je("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Ru=!1,t))))));return this.gu=e,e}enqueueAfterDelay(t,e,n){this.pu(),this.mu.indexOf(t)>-1&&(e=0);const r=DelayedOperation.createAndSchedule(this,t,e,n,(t=>this.Su(t)));return this.Eu.push(r),r}pu(){this.Au&&ze()}verifyOperationInProgress(){}async bu(){let t;do{t=this.gu,await t}while(t!==this.gu)}Du(t){for(const e of this.Eu)if(e.timerId===t)return!0;return!1}vu(t){return this.bu().then((()=>{this.Eu.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.Eu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.bu()}))}Cu(t){this.mu.push(t)}Su(t){const e=this.Eu.indexOf(t);this.Eu.splice(e,1)}}function To(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of e)if(r in n&&"function"==typeof n[r])return!0;return!1}(t,["next","error","complete"])}class Firestore extends Firestore$1{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new __PRIVATE_AsyncQueueImpl,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new __PRIVATE_AsyncQueueImpl(t),this._firestoreClient=void 0,await t}}}function Ro(t){if(t._terminated)throw new FirestoreError(Ke.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xo(t),t._firestoreClient}function xo(t){var e,n,r;const i=t._freezeSettings(),s=function(t,e,n,r){return new DatabaseInfo(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,wo(r.experimentalLongPollingOptions),r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new FirestoreClient(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(t){const e=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}class Bytes{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bytes(ByteString.fromBase64String(t))}catch(t){throw new FirestoreError(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new Bytes(ByteString.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class FieldPath{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class FieldValue{constructor(t){this._methodName=t}}class GeoPoint{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return $e(this._lat,t._lat)||$e(this._long,t._long)}}class VectorValue{constructor(t){this._values=(t||[]).map((t=>t))}toArray(){return this._values.map((t=>t))}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(this._values,t._values)}}const Co=/^__.*__$/;class ParsedSetData{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new __PRIVATE_PatchMutation(t,this.data,this.fieldMask,e,this.fieldTransforms):new __PRIVATE_SetMutation(t,this.data,e,this.fieldTransforms)}}function Po(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze()}}class __PRIVATE_ParseContextImpl{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xu({path:n,Nu:!1});return r.Bu(t),r}Lu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return Ho(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Bu(this.path.get(t))}Bu(t){if(0===t.length)throw this.qu("Document fields must not be empty");if(Po(this.Mu)&&Co.test(t))throw this.qu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||is(t)}$u(t,e,n,r=!1){return new __PRIVATE_ParseContextImpl({Mu:t,methodName:e,Ku:n,path:FieldPath$1.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function No(t){const e=t._freezeSettings(),n=is(t._databaseId);return new __PRIVATE_UserDataReader(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Oo(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);jo("Data must be an object, but it was:",o,r);const a=Do(r,o);let u,l;if(s.merge)u=new FieldMask(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=Fo(e,r,n);if(!o.contains(i))throw new FirestoreError(Ke.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);qo(t,i)||t.push(i)}u=new FieldMask(t),l=o.fieldTransforms.filter((t=>u.covers(t.field)))}else u=null,l=o.fieldTransforms;return new ParsedSetData(new ObjectValue(a),u,l)}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue{_toFieldTransform(t){return new FieldTransform(t.path,new __PRIVATE_ServerTimestampTransform)}isEqual(t){return t instanceof __PRIVATE_ServerTimestampFieldValueImpl}}function Lo(t,e,n,r=!1){return Bo(n,t.$u(r?4:3,e))}function Bo(t,e){if(Uo(t=X(t)))return jo("Unsupported field value:",e,t),Do(t,e);if(t instanceof FieldValue)return function(t,e){if(!Po(e.Mu))throw e.qu(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.qu(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&4!==e.Mu)throw e.qu("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=Bo(i,e.ku(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=X(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Lr(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Timestamp.fromDate(t);return{timestampValue:fi(e.serializer,n)}}if(t instanceof Timestamp){const n=new Timestamp(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:fi(e.serializer,n)}}if(t instanceof GeoPoint)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bytes)return{bytesValue:pi(e.serializer,t._byteString)};if(t instanceof DocumentReference){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.qu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:yi(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof VectorValue)return function(t,e){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:t.toArray().map((t=>{if("number"!=typeof t)throw e.qu("VectorValues must only contain numeric values.");return Nr(e.serializer,t)}))}}}}}}(t,e);throw e.qu(`Unsupported field value: ${So(t)}`)}(t,e)}function Do(t,e){const n={};return gn(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mn(t,((t,r)=>{const i=Bo(r,e.Ou(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Uo(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Timestamp||t instanceof GeoPoint||t instanceof Bytes||t instanceof DocumentReference||t instanceof FieldValue||t instanceof VectorValue)}function jo(t,e,n){if(!Uo(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=So(n);throw"an object"===r?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Fo(t,e,n){if((e=X(e))instanceof FieldPath)return e._internalPath;if("string"==typeof e)return zo(t,e);throw Ho("Field path arguments must be of type string or ",t,!1,void 0,n)}const Vo=new RegExp("[~\\*/\\[\\]]");function zo(t,e,n){if(e.search(Vo)>=0)throw Ho(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new FieldPath(...e.split("."))._internalPath}catch(r){throw Ho(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ho(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new FirestoreError(Ke.INVALID_ARGUMENT,a+t+u)}function qo(t,e){return t.some((t=>t.isEqual(e)))}class DocumentSnapshot$1{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Ko("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function Ko(t,e){return"string"==typeof e?zo(t,e):e instanceof FieldPath?e._internalPath:e._delegate._internalPath}function Wo(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new FirestoreError(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}class QueryFieldFilterConstraint extends QueryConstraint{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new QueryFieldFilterConstraint(t,e,n)}_apply(t){const e=this._parse(t);return Go(t._query,e),new Query(t.firestore,t.converter,hr(t._query,e))}_parse(t){const e=No(t.firestore),n=function(t,e,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new FirestoreError(Ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Zo(o,s);const e=[];for(const n of o)e.push($o(r,t,n));a={arrayValue:{values:e}}}else a=$o(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Zo(o,s),a=Lo(n,e,o,"in"===s||"not-in"===s);return FieldFilter.create(i,s,a)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new QueryCompositeFilterConstraint(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:CompositeFilter.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const r=e.getFlattenedFilters();for(const i of r)Go(n,i),n=hr(n,i)}(t._query,e),new Query(t.firestore,t.converter,hr(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new QueryOrderByConstraint(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(e,n)}(t._query,this._field,this._direction);return new Query(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new __PRIVATE_QueryImpl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}class QueryLimitConstraint extends QueryConstraint{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new QueryLimitConstraint(t,e,n)}_apply(t){return new Query(t.firestore,t.converter,dr(t._query,this._limit,this._limitType))}}function $o(t,e,n){if("string"==typeof(n=X(n))){if(""===n)throw new FirestoreError(Ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ar(e)&&-1!==n.indexOf("/"))throw new FirestoreError(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ResourcePath.fromString(n));if(!DocumentKey.isDocumentKey(r))throw new FirestoreError(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return On(t,new DocumentKey(r))}if(n instanceof DocumentReference)return On(t,n._key);throw new FirestoreError(Ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${So(n)}.`)}function Zo(t,e){if(!Array.isArray(t)||0===t.length)throw new FirestoreError(Ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Go(t,e){const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new FirestoreError(Ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new FirestoreError(Ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(t,e="none"){switch(An(t)){case 0:return null;case 1:return t.booleanValue;case 2:return wn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(bn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ze()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return mn(t,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertVectorValue(t){var e,n,r;const i=null===(r=null===(n=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((t=>wn(t.doubleValue)));return new VectorValue(i)}convertGeoPoint(t){return new GeoPoint(wn(t.latitude),wn(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=En(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(kn(t));default:return null}}convertTimestamp(t){const e=vn(t);return new Timestamp(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=ResourcePath.fromString(t);He(ji(n));const r=new DatabaseId(n.get(1),n.get(3)),i=new DocumentKey(n.popFirst(5));return r.isEqual(e)||je(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}function Qo(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class SnapshotMetadata{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Ko("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(t={}){return super.data(t)}}class QuerySnapshot{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new SnapshotMetadata(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,n.key,n,new SnapshotMetadata(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const r=new QueryDocumentSnapshot(t._firestore,t._userDataWriter,n.doc.key,n.doc,new SnapshotMetadata(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new QueryDocumentSnapshot(t._firestore,t._userDataWriter,e.doc.key,e.doc,new SnapshotMetadata(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:Jo(e.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Jo(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze()}}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bytes(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new DocumentReference(this.firestore,null,e)}}function Yo(t,e){const n=Ao(t.firestore,Firestore),r=function(t,e,...n){if(t=X(t),1===arguments.length&&(e=__PRIVATE_AutoId.newId()),_o("doc","path",e),t instanceof Firestore$1){const r=ResourcePath.fromString(e,...n);return Eo(r),new DocumentReference(t,null,new DocumentKey(r))}{if(!(t instanceof DocumentReference||t instanceof CollectionReference))throw new FirestoreError(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ResourcePath.fromString(e,...n));return Eo(r),new DocumentReference(t.firestore,t instanceof CollectionReference?t.converter:null,new DocumentKey(r))}}(t),i=Qo(t.converter,e);return Xo(n,[Oo(No(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Precondition.exists(!1))]).then((()=>r))}function Xo(t,e){return function(t,e){const n=new __PRIVATE_Deferred;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=ho(t);try{const t=await function(t,e){const n=qe(t),r=Timestamp.now(),i=e.reduce(((t,e)=>t.add(e.key)),xr());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=_r(),u=xr();return n.hs.getEntries(t,i).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(u=u.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((i=>{s=i;const o=[];for(const t of e){const e=$r(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new __PRIVATE_PatchMutation(t.key,e,Hn(e.value.mapValue),Precondition.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,o,e)})).next((e=>{o=e;const r=e.applyToLocalDocumentSet(s,u);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Sr(s)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.qa[t.currentUser.toKey()];r||(r=new SortedMap($e)),r=r.insert(e,n),t.qa[t.currentUser.toKey()]=r}(r,t.batchId,n),await ao(r,t.changes),await _s(r.remoteStore)}catch(t){const e=Os(t,"Failed to persist write");n.reject(e)}}(await yo(t),e,n))),n.promise}(Ro(t),e)}function ta(t,e,n){const r=n.docs.get(e._key),i=new __PRIVATE_ExpUserDataWriter(t);return new DocumentSnapshot(t,i,e._key,r,new SnapshotMetadata(n.hasPendingWrites,n.fromCache),e.converter)}function ea(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}new WeakMap;!function(t,e=!0){!function(t){Le=t}(ue),ie(new Component("firestore",((t,{instanceIdentifier:n,options:r})=>{const i=t.getProvider("app").getImmediate(),s=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(t.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new FirestoreError(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(t.options.projectId,e)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),he(Oe,"4.7.6",t),he(Oe,"4.7.6","esm2017")}();he("firebase","11.2.0","app");function ra(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;function ia(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sa=ia,oa=new ErrorFactory("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),aa=new Logger("@firebase/auth");function ua(t,...e){aa.logLevel<=nt.ERROR&&aa.error(`Auth (${ue}): ${t}`,...e)}function la(t,...e){throw fa(t,...e)}function ca(t,...e){return fa(t,...e)}function ha(t,e,n){const r=Object.assign(Object.assign({},sa()),{[e]:n});return new ErrorFactory("auth","Firebase",r).create(e,{appName:t.name})}function da(t){return ha(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fa(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oa.create(t,...e)}function pa(t,e,...n){if(!t)throw fa(e,...n)}function ma(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ua(e),new Error(e)}function ga(t,e){t||ma(e)}function ya(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function va(){return"http:"===wa()||"https:"===wa()}function wa(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function ba(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(va()||function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Delay{constructor(t,e){this.shortDelay=t,this.longDelay=e,ga(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(H())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return ba()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _a(t,e){ga(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class FetchProvider{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ea={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ka=new Delay(3e4,6e4);function Sa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ma(t,e,n,r,i={}){return Ia(t,i,(async()=>{let i={},s={};r&&("GET"===e?s=r:i={body:JSON.stringify(r)});const o=G(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:a},i);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(u.referrerPolicy="no-referrer"),FetchProvider.fetch()(Ra(t,t.config.apiHost,n,o),u)}))}async function Ia(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ea),e);try{const e=new NetworkTimeout(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Pa(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const e=i.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Pa(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Pa(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw Pa(t,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ha(t,a,o);la(t,a)}}catch(i){if(i instanceof FirebaseError)throw i;la(t,"network-request-failed",{message:String(i)})}}async function Ta(t,e,n,r,i={}){const s=await Ma(t,e,n,r,i);return"mfaPendingCredential"in s&&la(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Ra(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?_a(t.config,i):`${t.config.apiScheme}://${i}`}function xa(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(ca(this.auth,"network-request-failed"))),ka.get())}))}}function Pa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ca(t,e,r);return i.customData._tokenResponse=n,i}function Na(t){return void 0!==t&&void 0!==t.enterprise}class RecaptchaConfig{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return xa(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Oa(t,e){return Ma(t,"GET","/v2/recaptchaConfig",Sa(t,e))}async function La(t,e){return Ma(t,"POST","/v1/accounts:lookup",e)}function Ba(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Da(t){return 1e3*Number(t)}function Ua(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return ua("JWT malformed, contained fewer than 3 sections"),null;try{const t=L(n);return t?JSON.parse(t):(ua("Failed to decode base64 JWT payload"),null)}catch(i){return ua("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}function ja(t){const e=Ua(t);return pa(e,"internal-error"),pa(void 0!==e.exp,"internal-error"),pa(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}async function Fa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof FirebaseError&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}class ProactiveRefresh{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}class UserMetadata{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ba(this.lastLoginAt),this.creationTime=Ba(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Va(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Fa(t,La(n,{idToken:r}));pa(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?za(s.providerUserInfo):[],a=(u=t.providerData,l=o,[...u.filter((t=>!l.some((e=>e.providerId===t.providerId)))),...l]);var u,l;const c=t.isAnonymous,h=!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new UserMetadata(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}function za(t){return t.map((t=>{var{providerId:e}=t,n=ra(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pa(t.idToken,"internal-error"),pa(void 0!==t.idToken,"internal-error"),pa(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):ja(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){pa(0!==t.length,"internal-error");const e=ja(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return e||!this.accessToken||this.isExpired?(pa(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(t,e){const n=await Ia(t,{},(async()=>{const n=G({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,s=Ra(t,r,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,s=new StsTokenManager;return n&&(pa("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),r&&(pa("string"==typeof r,"internal-error",{appName:t}),s.accessToken=r),i&&(pa("number"==typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return ma("not implemented")}}function Ha(t,e){pa("string"==typeof t||void 0===t,"internal-error",{appName:e})}class UserImpl{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=ra(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new UserMetadata(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await Fa(this,this.stsTokenManager.getToken(this.auth,t));return pa(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const n=X(t),r=await n.getIdToken(e),i=Ua(r);pa(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ba(Da(i.auth_time)),issuedAtTime:Ba(Da(i.iat)),expirationTime:Ba(Da(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=X(t);await Va(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(pa(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new UserImpl(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){pa(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await Va(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oe(this.auth.app))return Promise.reject(da(this.auth));const t=await this.getIdToken();return await Fa(this,async function(t,e){return Ma(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,s,o,a,u,l;const c=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(u=e.createdAt)&&void 0!==u?u:void 0,y=null!==(l=e.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=e;pa(v&&E,t,"internal-error");const k=StsTokenManager.fromJSON(this.name,E);pa("string"==typeof v,t,"internal-error"),Ha(c,t.name),Ha(h,t.name),pa("boolean"==typeof w,t,"internal-error"),pa("boolean"==typeof b,t,"internal-error"),Ha(d,t.name),Ha(f,t.name),Ha(p,t.name),Ha(m,t.name),Ha(g,t.name),Ha(y,t.name);const S=new UserImpl({uid:v,auth:t,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(S.providerData=_.map((t=>Object.assign({},t)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(t,e,n=!1){const r=new StsTokenManager;r.updateFromServerResponse(e);const i=new UserImpl({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await Va(i),i}static async _fromGetAccountInfoResponse(t,e,n){const r=e.users[0];pa(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?za(r.providerUserInfo):[],s=!(r.email&&r.passwordHash||(null==i?void 0:i.length)),o=new StsTokenManager;o.updateFromIdToken(n);const a=new UserImpl({uid:r.localId,auth:t,stsTokenManager:o,isAnonymous:s}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new UserMetadata(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==i?void 0:i.length))};return Object.assign(a,u),a}}const qa=new Map;function Ka(t){ga(t instanceof Function,"Expected a class definition");let e=qa.get(t);return e?(ga(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qa.set(t,e),e)}class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}InMemoryPersistence.type="NONE";const Wa=InMemoryPersistence;function $a(t,e,n){return`firebase:${t}:${e}:${n}`}class PersistenceUserManager{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=$a(this.userKey,r.apiKey,i),this.fullPersistenceKey=$a("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?UserImpl._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new PersistenceUserManager(Ka(Wa),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||Ka(Wa);const s=$a(n,t.config.apiKey,t.name);let o=null;for(const l of e)try{const e=await l._get(s);if(e){const n=UserImpl._fromJSON(t,e);l!==i&&(o=n),i=l;break}}catch(u){}const a=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(s)}catch(u){}}))),new PersistenceUserManager(i,t,n)):new PersistenceUserManager(i,t,n)}}function Za(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ya(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ga(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tu(e))return"Blackberry";if(eu(e))return"Webos";if(Qa(e))return"Safari";if((e.includes("chrome/")||Ja(e))&&!e.includes("edge/"))return"Chrome";if(Xa(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Ga(t=H()){return/firefox\//i.test(t)}function Qa(t=H()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ja(t=H()){return/crios\//i.test(t)}function Ya(t=H()){return/iemobile/i.test(t)}function Xa(t=H()){return/android/i.test(t)}function tu(t=H()){return/blackberry/i.test(t)}function eu(t=H()){return/webos/i.test(t)}function nu(t=H()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ru(){return function(){const t=H();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}function iu(t=H()){return nu(t)||Xa(t)||eu(t)||tu(t)||/windows phone/i.test(t)||Ya(t)}function su(t,e=[]){let n;switch(t){case"Browser":n=Za(H());break;case"Worker":n=`${Za(H())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ue}/${r}`}class AuthMiddlewareQueue{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,r)=>{try{n(t(e))}catch(i){r(i)}}));n.onAbort=e,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const t of e)try{t()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==n?void 0:n.message})}}}class PasswordPolicyImpl{constructor(t){var e,n,r,i;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=s.minPasswordLength)&&void 0!==e?e:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=t.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=t.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=null===(e=a.meetsMinPasswordLength)||void 0===e||e),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let n;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}class AuthImpl{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oa,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ka(e)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(t,!0)):void 0}async initializeCurrentUserFromIdToken(t){try{const e=await La(this,{idToken:t}),n=await UserImpl._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(oe(this.app)){const t=this.app.settings.authIdToken;return t?new Promise((e=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(t).then(e,e)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null==r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null==o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pa(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Va(t)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(oe(this.app))return Promise.reject(da(this));const e=t?X(t):null;return e&&pa(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&pa(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return oe(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return oe(this.app)?Promise.reject(da(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Ka(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await async function(t,e={}){return Ma(t,"GET","/v2/passwordPolicy",Sa(t,e))}(this),e=new PasswordPolicyImpl(t);null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ErrorFactory("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise(((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged((()=>{n(),t()}),e)}}))}async revokeAccessToken(t){if(this.currentUser){const e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(e.tenantId=this.tenantId),await async function(t,e){return Ma(t,"POST","/v2/accounts:revokeToken",Sa(t,e))}(this,e)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ka(t)||this._popupRedirectResolver;pa(e,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[Ka(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"==typeof e?e:e.next.bind(e);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(pa(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"==typeof e){const i=t.addObserver(e,n,r);return()=>{s=!0,i()}}{const n=t.addObserver(e);return()=>{s=!0,n()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pa(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=su(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null==e?void 0:e.error)&&function(t,...e){aa.logLevel<=nt.WARN&&aa.warn(`Auth (${ue}): ${t}`,...e)}(`Error while retrieving App Check token: ${e.error}`),null==e?void 0:e.token}}function ou(t){return X(t)}class Subscription{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new ObserverProxy(t,e);return n.subscribe.bind(n)}((t=>this.observer=t))}get next(){return pa(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let au={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uu(t){return au.loadJS(t)}function lu(t){return`__${t}${Math.floor(1e6*Math.random())}`}class MockGreCAPTCHATopLevel{constructor(){this.enterprise=new MockGreCAPTCHA}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class MockGreCAPTCHA{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const cu="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(t){this.type="recaptcha-enterprise",this.auth=ou(t)}async verify(t="verify",e=!1){function n(e,n,r){const i=window.grecaptcha;Na(i)?i.enterprise.ready((()=>{i.enterprise.execute(e,{action:t}).then((t=>{n(t)})).catch((()=>{n(cu)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new MockGreCAPTCHATopLevel).execute("siteKey",{action:"verify"})}return new Promise(((t,r)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,n)=>{Oa(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new RecaptchaConfig(r);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{n(t)}))}))})(this.auth).then((i=>{if(!e&&Na(window.grecaptcha))n(i,t,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let e=au.recaptchaEnterpriseScript;0!==e.length&&(e+=i),uu(e).then((()=>{n(i,t,r)})).catch((t=>{r(t)}))}})).catch((t=>{r(t)}))}))}}async function hu(t,e,n,r=!1,i=!1){const s=new RecaptchaEnterpriseVerifier(t);let o;if(i)o=cu;else try{o=await s.verify(n)}catch(u){o=await s.verify(n,!0)}const a=Object.assign({},e);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const t=a.phoneEnrollmentInfo.phoneNumber,e=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const t=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function du(t,e,n,r,i){var s,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=t._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await hu(t,e,n,"getOobCode"===n);return r(t,i)}return r(t,e).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await hu(t,e,n,"getOobCode"===n);return r(t,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(o=t._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await hu(t,e,n);return r(t,i).catch((async i=>{var s;if("AUDIT"===(null===(s=t._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await hu(t,e,n,!1,!0);return r(t,i)}return Promise.reject(i)}))}{const i=await hu(t,e,n,!1,!0);return r(t,i)}}return Promise.reject(i+" provider is not supported.")}async function fu(t){const e=ou(t),n=await Oa(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new RecaptchaConfig(n);if(null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()){new RecaptchaEnterpriseVerifier(e).verify()}}function pu(t,e,n){const r=ou(t);pa(r._canInitEmulator,r,"emulator-config-failed"),pa(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=mu(e),{host:o,port:a}=function(t){const e=mu(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:gu(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:gu(e)}}}(e),u=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function mu(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gu(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class AuthCredential{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ma("not implemented")}_getIdTokenResponse(t){return ma("not implemented")}_linkToIdToken(t,e){return ma("not implemented")}_getReauthenticationResolver(t){return ma("not implemented")}}async function yu(t,e){return Ma(t,"POST","/v1/accounts:signUp",e)}async function vu(t,e){return Ta(t,"POST","/v1/accounts:signInWithPassword",Sa(t,e))}class EmailAuthCredential extends AuthCredential{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new EmailAuthCredential(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new EmailAuthCredential(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return du(t,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",vu,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(t,e){return Ta(t,"POST","/v1/accounts:signInWithEmailLink",Sa(t,e))}(t,{email:this._email,oobCode:this._password});default:la(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return du(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yu,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(t,e){return Ta(t,"POST","/v1/accounts:signInWithEmailLink",Sa(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:la(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function wu(t,e){return Ta(t,"POST","/v1/accounts:signInWithIdp",Sa(t,e))}class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new OAuthCredential(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):la("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=ra(e,["providerId","signInMethod"]);if(!n||!r)return null;const s=new OAuthCredential(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){return wu(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,wu(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,wu(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=G(e)}return t}}async function bu(t,e){return Ma(t,"POST","/v1/accounts:sendVerificationCode",Sa(t,e))}const _u={USER_NOT_FOUND:"user-not-found"};class PhoneAuthCredential extends AuthCredential{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new PhoneAuthCredential({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new PhoneAuthCredential({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return Ta(t,"POST","/v1/accounts:signInWithPhoneNumber",Sa(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await Ta(t,"POST","/v1/accounts:signInWithPhoneNumber",Sa(t,e));if(n.temporaryProof)throw Pa(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return Ta(t,"POST","/v1/accounts:signInWithPhoneNumber",Sa(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),_u)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new PhoneAuthCredential({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ActionCodeURL{constructor(t){var e,n,r,i,s,o;const a=Q(J(t)),u=null!==(e=a.apiKey)&&void 0!==e?e:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);pa(u&&l&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=Q(J(t)).link,n=e?Q(J(e)).deep_link_id:null,r=Q(J(t)).deep_link_id;return(r?Q(J(r)).link:null)||r||n||e||t}(t);try{return new ActionCodeURL(e)}catch(n){return null}}}class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(t,e){return EmailAuthCredential._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=ActionCodeURL.parseLink(e);return pa(n,"argument-error"),EmailAuthCredential._fromEmailAndCode(t,n.code,n.tenantId)}}EmailAuthProvider.PROVIDER_ID="password",EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password",EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class FederatedAuthProvider{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(t){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return FacebookAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return FacebookAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(t.oauthAccessToken)}catch(e){return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com",FacebookAuthProvider.PROVIDER_ID="facebook.com";class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return GoogleAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return GoogleAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return GoogleAuthProvider.credential(e,n)}catch(r){return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com",GoogleAuthProvider.PROVIDER_ID="google.com";class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(t){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return GithubAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return GithubAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return GithubAuthProvider.credential(t.oauthAccessToken)}catch(e){return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com",GithubAuthProvider.PROVIDER_ID="github.com";class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(t,e){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return TwitterAuthProvider.credentialFromTaggedObject(t)}static credentialFromError(t){return TwitterAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return TwitterAuthProvider.credential(e,n)}catch(r){return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com",TwitterAuthProvider.PROVIDER_ID="twitter.com";class UserCredentialImpl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,r=!1){const i=await UserImpl._fromIdTokenResponse(t,n,r),s=Eu(n);return new UserCredentialImpl({user:i,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=Eu(n);return new UserCredentialImpl({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function Eu(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class MultiFactorError extends FirebaseError{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new MultiFactorError(t,e,n,r)}}function ku(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw MultiFactorError._fromErrorAndOperation(t,n,e,r);throw n}))}async function Su(t,e,n=!1){const r=await Fa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return UserCredentialImpl._forOperation(t,"link",r)}async function Au(t,e,n=!1){const{auth:r}=t;if(oe(r.app))return Promise.reject(da(r));const i="reauthenticate";try{const s=await Fa(t,ku(r,i,e,t),n);pa(s.idToken,r,"internal-error");const o=Ua(s.idToken);pa(o,r,"internal-error");const{sub:a}=o;return pa(t.uid===a,r,"user-mismatch"),UserCredentialImpl._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&la(r,"user-mismatch"),s}}async function Mu(t,e,n=!1){if(oe(t.app))return Promise.reject(da(t));const r="signIn",i=await ku(t,r,e),s=await UserCredentialImpl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function Iu(t,e){return Ma(t,"POST","/v2/accounts/mfaEnrollment:start",Sa(t,e))}new WeakMap;const Tu="__sak";class BrowserPersistenceClass{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Tu,"1"),this.storage.removeItem(Tu),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iu(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},i=this.storage.getItem(n);ru()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,10):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}BrowserLocalPersistence.type="LOCAL";const Ru=BrowserLocalPersistence;class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}BrowserSessionPersistence.type="SESSION";const xu=BrowserSessionPersistence;class Receiver{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new Receiver(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async t=>t(e.origin,i))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Cu(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}Receiver.receivers=[];class Sender{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const u=Cu("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===u)switch(e.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(e.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:e},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Pu(){return window}function Nu(){return void 0!==Pu().WorkerGlobalScope&&"function"==typeof Pu().importScripts}const Ou="firebaseLocalStorageDb",Lu="firebaseLocalStorage",Bu="fbase_key";class DBPromise{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Du(t,e){return t.transaction([Lu],e?"readwrite":"readonly").objectStore(Lu)}function Uu(){const t=indexedDB.open(Ou,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(Lu,{keyPath:Bu})}catch(r){n(r)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(Lu)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(Ou);return new DBPromise(t).toPromise()}(),e(await Uu()))}))}))}async function ju(t,e,n){const r=Du(t,!0).put({[Bu]:e,value:n});return new DBPromise(r).toPromise()}function Fu(t,e){const n=Du(t,!0).delete(e);return new DBPromise(n).toPromise()}class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Uu()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nu()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(Nu()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){var e;if(this.sender&&this.activeServiceWorker&&((null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Uu();return await ju(t,Tu,"1"),await Fu(t,Tu),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>ju(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=Du(t,!1).get(e),r=await new DBPromise(n).toPromise();return void 0===r?null:r.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>Fu(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Du(t,!1).getAll();return new DBPromise(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;if(0!==t.length)for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const Vu=IndexedDBLocalPersistence;function zu(t,e){return Ma(t,"POST","/v2/accounts/mfaSignIn:start",Sa(t,e))}lu("rcb"),new Delay(3e4,6e4);const Hu="recaptcha";async function qu(t,e,n){var r;if(!t._getRecaptchaConfig())try{await fu(t)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"==typeof e?{phoneNumber:e}:e,"session"in i){const e=i.session;if("phoneNumber"in i){pa("enroll"===e.type,t,"internal-error");const r={idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=du(t,r,"mfaSmsEnrollment",(async(t,e)=>{if(e.phoneEnrollmentInfo.captchaResponse===cu){pa((null==n?void 0:n.type)===Hu,t,"argument-error");return Iu(t,await Ku(t,e,n))}return Iu(t,e)}),"PHONE_PROVIDER");return(await s.catch((t=>Promise.reject(t)))).phoneSessionInfo.sessionInfo}{pa("signin"===e.type,t,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;pa(s,t,"missing-multi-factor-info");const o={mfaPendingCredential:e.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=du(t,o,"mfaSmsSignIn",(async(t,e)=>{if(e.phoneSignInInfo.captchaResponse===cu){pa((null==n?void 0:n.type)===Hu,t,"argument-error");return zu(t,await Ku(t,e,n))}return zu(t,e)}),"PHONE_PROVIDER");return(await a.catch((t=>Promise.reject(t)))).phoneResponseInfo.sessionInfo}}{const e={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=du(t,e,"sendVerificationCode",(async(t,e)=>{if(e.captchaResponse===cu){pa((null==n?void 0:n.type)===Hu,t,"argument-error");return bu(t,await Ku(t,e,n))}return bu(t,e)}),"PHONE_PROVIDER");return(await r.catch((t=>Promise.reject(t)))).sessionInfo}}finally{null==n||n._reset()}}async function Ku(t,e,n){pa(n.type===Hu,t,"argument-error");const r=await n.verify();pa("string"==typeof r,t,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const t=i.phoneEnrollmentInfo.phoneNumber,e=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:r,captchaResponse:e,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const t=i.phoneSignInInfo.captchaResponse,e=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:t,clientType:e,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class PhoneAuthProvider{constructor(t){this.providerId=PhoneAuthProvider.PROVIDER_ID,this.auth=ou(t)}verifyPhoneNumber(t,e){return qu(this.auth,t,X(e))}static credential(t,e){return PhoneAuthCredential._fromVerification(t,e)}static credentialFromResult(t){const e=t;return PhoneAuthProvider.credentialFromTaggedObject(e)}static credentialFromError(t){return PhoneAuthProvider.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?PhoneAuthCredential._fromTokenResponse(e,n):null}}function Wu(t,e){return e?Ka(e):(pa(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}PhoneAuthProvider.PROVIDER_ID="phone",PhoneAuthProvider.PHONE_SIGN_IN_METHOD="phone";class IdpCredential extends AuthCredential{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wu(t,this._buildIdpRequest())}_linkToIdToken(t,e){return wu(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return wu(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function $u(t){return Mu(t.auth,new IdpCredential(t),t.bypassAuthState)}function Zu(t){const{auth:e,user:n}=t;return pa(n,e,"internal-error"),Au(n,new IdpCredential(t),t.bypassAuthState)}async function Gu(t){const{auth:e,user:n}=t;return pa(n,e,"internal-error"),Su(n,new IdpCredential(t),t.bypassAuthState)}class AbstractPopupRedirectOperation{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $u;case"linkViaPopup":case"linkViaRedirect":return Gu;case"reauthViaPopup":case"reauthViaRedirect":return Zu;default:la(this.auth,"internal-error")}}resolve(t){ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qu=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pa(t,this.auth,"internal-error"),t}async onExecution(){ga(1===this.filter.length,"Popup operations only handle one event");const t=Cu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(ca(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(ca(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ca(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,Qu.get())};t()}}PopupOperation.currentPopupAction=null;const Ju=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=Ju.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=tl(e),r=Xu(t);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=e?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}Ju.set(this.auth._key(),t)}return this.bypassAuthState||Ju.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Yu(t,e){Ju.set(t._key(),e)}function Xu(t){return Ka(t._redirectPersistence)}function tl(t){return $a("pendingRedirect",t.config.apiKey,t.name)}async function el(t,e,n=!1){if(oe(t.app))return Promise.reject(da(t));const r=ou(t),i=Wu(r,e),s=new RedirectAction(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}class AuthEventManager{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rl(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!rl(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(ca(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nl(t))}saveEventToCache(t){this.cachedEventUids.add(nl(t)),this.lastProcessedEventTime=Date.now()}}function nl(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function rl({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}const il=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sl=/^https?/;async function ol(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return Ma(t,"GET","/v1/projects",e)}(t);for(const r of e)try{if(al(r))return}catch(n){}la(t,"unauthorized-domain")}function al(t){const e=ya(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!sl.test(n))return!1;if(il.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ul=new Delay(3e4,6e4);function ll(){const t=Pu().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}function cl(t){return new Promise(((e,n)=>{var r,i,s;function o(){ll(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ll(),n(ca(t,"network-request-failed"))},timeout:ul.get()})}if(null===(i=null===(r=Pu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Pu().gapi)||void 0===s?void 0:s.load)){const e=lu("iframefcb");return Pu()[e]=()=>{gapi.load?o():n(ca(t,"network-request-failed"))},uu(`${au.gapiScript}?onload=${e}`).catch((t=>n(t)))}o()}})).catch((t=>{throw hl=null,t}))}let hl=null;const dl=new Delay(5e3,15e3),fl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ml(t){const e=t.config;pa(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_a(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:ue},i=pl.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${G(r).slice(1)}`}async function gl(t){const e=await function(t){return hl=hl||cl(t),hl}(t),n=Pu().gapi;return pa(n,t,"internal-error"),e.open({where:document.body,url:ml(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fl,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=ca(t,"network-request-failed"),s=Pu().setTimeout((()=>{r(i)}),dl.get());function o(){Pu().clearTimeout(s),n(e)}e.ping(o).then(o,(()=>{r(i)}))}))))}const yl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class AuthPopup{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function vl(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},yl),{width:r.toString(),height:i.toString(),top:s,left:o}),l=H().toLowerCase();n&&(a=Ja(l)?"_blank":n),Ga(l)&&(e=e||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(function(t=H()){var e;return nu(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new AuthPopup(null);const h=window.open(e||"",a,c);pa(h,t,"popup-blocked");try{h.focus()}catch(d){}return new AuthPopup(h)}const wl="__/auth/handler",bl="emulator/auth/handler",_l=encodeURIComponent("fac");async function El(t,e,n,r,i,s){pa(t.config.authDomain,t,"auth-domain-config-required"),pa(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ue,eventId:i};if(e instanceof FederatedAuthProvider){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof BaseOAuthProvider){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const u=await t._getAppCheckToken(),l=u?`#${_l}=${encodeURIComponent(u)}`:"";return`${function({config:t}){if(!t.emulator)return`https://${t.authDomain}/${wl}`;return _a(t,bl)}(t)}?${G(a).slice(1)}${l}`}const kl="webStorageSupport";const Sl=class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xu,this._completeRedirectFn=el,this._overrideRedirectResult=Yu}async _openPopup(t,e,n,r){var i;ga(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return vl(t,await El(t,e,n,ya(),r),Cu())}async _openRedirect(t,e,n,r){await this._originValidation(t);return function(t){Pu().location.href=t}(await El(t,e,n,ya(),r)),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(ga(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await gl(t),n=new AuthEventManager(t);return e.register("authEvent",(e=>{pa(null==e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(kl,{type:kl},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[kl];void 0!==i&&e(!!i),la(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=ol(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return iu()||Qa()||nu()}};var Al="@firebase/auth",Ml="1.8.2";class AuthInterop{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null==e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){pa(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Il=V("authIdTokenMaxAge")||300;let Tl=null;var Rl;au={loadJS:t=>new Promise(((e,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=ca("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Rl="Browser",ie(new Component("auth",((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;pa(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:s,authDomain:o,clientPlatform:Rl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:su(Rl)},u=new AuthImpl(n,r,i,a);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ka);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,e),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),ie(new Component("auth-internal",(t=>(t=>new AuthInterop(t))(ou(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),he(Al,Ml,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Rl)),he(Al,Ml,"esm2017");const xl="firebasestorage.googleapis.com",Cl="storageBucket";class StorageError extends FirebaseError{constructor(t,e,n=0){super(Ol(t),`Firebase Storage: ${e} (${Ol(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ol(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pl,Nl;function Ol(t){return"storage/"+t}function Ll(){return new StorageError(Pl.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Bl(){return new StorageError(Pl.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dl(){return new StorageError(Pl.CANCELED,"User canceled the upload/download.")}function Ul(t){return new StorageError(Pl.INVALID_ARGUMENT,t)}function jl(){return new StorageError(Pl.APP_DELETED,"The Firebase app was deleted.")}!function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Pl||(Pl={}));class Location{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=Location.makeFromUrl(t,e)}catch(i){return new Location(t,"")}if(""===n.path)return n;throw r=t,new StorageError(Pl.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(t,e){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}const o=e.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${e===xl?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let u=0;u<a.length;u++){const e=a[u],r=e.regex.exec(t);if(r){const t=r[e.indices.bucket];let i=r[e.indices.path];i||(i=""),n=new Location(t,i),e.postModify(n);break}}if(null==n)throw function(t){return new StorageError(Pl.INVALID_URL,"Invalid URL '"+t+"'.")}(t);return n}}class FailRequest{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Fl(t,e,n,r){if(r<e)throw Ul(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ul(`Invalid value for '${t}'. Expected ${n} or less.`)}function Vl(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1),n}function zl(t,e){const n=t>=500&&t<600,r=-1!==[408,429].indexOf(t),i=-1!==e.indexOf(t);return n||r||i}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Nl||(Nl={}));class NetworkRequest{constructor(t,e,n,r,i,s,o,a,u,l,c,h=!0){this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()}))}start_(){const t=(t,e)=>{if(e)return void t(!1,new RequestEndStatus(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=t=>{const e=t.loaded,n=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const e=n.getErrorCode()===Nl.NO_ERROR,i=n.getStatus();if(!e||zl(i,this.additionalRetryCodes_)&&this.retry){const e=n.getErrorCode()===Nl.ABORT;return void t(!1,new RequestEndStatus(!1,null,e))}const s=-1!==this.successCodes_.indexOf(i);t(!0,new RequestEndStatus(s,n))}))},e=(t,e)=>{const n=this.resolve_,r=this.reject_,i=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(i,i.getResponse());!function(t){return void 0!==t}(t)?n():n(t)}catch(s){r(s)}else if(null!==i){const t=Ll();t.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,t)):r(t)}else if(e.canceled){r(this.appDelete_?jl():Dl())}else{r(Bl())}};this.canceled_?e(0,new RequestEndStatus(!1,null,!0)):this.backoffId_=function(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let l=!1;function c(...t){l||(l=!0,e.apply(null,t))}function h(e){i=setTimeout((()=>{i=null,t(f,u())}),e)}function d(){s&&clearTimeout(s)}function f(t,...e){if(l)return void d();if(t)return d(),void c.call(null,t,...e);if(u()||o)return d(),void c.call(null,t,...e);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function m(t){p||(p=!0,d(),l||(null!==i?(t||(a=2),clearTimeout(i),h(0)):t||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function Hl(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}class Reference{constructor(t,e){this._service=t,this._location=e instanceof Location?e:Location.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Reference(t,e)}get root(){const t=new Location(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hl(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new Location(this._location.bucket,t);return new Reference(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function(t){return new StorageError(Pl.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function ql(t,e){const n=null==e?void 0:e[Cl];return null==n?null:Location.makeFromBucketSpec(n,t)}class FirebaseStorageImpl{constructor(t,e,n,r,i){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=xl,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Location.makeFromBucketSpec(r,this._host):ql(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=Location.makeFromBucketSpec(this._url,t):this._bucket=ql(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Fl("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Fl("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});if(t){return(await t.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((t=>t.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Reference(this,t)}_makeRequest(t,e,n,r,i=!0){if(this._deleted)return new FailRequest(jl());{const s=function(t,e,n,r,i,s,o=!0){const a=Vl(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(l,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,r),new NetworkRequest(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(t,this._appId,n,r,e,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(t,e){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,r).getPromise()}}const Kl="@firebase/storage",Wl="0.13.5",$l="storage";function Zl(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new FirebaseStorageImpl(n,r,i,e,ue)}ie(new Component($l,Zl,"PUBLIC").setMultipleInstances(!0)),he(Kl,Wl,""),he(Kl,Wl,"esm2017");le({apiKey:"AIzaSyBtosLmQsThd_Pv1HAnqiaQkW2xBnT8tck",authDomain:"lucky-swaps.firebaseapp.com",projectId:"lucky-swaps",storageBucket:"lucky-swaps.firebasestorage.app",messagingSenderId:"964563142829",appId:"1:964563142829:web:7b4b7d7ab29909c8f19e24"}),function(t=ce()){const e=se(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=se(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if($(n.getOptions(),null!=e?e:{}))return t;la(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Sl,persistence:[Vu,Ru,xu]}),r=V("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const t=new URL(r,location.origin);if(location.origin===t.origin){const e=(i=t.toString(),async t=>{const e=t&&await t.getIdTokenResult(),n=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>Il)return;const r=null==e?void 0:e.token;Tl!==r&&(Tl=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(t,e,n){X(t).beforeAuthStateChanged(e,n)}(n,e,(()=>e(n.currentUser))),function(t,e,n,r){X(t).onIdTokenChanged(e,n,r)}(n,(t=>e(t)))}}var i;const s=U("auth");s&&pu(n,`http://${s}`)}();const Gl=function(t,e){const n="string"==typeof t?t:e||"(default)",r=se("object"==typeof t?t:ce(),"firestore").getImmediate({identifier:n});if(!r._initialized){const t=j("firestore");t&&function(t,e,n,r={}){var i;const s=(t=Ao(t,Firestore$1))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Fe("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=User.MOCK_USER;else{e=z(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new FirestoreError(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new User(s)}t._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(e,n))}}(r,...t)}return r}();!function(t=ce(),e){const n=se(t=X(t),$l).getImmediate({identifier:e}),r=j("storage");r&&function(t,e,n,r={}){!function(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:z(i,t.app.options.projectId))}(t,e,n,r)}(n,...r)}();var Ql=n(9166),Jl=n(7124),Yl=n(2540);function Xl(){var t;const e=(0,Ql._)(),[n,r]=(0,o.useState)({messages:[{sender:{name:"Caroline Nexon",avatar:null,status:"bg-green-400"},payload:"We need to start betting more",created:ea()}]}),s=(0,o.useRef)(null);(0,o.useEffect)((()=>{var t;const e=function(t,...e){var n,r,i;t=X(t);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof e[o]||To(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(To(e[o])){const t=e[o];e[o]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[o+1]=null===(r=t.error)||void 0===r?void 0:r.bind(t),e[o+2]=null===(i=t.complete)||void 0===i?void 0:i.bind(t)}let u,l,c;if(t instanceof DocumentReference)l=Ao(t.firestore,Firestore),c=sr(t._key.path),u={next:n=>{e[o]&&e[o](ta(l,t,n))},error:e[o+1],complete:e[o+2]};else{const n=Ao(t,Query);l=Ao(n.firestore,Firestore),c=n._query;const r=new __PRIVATE_ExpUserDataWriter(l);u={next:t=>{e[o]&&e[o](new QuerySnapshot(l,r,n,t))},error:e[o+1],complete:e[o+2]},Wo(t._query)}return function(t,e,n,r){const i=new __PRIVATE_AsyncObserver(r),s=new __PRIVATE_QueryListener(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>Bs(await vo(t),s))),()=>{i.eu(),t.asyncQueue.enqueueAndForget((async()=>Ds(await vo(t),s)))}}(Ro(l),c,a,u)}(function(t,e,...n){let r=[];e instanceof AppliableConstraint&&r.push(e),r=r.concat(n),function(t){const e=t.filter((t=>t instanceof QueryCompositeFilterConstraint)).length,n=t.filter((t=>t instanceof QueryFieldFilterConstraint)).length;if(e>1||e>0&&n>0)throw new FirestoreError(Ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}(Io(Gl,"messages"),function(t,e="asc"){const n=e,r=Ko("orderBy",t);return QueryOrderByConstraint._create(r,n)}("created","desc"),(Mo("limit",t=50),QueryLimitConstraint._create("limit",t,"F"))),(t=>{const e=[];t.forEach((t=>{const n=(0,c.A)({},t.data());n.created&&e.push(n)}));const i=e.sort(((t,e)=>+t.created-+e.created));r((0,c.A)({},n,{messages:i}))}));return()=>e}),[]),(0,o.useEffect)((()=>{}),[n]);const a=(0,h.F7)(),[u,l]=(0,o.useState)("");if(!e.chatVisible)return null;const d=!!a.address;function f(){s&&s.current&&s.current.scrollIntoView({behavior:"smooth"})}function p(t){let e=null;if(t.sender.avatar)e=t.sender.avatar;else{e=_(i,{seed:t.sender.name}).toDataUri()}return(0,Yl.jsx)("img",{className:"w-10 h-10 rounded-xl object-cover",alt:"",src:e})}function m(t){return(0,Yl.jsx)("span",{className:"text-[#607583] text-sm font-normal",children:t.payload})}function g(t){return uc(t.sender.name.toString())}function y(t){return t.created.seconds?t.created.toDate().toLocaleTimeString():"-"}return(0,Yl.jsx)("div",{className:"w-full md:max-w-[514px] fixed right-0 chat-bg flex flex-col items-center justify-center p-px h-[calc(100%-5rem)]",children:(0,Yl.jsxs)("div",{className:"shadow-chat-inset bg-[#1B1C1F] flex flex-col gap-10 h-full relative px-6 w-full",children:[(0,Yl.jsx)("div",{className:"flex items-center justify-between pt-5 md:pt-10 w-full",children:(0,Yl.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Yl.jsx)("div",{className:"chat-bg flex flex-col items-center p-px rounded-full",children:(0,Yl.jsx)("div",{className:"shadow-chat-inset bg-[#1B1C1F] flex flex-col rounded-full p-3.5",children:(0,Yl.jsx)(Jl.ZL,{})})}),(0,Yl.jsx)("span",{className:"text-[#F0F7FA] font-normal font-BelanosimaRegular text-[40px] leading-none tracking-[-0.03em]",children:"Global"})]})}),(0,Yl.jsx)("div",{className:"flex flex-col gap-2 overflow-y-auto scroll-hide h-[calc(100%-220px)]",children:null==n||null==(t=n.messages)?void 0:t.map((t=>function(t){return(0,Yl.jsxs)("div",{className:"flex items-start gap-1 w-full",children:[p(t),(0,Yl.jsx)("div",{className:"p-px flex flex-col flex-1 rounded-[20px] achieve-item",children:(0,Yl.jsxs)("div",{className:"bg-[#232429CC] rounded-[20px] flex flex-col p-3 shadow-custom-inset",children:[(0,Yl.jsxs)("span",{className:"text-sm leading-6 flex items-center gap-2 text-[#F0F7FA]",children:[(0,Yl.jsxs)("span",{className:"font-BelanosimaSemiBold",children:[g(t)," "]}),(0,Yl.jsx)("span",{className:"w-[3px] h-[3px] bg-[#87ABCC] flex items-center justify-center rounded-full"})," ",(0,Yl.jsx)("span",{className:"font-BelanosimaSemiBold text-[#87ABCC] tracking-tight",children:"level\xa05"}),(0,Yl.jsx)("span",{className:"text-[#607583] float-right w-full text-right text-xs font-normal",children:y(t)})]}),(0,Yl.jsx)("div",{className:"flex flex-col w-full",children:m(t)})]})})]})}(t)))}),(0,Yl.jsx)("div",{className:"absolute bottom-0 left-0 chat-bg p-px flex flex-col rounded-full w-full h-[96px] ",children:(0,Yl.jsxs)("div",{className:"shadow-chat-inset bg-[#1B1C1F] flex items-center  justify-between rounded-full p-5",children:[(0,Yl.jsx)("input",{className:"text-base tracking-[-0.01em] bg-transparent outline-none border-none placeholder:text-[#607583] text-[#607583] font-BelanosimaRegular",placeholder:d?"Your message...":"Not connected",value:u,onChange:t=>l(t.target.value)}),(0,Yl.jsx)("div",{className:"chat-bg flex flex-col items-center p-px w-10 h-10 rounded-full",children:(0,Yl.jsx)("div",{className:"shadow-chat-inset bg-[#1B1C1F] w-full h-full flex flex-col justify-center items-center rounded-full",children:(0,Yl.jsx)(Jl.mY,{})})}),(0,Yl.jsx)("button",{className:"flex items-center justify-center",disabled:!d&&!u,onClick:async function(){const t={sender:{name:a.address.toString(),avatar:null,status:"bg-green-400"},payload:u,created:ea()};await Yo(Io(Gl,"messages"),t),f(),setTimeout((()=>f()),500),l("")},children:(0,Yl.jsx)("img",{src:"/assets/image/message-icon2.png",alt:"send",className:"w-[56px] h-[56px]"})})]})})]})})}function tc(){const t=(0,Ql._)();return(0,Yl.jsxs)("span",{className:"flex items-center justify-center cursor-pointer relative",onClick:()=>t.setChatVisible(!t.chatVisible),children:[(0,Yl.jsx)("img",{alt:"message-icon",src:"/assets/image/message-icon.png"}),(0,Yl.jsx)("span",{className:"bg-[#F6516F] border-2 border-[#1B1C1F] w-2.5 h-2.5 flex items-center rounded-full absolute top-0 right-2"})]})}var ec=n(5768);const nc=({children:t})=>(0,Yl.jsx)("div",{className:"bg-[#16171A] flex flex-col w-full h-full min-h-[100vh] relative z-[12]",children:(0,Yl.jsx)("div",{className:"bg-[url('/src/assets/image/bg.svg')] bg-no-repeat bg-center bg-cover w-full h-full flex gap-10",children:t})}),rc=function(){return(0,Yl.jsxs)("div",{className:"flex items-center justify-between p-5 md:p-10 w-full",children:[(0,Yl.jsx)("img",{alt:"logo",src:"/assets/image/logo.png"}),(0,Yl.jsx)("div",{className:"flex items-center gap-5 2xl:gap-10",children:(0,Yl.jsx)("div",{className:"flex items-center justify-center custom-gradient p-px rounded-full h-10",children:(0,Yl.jsx)("span",{className:"bg-[#1B1C1F] hover:bg-[#20295D] cursor-pointer shadow-custom-inset font-BelanosimaSemiBold flex items-center h-full rounded-full px-4 py-2 justify-center text-[#607583] font-semibold text-xs tracking-[0.02em] [&_.wallet-adapter-button]:bg-transparent hover:[&_.wallet-adapter-button:hover]:bg-transparent",children:(0,Yl.jsx)(s.U,{})})})})]})};function ic(){return(0,Yl.jsxs)("div",{className:"bg-[#16171A] h-full flex flex-row items-center justify-between px-10 py-6 w-full",children:[(0,Yl.jsx)("span",{className:"font-semibold font-BelanosimaSemiBold text-xs text-[#607583]",children:"Copyright \xa9\xa02025\xa0- All rights reserved"}),(0,Yl.jsxs)("div",{className:"hidden md:flex items-center gap-1",children:[(0,Yl.jsx)("a",{href:"/",target:"_blank",className:"flex items-center justify-center",rel:"noopener noreferrer",children:(0,Yl.jsx)("img",{alt:"twiiter",src:"/assets/image//x.png"})}),(0,Yl.jsx)("a",{href:"/",target:"_blank",className:"flex items-center justify-center",rel:"noopener noreferrer",children:(0,Yl.jsx)("img",{alt:"discord",src:"/assets/image//discord.png"})}),(0,Yl.jsx)("a",{href:"/",target:"_blank",className:"flex items-center justify-center",rel:"noopener noreferrer",children:(0,Yl.jsx)("img",{alt:"telegram",src:"/assets/image//telegram.png"})})]}),(0,Yl.jsxs)("div",{className:"flex items-center gap-5",children:[(0,Yl.jsx)("span",{className:"text-sm font-BelanosimaSemiBold font-semibold text-[#F0F7FA]",children:"About"}),(0,Yl.jsx)("span",{className:"text-sm font-BelanosimaSemiBold font-semibold text-[#F0F7FA]",children:"Contact"}),(0,Yl.jsx)(ec.Q,{}),(0,Yl.jsx)(tc,{})]})]})}function sc({children:t,links:e}){const{pathname:n}=(0,a.zy)(),r=(0,Ql._)();return(0,Yl.jsxs)("div",{className:"bg-[#16171A]",children:[(0,Yl.jsxs)(nc,{children:[(0,Yl.jsxs)("div",{className:`flex-col ${r.chatVisible?"hidden md:flex md:w-[calc(100%-514px)]":"flex w-full"} h-full`,children:[(0,Yl.jsx)(rc,{}),(0,Yl.jsx)(o.Suspense,{fallback:(0,Yl.jsx)("div",{className:"text-center my-32",children:(0,Yl.jsx)("span",{className:"loading loading-spinner loading-lg"})}),children:t})]}),r.chatVisible&&(0,Yl.jsx)(Xl,{})]}),";",(0,Yl.jsx)("div",{className:"sticky bottom-0 z-20 h-[5rem]",children:(0,Yl.jsx)(ic,{})}),(0,Yl.jsx)(l.l$,{position:"bottom-right",containerClassName:"z-50"})]})}function oc({children:t,title:e,hide:n,show:r,submit:i,submitDisabled:s,submitLabel:a}){const u=(0,o.useRef)(null);return(0,o.useEffect)((()=>{u.current&&(r?u.current.showModal():u.current.close())}),[r,u]),(0,Yl.jsxs)("dialog",{className:"modal",ref:u,children:[(0,Yl.jsxs)("div",{className:"modal-box space-y-5 text-[#F0F7FA] bg-[#1B1C1F]",children:[(0,Yl.jsx)("form",{method:"dialog",children:(0,Yl.jsx)("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:()=>n(),children:(0,Yl.jsx)(Jl.US,{})})}),(0,Yl.jsx)("h3",{className:"font-bold text-lg",children:e}),t,(0,Yl.jsx)("div",{className:"modal-action",children:(0,Yl.jsxs)("div",{className:"join space-x-2",children:[i?(0,Yl.jsx)("button",{className:"btn btn-xs lg:btn-md btn-primary",onClick:i,disabled:s,children:a||"Save"}):null,(0,Yl.jsx)("button",{onClick:n,className:"btn",children:"Close"})]})})]}),(0,Yl.jsx)("form",{method:"dialog",className:"modal-backdrop",children:(0,Yl.jsx)("button",{onClick:()=>n(),children:"close"})})]})}function ac({children:t,title:e,subtitle:n}){return(0,Yl.jsx)("div",{className:"hero py-[64px]",children:(0,Yl.jsx)("div",{className:"hero-content text-center",children:(0,Yl.jsxs)("div",{className:"max-w-2xl",children:["string"==typeof e?(0,Yl.jsx)("h1",{className:"text-5xl font-bold",children:e}):e,"string"==typeof n?(0,Yl.jsx)("p",{className:"py-6",children:n}):n,t]})})})}function uc(t="",e=4){return t.length>30?t.substring(0,e)+".."+t.substring(t.length-e,t.length):t}function lc(){return(t,e="confirmed")=>{"confirmed"===e?l.Ay.success((0,Yl.jsxs)("div",{className:"text-center",children:[(0,Yl.jsx)("div",{className:"text-lg",children:"Transaction confirmed"}),(0,Yl.jsx)(u.wq,{path:`tx/${t}`,label:"View Transaction",className:"btn btn-xs btn-primary"})]})):l.Ay.success((0,Yl.jsx)("div",{className:"text-center",children:(0,Yl.jsx)("div",{className:"text-lg",children:"Transaction sent"})}))}}function cc(){return t=>{l.Ay.error((0,Yl.jsxs)("div",{className:"text-center",children:[(0,Yl.jsx)("div",{className:"text-lg",children:"Error"}),(0,Yl.jsx)("span",{children:t.toString()})]}))}}function hc(t,e,n=500){const r=(0,o.useRef)(!0);(0,o.useEffect)((()=>{if(r.current)return r.current=!1,()=>{};{const e=setTimeout(t,n);return()=>{clearTimeout(e)}}}),e)}},8358:(t,e,n)=>{"use strict";n.d(e,{az:()=>Ao,uA:()=>So,TI:()=>Io,sS:()=>To});var r={};n.r(r),n.d(r,{NQ:()=>AnchorProvider,BP:()=>Program});var i=n(3017),s=n(9367),o=n(9829),a=n(1740);const u=t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)}),l=t=>e=>{const n=(0,o.av)(t,e),{encode:r,decode:i}=u(n),s=n;return s.decode=(t,e)=>{const n=i(t,e);return(0,a.k5)(Buffer.from(n))},s.encode=(e,n,i)=>{const s=(0,a.Bq)(e,t);return r(s,n,i)},s},c=t=>e=>{const n=(0,o.av)(t,e),{encode:r,decode:i}=u(n),s=n;return s.decode=(t,e)=>{const n=i(t,e);return(0,a.cI)(Buffer.from(n))},s.encode=(e,n,i)=>{const s=(0,a.zy)(e,t);return r(s,n,i)},s},h=l(8);c(8),l(16),c(16),l(24),c(24),l(32),c(32);var d=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,f=Math.ceil,p=Math.floor,m="[BigNumber Error] ",g=m+"Number primitive has more than 15 significant digits: ",y=1e14,v=14,w=9007199254740991,b=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],_=1e7,E=1e9;function k(t){var e=0|t;return t>0||t===e?e:e-1}function S(t){for(var e,n,r=1,i=t.length,s=t[0]+"";r<i;){for(e=t[r++]+"",n=v-e.length;n--;e="0"+e);s+=e}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function A(t,e){var n,r,i=t.c,s=e.c,o=t.s,a=e.s,u=t.e,l=e.e;if(!o||!a)return null;if(n=i&&!i[0],r=s&&!s[0],n||r)return n?r?0:-a:o;if(o!=a)return o;if(n=o<0,r=u==l,!i||!s)return r?0:!i^n?1:-1;if(!r)return u>l^n?1:-1;for(a=(u=i.length)<(l=s.length)?u:l,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^n?1:-1;return u==l?0:u>l^n?1:-1}function M(t,e,n,r){if(t<e||t>n||t!==p(t))throw Error(m+(r||"Argument")+("number"==typeof t?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function I(t){var e=t.c.length-1;return k(t.e/v)==e&&t.c[e]%2!=0}function T(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function R(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(++e>(r=t.length)){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}var x=function t(e){var n,r,i,s,o,a,u,l,c,h,x=q.prototype={constructor:q,toString:null,valueOf:null},C=new q(1),P=20,N=4,O=-7,L=21,B=-1e7,D=1e7,U=!1,j=1,F=0,V={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},z="0123456789abcdefghijklmnopqrstuvwxyz",H=!0;function q(t,e){var n,s,o,a,u,l,c,h,f=this;if(!(f instanceof q))return new q(t,e);if(null==e){if(t&&!0===t._isBigNumber)return f.s=t.s,void(!t.c||t.e>D?f.c=f.e=null:t.e<B?f.c=[f.e=0]:(f.e=t.e,f.c=t.c.slice()));if((l="number"==typeof t)&&0*t==0){if(f.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,u=t;u>=10;u/=10,a++);return void(a>D?f.c=f.e=null:(f.e=a,f.c=[t]))}h=String(t)}else{if(!d.test(h=String(t)))return i(f,h,l);f.s=45==h.charCodeAt(0)?(h=h.slice(1),-1):1}(a=h.indexOf("."))>-1&&(h=h.replace(".","")),(u=h.search(/e/i))>0?(a<0&&(a=u),a+=+h.slice(u+1),h=h.substring(0,u)):a<0&&(a=h.length)}else{if(M(e,2,z.length,"Base"),10==e&&H)return Z(f=new q(t),P+f.e+1,N);if(h=String(t),l="number"==typeof t){if(0*t!=0)return i(f,h,l,e);if(f.s=1/t<0?(h=h.slice(1),-1):1,q.DEBUG&&h.replace(/^0\.0*|\./,"").length>15)throw Error(g+t)}else f.s=45===h.charCodeAt(0)?(h=h.slice(1),-1):1;for(n=z.slice(0,e),a=u=0,c=h.length;u<c;u++)if(n.indexOf(s=h.charAt(u))<0){if("."==s){if(u>a){a=c;continue}}else if(!o&&(h==h.toUpperCase()&&(h=h.toLowerCase())||h==h.toLowerCase()&&(h=h.toUpperCase()))){o=!0,u=-1,a=0;continue}return i(f,String(t),l,e)}l=!1,(a=(h=r(h,e,10,f.s)).indexOf("."))>-1?h=h.replace(".",""):a=h.length}for(u=0;48===h.charCodeAt(u);u++);for(c=h.length;48===h.charCodeAt(--c););if(h=h.slice(u,++c)){if(c-=u,l&&q.DEBUG&&c>15&&(t>w||t!==p(t)))throw Error(g+f.s*t);if((a=a-u-1)>D)f.c=f.e=null;else if(a<B)f.c=[f.e=0];else{if(f.e=a,f.c=[],u=(a+1)%v,a<0&&(u+=v),u<c){for(u&&f.c.push(+h.slice(0,u)),c-=v;u<c;)f.c.push(+h.slice(u,u+=v));u=v-(h=h.slice(u)).length}else u-=c;for(;u--;h+="0");f.c.push(+h)}}else f.c=[f.e=0]}function K(t,e,n,r){var i,s,o,a,u;if(null==n?n=N:M(n,0,8),!t.c)return t.toString();if(i=t.c[0],o=t.e,null==e)u=S(t.c),u=1==r||2==r&&(o<=O||o>=L)?T(u,o):R(u,o,"0");else if(s=(t=Z(new q(t),e,n)).e,a=(u=S(t.c)).length,1==r||2==r&&(e<=s||s<=O)){for(;a<e;u+="0",a++);u=T(u,s)}else if(e-=o,u=R(u,s,"0"),s+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=s-a)>0)for(s+1==a&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function W(t,e){for(var n,r,i=1,s=new q(t[0]);i<t.length;i++)(!(r=new q(t[i])).s||(n=A(s,r))===e||0===n&&s.s===e)&&(s=r);return s}function $(t,e,n){for(var r=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,r++);return(n=r+n*v-1)>D?t.c=t.e=null:n<B?t.c=[t.e=0]:(t.e=n,t.c=e),t}function Z(t,e,n,r){var i,s,o,a,u,l,c,h=t.c,d=b;if(h){t:{for(i=1,a=h[0];a>=10;a/=10,i++);if((s=e-i)<0)s+=v,o=e,u=h[l=0],c=p(u/d[i-o-1]%10);else if((l=f((s+1)/v))>=h.length){if(!r)break t;for(;h.length<=l;h.push(0));u=c=0,i=1,o=(s%=v)-v+1}else{for(u=a=h[l],i=1;a>=10;a/=10,i++);c=(o=(s%=v)-v+i)<0?0:p(u/d[i-o-1]%10)}if(r=r||e<0||null!=h[l+1]||(o<0?u:u%d[i-o-1]),r=n<4?(c||r)&&(0==n||n==(t.s<0?3:2)):c>5||5==c&&(4==n||r||6==n&&(s>0?o>0?u/d[i-o]:0:h[l-1])%10&1||n==(t.s<0?8:7)),e<1||!h[0])return h.length=0,r?(e-=t.e+1,h[0]=d[(v-e%v)%v],t.e=-e||0):h[0]=t.e=0,t;if(0==s?(h.length=l,a=1,l--):(h.length=l+1,a=d[v-s],h[l]=o>0?p(u/d[i-o]%d[o])*a:0),r)for(;;){if(0==l){for(s=1,o=h[0];o>=10;o/=10,s++);for(o=h[0]+=a,a=1;o>=10;o/=10,a++);s!=a&&(t.e++,h[0]==y&&(h[0]=1));break}if(h[l]+=a,h[l]!=y)break;h[l--]=0,a=1}for(s=h.length;0===h[--s];h.pop());}t.e>D?t.c=t.e=null:t.e<B&&(t.c=[t.e=0])}return t}function G(t){var e,n=t.e;return null===n?t.toString():(e=S(t.c),e=n<=O||n>=L?T(e,n):R(e,n,"0"),t.s<0?"-"+e:e)}return q.clone=t,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(t){var e,n;if(null!=t){if("object"!=typeof t)throw Error(m+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(M(n=t[e],0,E,e),P=n),t.hasOwnProperty(e="ROUNDING_MODE")&&(M(n=t[e],0,8,e),N=n),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((n=t[e])&&n.pop?(M(n[0],-E,0,e),M(n[1],0,E,e),O=n[0],L=n[1]):(M(n,-E,E,e),O=-(L=n<0?-n:n))),t.hasOwnProperty(e="RANGE"))if((n=t[e])&&n.pop)M(n[0],-E,-1,e),M(n[1],1,E,e),B=n[0],D=n[1];else{if(M(n,-E,E,e),!n)throw Error(m+e+" cannot be zero: "+n);B=-(D=n<0?-n:n)}if(t.hasOwnProperty(e="CRYPTO")){if((n=t[e])!==!!n)throw Error(m+e+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw U=!n,Error(m+"crypto unavailable");U=n}else U=n}if(t.hasOwnProperty(e="MODULO_MODE")&&(M(n=t[e],0,9,e),j=n),t.hasOwnProperty(e="POW_PRECISION")&&(M(n=t[e],0,E,e),F=n),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(n=t[e]))throw Error(m+e+" not an object: "+n);V=n}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(n=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(m+e+" invalid: "+n);H="0123456789"==n.slice(0,10),z=n}}return{DECIMAL_PLACES:P,ROUNDING_MODE:N,EXPONENTIAL_AT:[O,L],RANGE:[B,D],CRYPTO:U,MODULO_MODE:j,POW_PRECISION:F,FORMAT:V,ALPHABET:z}},q.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!q.DEBUG)return!0;var e,n,r=t.c,i=t.e,s=t.s;t:if("[object Array]"=={}.toString.call(r)){if((1===s||-1===s)&&i>=-E&&i<=E&&i===p(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break t}if((e=(i+1)%v)<1&&(e+=v),String(r[0]).length==e){for(e=0;e<r.length;e++)if((n=r[e])<0||n>=y||n!==p(n))break t;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(m+"Invalid BigNumber: "+t)},q.maximum=q.max=function(){return W(arguments,-1)},q.minimum=q.min=function(){return W(arguments,1)},q.random=(s=9007199254740992,o=Math.random()*s&2097151?function(){return p(Math.random()*s)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,r,i,s,a=0,u=[],l=new q(C);if(null==t?t=P:M(t,0,E),i=f(t/v),U)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));a<i;)(s=131072*e[a]+(e[a+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),e[a]=n[0],e[a+1]=n[1]):(u.push(s%1e14),a+=2);a=i/2}else{if(!crypto.randomBytes)throw U=!1,Error(m+"crypto unavailable");for(e=crypto.randomBytes(i*=7);a<i;)(s=281474976710656*(31&e[a])+1099511627776*e[a+1]+4294967296*e[a+2]+16777216*e[a+3]+(e[a+4]<<16)+(e[a+5]<<8)+e[a+6])>=9e15?crypto.randomBytes(7).copy(e,a):(u.push(s%1e14),a+=7);a=i/7}if(!U)for(;a<i;)(s=o())<9e15&&(u[a++]=s%1e14);for(i=u[--a],t%=v,i&&t&&(s=b[v-t],u[a]=p(i/s)*s);0===u[a];u.pop(),a--);if(a<0)u=[r=0];else{for(r=-1;0===u[0];u.splice(0,1),r-=v);for(a=1,s=u[0];s>=10;s/=10,a++);a<v&&(r-=v-a)}return l.e=r,l.c=u,l}),q.sum=function(){for(var t=1,e=arguments,n=new q(e[0]);t<e.length;)n=n.plus(e[t++]);return n},r=function(){var t="0123456789";function e(t,e,n,r){for(var i,s,o=[0],a=0,u=t.length;a<u;){for(s=o.length;s--;o[s]*=e);for(o[0]+=r.indexOf(t.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}return function(r,i,s,o,a){var u,l,c,h,d,f,p,m,g=r.indexOf("."),y=P,v=N;for(g>=0&&(h=F,F=0,r=r.replace(".",""),f=(m=new q(i)).pow(r.length-g),F=h,m.c=e(R(S(f.c),f.e,"0"),10,s,t),m.e=m.c.length),c=h=(p=e(r,i,s,a?(u=z,t):(u=t,z))).length;0==p[--h];p.pop());if(!p[0])return u.charAt(0);if(g<0?--c:(f.c=p,f.e=c,f.s=o,p=(f=n(f,m,y,v,s)).c,d=f.r,c=f.e),g=p[l=c+y+1],h=s/2,d=d||l<0||null!=p[l+1],d=v<4?(null!=g||d)&&(0==v||v==(f.s<0?3:2)):g>h||g==h&&(4==v||d||6==v&&1&p[l-1]||v==(f.s<0?8:7)),l<1||!p[0])r=d?R(u.charAt(1),-y,u.charAt(0)):u.charAt(0);else{if(p.length=l,d)for(--s;++p[--l]>s;)p[l]=0,l||(++c,p=[1].concat(p));for(h=p.length;!p[--h];);for(g=0,r="";g<=h;r+=u.charAt(p[g++]));r=R(r,c,u.charAt(0))}return r}}(),n=function(){function t(t,e,n){var r,i,s,o,a=0,u=t.length,l=e%_,c=e/_|0;for(t=t.slice();u--;)a=((i=l*(s=t[u]%_)+(r=c*s+(o=t[u]/_|0)*l)%_*_+a)/n|0)+(r/_|0)+c*o,t[u]=i%n;return a&&(t=[a].concat(t)),t}function e(t,e,n,r){var i,s;if(n!=r)s=n>r?1:-1;else for(i=s=0;i<n;i++)if(t[i]!=e[i]){s=t[i]>e[i]?1:-1;break}return s}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(r,i,s,o,a){var u,l,c,h,d,f,m,g,w,b,_,E,S,A,M,I,T,R=r.s==i.s?1:-1,x=r.c,C=i.c;if(!(x&&x[0]&&C&&C[0]))return new q(r.s&&i.s&&(x?!C||x[0]!=C[0]:C)?x&&0==x[0]||!C?0*R:R/0:NaN);for(w=(g=new q(R)).c=[],R=s+(l=r.e-i.e)+1,a||(a=y,l=k(r.e/v)-k(i.e/v),R=R/v|0),c=0;C[c]==(x[c]||0);c++);if(C[c]>(x[c]||0)&&l--,R<0)w.push(1),h=!0;else{for(A=x.length,I=C.length,c=0,R+=2,(d=p(a/(C[0]+1)))>1&&(C=t(C,d,a),x=t(x,d,a),I=C.length,A=x.length),S=I,_=(b=x.slice(0,I)).length;_<I;b[_++]=0);T=C.slice(),T=[0].concat(T),M=C[0],C[1]>=a/2&&M++;do{if(d=0,(u=e(C,b,I,_))<0){if(E=b[0],I!=_&&(E=E*a+(b[1]||0)),(d=p(E/M))>1)for(d>=a&&(d=a-1),m=(f=t(C,d,a)).length,_=b.length;1==e(f,b,m,_);)d--,n(f,I<m?T:C,m,a),m=f.length,u=1;else 0==d&&(u=d=1),m=(f=C.slice()).length;if(m<_&&(f=[0].concat(f)),n(b,f,_,a),_=b.length,-1==u)for(;e(C,b,I,_)<1;)d++,n(b,I<_?T:C,_,a),_=b.length}else 0===u&&(d++,b=[0]);w[c++]=d,b[0]?b[_++]=x[S]||0:(b=[x[S]],_=1)}while((S++<A||null!=b[0])&&R--);h=null!=b[0],w[0]||w.splice(0,1)}if(a==y){for(c=1,R=w[0];R>=10;R/=10,c++);Z(g,s+(g.e=c+l*v-1)+1,o,h)}else g.e=l,g.r=+h;return g}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,u=/^([^.]+)\.$/,l=/^\.([^.]+)$/,c=/^-?(Infinity|NaN)$/,h=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,n,r){var i,s=n?e:e.replace(h,"");if(c.test(s))t.s=isNaN(s)?null:s<0?-1:1;else{if(!n&&(s=s.replace(a,(function(t,e,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?t:e})),r&&(i=r,s=s.replace(u,"$1").replace(l,"0.$1")),e!=s))return new q(s,i);if(q.DEBUG)throw Error(m+"Not a"+(r?" base "+r:"")+" number: "+e);t.s=null}t.c=t.e=null},x.absoluteValue=x.abs=function(){var t=new q(this);return t.s<0&&(t.s=1),t},x.comparedTo=function(t,e){return A(this,new q(t,e))},x.decimalPlaces=x.dp=function(t,e){var n,r,i,s=this;if(null!=t)return M(t,0,E),null==e?e=N:M(e,0,8),Z(new q(s),t+s.e+1,e);if(!(n=s.c))return null;if(r=((i=n.length-1)-k(this.e/v))*v,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},x.dividedBy=x.div=function(t,e){return n(this,new q(t,e),P,N)},x.dividedToIntegerBy=x.idiv=function(t,e){return n(this,new q(t,e),0,1)},x.exponentiatedBy=x.pow=function(t,e){var n,r,i,s,o,a,u,l,c=this;if((t=new q(t)).c&&!t.isInteger())throw Error(m+"Exponent not an integer: "+G(t));if(null!=e&&(e=new q(e)),o=t.e>14,!c.c||!c.c[0]||1==c.c[0]&&!c.e&&1==c.c.length||!t.c||!t.c[0])return l=new q(Math.pow(+G(c),o?t.s*(2-I(t)):+G(t))),e?l.mod(e):l;if(a=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new q(NaN);(r=!a&&c.isInteger()&&e.isInteger())&&(c=c.mod(e))}else{if(t.e>9&&(c.e>0||c.e<-1||(0==c.e?c.c[0]>1||o&&c.c[1]>=24e7:c.c[0]<8e13||o&&c.c[0]<=9999975e7)))return s=c.s<0&&I(t)?-0:0,c.e>-1&&(s=1/s),new q(a?1/s:s);F&&(s=f(F/v+2))}for(o?(n=new q(.5),a&&(t.s=1),u=I(t)):u=(i=Math.abs(+G(t)))%2,l=new q(C);;){if(u){if(!(l=l.times(c)).c)break;s?l.c.length>s&&(l.c.length=s):r&&(l=l.mod(e))}if(i){if(0===(i=p(i/2)))break;u=i%2}else if(Z(t=t.times(n),t.e+1,1),t.e>14)u=I(t);else{if(0===(i=+G(t)))break;u=i%2}c=c.times(c),s?c.c&&c.c.length>s&&(c.c.length=s):r&&(c=c.mod(e))}return r?l:(a&&(l=C.div(l)),e?l.mod(e):s?Z(l,F,N,undefined):l)},x.integerValue=function(t){var e=new q(this);return null==t?t=N:M(t,0,8),Z(e,e.e+1,t)},x.isEqualTo=x.eq=function(t,e){return 0===A(this,new q(t,e))},x.isFinite=function(){return!!this.c},x.isGreaterThan=x.gt=function(t,e){return A(this,new q(t,e))>0},x.isGreaterThanOrEqualTo=x.gte=function(t,e){return 1===(e=A(this,new q(t,e)))||0===e},x.isInteger=function(){return!!this.c&&k(this.e/v)>this.c.length-2},x.isLessThan=x.lt=function(t,e){return A(this,new q(t,e))<0},x.isLessThanOrEqualTo=x.lte=function(t,e){return-1===(e=A(this,new q(t,e)))||0===e},x.isNaN=function(){return!this.s},x.isNegative=function(){return this.s<0},x.isPositive=function(){return this.s>0},x.isZero=function(){return!!this.c&&0==this.c[0]},x.minus=function(t,e){var n,r,i,s,o=this,a=o.s;if(e=(t=new q(t,e)).s,!a||!e)return new q(NaN);if(a!=e)return t.s=-e,o.plus(t);var u=o.e/v,l=t.e/v,c=o.c,h=t.c;if(!u||!l){if(!c||!h)return c?(t.s=-e,t):new q(h?o:NaN);if(!c[0]||!h[0])return h[0]?(t.s=-e,t):new q(c[0]?o:3==N?-0:0)}if(u=k(u),l=k(l),c=c.slice(),a=u-l){for((s=a<0)?(a=-a,i=c):(l=u,i=h),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(r=(s=(a=c.length)<(e=h.length))?a:e,a=e=0;e<r;e++)if(c[e]!=h[e]){s=c[e]<h[e];break}if(s&&(i=c,c=h,h=i,t.s=-t.s),(e=(r=h.length)-(n=c.length))>0)for(;e--;c[n++]=0);for(e=y-1;r>a;){if(c[--r]<h[r]){for(n=r;n&&!c[--n];c[n]=e);--c[n],c[r]+=y}c[r]-=h[r]}for(;0==c[0];c.splice(0,1),--l);return c[0]?$(t,c,l):(t.s=3==N?-1:1,t.c=[t.e=0],t)},x.modulo=x.mod=function(t,e){var r,i,s=this;return t=new q(t,e),!s.c||!t.s||t.c&&!t.c[0]?new q(NaN):!t.c||s.c&&!s.c[0]?new q(s):(9==j?(i=t.s,t.s=1,r=n(s,t,0,3),t.s=i,r.s*=i):r=n(s,t,0,j),(t=s.minus(r.times(t))).c[0]||1!=j||(t.s=s.s),t)},x.multipliedBy=x.times=function(t,e){var n,r,i,s,o,a,u,l,c,h,d,f,p,m,g,w=this,b=w.c,E=(t=new q(t,e)).c;if(!(b&&E&&b[0]&&E[0]))return!w.s||!t.s||b&&!b[0]&&!E||E&&!E[0]&&!b?t.c=t.e=t.s=null:(t.s*=w.s,b&&E?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=k(w.e/v)+k(t.e/v),t.s*=w.s,(u=b.length)<(h=E.length)&&(p=b,b=E,E=p,i=u,u=h,h=i),i=u+h,p=[];i--;p.push(0));for(m=y,g=_,i=h;--i>=0;){for(n=0,d=E[i]%g,f=E[i]/g|0,s=i+(o=u);s>i;)n=((l=d*(l=b[--o]%g)+(a=f*l+(c=b[o]/g|0)*d)%g*g+p[s]+n)/m|0)+(a/g|0)+f*c,p[s--]=l%m;p[s]=n}return n?++r:p.splice(0,1),$(t,p,r)},x.negated=function(){var t=new q(this);return t.s=-t.s||null,t},x.plus=function(t,e){var n,r=this,i=r.s;if(e=(t=new q(t,e)).s,!i||!e)return new q(NaN);if(i!=e)return t.s=-e,r.minus(t);var s=r.e/v,o=t.e/v,a=r.c,u=t.c;if(!s||!o){if(!a||!u)return new q(i/0);if(!a[0]||!u[0])return u[0]?t:new q(a[0]?r:0*i)}if(s=k(s),o=k(o),a=a.slice(),i=s-o){for(i>0?(o=s,n=u):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(e=u.length)<0&&(n=u,u=a,a=n,e=i),i=0;e;)i=(a[--e]=a[e]+u[e]+i)/y|0,a[e]=y===a[e]?0:a[e]%y;return i&&(a=[i].concat(a),++o),$(t,a,o)},x.precision=x.sd=function(t,e){var n,r,i,s=this;if(null!=t&&t!==!!t)return M(t,1,E),null==e?e=N:M(e,0,8),Z(new q(s),t,e);if(!(n=s.c))return null;if(r=(i=n.length-1)*v+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return t&&s.e+1>r&&(r=s.e+1),r},x.shiftedBy=function(t){return M(t,-9007199254740991,w),this.times("1e"+t)},x.squareRoot=x.sqrt=function(){var t,e,r,i,s,o=this,a=o.c,u=o.s,l=o.e,c=P+4,h=new q("0.5");if(1!==u||!a||!a[0])return new q(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+G(o)))||u==1/0?(((e=S(a)).length+l)%2==0&&(e+="0"),u=Math.sqrt(+e),l=k((l+1)/2)-(l<0||l%2),r=new q(e=u==1/0?"5e"+l:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+l)):r=new q(u+""),r.c[0])for((u=(l=r.e)+c)<3&&(u=0);;)if(s=r,r=h.times(s.plus(n(o,s,c,1))),S(s.c).slice(0,u)===(e=S(r.c)).slice(0,u)){if(r.e<l&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(Z(r,r.e+P+2,1),t=!r.times(r).eq(o));break}if(!i&&(Z(s,s.e+P+2,0),s.times(s).eq(o))){r=s;break}c+=4,u+=4,i=1}return Z(r,r.e+P+1,N,t)},x.toExponential=function(t,e){return null!=t&&(M(t,0,E),t++),K(this,t,e,1)},x.toFixed=function(t,e){return null!=t&&(M(t,0,E),t=t+this.e+1),K(this,t,e)},x.toFormat=function(t,e,n){var r,i=this;if(null==n)null!=t&&e&&"object"==typeof e?(n=e,e=null):t&&"object"==typeof t?(n=t,t=e=null):n=V;else if("object"!=typeof n)throw Error(m+"Argument not an object: "+n);if(r=i.toFixed(t,e),i.c){var s,o=r.split("."),a=+n.groupSize,u=+n.secondaryGroupSize,l=n.groupSeparator||"",c=o[0],h=o[1],d=i.s<0,f=d?c.slice(1):c,p=f.length;if(u&&(s=a,a=u,u=s,p-=s),a>0&&p>0){for(s=p%a||a,c=f.substr(0,s);s<p;s+=a)c+=l+f.substr(s,a);u>0&&(c+=l+f.slice(s)),d&&(c="-"+c)}r=h?c+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):c}return(n.prefix||"")+r+(n.suffix||"")},x.toFraction=function(t){var e,r,i,s,o,a,u,l,c,h,d,f,p=this,g=p.c;if(null!=t&&(!(u=new q(t)).isInteger()&&(u.c||1!==u.s)||u.lt(C)))throw Error(m+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+G(u));if(!g)return new q(p);for(e=new q(C),c=r=new q(C),i=l=new q(C),f=S(g),o=e.e=f.length-p.e-1,e.c[0]=b[(a=o%v)<0?v+a:a],t=!t||u.comparedTo(e)>0?o>0?e:c:u,a=D,D=1/0,u=new q(f),l.c[0]=0;h=n(u,e,0,1),1!=(s=r.plus(h.times(i))).comparedTo(t);)r=i,i=s,c=l.plus(h.times(s=c)),l=s,e=u.minus(h.times(s=e)),u=s;return s=n(t.minus(r),i,0,1),l=l.plus(s.times(c)),r=r.plus(s.times(i)),l.s=c.s=p.s,d=n(c,i,o*=2,N).minus(p).abs().comparedTo(n(l,r,o,N).minus(p).abs())<1?[c,i]:[l,r],D=a,d},x.toNumber=function(){return+G(this)},x.toPrecision=function(t,e){return null!=t&&M(t,1,E),K(this,t,e,2)},x.toString=function(t){var e,n=this,i=n.s,s=n.e;return null===s?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=s<=O||s>=L?T(S(n.c),s):R(S(n.c),s,"0"):10===t&&H?e=R(S((n=Z(new q(n),P+s+1,N)).c),n.e,"0"):(M(t,2,z.length,"Base"),e=r(R(S(n.c),s,"0"),10,t,i,!0)),i<0&&n.c[0]&&(e="-"+e)),e},x.valueOf=x.toJSON=function(){return G(this)},x._isBigNumber=!0,x[Symbol.toStringTag]="BigNumber",x[Symbol.for("nodejs.util.inspect.custom")]=x.valueOf,null!=e&&q.set(e),q}();new x("1e+18");const C=t=>{const e=(0,o.av)(32,t),{encode:n,decode:r}=u(e),i=e;return i.decode=(t,e)=>{const n=r(t,e);return new s.PublicKey(n)},i.encode=(t,e,r)=>{const i=t.toBuffer();return n(i,e,r)},i},P=new s.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),N=(new s.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),new s.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"));new s.PublicKey("So11111111111111111111111111111111111111112"),new s.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");class TokenError extends Error{constructor(t){super(t)}}class errors_TokenOwnerOffCurveError extends TokenError{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}const O=(0,o.w3)([(0,o.DH)("mintAuthorityOption"),C("mintAuthority"),h("supply"),(0,o.u8)("decimals"),(t=>{const e=(0,o.u8)(t),{encode:n,decode:r}=u(e),i=e;return i.decode=(t,e)=>!!r(t,e),i.encode=(t,e,r)=>{const i=Number(t);return n(i,e,r)},i})("isInitialized"),(0,o.DH)("freezeAuthorityOption"),C("freezeAuthority")]);O.span;function L(t,e,n=!1,r=P,i=N){if(!n&&!s.PublicKey.isOnCurve(e.toBuffer()))throw new errors_TokenOwnerOffCurveError;const[o]=s.PublicKey.findProgramAddressSync([e.toBuffer(),r.toBuffer(),t.toBuffer()],i);return o}const B=Buffer.from("state"),D=Buffer.from("reserve");function U(t){return s.PublicKey.findProgramAddressSync([B],t)}function j(t,e){return s.PublicKey.findProgramAddressSync([D,t.toBuffer()],e)}function F(t,e){return L(t,e,!0)}const V="Lucky7RXZNtywxBXrGibRqrC3FcJYdvr34nFpU6DJVX",z="D665VLt9rdGpwBuUGQuRqCK2FhA9nYXBdYewWexFwcFj",H="JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4",q=11,K=1e3,W=4294967295,$=4294967295;async function Z(t,e){if("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"==t.toBase58())return!0;const[n]=j(t,e.programId);return!!(await e.account.reserve.fetchNullable(n))}async function G(t){if(await Z(new s.PublicKey(t.inputMint),t.program))return!0;if(await Z(new s.PublicKey(t.outputMint),t.program))return!1;throw new Error("Either input, or output mint must be reserve mint!")}async function Q(t){const[e]=U(t.program.programId);return await G(t)?F(t.inputMint,e):F(t.outputMint,e)}var J=n(6805),Y=n.n(J),X=n(7240),tt=n.n(X);async function et(t){let e=t.amount;if(!(await G(t))){e/=function(t){if(!Number.isInteger(t)||t<0||t>W)throw new Error(`Threshold must be an integer between 0 and ${W}`);if(0===t)return 0;const e=t;try{const t=BigInt(K)*BigInt(W+1)/BigInt(e);if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("Multiplier calculation resulted in a number too large");return Number(t)}catch(n){if(n instanceof Error)throw new Error(`Calculation error: ${n.message}`);throw n}}(t.threshold)}const n=function(t){const e=Object.entries(t).filter((([t,e])=>null!=e)).map((([t,e])=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`));return e.length>0?`?${e.join("&")}`:""}({...t.jupiterQuoteParams,inputMint:t.inputMint,outputMint:t.outputMint,amount:t.amount,restrictIntermediateTokens:!0,maxAccounts:t.jupiterQuoteParams?.maxAccounts||64-q}),r=await(await Y()("https://quote-api.jup.ag/v6/quote"+n)).json();if(r.error)throw new Error("Failed to get swap instructions: "+r.error);return r}async function nt(t){const e=await async function(t){const[e]=U(t.program.programId),n=await G(t),r=await Q(t),i=await et(t),s=t.userTargetAccount??L(t.outputMint,t.payerAccount),o={...t.jupiterSwapParams,quoteResponse:i,userPublicKey:n?e.toBase58():t.payerAccount.toBase58(),destinationTokenAccount:n?s.toBase58():r.toBase58(),useSharedAccounts:!0,trackingAccount:void 0},a=await(await Y()("https://quote-api.jup.ag/v6/swap-instructions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).json();if(a.error)throw new Error("Failed to get swap instructions: "+a.error);const u=await(await Y()("https://quote-api.jup.ag/v6/swap-instructions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...o,userPublicKey:t.payerAccount.toBase58(),destinationTokenAccount:s.toBase58()})})).json();if(u.error)throw new Error("Failed to get swap instructions: "+u.error);return a.setupInstructionsUser=u.setupInstructions,a}(t);return await async function(t,e,n){const[r]=U(t.program.programId),i=await G(t),o=await Q(t),a=await async function(t){let e;return await G(t)?[e]=j(t.inputMint,t.program.programId):[e]=j(t.outputMint,t.program.programId),e}(t),u=t.userSourceAccount??L(t.inputMint,t.payerAccount),l=t.userTargetAccount??L(t.outputMint,t.payerAccount);i&&(e.swapInstruction.accounts.find((t=>t.pubkey==r.toString())).isSigner=!1);const c={programId:null==n||n.includes("mainnet")?V:z,accounts:[{pubkey:t.payerAccount.toBase58(),isSigner:!0,isWritable:!0},{pubkey:u.toBase58(),isSigner:!1,isWritable:!0},{pubkey:l.toBase58(),isSigner:!1,isWritable:!0},{pubkey:r.toBase58(),isSigner:!1,isWritable:!0},{pubkey:a.toBase58(),isSigner:!1,isWritable:!0},{pubkey:o.toBase58(),isSigner:!1,isWritable:!0},{pubkey:P.toBase58(),isSigner:!1,isWritable:!0},{pubkey:s.SystemProgram.programId.toBase58(),isSigner:!1,isWritable:!0},{pubkey:s.SYSVAR_RECENT_BLOCKHASHES_PUBKEY.toBase58(),isSigner:!1,isWritable:!0},{pubkey:s.SYSVAR_INSTRUCTIONS_PUBKEY.toBase58(),isSigner:!1,isWritable:!0},{pubkey:H,isSigner:!1,isWritable:!0},...e.swapInstruction.accounts],data:e.swapInstruction.data},h=Buffer.from(c.data,"base64"),d=t.program.coder.instruction.encode("swap",{threshold:new(tt())(t.threshold),jupiterData:h});return c.data=d.toString("base64"),e.swapInstruction=c,e}(t,e)}var rt=n(8891),it=n(4319),st=n.n(it),ot=n(536),at=n.n(ot),ut=n(2349),lt=n.n(ut),ct=n(5534);n(5423);function ht(t){let e=t.length;for(;--e>=0;)t[e]=0}const dt=256,ft=286,pt=30,mt=15,gt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),yt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),vt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),wt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bt=new Array(576);ht(bt);const _t=new Array(60);ht(_t);const Et=new Array(512);ht(Et);const kt=new Array(256);ht(kt);const St=new Array(29);ht(St);const At=new Array(pt);function Mt(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}let It,Tt,Rt;function xt(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}ht(At);const Ct=t=>t<256?Et[t]:Et[256+(t>>>7)],Pt=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},Nt=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,Pt(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},Ot=(t,e,n)=>{Nt(t,n[2*e],n[2*e+1])},Lt=(t,e)=>{let n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},Bt=(t,e,n)=>{const r=new Array(16);let i,s,o=0;for(i=1;i<=mt;i++)o=o+n[i-1]<<1,r[i]=o;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=Lt(r[e]++,e))}},Dt=t=>{let e;for(e=0;e<ft;e++)t.dyn_ltree[2*e]=0;for(e=0;e<pt;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Ut=t=>{t.bi_valid>8?Pt(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},jt=(t,e,n,r)=>{const i=2*e,s=2*n;return t[i]<t[s]||t[i]===t[s]&&r[e]<=r[n]},Ft=(t,e,n)=>{const r=t.heap[n];let i=n<<1;for(;i<=t.heap_len&&(i<t.heap_len&&jt(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!jt(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r},Vt=(t,e,n)=>{let r,i,s,o,a=0;if(0!==t.sym_next)do{r=255&t.pending_buf[t.sym_buf+a++],r+=(255&t.pending_buf[t.sym_buf+a++])<<8,i=t.pending_buf[t.sym_buf+a++],0===r?Ot(t,i,e):(s=kt[i],Ot(t,s+dt+1,e),o=gt[s],0!==o&&(i-=St[s],Nt(t,i,o)),r--,s=Ct(r),Ot(t,s,n),o=yt[s],0!==o&&(r-=At[s],Nt(t,r,o)))}while(a<t.sym_next);Ot(t,256,e)},zt=(t,e)=>{const n=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,u,l=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<s;o++)0!==n[2*o]?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):n[2*o+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,n[2*u]=1,t.depth[u]=0,t.opt_len--,i&&(t.static_len-=r[2*u+1]);for(e.max_code=l,o=t.heap_len>>1;o>=1;o--)Ft(t,n,o);u=s;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Ft(t,n,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,n[2*u]=n[2*o]+n[2*a],t.depth[u]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,n[2*o+1]=n[2*a+1]=u,t.heap[1]=u++,Ft(t,n,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const n=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,u=e.stat_desc.max_length;let l,c,h,d,f,p,m=0;for(d=0;d<=mt;d++)t.bl_count[d]=0;for(n[2*t.heap[t.heap_max]+1]=0,l=t.heap_max+1;l<573;l++)c=t.heap[l],d=n[2*n[2*c+1]+1]+1,d>u&&(d=u,m++),n[2*c+1]=d,c>r||(t.bl_count[d]++,f=0,c>=a&&(f=o[c-a]),p=n[2*c],t.opt_len+=p*(d+f),s&&(t.static_len+=p*(i[2*c+1]+f)));if(0!==m){do{for(d=u-1;0===t.bl_count[d];)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[u]--,m-=2}while(m>0);for(d=u;0!==d;d--)for(c=t.bl_count[d];0!==c;)h=t.heap[--l],h>r||(n[2*h+1]!==d&&(t.opt_len+=(d-n[2*h+1])*n[2*h],n[2*h+1]=d),c--)}})(t,e),Bt(n,l,t.bl_count)},Ht=(t,e,n)=>{let r,i,s=-1,o=e[1],a=0,u=7,l=4;for(0===o&&(u=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=e[2*(r+1)+1],++a<u&&i===o||(a<l?t.bl_tree[2*i]+=a:0!==i?(i!==s&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,s=i,0===o?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4))},qt=(t,e,n)=>{let r,i,s=-1,o=e[1],a=0,u=7,l=4;for(0===o&&(u=138,l=3),r=0;r<=n;r++)if(i=o,o=e[2*(r+1)+1],!(++a<u&&i===o)){if(a<l)do{Ot(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==s&&(Ot(t,i,t.bl_tree),a--),Ot(t,16,t.bl_tree),Nt(t,a-3,2)):a<=10?(Ot(t,17,t.bl_tree),Nt(t,a-3,3)):(Ot(t,18,t.bl_tree),Nt(t,a-11,7));a=0,s=i,0===o?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4)}};let Kt=!1;const Wt=(t,e,n,r)=>{Nt(t,0+(r?1:0),3),Ut(t),Pt(t,n),Pt(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var $t=t=>{Kt||((()=>{let t,e,n,r,i;const s=new Array(16);for(n=0,r=0;r<28;r++)for(St[r]=n,t=0;t<1<<gt[r];t++)kt[n++]=r;for(kt[n-1]=r,i=0,r=0;r<16;r++)for(At[r]=i,t=0;t<1<<yt[r];t++)Et[i++]=r;for(i>>=7;r<pt;r++)for(At[r]=i<<7,t=0;t<1<<yt[r]-7;t++)Et[256+i++]=r;for(e=0;e<=mt;e++)s[e]=0;for(t=0;t<=143;)bt[2*t+1]=8,t++,s[8]++;for(;t<=255;)bt[2*t+1]=9,t++,s[9]++;for(;t<=279;)bt[2*t+1]=7,t++,s[7]++;for(;t<=287;)bt[2*t+1]=8,t++,s[8]++;for(Bt(bt,287,s),t=0;t<pt;t++)_t[2*t+1]=5,_t[2*t]=Lt(t,5);It=new Mt(bt,gt,257,ft,mt),Tt=new Mt(_t,yt,0,pt,mt),Rt=new Mt(new Array(0),vt,0,19,7)})(),Kt=!0),t.l_desc=new xt(t.dyn_ltree,It),t.d_desc=new xt(t.dyn_dtree,Tt),t.bl_desc=new xt(t.bl_tree,Rt),t.bi_buf=0,t.bi_valid=0,Dt(t)},Zt=(t,e,n,r)=>{let i,s,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<dt;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),zt(t,t.l_desc),zt(t,t.d_desc),o=(t=>{let e;for(Ht(t,t.dyn_ltree,t.l_desc.max_code),Ht(t,t.dyn_dtree,t.d_desc.max_code),zt(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*wt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==e?Wt(t,e,n,r):4===t.strategy||s===i?(Nt(t,2+(r?1:0),3),Vt(t,bt,_t)):(Nt(t,4+(r?1:0),3),((t,e,n,r)=>{let i;for(Nt(t,e-257,5),Nt(t,n-1,5),Nt(t,r-4,4),i=0;i<r;i++)Nt(t,t.bl_tree[2*wt[i]+1],3);qt(t,t.dyn_ltree,e-1),qt(t,t.dyn_dtree,n-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),Vt(t,t.dyn_ltree,t.dyn_dtree)),Dt(t),r&&Ut(t)},Gt=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(kt[n]+dt+1)]++,t.dyn_dtree[2*Ct(e)]++),t.sym_next===t.sym_end),Qt={_tr_init:$t,_tr_stored_block:Wt,_tr_flush_block:Zt,_tr_tally:Gt,_tr_align:t=>{Nt(t,2,3),Ot(t,256,bt),(t=>{16===t.bi_valid?(Pt(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var Jt=(t,e,n,r)=>{let i=65535&t,s=t>>>16&65535,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do{i=i+e[r++]|0,s=s+i|0}while(--o);i%=65521,s%=65521}return i|s<<16};const Yt=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var Xt=(t,e,n,r)=>{const i=Yt,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[255&(t^e[o])];return~t},te={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ee={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ne,_tr_stored_block:re,_tr_flush_block:ie,_tr_tally:se,_tr_align:oe}=Qt,{Z_NO_FLUSH:ae,Z_PARTIAL_FLUSH:ue,Z_FULL_FLUSH:le,Z_FINISH:ce,Z_BLOCK:he,Z_OK:de,Z_STREAM_END:fe,Z_STREAM_ERROR:pe,Z_DATA_ERROR:me,Z_BUF_ERROR:ge,Z_DEFAULT_COMPRESSION:ye,Z_FILTERED:ve,Z_HUFFMAN_ONLY:we,Z_RLE:be,Z_FIXED:_e,Z_DEFAULT_STRATEGY:Ee,Z_UNKNOWN:ke,Z_DEFLATED:Se}=ee,Ae=258,Me=262,Ie=42,Te=113,Re=666,xe=(t,e)=>(t.msg=te[e],e),Ce=t=>2*t-(t>4?9:0),Pe=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Ne=t=>{let e,n,r,i=t.w_size;e=t.hash_size,r=e;do{n=t.head[--r],t.head[r]=n>=i?n-i:0}while(--e);e=i,r=e;do{n=t.prev[--r],t.prev[r]=n>=i?n-i:0}while(--e)};let Oe=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const Le=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},Be=(t,e)=>{ie(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Le(t.strm)},De=(t,e)=>{t.pending_buf[t.pending++]=e},Ue=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},je=(t,e,n,r)=>{let i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),n),1===t.state.wrap?t.adler=Jt(t.adler,e,i,n):2===t.state.wrap&&(t.adler=Xt(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)},Fe=(t,e)=>{let n,r,i=t.max_chain_length,s=t.strstart,o=t.prev_length,a=t.nice_match;const u=t.strstart>t.w_size-Me?t.strstart-(t.w_size-Me):0,l=t.window,c=t.w_mask,h=t.prev,d=t.strstart+Ae;let f=l[s+o-1],p=l[s+o];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(n=e,l[n+o]===p&&l[n+o-1]===f&&l[n]===l[s]&&l[++n]===l[s+1]){s+=2,n++;do{}while(l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&l[++s]===l[++n]&&s<d);if(r=Ae-(d-s),s=d-Ae,r>o){if(t.match_start=e,o=r,r>=a)break;f=l[s+o-1],p=l[s+o]}}}while((e=h[e&c])>u&&0!=--i);return o<=t.lookahead?o:t.lookahead},Ve=t=>{const e=t.w_size;let n,r,i;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Me)&&(t.window.set(t.window.subarray(e,e+e-r),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Ne(t),r+=e),0===t.strm.avail_in)break;if(n=je(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Oe(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Oe(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Me&&0!==t.strm.avail_in)},ze=(t,e)=>{let n,r,i,s=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,o=0,a=t.strm.avail_in;do{if(n=65535,i=t.bi_valid+42>>3,t.strm.avail_out<i)break;if(i=t.strm.avail_out-i,r=t.strstart-t.block_start,n>r+t.strm.avail_in&&(n=r+t.strm.avail_in),n>i&&(n=i),n<s&&(0===n&&e!==ce||e===ae||n!==r+t.strm.avail_in))break;o=e===ce&&n===r+t.strm.avail_in?1:0,re(t,0,0,o),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,Le(t.strm),r&&(r>n&&(r=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,n-=r),n&&(je(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(0===o);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?4:e!==ae&&e!==ce&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(i=t.window_size-t.strstart,t.strm.avail_in>i&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,i+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),i>t.strm.avail_in&&(i=t.strm.avail_in),i&&(je(t.strm,t.window,t.strstart,i),t.strstart+=i,t.insert+=i>t.w_size-t.insert?t.w_size-t.insert:i),t.high_water<t.strstart&&(t.high_water=t.strstart),i=t.bi_valid+42>>3,i=t.pending_buf_size-i>65535?65535:t.pending_buf_size-i,s=i>t.w_size?t.w_size:i,r=t.strstart-t.block_start,(r>=s||(r||e===ce)&&e!==ae&&0===t.strm.avail_in&&r<=i)&&(n=r>i?i:r,o=e===ce&&0===t.strm.avail_in&&n===r?1:0,re(t,t.block_start,n,o),t.block_start+=n,Le(t.strm)),o?3:1)},He=(t,e)=>{let n,r;for(;;){if(t.lookahead<Me){if(Ve(t),t.lookahead<Me&&e===ae)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=Oe(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-Me&&(t.match_length=Fe(t,n)),t.match_length>=3)if(r=se(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Oe(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Oe(t,t.ins_h,t.window[t.strstart+1]);else r=se(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(Be(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===ce?(Be(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Be(t,!1),0===t.strm.avail_out)?1:2},qe=(t,e)=>{let n,r,i;for(;;){if(t.lookahead<Me){if(Ve(t),t.lookahead<Me&&e===ae)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=Oe(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Me&&(t.match_length=Fe(t,n),t.match_length<=5&&(t.strategy===ve||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=se(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=Oe(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(Be(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(r=se(t,0,t.window[t.strstart-1]),r&&Be(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=se(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===ce?(Be(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Be(t,!1),0===t.strm.avail_out)?1:2};function Ke(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}const We=[new Ke(0,0,0,0,ze),new Ke(4,4,8,4,He),new Ke(4,5,16,8,He),new Ke(4,6,32,32,He),new Ke(4,4,16,16,qe),new Ke(8,16,32,32,qe),new Ke(8,16,128,128,qe),new Ke(8,32,128,256,qe),new Ke(32,128,258,1024,qe),new Ke(32,258,258,4096,qe)];function $e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Se,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Pe(this.dyn_ltree),Pe(this.dyn_dtree),Pe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Pe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Pe(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ze=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Ie&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&e.status!==Te&&e.status!==Re?1:0},Ge=t=>{if(Ze(t))return xe(t,pe);t.total_in=t.total_out=0,t.data_type=ke;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?Ie:Te,t.adler=2===e.wrap?0:1,e.last_flush=-2,ne(e),de},Qe=t=>{const e=Ge(t);var n;return e===de&&((n=t.state).window_size=2*n.w_size,Pe(n.head),n.max_lazy_match=We[n.level].max_lazy,n.good_match=We[n.level].good_length,n.nice_match=We[n.level].nice_length,n.max_chain_length=We[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),e},Je=(t,e,n,r,i,s)=>{if(!t)return pe;let o=1;if(e===ye&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>9||n!==Se||r<8||r>15||e<0||e>9||s<0||s>_e||8===r&&1!==o)return xe(t,pe);8===r&&(r=9);const a=new $e;return t.state=a,a.strm=t,a.status=Ie,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=e,a.strategy=s,a.method=n,Qe(t)};var Ye={deflateInit:(t,e)=>Je(t,e,Se,15,8,Ee),deflateInit2:Je,deflateReset:Qe,deflateResetKeep:Ge,deflateSetHeader:(t,e)=>Ze(t)||2!==t.state.wrap?pe:(t.state.gzhead=e,de),deflate:(t,e)=>{if(Ze(t)||e>he||e<0)return t?xe(t,pe):pe;const n=t.state;if(!t.output||0!==t.avail_in&&!t.input||n.status===Re&&e!==ce)return xe(t,0===t.avail_out?ge:pe);const r=n.last_flush;if(n.last_flush=e,0!==n.pending){if(Le(t),0===t.avail_out)return n.last_flush=-1,de}else if(0===t.avail_in&&Ce(e)<=Ce(r)&&e!==ce)return xe(t,ge);if(n.status===Re&&0!==t.avail_in)return xe(t,ge);if(n.status===Ie&&0===n.wrap&&(n.status=Te),n.status===Ie){let e=Se+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=we||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=r<<6,0!==n.strstart&&(e|=32),e+=31-e%31,Ue(n,e),0!==n.strstart&&(Ue(n,t.adler>>>16),Ue(n,65535&t.adler)),t.adler=1,n.status=Te,Le(t),0!==n.pending)return n.last_flush=-1,de}if(57===n.status)if(t.adler=0,De(n,31),De(n,139),De(n,8),n.gzhead)De(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),De(n,255&n.gzhead.time),De(n,n.gzhead.time>>8&255),De(n,n.gzhead.time>>16&255),De(n,n.gzhead.time>>24&255),De(n,9===n.level?2:n.strategy>=we||n.level<2?4:0),De(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(De(n,255&n.gzhead.extra.length),De(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Xt(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(De(n,0),De(n,0),De(n,0),De(n,0),De(n,0),De(n,9===n.level?2:n.strategy>=we||n.level<2?4:0),De(n,3),n.status=Te,Le(t),0!==n.pending)return n.last_flush=-1,de;if(69===n.status){if(n.gzhead.extra){let e=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>e&&(t.adler=Xt(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex+=i,Le(t),0!==n.pending)return n.last_flush=-1,de;e=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>e&&(t.adler=Xt(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=Xt(t.adler,n.pending_buf,n.pending-r,r)),Le(t),0!==n.pending)return n.last_flush=-1,de;r=0}e=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,De(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=Xt(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let e,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=Xt(t.adler,n.pending_buf,n.pending-r,r)),Le(t),0!==n.pending)return n.last_flush=-1,de;r=0}e=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,De(n,e)}while(0!==e);n.gzhead.hcrc&&n.pending>r&&(t.adler=Xt(t.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Le(t),0!==n.pending))return n.last_flush=-1,de;De(n,255&t.adler),De(n,t.adler>>8&255),t.adler=0}if(n.status=Te,Le(t),0!==n.pending)return n.last_flush=-1,de}if(0!==t.avail_in||0!==n.lookahead||e!==ae&&n.status!==Re){let r=0===n.level?ze(n,e):n.strategy===we?((t,e)=>{let n;for(;;){if(0===t.lookahead&&(Ve(t),0===t.lookahead)){if(e===ae)return 1;break}if(t.match_length=0,n=se(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(Be(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===ce?(Be(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Be(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===be?((t,e)=>{let n,r,i,s;const o=t.window;for(;;){if(t.lookahead<=Ae){if(Ve(t),t.lookahead<=Ae&&e===ae)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=t.strstart+Ae;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);t.match_length=Ae-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=se(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=se(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(Be(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===ce?(Be(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(Be(t,!1),0===t.strm.avail_out)?1:2})(n,e):We[n.level].func(n,e);if(3!==r&&4!==r||(n.status=Re),1===r||3===r)return 0===t.avail_out&&(n.last_flush=-1),de;if(2===r&&(e===ue?oe(n):e!==he&&(re(n,0,0,!1),e===le&&(Pe(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Le(t),0===t.avail_out))return n.last_flush=-1,de}return e!==ce?de:n.wrap<=0?fe:(2===n.wrap?(De(n,255&t.adler),De(n,t.adler>>8&255),De(n,t.adler>>16&255),De(n,t.adler>>24&255),De(n,255&t.total_in),De(n,t.total_in>>8&255),De(n,t.total_in>>16&255),De(n,t.total_in>>24&255)):(Ue(n,t.adler>>>16),Ue(n,65535&t.adler)),Le(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?de:fe)},deflateEnd:t=>{if(Ze(t))return pe;const e=t.state.status;return t.state=null,e===Te?xe(t,me):de},deflateSetDictionary:(t,e)=>{let n=e.length;if(Ze(t))return pe;const r=t.state,i=r.wrap;if(2===i||1===i&&r.status!==Ie||r.lookahead)return pe;if(1===i&&(t.adler=Jt(t.adler,e,n,0)),r.wrap=0,n>=r.w_size){0===i&&(Pe(r.head),r.strstart=0,r.block_start=0,r.insert=0);let t=new Uint8Array(r.w_size);t.set(e.subarray(n-r.w_size,n),0),e=t,n=r.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,Ve(r);r.lookahead>=3;){let t=r.strstart,e=r.lookahead-2;do{r.ins_h=Oe(r,r.ins_h,r.window[t+3-1]),r.prev[t&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=t,t++}while(--e);r.strstart=t,r.lookahead=2,Ve(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,r.wrap=i,de},deflateInfo:"pako deflate (from Nodeca project)"};const Xe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var tn=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const e in n)Xe(n,e)&&(t[e]=n[e])}}return t},en=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let e=t[r];n.set(e,i),i+=e.length}return n};let nn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Ro){nn=!1}const rn=new Uint8Array(256);for(let xo=0;xo<256;xo++)rn[xo]=xo>=252?6:xo>=248?5:xo>=240?4:xo>=224?3:xo>=192?2:1;rn[254]=rn[254]=1;var sn=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<o&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),55296==(64512&n)&&i+1<o&&(r=t.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},on=(t,e)=>{const n=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let r,i;const s=new Array(2*n);for(i=0,r=0;r<n;){let e=t[r++];if(e<128){s[i++]=e;continue}let o=rn[e];if(o>4)s[i++]=65533,r+=o-1;else{for(e&=2===o?31:3===o?15:7;o>1&&r<n;)e=e<<6|63&t[r++],o--;o>1?s[i++]=65533:e<65536?s[i++]=e:(e-=65536,s[i++]=55296|e>>10&1023,s[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&nn)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n})(s,i)},an=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+rn[t[n]]>e?n:e};var un=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const ln=Object.prototype.toString,{Z_NO_FLUSH:cn,Z_SYNC_FLUSH:hn,Z_FULL_FLUSH:dn,Z_FINISH:fn,Z_OK:pn,Z_STREAM_END:mn,Z_DEFAULT_COMPRESSION:gn,Z_DEFAULT_STRATEGY:yn,Z_DEFLATED:vn}=ee;function wn(t){this.options=tn({level:gn,method:vn,chunkSize:16384,windowBits:15,memLevel:8,strategy:yn},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new un,this.strm.avail_out=0;let n=Ye.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==pn)throw new Error(te[n]);if(e.header&&Ye.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?sn(e.dictionary):"[object ArrayBuffer]"===ln.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=Ye.deflateSetDictionary(this.strm,t),n!==pn)throw new Error(te[n]);this._dict_set=!0}}function bn(t,e){const n=new wn(e);if(n.push(t,!0),n.err)throw n.msg||te[n.err];return n.result}wn.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?fn:cn,"string"==typeof t?n.input=sn(t):"[object ArrayBuffer]"===ln.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===hn||s===dn)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=Ye.deflate(n,s),i===mn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Ye.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===pn;if(0!==n.avail_out){if(s>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},wn.prototype.onData=function(t){this.chunks.push(t)},wn.prototype.onEnd=function(t){t===pn&&(this.result=en(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var _n={Deflate:wn,deflate:bn,deflateRaw:function(t,e){return(e=e||{}).raw=!0,bn(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,bn(t,e)},constants:ee};const En=16209;var kn=function(t,e){let n,r,i,s,o,a,u,l,c,h,d,f,p,m,g,y,v,w,b,_,E,k,S,A;const M=t.state;n=t.next_in,S=t.input,r=n+(t.avail_in-5),i=t.next_out,A=t.output,s=i-(e-t.avail_out),o=i+(t.avail_out-257),a=M.dmax,u=M.wsize,l=M.whave,c=M.wnext,h=M.window,d=M.hold,f=M.bits,p=M.lencode,m=M.distcode,g=(1<<M.lenbits)-1,y=(1<<M.distbits)-1;t:do{f<15&&(d+=S[n++]<<f,f+=8,d+=S[n++]<<f,f+=8),v=p[d&g];e:for(;;){if(w=v>>>24,d>>>=w,f-=w,w=v>>>16&255,0===w)A[i++]=65535&v;else{if(!(16&w)){if(64&w){if(32&w){M.mode=16191;break t}t.msg="invalid literal/length code",M.mode=En;break t}v=p[(65535&v)+(d&(1<<w)-1)];continue e}for(b=65535&v,w&=15,w&&(f<w&&(d+=S[n++]<<f,f+=8),b+=d&(1<<w)-1,d>>>=w,f-=w),f<15&&(d+=S[n++]<<f,f+=8,d+=S[n++]<<f,f+=8),v=m[d&y];;){if(w=v>>>24,d>>>=w,f-=w,w=v>>>16&255,16&w){if(_=65535&v,w&=15,f<w&&(d+=S[n++]<<f,f+=8,f<w&&(d+=S[n++]<<f,f+=8)),_+=d&(1<<w)-1,_>a){t.msg="invalid distance too far back",M.mode=En;break t}if(d>>>=w,f-=w,w=i-s,_>w){if(w=_-w,w>l&&M.sane){t.msg="invalid distance too far back",M.mode=En;break t}if(E=0,k=h,0===c){if(E+=u-w,w<b){b-=w;do{A[i++]=h[E++]}while(--w);E=i-_,k=A}}else if(c<w){if(E+=u+c-w,w-=c,w<b){b-=w;do{A[i++]=h[E++]}while(--w);if(E=0,c<b){w=c,b-=w;do{A[i++]=h[E++]}while(--w);E=i-_,k=A}}}else if(E+=c-w,w<b){b-=w;do{A[i++]=h[E++]}while(--w);E=i-_,k=A}for(;b>2;)A[i++]=k[E++],A[i++]=k[E++],A[i++]=k[E++],b-=3;b&&(A[i++]=k[E++],b>1&&(A[i++]=k[E++]))}else{E=i-_;do{A[i++]=A[E++],A[i++]=A[E++],A[i++]=A[E++],b-=3}while(b>2);b&&(A[i++]=A[E++],b>1&&(A[i++]=A[E++]))}break}if(64&w){t.msg="invalid distance code",M.mode=En;break t}v=m[(65535&v)+(d&(1<<w)-1)]}}break}}while(n<r&&i<o);b=f>>3,n-=b,f-=b<<3,d&=(1<<f)-1,t.next_in=n,t.next_out=i,t.avail_in=n<r?r-n+5:5-(n-r),t.avail_out=i<o?o-i+257:257-(i-o),M.hold=d,M.bits=f};const Sn=15,An=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Mn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),In=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Tn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Rn=(t,e,n,r,i,s,o,a)=>{const u=a.bits;let l,c,h,d,f,p,m=0,g=0,y=0,v=0,w=0,b=0,_=0,E=0,k=0,S=0,A=null;const M=new Uint16Array(16),I=new Uint16Array(16);let T,R,x,C=null;for(m=0;m<=Sn;m++)M[m]=0;for(g=0;g<r;g++)M[e[n+g]]++;for(w=u,v=Sn;v>=1&&0===M[v];v--);if(w>v&&(w=v),0===v)return i[s++]=20971520,i[s++]=20971520,a.bits=1,0;for(y=1;y<v&&0===M[y];y++);for(w<y&&(w=y),E=1,m=1;m<=Sn;m++)if(E<<=1,E-=M[m],E<0)return-1;if(E>0&&(0===t||1!==v))return-1;for(I[1]=0,m=1;m<Sn;m++)I[m+1]=I[m]+M[m];for(g=0;g<r;g++)0!==e[n+g]&&(o[I[e[n+g]]++]=g);if(0===t?(A=C=o,p=20):1===t?(A=An,C=Mn,p=257):(A=In,C=Tn,p=0),S=0,g=0,m=y,f=s,b=w,_=0,h=-1,k=1<<w,d=k-1,1===t&&k>852||2===t&&k>592)return 1;for(;;){T=m-_,o[g]+1<p?(R=0,x=o[g]):o[g]>=p?(R=C[o[g]-p],x=A[o[g]-p]):(R=96,x=0),l=1<<m-_,c=1<<b,y=c;do{c-=l,i[f+(S>>_)+c]=T<<24|R<<16|x}while(0!==c);for(l=1<<m-1;S&l;)l>>=1;if(0!==l?(S&=l-1,S+=l):S=0,g++,0==--M[m]){if(m===v)break;m=e[n+o[g]]}if(m>w&&(S&d)!==h){for(0===_&&(_=w),f+=y,b=m-_,E=1<<b;b+_<v&&(E-=M[b+_],!(E<=0));)b++,E<<=1;if(k+=1<<b,1===t&&k>852||2===t&&k>592)return 1;h=S&d,i[h]=w<<24|b<<16|f-s}}return 0!==S&&(i[f+S]=m-_<<24|64<<16),a.bits=w,0};const{Z_FINISH:xn,Z_BLOCK:Cn,Z_TREES:Pn,Z_OK:Nn,Z_STREAM_END:On,Z_NEED_DICT:Ln,Z_STREAM_ERROR:Bn,Z_DATA_ERROR:Dn,Z_MEM_ERROR:Un,Z_BUF_ERROR:jn,Z_DEFLATED:Fn}=ee,Vn=16180,zn=16190,Hn=16191,qn=16192,Kn=16194,Wn=16199,$n=16200,Zn=16206,Gn=16209,Qn=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Jn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Yn=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Vn||e.mode>16211?1:0},Xn=t=>{if(Yn(t))return Bn;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=Vn,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Nn},tr=t=>{if(Yn(t))return Bn;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Xn(t)},er=(t,e)=>{let n;if(Yn(t))return Bn;const r=t.state;return e<0?(n=0,e=-e):(n=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Bn:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,tr(t))},nr=(t,e)=>{if(!t)return Bn;const n=new Jn;t.state=n,n.strm=t,n.window=null,n.mode=Vn;const r=er(t,e);return r!==Nn&&(t.state=null),r};let rr,ir,sr=!0;const or=t=>{if(sr){rr=new Int32Array(512),ir=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Rn(1,t.lens,0,288,rr,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Rn(2,t.lens,0,32,ir,0,t.work,{bits:5}),sr=!1}t.lencode=rr,t.lenbits=9,t.distcode=ir,t.distbits=5},ar=(t,e,n,r)=>{let i;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),(r-=i)?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var ur={inflateReset:tr,inflateReset2:er,inflateResetKeep:Xn,inflateInit:t=>nr(t,15),inflateInit2:nr,inflate:(t,e)=>{let n,r,i,s,o,a,u,l,c,h,d,f,p,m,g,y,v,w,b,_,E,k,S=0;const A=new Uint8Array(4);let M,I;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Yn(t)||!t.output||!t.input&&0!==t.avail_in)return Bn;n=t.state,n.mode===Hn&&(n.mode=qn),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,l=n.hold,c=n.bits,h=a,d=u,k=Nn;t:for(;;)switch(n.mode){case Vn:if(0===n.wrap){n.mode=qn;break}for(;c<16;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}if(2&n.wrap&&35615===l){0===n.wbits&&(n.wbits=15),n.check=0,A[0]=255&l,A[1]=l>>>8&255,n.check=Xt(n.check,A,2,0),l=0,c=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){t.msg="incorrect header check",n.mode=Gn;break}if((15&l)!==Fn){t.msg="unknown compression method",n.mode=Gn;break}if(l>>>=4,c-=4,E=8+(15&l),0===n.wbits&&(n.wbits=E),E>15||E>n.wbits){t.msg="invalid window size",n.mode=Gn;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&l?16189:Hn,l=0,c=0;break;case 16181:for(;c<16;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}if(n.flags=l,(255&n.flags)!==Fn){t.msg="unknown compression method",n.mode=Gn;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Gn;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&4&n.wrap&&(A[0]=255&l,A[1]=l>>>8&255,n.check=Xt(n.check,A,2,0)),l=0,c=0,n.mode=16182;case 16182:for(;c<32;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}n.head&&(n.head.time=l),512&n.flags&&4&n.wrap&&(A[0]=255&l,A[1]=l>>>8&255,A[2]=l>>>16&255,A[3]=l>>>24&255,n.check=Xt(n.check,A,4,0)),l=0,c=0,n.mode=16183;case 16183:for(;c<16;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&4&n.wrap&&(A[0]=255&l,A[1]=l>>>8&255,n.check=Xt(n.check,A,2,0)),l=0,c=0,n.mode=16184;case 16184:if(1024&n.flags){for(;c<16;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&4&n.wrap&&(A[0]=255&l,A[1]=l>>>8&255,n.check=Xt(n.check,A,2,0)),l=0,c=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>a&&(f=a),f&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+f),E)),512&n.flags&&4&n.wrap&&(n.check=Xt(n.check,r,f,s)),a-=f,s+=f,n.length-=f),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===a)break t;f=0;do{E=r[s+f++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E))}while(E&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=Xt(n.check,r,f,s)),a-=f,s+=f,E)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===a)break t;f=0;do{E=r[s+f++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E))}while(E&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=Xt(n.check,r,f,s)),a-=f,s+=f,E)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;c<16;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}if(4&n.wrap&&l!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Gn;break}l=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Hn;break;case 16189:for(;c<32;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}t.adler=n.check=Qn(l),l=0,c=0,n.mode=zn;case zn:if(0===n.havedict)return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,n.hold=l,n.bits=c,Ln;t.adler=n.check=1,n.mode=Hn;case Hn:if(e===Cn||e===Pn)break t;case qn:if(n.last){l>>>=7&c,c-=7&c,n.mode=Zn;break}for(;c<3;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}switch(n.last=1&l,l>>>=1,c-=1,3&l){case 0:n.mode=16193;break;case 1:if(or(n),n.mode=Wn,e===Pn){l>>>=2,c-=2;break t}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=Gn}l>>>=2,c-=2;break;case 16193:for(l>>>=7&c,c-=7&c;c<32;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}if((65535&l)!=(l>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Gn;break}if(n.length=65535&l,l=0,c=0,n.mode=Kn,e===Pn)break t;case Kn:n.mode=16195;case 16195:if(f=n.length,f){if(f>a&&(f=a),f>u&&(f=u),0===f)break t;i.set(r.subarray(s,s+f),o),a-=f,s+=f,u-=f,o+=f,n.length-=f;break}n.mode=Hn;break;case 16196:for(;c<14;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}if(n.nlen=257+(31&l),l>>>=5,c-=5,n.ndist=1+(31&l),l>>>=5,c-=5,n.ncode=4+(15&l),l>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Gn;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;c<3;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}n.lens[T[n.have++]]=7&l,l>>>=3,c-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},k=Rn(0,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,k){t.msg="invalid code lengths set",n.mode=Gn;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[l&(1<<n.lenbits)-1],g=S>>>24,y=S>>>16&255,v=65535&S,!(g<=c);){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}if(v<16)l>>>=g,c-=g,n.lens[n.have++]=v;else{if(16===v){for(I=g+2;c<I;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}if(l>>>=g,c-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=Gn;break}E=n.lens[n.have-1],f=3+(3&l),l>>>=2,c-=2}else if(17===v){for(I=g+3;c<I;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}l>>>=g,c-=g,E=0,f=3+(7&l),l>>>=3,c-=3}else{for(I=g+7;c<I;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}l>>>=g,c-=g,E=0,f=11+(127&l),l>>>=7,c-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Gn;break}for(;f--;)n.lens[n.have++]=E}}if(n.mode===Gn)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Gn;break}if(n.lenbits=9,M={bits:n.lenbits},k=Rn(1,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,k){t.msg="invalid literal/lengths set",n.mode=Gn;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},k=Rn(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,k){t.msg="invalid distances set",n.mode=Gn;break}if(n.mode=Wn,e===Pn)break t;case Wn:n.mode=$n;case $n:if(a>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,n.hold=l,n.bits=c,kn(t,d),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,l=n.hold,c=n.bits,n.mode===Hn&&(n.back=-1);break}for(n.back=0;S=n.lencode[l&(1<<n.lenbits)-1],g=S>>>24,y=S>>>16&255,v=65535&S,!(g<=c);){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}if(y&&!(240&y)){for(w=g,b=y,_=v;S=n.lencode[_+((l&(1<<w+b)-1)>>w)],g=S>>>24,y=S>>>16&255,v=65535&S,!(w+g<=c);){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}l>>>=w,c-=w,n.back+=w}if(l>>>=g,c-=g,n.back+=g,n.length=v,0===y){n.mode=16205;break}if(32&y){n.back=-1,n.mode=Hn;break}if(64&y){t.msg="invalid literal/length code",n.mode=Gn;break}n.extra=15&y,n.mode=16201;case 16201:if(n.extra){for(I=n.extra;c<I;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;S=n.distcode[l&(1<<n.distbits)-1],g=S>>>24,y=S>>>16&255,v=65535&S,!(g<=c);){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}if(!(240&y)){for(w=g,b=y,_=v;S=n.distcode[_+((l&(1<<w+b)-1)>>w)],g=S>>>24,y=S>>>16&255,v=65535&S,!(w+g<=c);){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}l>>>=w,c-=w,n.back+=w}if(l>>>=g,c-=g,n.back+=g,64&y){t.msg="invalid distance code",n.mode=Gn;break}n.offset=v,n.extra=15&y,n.mode=16203;case 16203:if(n.extra){for(I=n.extra;c<I;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Gn;break}n.mode=16204;case 16204:if(0===u)break t;if(f=d-u,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Gn;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=i,p=o-n.offset,f=n.length;f>u&&(f=u),u-=f,n.length-=f;do{i[o++]=m[p++]}while(--f);0===n.length&&(n.mode=$n);break;case 16205:if(0===u)break t;i[o++]=n.length,u--,n.mode=$n;break;case Zn:if(n.wrap){for(;c<32;){if(0===a)break t;a--,l|=r[s++]<<c,c+=8}if(d-=u,t.total_out+=d,n.total+=d,4&n.wrap&&d&&(t.adler=n.check=n.flags?Xt(n.check,i,d,o-d):Jt(n.check,i,d,o-d)),d=u,4&n.wrap&&(n.flags?l:Qn(l))!==n.check){t.msg="incorrect data check",n.mode=Gn;break}l=0,c=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;c<32;){if(0===a)break t;a--,l+=r[s++]<<c,c+=8}if(4&n.wrap&&l!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Gn;break}l=0,c=0}n.mode=16208;case 16208:k=On;break t;case Gn:k=Dn;break t;case 16210:return Un;default:return Bn}return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,n.hold=l,n.bits=c,(n.wsize||d!==t.avail_out&&n.mode<Gn&&(n.mode<Zn||e!==xn))&&ar(t,t.output,t.next_out,d-t.avail_out),h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,n.total+=d,4&n.wrap&&d&&(t.adler=n.check=n.flags?Xt(n.check,i,d,t.next_out-d):Jt(n.check,i,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Hn?128:0)+(n.mode===Wn||n.mode===Kn?256:0),(0===h&&0===d||e===xn)&&k===Nn&&(k=jn),k},inflateEnd:t=>{if(Yn(t))return Bn;let e=t.state;return e.window&&(e.window=null),t.state=null,Nn},inflateGetHeader:(t,e)=>{if(Yn(t))return Bn;const n=t.state;return 2&n.wrap?(n.head=e,e.done=!1,Nn):Bn},inflateSetDictionary:(t,e)=>{const n=e.length;let r,i,s;return Yn(t)?Bn:(r=t.state,0!==r.wrap&&r.mode!==zn?Bn:r.mode===zn&&(i=1,i=Jt(i,e,n,0),i!==r.check)?Dn:(s=ar(t,e,n,n),s?(r.mode=16210,Un):(r.havedict=1,Nn)))},inflateInfo:"pako inflate (from Nodeca project)"};var lr=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const cr=Object.prototype.toString,{Z_NO_FLUSH:hr,Z_FINISH:dr,Z_OK:fr,Z_STREAM_END:pr,Z_NEED_DICT:mr,Z_STREAM_ERROR:gr,Z_DATA_ERROR:yr,Z_MEM_ERROR:vr}=ee;function wr(t){this.options=tn({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new un,this.strm.avail_out=0;let n=ur.inflateInit2(this.strm,e.windowBits);if(n!==fr)throw new Error(te[n]);if(this.header=new lr,ur.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=sn(e.dictionary):"[object ArrayBuffer]"===cr.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=ur.inflateSetDictionary(this.strm,e.dictionary),n!==fr)))throw new Error(te[n])}function br(t,e){const n=new wr(e);if(n.push(t),n.err)throw n.msg||te[n.err];return n.result}wr.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(o=e===~~e?e:!0===e?dr:hr,"[object ArrayBuffer]"===cr.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=ur.inflate(n,o),s===mr&&i&&(s=ur.inflateSetDictionary(n,i),s===fr?s=ur.inflate(n,o):s===yr&&(s=mr));n.avail_in>0&&s===pr&&n.state.wrap>0&&0!==t[n.next_in];)ur.inflateReset(n),s=ur.inflate(n,o);switch(s){case gr:case yr:case mr:case vr:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||s===pr))if("string"===this.options.to){let t=an(n.output,n.next_out),e=n.next_out-t,i=on(n.output,t);n.next_out=e,n.avail_out=r-e,e&&n.output.set(n.output.subarray(t,t+e),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(s!==fr||0!==a){if(s===pr)return s=ur.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},wr.prototype.onData=function(t){this.chunks.push(t)},wr.prototype.onEnd=function(t){t===fr&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=en(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var _r={Inflate:wr,inflate:br,inflateRaw:function(t,e){return(e=e||{}).raw=!0,br(t,e)},ungzip:br,constants:ee};const{Deflate:Er,deflate:kr,deflateRaw:Sr,gzip:Ar}=_n,{Inflate:Mr,inflate:Ir,inflateRaw:Tr,ungzip:Rr}=_r;var xr=Ir,Cr=n(8411),Pr=n.n(Cr);const Nr=t=>"version"in t;function Or(t){return new TextDecoder("utf-8").decode(t)}function Lr(t){return at().encode(t)}function Br(t){return t.toString("base64")}function Dr(t){return rt.Buffer.from(t,"base64")}function Ur(t){return"accounts"in t}const jr=ct.struct([ct.publicKey("authority"),ct.vecU8("data")]);function Fr(t,e,n,r){return(null==t?void 0:t.length)?t[0].name?n(t):r(t):e()}function Vr(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach((t=>{n[t.name]=e[r],r+=1})),n}function zr(t,e={}){t.forEach((t=>{if(Ur(t))zr(t.accounts,e[t.name]);else if(!e[t.name])throw new Error(`Account \`${t.name}\` not provided.`)}))}function Hr(t){return t instanceof s.PublicKey?t:new s.PublicKey(t)}class StructError extends TypeError{constructor(t,e){let n;const{message:r,...i}=t,{path:s}=t;super(0===s.length?r:"At path: "+s.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[t,...e()]}}}function qr(t){return"object"==typeof t&&null!=t}function Kr(t){return"string"==typeof t?JSON.stringify(t):""+t}function Wr(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:u="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Kr(r)+"`"}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*$r(t,e,n,r){var i;qr(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const s of t){const t=Wr(s,e,n,r);t&&(yield t)}}function*Zr(t,e,n){void 0===n&&(n={});const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&"type"!==e.type&&qr(e.schema)&&qr(t)&&!Array.isArray(t)))for(const l in t)void 0===e.schema[l]&&delete t[l];let u=!0;for(const l of e.validator(t,a))u=!1,yield[l,void 0];for(let[l,c,h]of e.entries(t,a)){const e=Zr(c,h,{path:void 0===l?r:[...r,l],branch:void 0===l?i:[...i,c],coerce:s,mask:o});for(const n of e)n[0]?(u=!1,yield[n[0],void 0]):s&&(c=n[1],void 0===l?t=c:t instanceof Map?t.set(l,c):t instanceof Set?t.add(c):qr(t)&&(t[l]=c))}if(u)for(const l of e.refiner(t,a))u=!1,yield[l,void 0];u&&(yield[void 0,t])}class Struct{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:n,validator:r,refiner:i,coercer:s=t=>t,entries:o=function*(){}}=t;this.type=e,this.schema=n,this.entries=o,this.coercer=s,this.validator=r?(t,e)=>$r(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>$r(i(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const n=Jr(t,e);if(n[0])throw n[0]}(t,this)}create(t){return Gr(t,this)}is(t){return Qr(t,this)}mask(t){return function(t,e){const n=Jr(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(t,this)}validate(t,e){return void 0===e&&(e={}),Jr(t,this,e)}}function Gr(t,e){const n=Jr(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function Qr(t,e){return!Jr(t,e)[0]}function Jr(t,e,n){void 0===n&&(n={});const r=Zr(t,e,n),i=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(i[0]){return[new StructError(i[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function Yr(t,e){return new Struct({type:t,schema:null,validator:e})}function Xr(t){return new Struct({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+Kr(t)})}function ti(t){const e=Kr(t),n=typeof t;return new Struct({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+Kr(n)})}function ei(t){return new Struct({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function ni(){return Yr("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+Kr(t)))}function ri(t){return new Struct({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function ii(){return Yr("string",(t=>"string"==typeof t||"Expected a string, but received: "+Kr(t)))}function si(t){const e=Object.keys(t);return new Struct({type:"type",schema:t,*entries(n){if(qr(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>qr(t)||"Expected an object, but received: "+Kr(t)})}function oi(t){const e=t.map((t=>t.type)).join(" | ");return new Struct({type:"union",schema:null,coercer:(e,n)=>(t.find((t=>{const[n]=t.validate(e,{coerce:!0});return!n}))||ai()).coercer(e,n),validator(n,r){const i=[];for(const e of t){const[...t]=Zr(n,e,r),[s]=t;if(!s[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Kr(n),...i]}})}function ai(){return Yr("unknown",(()=>!0))}async function ui(t,e,n){if(e.length<=99)return await li(t,e,n);{const r=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map(((n,r)=>t.slice(r*e,(r+1)*e)))}(e,99);return(await Promise.all(r.map((e=>li(t,e,n))))).flat()}}async function li(t,e,n){const r=null!=n?n:t.commitment,{value:i,context:s}=await t.getMultipleAccountsInfoAndContext(e,r);return i.map(((t,n)=>null===t?null:{publicKey:e[n],account:t,context:s}))}async function ci(t,e,n,r,i){var o;n&&n.length>0&&e.sign(...n);const a=e._compile(),u=a.serialize(),l=e._serialize(u).toString("base64"),c={encoding:"base64",commitment:null!=r?r:t.commitment};if(i){const t=(Array.isArray(i)?i:a.nonProgramIds()).map((t=>t.toBase58()));c.accounts={encoding:"base64",addresses:t}}n&&n.length>0&&(c.sigVerify=!0);const h=[l,c],d=Gr(await t._rpcRequest("simulateTransaction",h),pi);if("error"in d){let t;if("data"in d.error&&(t=null===(o=d.error.data)||void 0===o?void 0:o.logs,t&&Array.isArray(t))){const e="\n    ",n=e+t.join(e);console.error(d.error.message,n)}throw new s.SendTransactionError("failed to simulate transaction: "+d.error.message,t)}return d.result}function hi(t){return function(t,e,n){return new Struct({...t,coercer:(r,i)=>Qr(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}(fi(t),di,(e=>"error"in e?e:{...e,result:Gr(e.result,t)}))}const di=fi(ai());function fi(t){return oi([si({jsonrpc:ti("2.0"),id:ii(),result:t}),si({jsonrpc:ti("2.0"),id:ii(),error:si({code:ai(),message:ii(),data:ri(Yr("any",(()=>!0)))})})])}const pi=(mi=si({err:ei(oi([si({}),ii()])),logs:ei(Xr(ii())),accounts:ri(ei(Xr(ei(si({executable:Yr("boolean",(t=>"boolean"==typeof t)),owner:ii(),lamports:ni(),data:Xr(ii()),rentEpoch:ri(ni())}))))),unitsConsumed:ri(ni())}),hi(si({context:si({slot:ni()}),value:mi})));var mi;class AnchorProvider{constructor(t,e,n=AnchorProvider.defaultOptions()){this.connection=t,this.wallet=e,this.opts=n,this.publicKey=null==e?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e=AnchorProvider.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,n){var r,i,o,a;if(void 0===n&&(n=this.opts),Nr(t))e&&t.sign(e);else if(t.feePayer=null!==(r=t.feePayer)&&void 0!==r?r:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,e)for(const s of e)t.partialSign(s);const u=(t=await this.wallet.signTransaction(t)).serialize();try{return await gi(this.connection,u,n)}catch(xe){if(xe instanceof ConfirmError){const n=Lr(Nr(t)?(null===(i=t.signatures)||void 0===i?void 0:i[0])||new Uint8Array:null!==(o=t.signature)&&void 0!==o?o:new Uint8Array),r=Nr(t)?0:void 0,u=await this.connection.getTransaction(n,{commitment:"confirmed",maxSupportedTransactionVersion:r});if(u){const t=null===(a=u.meta)||void 0===a?void 0:a.logMessages;throw t?new s.SendTransactionError(xe.message,t):xe}throw xe}throw xe}}async sendAll(t,e){var n,r,i;void 0===e&&(e=this.opts);const o=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash;let a=t.map((t=>{var e,n;if(Nr(t.tx)){let e=t.tx;return t.signers&&e.sign(t.signers),e}{let r=t.tx,i=null!==(e=t.signers)&&void 0!==e?e:[];return r.feePayer=null!==(n=r.feePayer)&&void 0!==n?n:this.wallet.publicKey,r.recentBlockhash=o,i.forEach((t=>{r.partialSign(t)})),r}}));const u=await this.wallet.signAllTransactions(a),l=[];for(let c=0;c<a.length;c+=1){const t=u[c],o=t.serialize();try{l.push(await gi(this.connection,o,e))}catch(xe){if(xe instanceof ConfirmError){const o=Lr(Nr(t)?(null===(n=t.signatures)||void 0===n?void 0:n[0])||new Uint8Array:null!==(r=t.signature)&&void 0!==r?r:new Uint8Array),a=Nr(t)?0:void 0,u=await this.connection.getTransaction(o,{commitment:"confirmed",maxSupportedTransactionVersion:a});if(u){const t=null===(i=u.meta)||void 0===i?void 0:i.logMessages;throw t?new s.SendTransactionError(xe.message,t):xe}throw xe}throw xe}}return l}async simulate(t,e,n,r){let i,s=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash;if(Nr(t)?(e&&e.length>0&&(t.sign(e),t=await this.wallet.signTransaction(t)),i=await this.connection.simulateTransaction(t,{commitment:n})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=s,e&&e.length>0&&(t=await this.wallet.signTransaction(t)),i=await ci(this.connection,t,e,n,r)),i.value.err)throw new SimulateError(i.value);return i.value}}class SimulateError extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function gi(t,e,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await t.sendRawTransaction(e,r),s=(await t.confirmTransaction(i,n&&n.commitment)).value;if(s.err)throw new ConfirmError(`Raw transaction ${i} failed (${JSON.stringify(s)})`);return i}class ConfirmError extends Error{constructor(t){super(t)}}function yi(){return null===vi?AnchorProvider.local():vi}let vi=null;var wi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};var bi={};Object.defineProperty(bi,"__esModule",{value:!0});var _i=bi.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=bi.ANCHOR_ERROR__REQUIRE_VIOLATED=bi.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=bi.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=bi.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=bi.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=bi.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=bi.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=bi.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=bi.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=bi.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=bi.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=bi.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=bi.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=bi.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=bi.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=bi.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=bi.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=bi.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=bi.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=bi.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=bi.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=bi.ANCHOR_ERROR__CONSTRAINT_SPACE=bi.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=bi.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=bi.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=bi.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=bi.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=bi.ANCHOR_ERROR__CONSTRAINT_ZERO=bi.ANCHOR_ERROR__CONSTRAINT_ADDRESS=bi.ANCHOR_ERROR__CONSTRAINT_CLOSE=bi.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=bi.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=bi.ANCHOR_ERROR__CONSTRAINT_STATE=bi.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=bi.ANCHOR_ERROR__CONSTRAINT_SEEDS=bi.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=bi.ANCHOR_ERROR__CONSTRAINT_OWNER=bi.ANCHOR_ERROR__CONSTRAINT_RAW=bi.ANCHOR_ERROR__CONSTRAINT_SIGNER=bi.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=bi.ANCHOR_ERROR__CONSTRAINT_MUT=bi.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=bi.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=bi.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=bi.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=bi.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=bi.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=bi.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=bi.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,Ei=bi.ANCHOR_ERROR__DEPRECATED=bi.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=bi.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=bi.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=bi.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=bi.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=bi.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=bi.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=bi.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=bi.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=bi.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=bi.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=bi.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=bi.ANCHOR_ERROR__INVALID_PROGRAM_ID=bi.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=bi.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=bi.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=bi.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=bi.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=bi.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=bi.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=bi.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=bi.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=bi.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=bi.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=bi.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=bi.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,ki=bi.ANCHOR_ERROR__INSTRUCTION_MISSING=100,Si=bi.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,Ai=bi.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,Mi=bi.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,Ii=bi.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,Ti=bi.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,Ri=bi.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,xi=bi.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,Ci=bi.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,Pi=bi.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,Ni=bi.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,Oi=bi.ANCHOR_ERROR__CONSTRAINT_RAW=2003,Li=bi.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,Bi=bi.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,Di=bi.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,Ui=bi.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,ji=bi.ANCHOR_ERROR__CONSTRAINT_STATE=2008,Fi=bi.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,Vi=bi.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,zi=bi.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,Hi=bi.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,qi=bi.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,Ki=bi.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,Wi=bi.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,$i=bi.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,Zi=bi.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Gi=bi.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,Qi=bi.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Ji=bi.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,Yi=bi.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,Xi=bi.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,ts=bi.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,es=bi.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,ns=bi.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,rs=bi.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,is=bi.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,ss=bi.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,os=bi.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,as=bi.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,us=bi.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,ls=bi.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,cs=bi.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,hs=bi.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,ds=bi.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,fs=bi.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,ps=bi.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,ms=bi.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,gs=bi.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,ys=bi.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;_i=bi.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var vs=bi.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,ws=bi.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,bs=bi.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,_s=bi.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,Es=bi.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,ks=bi.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,Ss=bi.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,As=bi.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,Ms=bi.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,Is=bi.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,Ts=bi.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,Rs=bi.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,xs=bi.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,Cs=bi.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,Ps=bi.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,Ns=bi.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,Os=bi.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,Ls=bi.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,Bs=bi.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,Ds=bi.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,Us=bi.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,js=bi.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,Fs=bi.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,Vs=bi.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,zs=bi.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,Hs=bi.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;Ei=bi.ANCHOR_ERROR__DEPRECATED=5e3;new Set(["debug-logs"]);const qs=new Map;function Ks(t){return void 0!==qs.get(t)}class IdlError extends Error{constructor(t){super(t),this.name="IdlError"}}class ProgramErrorStack{constructor(t){this.stack=t}static parse(t){var e;const n=/^Program (\w*) invoke/,r=/^Program \w* success/,i=[];for(let o=0;o<t.length;o++){if(r.exec(t[o])){i.pop();continue}const a=null===(e=n.exec(t[o]))||void 0===e?void 0:e[1];a&&i.push(new s.PublicKey(a))}return new ProgramErrorStack(i)}}class AnchorError extends Error{constructor(t,e,n,r,i,s){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:t,errorMessage:e,comparedValues:s,origin:i},this._programErrorStack=ProgramErrorStack.parse(r)}static parse(t){if(!t)return null;const e=t.findIndex((t=>t.startsWith("Program log: AnchorError")));if(-1===e)return null;const n=t[e],r=[n];let i;if(e+1<t.length)if("Program log: Left:"===t[e+1]){const n=/^Program log: (.*)$/,o=n.exec(t[e+2])[1],a=n.exec(t[e+4])[1];i=[new s.PublicKey(o),new s.PublicKey(a)],r.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,s=n.exec(t[e+1])[2],o=n.exec(t[e+2])[2];r.push(...t.slice(e+1,e+3)),i=[s,o]}const o=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),u=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(o){const[e,n,s]=o.slice(1,4),a={code:e,number:parseInt(n)};return new AnchorError(a,s,r,t,void 0,i)}if(a){const[e,n,s,o,u]=a.slice(1,6),l={code:s,number:parseInt(o)},c={file:e,line:parseInt(n)};return new AnchorError(l,u,r,t,c,i)}if(u){const[e,n,s,o]=u.slice(1,5),a=e,l={code:n,number:parseInt(s)};return new AnchorError(l,o,r,t,a,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ProgramError extends Error{constructor(t,e,n){super(),this.code=t,this.msg=e,this.logs=n,n&&(this._programErrorStack=ProgramErrorStack.parse(n))}static parse(t,e){const n=t.toString();let r,i;if(n.includes("custom program error:")){let t=n.split("custom program error: ");if(2!==t.length)return null;r=t[1]}else{const t=n.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;r=t[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(o){return null}let s=e.get(i);return void 0!==s?new ProgramError(i,s,t.logs):(s=Zs.get(i),void 0!==s?new ProgramError(i,s,t.logs):null)}get program(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack}toString(){return this.msg}}function Ws(t,e){Ks("debug-logs")&&console.log("Translating error:",t);const n=AnchorError.parse(t.logs);if(n)return n;const r=ProgramError.parse(t,e);if(r)return r;if(t.logs){const e={get:function(e,n){return"programErrorStack"===n?e.programErrorStack.stack:"program"===n?e.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=ProgramErrorStack.parse(t.logs),new Proxy(t,e)}return t}const $s={InstructionMissing:ki,InstructionFallbackNotFound:Si,InstructionDidNotDeserialize:Ai,InstructionDidNotSerialize:Mi,IdlInstructionStub:Ii,IdlInstructionInvalidProgram:Ti,IdlAccountNotEmpty:Ri,EventInstructionStub:xi,ConstraintMut:Ci,ConstraintHasOne:Pi,ConstraintSigner:Ni,ConstraintRaw:Oi,ConstraintOwner:Li,ConstraintRentExempt:Bi,ConstraintSeeds:Di,ConstraintExecutable:Ui,ConstraintState:ji,ConstraintAssociated:Fi,ConstraintAssociatedInit:Vi,ConstraintClose:zi,ConstraintAddress:Hi,ConstraintZero:qi,ConstraintTokenMint:Ki,ConstraintTokenOwner:Wi,ConstraintMintMintAuthority:$i,ConstraintMintFreezeAuthority:Zi,ConstraintMintDecimals:Gi,ConstraintSpace:Qi,ConstraintAccountIsNone:Ji,ConstraintTokenTokenProgram:Yi,ConstraintMintTokenProgram:Xi,ConstraintAssociatedTokenTokenProgram:ts,ConstraintMintGroupPointerExtension:es,ConstraintMintGroupPointerExtensionAuthority:ns,ConstraintMintGroupPointerExtensionGroupAddress:rs,ConstraintMintGroupMemberPointerExtension:is,ConstraintMintGroupMemberPointerExtensionAuthority:ss,ConstraintMintGroupMemberPointerExtensionMemberAddress:os,ConstraintMintMetadataPointerExtension:as,ConstraintMintMetadataPointerExtensionAuthority:us,ConstraintMintMetadataPointerExtensionMetadataAddress:ls,ConstraintMintCloseAuthorityExtension:cs,ConstraintMintCloseAuthorityExtensionAuthority:hs,ConstraintMintPermanentDelegateExtension:ds,ConstraintMintPermanentDelegateExtensionDelegate:fs,ConstraintMintTransferHookExtension:ps,ConstraintMintTransferHookExtensionAuthority:ms,ConstraintMintTransferHookExtensionProgramId:gs,RequireViolated:ys,RequireEqViolated:_i,RequireKeysEqViolated:vs,RequireNeqViolated:ws,RequireKeysNeqViolated:bs,RequireGtViolated:_s,RequireGteViolated:Es,AccountDiscriminatorAlreadySet:ks,AccountDiscriminatorNotFound:Ss,AccountDiscriminatorMismatch:As,AccountDidNotDeserialize:Ms,AccountDidNotSerialize:Is,AccountNotEnoughKeys:Ts,AccountNotMutable:Rs,AccountOwnedByWrongProgram:xs,InvalidProgramId:Cs,InvalidProgramExecutable:Ps,AccountNotSigner:Ns,AccountNotSystemOwned:Os,AccountNotInitialized:Ls,AccountNotProgramData:Bs,AccountNotAssociatedTokenAccount:Ds,AccountSysvarMismatch:Us,AccountReallocExceedsLimit:js,AccountDuplicateReallocs:Fs,DeclaredProgramIdMismatch:Vs,TryingToInitPayerAsProgramAccount:zs,InvalidNumericConversion:Hs,Deprecated:Ei},Zs=new Map([[$s.InstructionMissing,"8 byte instruction identifier not provided"],[$s.InstructionFallbackNotFound,"Fallback functions are not supported"],[$s.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[$s.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[$s.IdlInstructionStub,"The program was compiled without idl instructions"],[$s.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[$s.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[$s.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[$s.ConstraintMut,"A mut constraint was violated"],[$s.ConstraintHasOne,"A has one constraint was violated"],[$s.ConstraintSigner,"A signer constraint was violated"],[$s.ConstraintRaw,"A raw constraint was violated"],[$s.ConstraintOwner,"An owner constraint was violated"],[$s.ConstraintRentExempt,"A rent exemption constraint was violated"],[$s.ConstraintSeeds,"A seeds constraint was violated"],[$s.ConstraintExecutable,"An executable constraint was violated"],[$s.ConstraintState,"Deprecated Error, feel free to replace with something else"],[$s.ConstraintAssociated,"An associated constraint was violated"],[$s.ConstraintAssociatedInit,"An associated init constraint was violated"],[$s.ConstraintClose,"A close constraint was violated"],[$s.ConstraintAddress,"An address constraint was violated"],[$s.ConstraintZero,"Expected zero account discriminant"],[$s.ConstraintTokenMint,"A token mint constraint was violated"],[$s.ConstraintTokenOwner,"A token owner constraint was violated"],[$s.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[$s.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[$s.ConstraintMintDecimals,"A mint decimals constraint was violated"],[$s.ConstraintSpace,"A space constraint was violated"],[$s.ConstraintAccountIsNone,"A required account for the constraint is None"],[$s.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[$s.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[$s.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[$s.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[$s.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[$s.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[$s.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[$s.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[$s.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[$s.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[$s.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[$s.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[$s.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[$s.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[$s.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[$s.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[$s.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[$s.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[$s.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[$s.RequireViolated,"A require expression was violated"],[$s.RequireEqViolated,"A require_eq expression was violated"],[$s.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[$s.RequireNeqViolated,"A require_neq expression was violated"],[$s.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[$s.RequireGtViolated,"A require_gt expression was violated"],[$s.RequireGteViolated,"A require_gte expression was violated"],[$s.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[$s.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[$s.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[$s.AccountDidNotDeserialize,"Failed to deserialize the account"],[$s.AccountDidNotSerialize,"Failed to serialize the account"],[$s.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[$s.AccountNotMutable,"The given account is not mutable"],[$s.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[$s.InvalidProgramId,"Program ID was not as expected"],[$s.InvalidProgramExecutable,"Program account is not executable"],[$s.AccountNotSigner,"The given account did not sign"],[$s.AccountNotSystemOwned,"The given account is not owned by the system program"],[$s.AccountNotInitialized,"The program expected this account to be already initialized"],[$s.AccountNotProgramData,"The given account is not a program data account"],[$s.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[$s.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[$s.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[$s.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[$s.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[$s.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[$s.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[$s.Deprecated,"The API being used is deprecated and should no longer be used"]]);class IdlCoder{static fieldLayout(t,e=[],n){const r=t.name;switch(t.type){case"bool":return ct.bool(r);case"u8":return ct.u8(r);case"i8":return ct.i8(r);case"u16":return ct.u16(r);case"i16":return ct.i16(r);case"u32":return ct.u32(r);case"i32":return ct.i32(r);case"f32":return ct.f32(r);case"u64":return ct.u64(r);case"i64":return ct.i64(r);case"f64":return ct.f64(r);case"u128":return ct.u128(r);case"i128":return ct.i128(r);case"u256":return ct.u256(r);case"i256":return ct.i256(r);case"bytes":return ct.vecU8(r);case"string":return ct.str(r);case"pubkey":return ct.publicKey(r);default:if("option"in t.type)return ct.option(IdlCoder.fieldLayout({type:t.type.option},e,n),r);if("vec"in t.type)return ct.vec(IdlCoder.fieldLayout({type:t.type.vec},e,n),r);if("array"in t.type){let[i,s]=t.type.array;return s=IdlCoder.resolveArrayLen(s,n),ct.array(IdlCoder.fieldLayout({type:i},e,n),s,r)}if("defined"in t.type){if(!e)throw new IdlError("User defined types not provided");const i=t.type.defined.name,s=e.find((t=>t.name===i));if(!s)throw new IdlError(`Type not found: ${t.name}`);return IdlCoder.typeDefLayout({typeDef:s,types:e,genericArgs:null!=n?n:t.type.defined.generics,name:r})}if("generic"in t.type){const r=null==n?void 0:n.at(0);if("type"!==(null==r?void 0:r.kind))throw new IdlError(`Invalid generic field: ${t.name}`);return IdlCoder.fieldLayout({...t,type:r.type},e)}throw new IdlError(`Not yet implemented: ${JSON.stringify(t.type)}`)}}static typeDefLayout({typeDef:t,types:e,name:n,genericArgs:r}){switch(t.type.kind){case"struct":{const i=Fr(t.type.fields,(()=>[]),(n=>n.map((n=>{const i=r?IdlCoder.resolveGenericArgs({type:n.type,typeDef:t,genericArgs:r}):r;return IdlCoder.fieldLayout(n,e,i)}))),(n=>n.map(((n,i)=>{const s=r?IdlCoder.resolveGenericArgs({type:n,typeDef:t,genericArgs:r}):r;return IdlCoder.fieldLayout({name:i.toString(),type:n},e,s)}))));return ct.struct(i,n)}case"enum":{const i=t.type.variants.map((n=>{const i=Fr(n.fields,(()=>[]),(n=>n.map((n=>{const i=r?IdlCoder.resolveGenericArgs({type:n.type,typeDef:t,genericArgs:r}):r;return IdlCoder.fieldLayout(n,e,i)}))),(n=>n.map(((n,i)=>{const s=r?IdlCoder.resolveGenericArgs({type:n,typeDef:t,genericArgs:r}):r;return IdlCoder.fieldLayout({name:i.toString(),type:n},e,s)}))));return ct.struct(i,n.name)}));return void 0!==n?ct.rustEnum(i).replicate(n):ct.rustEnum(i,n)}case"type":return IdlCoder.fieldLayout({type:t.type.alias,name:n},e)}}static typeSize(t,e,n){var r;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"pubkey":return 32;default:if("option"in t)return 1+IdlCoder.typeSize(t.option,e,n);if("coption"in t)return 4+IdlCoder.typeSize(t.coption,e,n);if("vec"in t)return 1;if("array"in t){let[r,i]=t.array;return i=IdlCoder.resolveArrayLen(i,n),IdlCoder.typeSize(r,e,n)*i}if("defined"in t){const i=null===(r=e.types)||void 0===r?void 0:r.find((e=>e.name===t.defined.name));if(!i)throw new IdlError(`Type not found: ${JSON.stringify(t)}`);const s=r=>{const s=null!=n?n:t.defined.generics,o=s?IdlCoder.resolveGenericArgs({type:r,typeDef:i,genericArgs:s}):s;return IdlCoder.typeSize(r,e,o)};switch(i.type.kind){case"struct":return Fr(i.type.fields,(()=>[0]),(t=>t.map((t=>s(t.type)))),(t=>t.map((t=>s(t))))).reduce(((t,e)=>t+e),0);case"enum":{const t=i.type.variants.map((t=>Fr(t.fields,(()=>[0]),(t=>t.map((t=>s(t.type)))),(t=>t.map((t=>s(t))))).reduce(((t,e)=>t+e),0)));return Math.max(...t)+1}case"type":return IdlCoder.typeSize(i.type.alias,e,n)}}if("generic"in t){const r=null==n?void 0:n.at(0);if("type"!==(null==r?void 0:r.kind))throw new IdlError(`Invalid generic: ${t.generic}`);return IdlCoder.typeSize(r.type,e,n)}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}static resolveArrayLen(t,e){if("number"==typeof t)return t;if(e){const n=e.find((t=>"const"===t.kind));"const"===(null==n?void 0:n.kind)&&(t=+n.value)}if("number"!=typeof t)throw new IdlError("Generic array length did not resolve");return t}static resolveGenericArgs({type:t,typeDef:e,genericArgs:n,isDefined:r}){if("object"!=typeof t)return null;for(const i in e.generics){const s=e.generics[i];if("generic"in t&&s.name===t.generic)return[n[i]];if("option"in t){const i=IdlCoder.resolveGenericArgs({type:t.option,typeDef:e,genericArgs:n,isDefined:r});if(!i||!r)return i;if("type"===i[0].kind)return[{kind:"type",type:{option:i[0].type}}]}if("vec"in t){const i=IdlCoder.resolveGenericArgs({type:t.vec,typeDef:e,genericArgs:n,isDefined:r});if(!i||!r)return i;if("type"===i[0].kind)return[{kind:"type",type:{vec:i[0].type}}]}if("array"in t){const[o,a]=t.array,u="object"==typeof a,l=IdlCoder.resolveGenericArgs({type:o,typeDef:e,genericArgs:n,isDefined:r});if(l){for(const t in e.generics.slice(+i)){const r=+i+ +t;u&&e.generics[r].name===a.generic&&l.push(n[r])}if(!r)return l;if("type"===l[0].kind&&"const"===l[1].kind)return[{kind:"type",type:{array:[l[0].type,+l[1].value]}}]}if(u&&s.name===a.generic){const t=n[i];return r?[{kind:"type",type:{array:[o,+t.value]}}]:[t]}return null}if("defined"in t)return t.defined.generics?t.defined.generics.flatMap((t=>{switch(t.kind){case"type":return IdlCoder.resolveGenericArgs({type:t.type,typeDef:e,genericArgs:n,isDefined:!0});case"const":return[t]}})).filter((t=>null!==t)):null}return null}}class BorshInstructionCoder{constructor(t){this.idl=t;const e=t.instructions.map((e=>{const n=e.name,r=e.args.map((e=>IdlCoder.fieldLayout(e,t.types))),i=ct.struct(r,n);return[n,{discriminator:e.discriminator,layout:i}]}));this.ixLayouts=new Map(e);const n=e.map((([t,{discriminator:e,layout:n}])=>[at().encode(e),{name:t,layout:n}]));this.sighashLayouts=new Map(n)}encode(t,e){const n=rt.Buffer.alloc(1e3),r=this.ixLayouts.get(t);if(!r)throw new Error(`Unknown method: ${t}`);const i=r.layout.encode(e,n),s=n.slice(0,i);return rt.Buffer.concat([rt.Buffer.from(r.discriminator),s])}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?rt.Buffer.from(t,"hex"):at().decode(t));const n=t.slice(0,Gs),r=t.slice(Gs),i=this.sighashLayouts.get(at().encode(n));return i?{name:i.name,data:i.layout.decode(r)}:null}format(t,e){return InstructionFormatter.format(t,e,this.idl)}}class InstructionFormatter{static format(t,e,n){const r=n.instructions.find((e=>t.name===e.name));if(!r)return console.error("Invalid instruction given"),null;const i=r.args.map((e=>({name:e.name,type:InstructionFormatter.formatIdlType(e.type),data:InstructionFormatter.formatIdlData(e,t.data[e.name],n.types)}))),s=InstructionFormatter.flattenIdlAccounts(r.accounts);return{args:i,accounts:e.map(((t,e)=>e<s.length?{name:s[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("coption"in t)return`COption<${this.formatIdlType(t.coption)}>`;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;if("defined"in t){const e=t.defined.name;if(t.defined.generics){return`${e}<${t.defined.generics.map((t=>{switch(t.kind){case"type":return InstructionFormatter.formatIdlType(t.type);case"const":return t.value}})).join(", ")}>`}return e}throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if("string"==typeof t.type)return e.toString();if("vec"in t.type)return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e,n))).join(", ")+"]";if("option"in t.type)return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,n);if("defined"in t.type){if(!n)throw new Error("User defined types not provided");const r=t.type.defined.name,i=n.find((t=>t.name===r));if(!i)throw new Error(`Type not found: ${r}`);return InstructionFormatter.formatIdlDataDefined(i,e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){switch(t.type.kind){case"struct":return"{ "+Fr(t.type.fields,(()=>""),(t=>Object.entries(e).map((([e,r])=>{const i=t.find((t=>t.name===e));if(!i)throw new Error(`Field not found: ${e}`);return e+": "+InstructionFormatter.formatIdlData(i,r,n)})).join(", ")),(t=>Object.entries(e).map((([e,r])=>e+": "+InstructionFormatter.formatIdlData({name:"",type:t[e]},r,n))).join(", ")))+" }";case"enum":{const r=Object.keys(e)[0],i=t.type.variants.find((t=>t.name===r));if(!i)throw new Error(`Unable to find variant: ${r}`);const s=e[r];return Fr(i.fields,(()=>r),(t=>{const e=Object.keys(s).map((e=>{const r=s[e],i=t.find((t=>t.name===e));if(!i)throw new Error(`Field not found: ${e}`);return e+": "+InstructionFormatter.formatIdlData(i,r,n)})).join(", ");return`${r} { ${e} }`}),(t=>{const e=Object.entries(s).map((([e,r])=>e+": "+InstructionFormatter.formatIdlData({name:"",type:t[e]},r,n))).join(", ");return`${r} { ${e} }`}))}case"type":return InstructionFormatter.formatIdlType(t.type.alias)}}static flattenIdlAccounts(t,e){return t.map((t=>{const n=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const r=e?`${e} > ${n}`:n;return InstructionFormatter.flattenIdlAccounts(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}}const Gs=8;class BorshAccountsCoder{constructor(t){if(this.idl=t,!t.accounts)return void(this.accountLayouts=new Map);const e=t.types;if(!e)throw new Error("Accounts require `idl.types`");const n=t.accounts.map((t=>{const n=e.find((e=>e.name===t.name));if(!n)throw new Error(`Account not found: ${t.name}`);return[t.name,IdlCoder.typeDefLayout({typeDef:n,types:e})]}));this.accountLayouts=new Map(n)}async encode(t,e){const n=rt.Buffer.alloc(1e3),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);const i=r.encode(e,n),s=n.slice(0,i),o=this.accountDiscriminator(t);return rt.Buffer.concat([o,s])}decode(t,e){if(this.accountDiscriminator(t).compare(e.slice(0,Gs)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeAny(t){const e=t.slice(0,Gs),n=Array.from(this.accountLayouts.keys()).find((t=>this.accountDiscriminator(t).equals(e)));if(!n)throw new Error("Account not found");return this.decodeUnchecked(n,t)}decodeUnchecked(t,e){const n=e.subarray(Gs),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);return r.decode(n)}memcmp(t,e){const n=this.accountDiscriminator(t);return{offset:0,bytes:at().encode(e?rt.Buffer.concat([n,e]):n)}}size(t){return Gs+IdlCoder.typeSize({defined:{name:t}},this.idl)}accountDiscriminator(t){var e;const n=null===(e=this.idl.accounts)||void 0===e?void 0:e.find((e=>e.name===t));if(!n)throw new Error(`Account not found: ${t}`);return rt.Buffer.from(n.discriminator)}}class BorshEventCoder{constructor(t){var e;if(!t.events)return void(this.layouts=new Map);const n=t.types;if(!n)throw new Error("Events require `idl.types`");const r=t.events.map((t=>{const e=n.find((e=>e.name===t.name));if(!e)throw new Error(`Event not found: ${t.name}`);return[t.name,IdlCoder.typeDefLayout({typeDef:e,types:n})]}));this.layouts=new Map(r),this.discriminators=new Map((null!==(e=t.events)&&void 0!==e?e:[]).map((t=>[Br(rt.Buffer.from(t.discriminator)),t.name])))}decode(t){let e;try{e=Dr(t)}catch(s){return null}const n=Br(e.slice(0,8)),r=this.discriminators.get(n);if(!r)return null;const i=this.layouts.get(r);if(!i)throw new Error(`Unknown event: ${r}`);return{data:i.decode(e.slice(8)),name:r}}}class BorshTypesCoder{constructor(t){const e=t.types;if(!e)return void(this.typeLayouts=new Map);const n=e.filter((t=>!t.generics)).map((t=>[t.name,IdlCoder.typeDefLayout({typeDef:t,types:e})]));this.typeLayouts=new Map(n)}encode(t,e){const n=rt.Buffer.alloc(1e3),r=this.typeLayouts.get(t);if(!r)throw new Error(`Unknown type: ${t}`);const i=r.encode(e,n);return n.slice(0,i)}decode(t,e){const n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);return n.decode(e)}}class BorshCoder{constructor(t){this.instruction=new BorshInstructionCoder(t),this.accounts=new BorshAccountsCoder(t),this.events=new BorshEventCoder(t),this.types=new BorshTypesCoder(t)}}class browser_Layout{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var Qs=browser_Layout;class ExternalLayout extends browser_Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class OffsetLayout extends ExternalLayout{constructor(t,e,n){if(!(t instanceof browser_Layout))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class UInt extends browser_Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class UIntBE extends browser_Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const Js=Math.pow(2,32);function Ys(t){const e=Math.floor(t/Js);return{hi32:e,lo32:t-e*Js}}function Xs(t,e){return t*Js+e}class NearUInt64 extends browser_Layout{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return Xs(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=Ys(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class NearInt64 extends browser_Layout{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return Xs(t.readInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=Ys(t);return e.writeUInt32LE(r.lo32,n),e.writeInt32LE(r.hi32,n+4),8}}class Structure extends browser_Layout{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof browser_Layout),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const s of t)if(0>s.span&&void 0===s.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(i){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,s=0;for(const o of this.fields){let r=o.span;if(s=0<r?r:0,void 0!==o.property){const i=t[o.property];void 0!==i&&(s=o.encode(i,e,n),0>r&&(r=o.getSpan(e,n)))}i=n,n+=r}return i+s-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class UnionDiscriminator{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class Union extends browser_Layout{constructor(t,e,n){const r=t instanceof UInt||t instanceof UIntBE;if(r)t=new UnionLayoutDiscriminator(new OffsetLayout(t));else if(t instanceof ExternalLayout&&t.isCount())t=new UnionLayoutDiscriminator(t);else if(!(t instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof browser_Layout))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&r&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return s(t)},this.configGetSourceVariant=function(t){s=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let s=this.registry[i];if(void 0===s){let o=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(o=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[s.property]=this.defaultLayout.decode(t,e+o)}else n=s.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=r.layout.span),r.encode(t[r.property],e,n),s+i.encode(t[i.property],e,n+s)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new VariantLayout(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return Buffer.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class VariantLayout extends browser_Layout{constructor(t,e,n,r){if(!(t instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof browser_Layout))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class Blob$1 extends browser_Layout{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof ExternalLayout||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof ExternalLayout&&(r=t.length),!Buffer.isBuffer(t)||r!==t.length)throw new TypeError((i="Blob.encode",((s=this).property?i+"["+s.property+"]":i)+" requires (length "+r+") Buffer as src"));var i,s;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof ExternalLayout&&this.length.encode(r,e,n),r}}var to=(t,e,n)=>new OffsetLayout(t,e,n),eo=t=>new UInt(4,t),no=t=>new NearInt64(t),ro=(t,e,n)=>new Structure(t,e,n),io=(t,e,n)=>new Union(t,e,n),so=(t,e)=>new Blob$1(t,e);class RustStringLayout extends Qs{constructor(t){super(-1,t),this.property=t,this.layout=ro([eo("length"),eo("lengthPadding"),so(to(eo(),-8),"chars")],this.property)}encode(t,e,n=0){if(null==t)return this.layout.span;const r={chars:Buffer.from(t,"utf8")};return this.layout.encode(r,e,n)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return eo().span+eo().span+new(st())(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function oo(t){return new RustStringLayout(t)}function ao(t){return so(32,t)}const uo=io(eo("instruction"));uo.addVariant(0,ro([no("lamports"),no("space"),ao("owner")]),"createAccount"),uo.addVariant(1,ro([ao("owner")]),"assign"),uo.addVariant(2,ro([no("lamports")]),"transfer"),uo.addVariant(3,ro([ao("base"),oo("seed"),no("lamports"),no("space"),ao("owner")]),"createAccountWithSeed"),uo.addVariant(4,ro([ao("authorized")]),"advanceNonceAccount"),uo.addVariant(5,ro([no("lamports")]),"withdrawNonceAccount"),uo.addVariant(6,ro([ao("authorized")]),"initializeNonceAccount"),uo.addVariant(7,ro([ao("authorized")]),"authorizeNonceAccount"),uo.addVariant(8,ro([no("space")]),"allocate"),uo.addVariant(9,ro([ao("base"),oo("seed"),no("space"),ao("owner")]),"allocateWithSeed"),uo.addVariant(10,ro([ao("base"),oo("seed"),ao("owner")]),"assignWithSeed"),uo.addVariant(11,ro([no("lamports"),oo("seed"),ao("owner")]),"transferWithSeed");Math.max(...Object.values(uo.registry).map((t=>t.span)));class WrappedLayout$1 extends Qs{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}function lo(t){return new WrappedLayout$1(so(32),(t=>new s.PublicKey(t)),(t=>t.toBuffer()),t)}ro([eo("version"),eo("state"),lo("authorizedPubkey"),lo("nonce"),ro([(co="lamportsPerSignature",new NearUInt64(co))],"feeCalculator")]);var co;new s.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),new s.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var ho={exports:{}};!function(t,e){var n="undefined"!=typeof self?self:wi,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in t,o="ArrayBuffer"in t;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=g(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=l(t),e=c(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},d.prototype.delete=function(t){delete this.map[l(t)]},d.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},d.prototype.set=function(t,e){this.map[l(t)]=c(e)},d.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),h(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),h(t)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var n,r,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),v.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function _(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var t=new _(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];_.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new _(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(xe){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function k(t,n){return new Promise((function(r,s){var o=new w(t,n);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new _(i,n))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",u)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}k.polyfill=!0,t.fetch||(t.fetch=k,t.Headers=d,t.Request=w,t.Response=_),e.Headers=d,e.Request=w,e.Response=_,e.fetch=k,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(ho,ho.exports);ct.rustEnum([ct.struct([],"uninitialized"),ct.struct([ct.option(ct.publicKey(),"authorityAddress")],"buffer"),ct.struct([ct.publicKey("programdataAddress")],"program"),ct.struct([ct.u64("slot"),ct.option(ct.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,ct.u32());function fo(t,e){var n,r;let i={};const s=t.args?t.args.length:0;if(e.length>s){if(e.length!==s+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(r=null===(n=t.args)||void 0===n?void 0:n.map((t=>t.name)))&&void 0!==r?r:[]}`);i=e.pop()}return[e,i]}class InstructionNamespaceFactory{static build(t,e,n){if("_inner"===t.name)throw new IdlError("the _inner name is reserved");const r=(...i)=>{const[o,a]=fo(t,[...i]);zr(t.accounts,a.accounts);const u=r.accounts(a.accounts);return void 0!==a.remainingAccounts&&u.push(...a.remainingAccounts),Ks("debug-logs")&&console.log("Outgoing account metas:",u),new s.TransactionInstruction({keys:u,programId:n,data:e(t.name,Vr(t,...o))})};return r.accounts=e=>InstructionNamespaceFactory.accountsArray(e,t.accounts,n,t.name),r}static accountsArray(t,e,n,r){return t?e.map((e=>{if(Ur(e)){const i=t[e.name];return InstructionNamespaceFactory.accountsArray(i,e.accounts,n,r).flat()}let i;try{i=Hr(t[e.name])}catch(xe){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==r?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}const s=e.optional&&i.equals(n);return{pubkey:i,isWritable:Boolean(e.writable&&!s),isSigner:Boolean(e.signer&&!s)}})).flat():[]}}class TransactionFactory{static build(t,e){return(...n)=>{var r,i,o;const[,a]=fo(t,[...n]),u=new s.Transaction;if(a.preInstructions&&a.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=a.preInstructions)||void 0===r||r.forEach((t=>u.add(t))),null===(i=a.instructions)||void 0===i||i.forEach((t=>u.add(t))),u.add(e(...n)),null===(o=a.postInstructions)||void 0===o||o.forEach((t=>u.add(t))),u}}}class RpcFactory{static build(t,e,n,r){return async(...i)=>{var s;const o=e(...i),[,a]=fo(t,[...i]);if(void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await r.sendAndConfirm(o,null!==(s=a.signers)&&void 0!==s?s:[],a.options)}catch(xe){throw Ws(xe,n)}}}}class AccountFactory{static build(t,e,n,r){var i;return(null!==(i=t.accounts)&&void 0!==i?i:[]).reduce(((i,s)=>(i[s.name]=new AccountClient(t,s,n,r,e),i)),{})}}class AccountClient{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(t,e,n,r,i){this._idlAccount=e,this._programId=n,this._provider=null!=r?r:yi(),this._coder=null!=i?i:new BorshCoder(t),this._size=this._coder.accounts.size(e.name)}async fetchNullable(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);return n}async fetchNullableAndContext(t,e){const n=await this.getAccountInfoAndContext(t,e),{value:r,context:i}=n;return{data:r&&0!==r.data.length?this._coder.accounts.decode(this._idlAccount.name,r.data):null,context:i}}async fetch(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);if(null===n)throw new Error(`Account does not exist or has no data ${t.toString()}`);return n}async fetchAndContext(t,e){const{data:n,context:r}=await this.fetchNullableAndContext(t,e);if(null===n)throw new Error(`Account does not exist ${t.toString()}`);return{data:n,context:r}}async fetchMultiple(t,e){return(await this.fetchMultipleAndContext(t,e)).map((t=>t?t.data:null))}async fetchMultipleAndContext(t,e){return(await ui(this._provider.connection,t.map((t=>Hr(t))),e)).map((t=>{if(null==t)return null;const{account:e,context:n}=t;return{data:this._coder.accounts.decode(this._idlAccount.name,e.data),context:n}}))}async all(t){const e=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof Buffer?t:void 0),n=[];return null!=(null==e?void 0:e.offset)&&null!=(null==e?void 0:e.bytes)&&n.push({memcmp:{offset:e.offset,bytes:e.bytes}}),null!=(null==e?void 0:e.dataSize)&&n.push({dataSize:e.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const n=po.get(t.toString());if(n)return n.ee;const r=new(Pr());t=Hr(t);const i=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);r.emit("change",e)}),e);return po.set(t.toString(),{ee:r,listener:i}),r}async unsubscribe(t){let e=po.get(t.toString());e?po&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{po.delete(t.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const n=this.size;if(void 0===this._provider.publicKey)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return s.SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:n),programId:this._programId})}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(Hr(t),e)}async getAccountInfoAndContext(t,e){return await this._provider.connection.getAccountInfoAndContext(Hr(t),e)}}const po=new Map,mo="Program log: ",go="Program data: ";class EventManager{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new EventParser(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(n=this._eventListeners.get(t))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{if(!t.err)for(const n of this._eventParser.parseLogs(t.logs)){const r=this._eventListeners.get(n.name);r&&r.forEach((r=>{const i=this._eventCallbacks.get(r);if(i){const[,r]=i;r(n.data,e.slot,t.signature)}}))}}))),r}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(t),r=r.filter((e=>e!==t)),this._eventListeners.set(n,r),0===r.length&&this._eventListeners.delete(n),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class EventParser{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t,e=!1){const n=new LogScanner(t),r=new ExecutionContext;let i=n.next();for(;null!==i;){let[t,s,o]=this.handleLog(r,i,e);t&&(yield t),s&&r.push(s),o&&r.pop(),i=n.next()}}handleLog(t,e,n){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e,n):[null,...this.handleSystemLog(e)]}handleProgramLog(t,e){if(t.startsWith(mo)||t.startsWith(go)){const n=t.startsWith(mo)?t.slice(13):t.slice(14),r=this.coder.events.decode(n);if(e&&null===r)throw new Error(`Unable to decode event ${n}`);return[r,null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class ExecutionContext{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class LogScanner{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}class SimulateFactory{static build(t,e,n,r,i,s,o){return async(...a)=>{var u;const l=e(...a),[,c]=fo(t,[...a]);let h;if(void 0===r.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{h=await r.simulate(l,c.signers,null===(u=c.options)||void 0===u?void 0:u.commitment)}catch(xe){throw Ws(xe,n)}if(void 0===h)throw new Error("Unable to simulate transaction");const d=h.logs;if(!d)throw new Error("Simulated logs not found");const f=[];if(o.events){let t=new EventParser(s,i);for(const e of t.parseLogs(d))f.push(e)}return{events:f,raw:d}}}}function yo(t){return new WrappedLayout(so(8),(t=>browser_u64.fromBuffer(t)),(t=>t.toBuffer()),t)}function vo(t){return new WrappedLayout(so(32),(t=>new s.PublicKey(t)),(t=>t.toBuffer()),t)}function wo(t,e){return new COptionLayout(t,e)}class WrappedLayout extends Qs{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class COptionLayout extends Qs{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=eo()}encode(t,e,n=0){return null==t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class browser_u64 extends(st()){toBuffer(){const t=super.toArray().reverse(),e=Buffer.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const n=Buffer.alloc(8);return e.copy(n),n}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new browser_u64([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}const bo=ro([vo("mint"),vo("owner"),yo("amount"),wo(vo(),"delegate"),(()=>{const t=io((t=>new UInt(1,t))("discriminator"),null,"state");return t.addVariant(0,ro([]),"uninitialized"),t.addVariant(1,ro([]),"initialized"),t.addVariant(2,ro([]),"frozen"),t})(),wo(yo(),"isNative"),yo("delegatedAmount"),wo(vo(),"closeAuthority")]);class AccountsResolver{constructor(t,e,n,r,i,s,o,a){this._args=t,this._accounts=e,this._provider=n,this._programId=r,this._idlIx=i,this._idlTypes=o,this._customResolver=a,this._accountStore=new AccountStore(n,s,r)}args(t){this._args=t}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let t=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(t++,16===t)throw new Error("Reached maximum depth for account resolution")}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const e=t.reduce(((t,e)=>t&&t[e]),this._accounts);if(e&&e.toBase58)return e}set(t,e){let n=this._accounts;t.forEach(((r,i)=>{var s;i===t.length-1&&(n[r]=e),n[r]=null!==(s=n[r])&&void 0!==s?s:{},n=n[r]}))}resolveOptionalsHelper(t,e){const n={};for(const r of e){const e=r.name,i=t[e];void 0!==i&&(_o(i)?Ur(r)?n[e]=this.resolveOptionalsHelper(i,r.accounts):n[e]=Eo(i,!0):null!==i?n[e]=Hr(i):r.optional&&(n[e]=this._programId))}return n}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:e}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,e}return 0}resolveEventCpi(t,e=[]){for(const n in t){const r=t[n];Ur(r)&&this.resolveEventCpi(r.accounts,[...e,r.name]);const i=+n+1;if(i===t.length)return;const o=t[n].name,a=t[i].name;if("eventAuthority"===o&&"program"===a){const t=[...e,o],n=[...e,a];return this.get(t)||this.set(t,s.PublicKey.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),void(this.get(n)||this.set(n,this._programId))}}}resolveConst(t,e=[]){for(const n of t){const t=n.name;if(Ur(n))this.resolveConst(n.accounts,[...e,t]);else{const r=n;if((r.signer||r.address)&&!this.get([...e,t])){if(r.signer){if(!this._provider.wallet)throw new Error("This function requires the `Provider` interface implementor to have a `wallet` field.");this.set([...e,t],this._provider.wallet.publicKey)}r.address&&this.set([...e,t],Hr(r.address))}}}}async resolvePdasAndRelations(t,e=[]){let n=0;for(const r of t){const t=r.name;if(Ur(r))n+=await this.resolvePdasAndRelations(r.accounts,[...e,t]);else{const i=r;if((i.pda||i.relations)&&!this.get([...e,t])){n++;try{if(i.pda){const n=await Promise.all(i.pda.seeds.map((t=>this.toBuffer(t,e))));if(n.some((t=>!t)))continue;const r=await this.parseProgramId(i,e),[o]=s.PublicKey.findProgramAddressSync(n,r);this.set([...e,t],o)}}catch{}try{if(i.relations){const n=this.get([...e,i.relations[0]]);if(n){const r=await this._accountStore.fetchAccount({publicKey:n});this.set([...e,t],r[t])}}}catch{}}}}return n}async parseProgramId(t,e=[]){var n;if(!(null===(n=t.pda)||void 0===n?void 0:n.program))return this._programId;const r=await this.toBuffer(t.pda.program,e);if(!r)throw new Error(`Program seed not resolved: ${t.name}`);return new s.PublicKey(r)}async toBuffer(t,e=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,e);default:throw new Error(`Unexpected seed: ${t}`)}}toBufferConst(t){return this.toBufferValue("bytes",t.value)}async toBufferArg(t){const[e,...n]=t.path.split("."),r=this._idlIx.args.findIndex((t=>t.name===e));if(-1===r)throw new Error(`Unable to find argument for seed: ${e}`);const i=n.reduce(((t,e)=>(null!=t?t:{})[e]),this._args[r]);if(void 0===i)return;const s=this.getType(this._idlIx.args[r].type,n);return this.toBufferValue(s,i)}async toBufferAccount(t,e=[]){const[n,...r]=t.path.split("."),i=this.get([...e,n]);if(!i)return;if(!r.length)return this.toBufferValue("pubkey",i);if(!t.account)throw new Error(`Seed account is required in order to resolve type: ${t.path}`);let s=await this._accountStore.fetchAccount({publicKey:i,name:t.account}),o=r;for(;o.length>0;)s=s[o[0]],o=o.slice(1);if(void 0===s)return;const a=this.getType({defined:{name:t.account}},r);return this.toBufferValue(a,s)}toBufferValue(t,e){switch(t){case"u8":case"i8":return Buffer.from([e]);case"u16":case"i16":return new(st())(e).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new(st())(e).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new(st())(e).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new(st())(e).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new(st())(e).toArrayLike(Buffer,"le",32);case"string":case"bytes":return Buffer.from(e);case"pubkey":return e.toBuffer();default:if(null==t?void 0:t.array)return Buffer.from(e);throw new Error(`Unexpected seed type: ${t}`)}}getType(t,e=[]){var n;const r=null===(n=null==t?void 0:t.defined)||void 0===n?void 0:n.name;if(r){if("tokenAccount"===r)switch(e.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${e}`)}const t=this._idlTypes.find((t=>t.name===r));if(!t)throw new Error(`Type not found: ${r}`);const[n,...i]=e,s=t.type.fields.find((t=>t.name===n));if(!s)throw new Error(`Field not found: ${n}`);return this.getType(s.type,i)}return t}}class AccountStore{constructor(t,e,n){this._provider=t,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=e}async fetchAccount({publicKey:t,name:e}){const n=t.toBase58();if(!this._cache.has(n)){const i=await this._provider.connection.getAccountInfo(t);if(null===i)throw new Error(`Account not found: ${n}`);if("tokenAccount"===e){const t=(r=i.data,bo.decode(r));this._cache.set(n,t)}else{const t=await this.getAccountsNs(i.owner);if(t){const e=Object.values(t)[0];if(e){const t=e.coder.accounts.decodeAny(i.data);this._cache.set(n,t)}}}}var r;return this._cache.get(n)}async getAccountsNs(t){const e=t.toBase58();if(!this._idls[e]){const n=await Program.fetchIdl(t,this._provider);if(n){const t=new Program(n,this._provider);this._idls[e]=t.account}}return this._idls[e]}}class MethodsBuilderFactory{static build(t,e,n,r,i,s,o,a,u,l,c){return(...h)=>new MethodsBuilder(h,r,i,s,o,a,t,e,n,u,l,c)}}function _o(t){return"object"==typeof t&&null!==t&&!("_bn"in t)}function Eo(t,e){const n={};for(const r in t){const i=t[r];if(null!==i)n[r]=_o(i)?Eo(i,!0):Hr(i);else if(e)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!")}return n}class MethodsBuilder{constructor(t,e,n,r,i,s,o,a,u,l,c,h){this._args=t,this._ixFn=e,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._viewFn=s,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new AccountsResolver(t,this._accounts,o,a,u,l,c,h)}args(t){this._args=t,this._accountsResolver.args(t)}accounts(t){return this.accountsPartial(t)}accountsPartial(t){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t,e=!1){return this._preInstructions=e?t.concat(this._preInstructions):this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async rpc(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{pubkeys:await this.pubkeys(),signature:await this.rpc(t)}}async view(t){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:this._signers}}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class ViewFactory{static build(t,e,n,r){const i=e.accounts.find((t=>t.writable)),s=!!e.returns;if(i||!s)return;return async(...i)=>{let s=await n(...i);const o=`Program return: ${t} `;let a=s.raw.find((t=>t.startsWith(o)));if(!a)throw new Error("View expected return log");let u=Dr(a.slice(o.length)),l=e.returns;if(!l)throw new Error("View expected return type");return IdlCoder.fieldLayout({type:l},r.types).decode(u)}}}class NamespaceFactory{static build(t,e,n,r,i){const s={},o={},a={},u={},l={},c={},h=function(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var n;let r=null!==(n=t.msg)&&void 0!==n?n:t.name;e.set(t.code,r)})),e}(t),d=t.accounts?AccountFactory.build(t,e,n,r):{};return t.instructions.forEach((f=>{const p=InstructionNamespaceFactory.build(f,((t,n)=>e.instruction.encode(t,n)),n),m=TransactionFactory.build(f,p),g=RpcFactory.build(f,m,h,r),y=SimulateFactory.build(f,m,h,r,e,n,t),v=ViewFactory.build(n,f,y,t),w=MethodsBuilderFactory.build(r,n,f,p,m,g,y,v,d,t.types||[],null==i?void 0:i(f)),b=f.name;o[b]=p,a[b]=m,s[b]=g,u[b]=y,l[b]=w,v&&(c[b]=v)})),[s,o,a,d,u,l,c]}}class Program{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,e=yi(),n,r){const i=function(t){const e=["name","path","account","relations","generic"],n=t=>t.split(".").map(lt()).join("."),r=t=>{for(const i in t){const s=t[i];e.includes(i)?t[i]=Array.isArray(s)?s.map(n):n(s):"object"==typeof s&&r(s)}},i=structuredClone(t);return r(i),i}(t);this._idl=i,this._rawIdl=t,this._provider=e,this._programId=Hr(t.address),this._coder=null!=n?n:new BorshCoder(i),this._events=new EventManager(this._programId,e,this._coder);const[s,o,a,u,l,c,h]=NamespaceFactory.build(i,this._coder,this._programId,e,r);this.rpc=s,this.instruction=o,this.transaction=a,this.account=u,this.simulate=l,this.methods=c,this.views=h}static async at(t,e){const n=Hr(t),r=await Program.fetchIdl(n,e);if(!r)throw new Error(`IDL not found for program: ${t.toString()}`);return new Program(r,e)}static async fetchIdl(t,e){e=null!=e?e:yi();const n=Hr(t),r=await async function(t){const e=(await s.PublicKey.findProgramAddress([],t))[0];return await s.PublicKey.createWithSeed(e,"anchor:idl",t)}(n),i=await e.connection.getAccountInfo(r);if(!i)return null;let o=(a=i.data.slice(8),jr.decode(a));var a;const u=xr(o.data);return JSON.parse(Or(u))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}new s.PublicKey("11111111111111111111111111111111");const ko=JSON.parse('{"address":"Lucky7RXZNtywxBXrGibRqrC3FcJYdvr34nFpU6DJVX","metadata":{"name":"luckyswaps","version":"0.1.0","spec":"0.1.0","description":"Created with Anchor"},"instructions":[{"name":"fund_reserve","discriminator":[17,82,71,222,117,210,58,12],"accounts":[{"name":"state","pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"authority","writable":true,"signer":true,"relations":["state"]},{"name":"reserve","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,115,101,114,118,101]},{"kind":"account","path":"mint"}]}},{"name":"mint"},{"name":"vault","writable":true},{"name":"from","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],"args":[{"name":"amount","type":"u64"}]},{"name":"initialize","discriminator":[175,175,109,31,13,152,155,237],"accounts":[{"name":"state","writable":true,"pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"authority","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[]},{"name":"setup_reserve","discriminator":[228,106,40,32,130,22,168,195],"accounts":[{"name":"state","pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"reserve","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,115,101,114,118,101]},{"kind":"account","path":"mint"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"state"},{"kind":"const","value":[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{"kind":"account","path":"mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"mint"},{"name":"authority","writable":true,"signer":true,"relations":["state"]},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"rent","address":"SysvarRent111111111111111111111111111111111"}],"args":[]},{"name":"swap","discriminator":[248,198,158,145,225,117,135,200],"accounts":[{"name":"payer","writable":true,"signer":true},{"name":"user_token_account","writable":true},{"name":"user_target_token_account","writable":true},{"name":"state","writable":true,"pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"reserve","writable":true,"pda":{"seeds":[{"kind":"const","value":[114,101,115,101,114,118,101]},{"kind":"account","path":"reserve.mint","account":"Reserve"}]}},{"name":"vault","writable":true},{"name":"token_program","address":"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"recent_blockhashes"},{"name":"instruction_sysvar"},{"name":"jupiter_program","address":"JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"}],"args":[{"name":"threshold","type":"u32"},{"name":"jupiter_data","type":"bytes"}]},{"name":"update_house_edge","discriminator":[134,38,169,178,27,198,191,173],"accounts":[{"name":"state","writable":true,"pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"authority","signer":true}],"args":[{"name":"new_house_edge","type":"u16"}]},{"name":"update_max_allowed_multiplier","discriminator":[9,233,202,14,35,85,97,11],"accounts":[{"name":"state","writable":true},{"name":"authority","signer":true}],"args":[{"name":"new_max_allowed_multiplier","type":"u32"}]},{"name":"update_override_random","discriminator":[72,19,93,103,151,133,255,222],"accounts":[{"name":"state","writable":true,"pda":{"seeds":[{"kind":"const","value":[115,116,97,116,101]}]}},{"name":"authority","signer":true}],"args":[{"name":"enable_override","type":"bool"},{"name":"value","type":"u32"}]}],"accounts":[{"name":"Reserve","discriminator":[43,242,204,202,26,247,59,127]},{"name":"State","discriminator":[216,146,107,94,104,75,182,177]}],"events":[{"name":"SwapRecord","discriminator":[162,187,123,194,138,56,250,241]}],"errors":[{"code":6000,"name":"MathError","msg":"MathError"},{"code":6001,"name":"AlreadyInitialized","msg":"Program already initialized"},{"code":6002,"name":"ReserveAlreadySetup","msg":"Reserves already set up"},{"code":6003,"name":"Unauthorized","msg":"Unauthorized access"},{"code":6004,"name":"InvalidHouseEdge","msg":"Invalid house edge value"},{"code":6005,"name":"InvalidReserve","msg":"Invalid reserve for the given token"},{"code":6006,"name":"UnexpectedExecutableAccount","msg":"Unexpected executable account in transaction"},{"code":6007,"name":"InvalidInstructionAccounts","msg":"Invalid Instruction Accounts"},{"code":6008,"name":"NoOtherInstructionAllowed","msg":"Other instructions not allowed"},{"code":6009,"name":"Unsupported","msg":"Unsupported Functionality!"},{"code":6010,"name":"InvalidJupiterAccount","msg":"Constraint Error in Jupiter Account"},{"code":6011,"name":"InvalidJupiterData","msg":"Constraint Error in Jupiter Data"},{"code":6012,"name":"InvalidStateConfiguration","msg":"Global state has an invalid value!"},{"code":6013,"name":"BreachMaxAllowedMultiplier","msg":"The max allowed multiplier was breached!"},{"code":6014,"name":"InvalidNewMaxMultiplier","msg":"Invalid new max multiplier!"}],"types":[{"name":"Reserve","type":{"kind":"struct","fields":[{"name":"mint","type":"pubkey"},{"name":"vault","type":"pubkey"},{"name":"total_deposits","type":"u64"},{"name":"total_withdrawals","type":"u64"},{"name":"total_losses_collected","type":"u64"},{"name":"total_wins_paid","type":"u64"},{"name":"padding","type":{"array":["u64",5]}}]}},{"name":"State","type":{"kind":"struct","fields":[{"name":"authority","type":"pubkey"},{"name":"initialized","type":"bool"},{"name":"override_random","type":"bool"},{"name":"override_random_value","type":"u32"},{"name":"house_edge","type":"u16"},{"name":"max_allowed_multiplier","type":"u32"},{"name":"padding","type":{"array":["u32",13]}}]}},{"name":"SwapRecord","type":{"kind":"struct","fields":[{"name":"payer","type":"pubkey"},{"name":"reserve","type":"pubkey"},{"name":"vault","type":"pubkey"},{"name":"amount","type":"u64"},{"name":"threshold","type":"u32"},{"name":"random_number","type":"u32"},{"name":"adjusted_threshold","type":"u32"},{"name":"payer_wins","type":"bool"},{"name":"win_paid","type":"u64"},{"name":"loss_collected","type":"u64"}]}}],"constants":[{"name":"SEED_RESERVE","type":"bytes","value":"[114, 101, 115, 101, 114, 118, 101]"},{"name":"SEED_STATE","type":"bytes","value":"[115, 116, 97, 116, 101]"}]}');function So(t){return!!t&&Number.parseFloat(t).toString()===t}function Ao(t){const e=Number(t);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",notation:e>=1e3?"compact":"standard",maximumFractionDigits:e>=1e3?1:0}).format(e)}async function Mo(t,e,n,r=!1){if(console.debug(n),!t.signTransaction)throw new Error("Something with wallet setup went wrong");try{const s=await t.signTransaction(n),o=await e.sendTransaction(s);if(r){const t=await e.getLatestBlockhash();await e.confirmTransaction((0,i.A)({signature:o},t),"confirmed")}return{signature:o}}catch(s){throw s&&s.error&&!s.message&&(s.message=s.error),s}}async function Io(t,e,n,r,i){const o=await async function(t,e,n){return await(await fetch(`https://quote-api.jup.ag/v6/quote?inputMint=${t}&outputMint=${e}&amount=${n}&slippageBps=50`)).json()}(n,r,i);if(!t.publicKey)throw Error("Wallet must be connected");const{swapTransaction:a}=await(await fetch("https://quote-api.jup.ag/v6/swap",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quoteResponse:o,userPublicKey:t.publicKey.toString(),wrapAndUnwrapSol:!0})})).json(),u=Buffer.from(a,"base64"),l=s.VersionedTransaction.deserialize(u);return await Mo(t,e,l)}async function To(t,e,n,i,o,a,u=!1){const l=function(t,e){const n="string"==typeof t?new s.Connection(t,{commitment:"processed"}):t,i=e?e instanceof s.Keypair?new r.Wallet(e):e:new r.Wallet(s.Keypair.generate()),o=new AnchorProvider(n,i,AnchorProvider.defaultOptions());return new Program(ko,o)}(e,t),c=Math.round($/+a),h={payerAccount:t.publicKey,inputMint:new s.PublicKey(n),outputMint:new s.PublicKey(i),program:l,amount:o,threshold:c,jupiterQuoteParams:{onlyDirectRoutes:!0},jupiterSwapParams:{}};console.debug("luckyswapparams",{payerAccount:h.payerAccount.toString(),inputMint:h.inputMint.toString(),outputMint:h.outputMint.toString(),program:{programID:h.program.programId.toString()},amount:h.amount.toString(),threshold:h.threshold.toString()},h);const d=await nt(h),{computeBudgetInstructions:f,setupInstructionsUser:p,swapInstruction:m,cleanupInstruction:g,addressLookupTableAddresses:y}=d,v=t=>new s.TransactionInstruction({programId:new s.PublicKey(t.programId),keys:t.accounts.map((t=>({pubkey:new s.PublicKey(t.pubkey),isSigner:t.isSigner,isWritable:t.isWritable}))),data:Buffer.from(t.data,"base64")}),w=[];w.push(...await(async t=>(await e.getMultipleAccountsInfo(t.map((t=>new s.PublicKey(t))))).reduce(((e,n,r)=>{const i=t[r];if(n){const t=new s.AddressLookupTableAccount({key:new s.PublicKey(i),state:s.AddressLookupTableAccount.deserialize(n.data)});e.push(t)}return e}),new Array))(y));const b=(await e.getLatestBlockhash()).blockhash,_=[...p.map(v),v(m)],E=new s.TransactionMessage({payerKey:t.publicKey,recentBlockhash:b,instructions:_}).compileToV0Message(w),k=new s.VersionedTransaction(E);return await Mo(t,e,k,u)}},7124:(t,e,n)=>{"use strict";n.d(e,{R3:()=>o,Tw:()=>s,US:()=>c,ZL:()=>i,f:()=>l,mY:()=>h,qx:()=>a,vJ:()=>u});n(3696);var r=n(2540);const i=()=>(0,r.jsx)("svg",{width:12,height:6,viewBox:"0 0 12 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M1 1L6 5L11 1",stroke:"#5F7385",strokeWidth:2,strokeLinejoin:"round"})}),s=()=>(0,r.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M18 14.9034C16.1937 19.1847 10.3184 20.4327 6.95061 17.0961C3.6493 13.8245 4.67125 7.89942 9.0133 6",stroke:"#5F7385",strokeWidth:2,strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M16.7097 11C17.8425 11 18.4089 11 18.7743 10.493C18.7881 10.4738 18.8103 10.4402 18.8229 10.4204C19.1517 9.88825 18.9825 9.47967 18.6435 8.6625C18.3365 7.92137 17.8866 7.24797 17.3194 6.68075C16.7521 6.11352 16.0787 5.66359 15.3376 5.35665C14.5204 5.01766 14.1118 4.84847 13.5796 5.17666C13.5598 5.18925 13.5256 5.21265 13.507 5.22585C13 5.59184 13 6.15761 13 7.28976V8.55631C13 9.70826 13 10.2842 13.3576 10.6424C13.7158 11 14.2918 11 15.4432 11H16.7097Z",stroke:"#5F7385",strokeWidth:2,strokeLinejoin:"round"})]}),o=()=>(0,r.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M6 18L18 6",stroke:"#5F7385",strokeWidth:2,strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M16 18C17.1046 18 18 17.1046 18 16C18 14.8954 17.1046 14 16 14C14.8954 14 14 14.8954 14 16C14 17.1046 14.8954 18 16 18Z",stroke:"#5F7385",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M8 10C9.10457 10 10 9.10457 10 8C10 6.89543 9.10457 6 8 6C6.89543 6 6 6.89543 6 8C6 9.10457 6.89543 10 8 10Z",stroke:"#5F7385",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})]}),a=()=>(0,r.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M6 18L18 6L18 14",stroke:"#5F7385",strokeWidth:2})}),u=()=>(0,r.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M18.7258 13.0934L18.8868 11.3882C19.0128 10.0498 19.0758 9.3799 18.8462 9.1034C18.7883 9.03154 18.7167 8.97185 18.6356 8.92776C18.5545 8.88367 18.4655 8.85605 18.3737 8.8465C18.0405 8.8171 17.6227 9.2931 16.7862 10.2451C16.3536 10.7379 16.1373 10.9836 15.8965 11.0221C15.762 11.0432 15.6243 11.0212 15.5031 10.9591C15.2798 10.8471 15.1321 10.5426 14.8346 9.9343L13.2688 6.7255C12.7074 5.5754 12.4267 5 11.9997 5C11.5727 5 11.292 5.5754 10.7306 6.7255L9.16477 9.9343C8.86798 10.5433 8.71958 10.8471 8.49629 10.9591C8.37496 11.0207 8.23739 11.0427 8.1029 11.0221C7.8621 10.9836 7.64581 10.7379 7.21322 10.2451C6.37674 9.2931 5.95885 8.8171 5.62566 8.8465C5.53386 8.85605 5.44485 8.88367 5.36376 8.92776C5.28267 8.97185 5.2111 9.03154 5.15317 9.1034C4.92428 9.3799 4.98728 10.0498 5.11327 11.3882L5.27357 13.0934C5.53816 15.9018 5.66976 17.3067 6.49854 18.153C7.32522 19 8.56559 19 11.0477 19H12.951C15.4324 19 16.6728 19 17.5009 18.153C18.3289 17.306 18.4612 15.9018 18.7258 13.0934Z",stroke:"#5F7385",strokeWidth:2})}),l=()=>(0,r.jsxs)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M12 10L4 10L7 6",stroke:"#5F7385",strokeWidth:2}),(0,r.jsx)("path",{d:"M12 14L20 14L17 18",stroke:"#5F7385",strokeWidth:2})]}),c=()=>(0,r.jsx)("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M6 6L1 1M6 6L11 1M6 6L11 11M6 6L1 11",stroke:"#607583",strokeWidth:2})}),h=()=>(0,r.jsxs)("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:10,cy:10,r:9,stroke:"#5F7385",strokeWidth:2,strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M14 12C11.7909 14.6667 8.20914 14.6667 6 12",stroke:"#5F7385",strokeWidth:2,strokeLinejoin:"round"}),(0,r.jsx)("circle",{cx:"7.5",cy:"7.5",r:"0.75",stroke:"#5F7385",strokeWidth:"1.5",strokeLinejoin:"round"}),(0,r.jsx)("circle",{cx:"12.5",cy:"7.5",r:"0.75",stroke:"#5F7385",strokeWidth:"1.5",strokeLinejoin:"round"})]})},2447:(t,e,n)=>{"use strict";var r=n(3696),i=n(7470),s=n(9348),o=n(8891);window.Buffer=o.Buffer;var a=n(7435),u=n(2362),l=n(2540);const c=(0,r.lazy)((()=>n.e(8166).then(n.bind(n,8166)))),h=(0,r.lazy)((()=>n.e(4985).then(n.bind(n,4985)))),d=(0,r.lazy)((()=>n.e(4901).then(n.bind(n,4901)))),f=(0,r.lazy)((()=>n.e(6229).then(n.bind(n,6229)))),p=(0,r.lazy)((()=>n.e(535).then(n.bind(n,535)))),m=[{label:"Account",path:"/account"},{label:"Swap",path:"/swap"}],g=[{path:"/account/",element:(0,l.jsx)(c,{})},{path:"/account/:address",element:(0,l.jsx)(h,{})},{path:"/clusters",element:(0,l.jsx)(d,{})},{path:"/swap",element:(0,l.jsx)(p,{})},{path:"/swap/:sendMint/:receiveMint",element:(0,l.jsx)(p,{})}];function y(){return(0,l.jsx)(u.$T,{links:m,children:(0,a.Ye)([{index:!0,element:(0,l.jsx)(a.C5,{to:"/dashboard",replace:!0})},{path:"/dashboard",element:(0,l.jsx)(f,{})},...g,{path:"*",element:(0,l.jsx)(a.C5,{to:"/dashboard",replace:!0})}])})}var v=n(6231),w=n(3499),b=n(9739),_=n(3194),E=n(3102),k=n(5257),S=class extends k.Q{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,n){const r=e.queryKey,i=e.queryHash??(0,b.F$)(r,e);let s=this.get(i);return s||(s=new _.X({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){E.j.batch((()=>{this.getAll().forEach((t=>{this.remove(t)}))}))}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find((t=>(0,b.MK)(e,t)))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter((e=>(0,b.MK)(t,e))):e}notify(t){E.j.batch((()=>{this.listeners.forEach((e=>{e(t)}))}))}onFocus(){E.j.batch((()=>{this.getAll().forEach((t=>{t.onFocus()}))}))}onOnline(){E.j.batch((()=>{this.getAll().forEach((t=>{t.onOnline()}))}))}},A=n(9655),M=class extends k.Q{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#n=Date.now()}#e;#n;build(t,e,n){const r=new A.s({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=I(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=I(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter((e=>e!==t));n&&(0===n.length?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(I(t))?.find((t=>"pending"===t.state.status));return!e||e===t}runNext(t){const e=this.#e.get(I(t))?.find((e=>e!==t&&e.state.isPaused));return e?.continue()??Promise.resolve()}clear(){E.j.batch((()=>{this.getAll().forEach((t=>{this.remove(t)}))}))}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find((t=>(0,b.nJ)(e,t)))}findAll(t={}){return this.getAll().filter((e=>(0,b.nJ)(t,e)))}notify(t){E.j.batch((()=>{this.listeners.forEach((e=>{e(t)}))}))}resumePausedMutations(){const t=this.getAll().filter((t=>t.state.isPaused));return E.j.batch((()=>Promise.all(t.map((t=>t.continue().catch(b.lQ))))))}};function I(t){return t.options.scope?.id??String(t.mutationId)}var T=n(3203),R=n(792);function x(t){return{onFetch:(e,n)=>{const r=async()=>{const n=e.options,r=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],s=e.state.data?.pageParams||[],o={pages:[],pageParams:[]};let a=!1;const u=(0,b.ZM)(e.options,e.fetchOptions),l=async(t,n,r)=>{if(a)return Promise.reject();if(null==n&&t.pages.length)return Promise.resolve(t);const i={queryKey:e.queryKey,pageParam:n,direction:r?"backward":"forward",meta:e.options.meta};var s;s=i,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(e.signal.aborted?a=!0:e.signal.addEventListener("abort",(()=>{a=!0})),e.signal)});const o=await u(i),{maxPages:l}=e.options,c=r?b.ZZ:b.y9;return{pages:c(t.pages,o,l),pageParams:c(t.pageParams,n,l)}};let c;if(r&&i.length){const t="backward"===r,e={pages:i,pageParams:s},o=(t?P:C)(n,e);c=await l(e,o,t)}else{c=await l(o,s[0]??n.initialPageParam);const e=t??i.length;for(let t=1;t<e;t++){const t=C(n,c);c=await l(c,t)}}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=r}}}function C(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function P(t,{pages:e,pageParams:n}){return t.getPreviousPageParam?.(e[0],e,n[0],n)}var N=n(720),O=n(9166),L=n(5981),B=n(36);function D({children:t}){const[e,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(""),[o,a]=(0,r.useState)("");return e?(0,l.jsx)(l.Fragment,{children:t}):(0,l.jsxs)("div",{className:"min-h-full bg-gray-100",children:[(0,l.jsx)(u.sR,{title:"",subtitle:"",children:(0,l.jsx)("img",{alt:"Logo",src:"/assets/logo.png"})}),(0,l.jsx)("div",{className:"max-w-xl mx-auto py-6 sm:px-6 lg:px-8 text-center",children:(0,l.jsx)("div",{className:"space-y-2",children:"Coming soon"})}),(0,l.jsx)("div",{className:"flex justify-center items-center ",children:(0,l.jsx)("div",{className:"p-8 bg-white rounded-lg shadow-md",children:(0,l.jsxs)("form",{onSubmit:t=>{t.preventDefault();"772d0442be0250bfb71a641e0af683f0dcae3d4a0e8232e453b488ae7db26a58"===(0,B.sha256)(i)?(n(!0),a("")):a("Incorrect password")},children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Enter Password"}),(0,l.jsx)("input",{type:"password",value:i,onChange:t=>s(t.target.value),className:"px-3 py-2 mr-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,l.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Submit"}),o&&(0,l.jsx)("p",{className:"text-red-500 mt-2",children:o})]})})})]})}const U=new class{#r;#i;#s;#o;#a;#u;#l;#c;constructor(t={}){this.#r=t.queryCache||new S,this.#i=t.mutationCache||new M,this.#s=t.defaultOptions||{},this.#o=new Map,this.#a=new Map,this.#u=0}mount(){this.#u++,1===this.#u&&(this.#l=T.m.subscribe((async t=>{t&&(await this.resumePausedMutations(),this.#r.onFocus())})),this.#c=R.t.subscribe((async t=>{t&&(await this.resumePausedMutations(),this.#r.onOnline())})))}unmount(){this.#u--,0===this.#u&&(this.#l?.(),this.#l=void 0,this.#c?.(),this.#c=void 0)}isFetching(t){return this.#r.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#i.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#r.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(void 0===e)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=this.#r.build(this,n);return t.revalidateIfStale&&r.isStaleByTime(n.staleTime)&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return this.#r.findAll(t).map((({queryKey:t,state:e})=>[t,e.data]))}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=this.#r.get(r.queryHash),s=i?.state.data,o=(0,b.Zw)(e,s);if(void 0!==o)return this.#r.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return E.j.batch((()=>this.#r.findAll(t).map((({queryKey:t})=>[t,this.setQueryData(t,e,n)]))))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#r.get(e.queryHash)?.state}removeQueries(t){const e=this.#r;E.j.batch((()=>{e.findAll(t).forEach((t=>{e.remove(t)}))}))}resetQueries(t,e){const n=this.#r,r={type:"active",...t};return E.j.batch((()=>(n.findAll(t).forEach((t=>{t.reset()})),this.refetchQueries(r,e))))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=E.j.batch((()=>this.#r.findAll(t).map((t=>t.cancel(n)))));return Promise.all(r).then(b.lQ).catch(b.lQ)}invalidateQueries(t={},e={}){return E.j.batch((()=>{if(this.#r.findAll(t).forEach((t=>{t.invalidate()})),"none"===t.refetchType)return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)}))}refetchQueries(t={},e){const n={...e,cancelRefetch:e?.cancelRefetch??!0},r=E.j.batch((()=>this.#r.findAll(t).filter((t=>!t.isDisabled())).map((t=>{let e=t.fetch(void 0,n);return n.throwOnError||(e=e.catch(b.lQ)),"paused"===t.state.fetchStatus?Promise.resolve():e}))));return Promise.all(r).then(b.lQ)}fetchQuery(t){const e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);const n=this.#r.build(this,e);return n.isStaleByTime(e.staleTime)?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(b.lQ).catch(b.lQ)}fetchInfiniteQuery(t){return t.behavior=x(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(b.lQ).catch(b.lQ)}resumePausedMutations(){return R.t.isOnline()?this.#i.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#r}getMutationCache(){return this.#i}getDefaultOptions(){return this.#s}setDefaultOptions(t){this.#s=t}setQueryDefaults(t,e){this.#o.set((0,b.EN)(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#o.values()];let n={};return e.forEach((e=>{(0,b.Cp)(t,e.queryKey)&&(n={...n,...e.defaultOptions})})),n}setMutationDefaults(t,e){this.#a.set((0,b.EN)(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()];let n={};return e.forEach((e=>{(0,b.Cp)(t,e.mutationKey)&&(n={...n,...e.defaultOptions})})),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#s.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=(0,b.F$)(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),!0!==e.enabled&&e.queryFn===b.hT&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#s.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#r.clear(),this.#i.clear()}};function j(){return(0,l.jsx)(D,{children:(0,l.jsx)(N.Ht,{client:U,children:(0,l.jsx)(O.A,{children:(0,l.jsx)(L.vS,{children:(0,l.jsx)(v._C,{children:(0,l.jsx)(w.g,{children:(0,l.jsx)(y,{})})})})})})})}i.H(document.getElementById("root")).render((0,l.jsx)(r.StrictMode,{children:(0,l.jsx)(s.I9,{children:(0,l.jsx)(j,{})})}))},744:(t,e,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}var i;n.d(e,{AO:()=>h,Gh:()=>P,HS:()=>N,Oi:()=>a,Rr:()=>d,TM:()=>o,pX:()=>D,pb:()=>R,rc:()=>i,sd:()=>C,tH:()=>AbortedDeferredError,ue:()=>m}),function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(i||(i={}));const s="popstate";function o(t){return void 0===t&&(t={}),f((function(t,e){let{pathname:n="/",search:r="",hash:i=""}=d(t.location.hash.substr(1));return c("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){let n=t.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let e=t.location.href,n=e.indexOf("#");r=-1===n?e:e.slice(0,n)}return r+"#"+("string"==typeof e?e:h(e))}),(function(t,e){u("/"===t.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(e)+")")}),t)}function a(t,e){if(!1===t||null==t)throw new Error(e)}function u(t,e){if(!t){"undefined"!=typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function l(t,e){return{usr:t.state,key:t.key,idx:e}}function c(t,e,n,i){return void 0===n&&(n=null),r({pathname:"string"==typeof t?t:t.pathname,search:"",hash:""},"string"==typeof e?d(e):e,{state:n,key:e&&e.key||i||Math.random().toString(36).substr(2,8)})}function h(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function d(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function f(t,e,n,o){void 0===o&&(o={});let{window:u=document.defaultView,v5Compat:d=!1}=o,f=u.history,p=i.Pop,m=null,g=y();function y(){return(f.state||{idx:null}).idx}function v(){p=i.Pop;let t=y(),e=null==t?null:t-g;g=t,m&&m({action:p,location:b.location,delta:e})}function w(t){let e="null"!==u.location.origin?u.location.origin:u.location.href,n="string"==typeof t?t:h(t);return a(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==g&&(g=0,f.replaceState(r({},f.state,{idx:g}),""));let b={get action(){return p},get location(){return t(u,f)},listen(t){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(s,v),m=t,()=>{u.removeEventListener(s,v),m=null}},createHref:t=>e(u,t),createURL:w,encodeLocation(t){let e=w(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){p=i.Push;let r=c(b.location,t,e);n&&n(r,t),g=y()+1;let s=l(r,g),o=b.createHref(r);try{f.pushState(s,"",o)}catch(a){u.location.assign(o)}d&&m&&m({action:p,location:b.location,delta:1})},replace:function(t,e){p=i.Replace;let r=c(b.location,t,e);n&&n(r,t),g=y();let s=l(r,g),o=b.createHref(r);f.replaceState(s,"",o),d&&m&&m({action:p,location:b.location,delta:0})},go:t=>f.go(t)};return b}var p;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(t,e,n){void 0===n&&(n="/");let r=R(("string"==typeof e?d(e):e).pathname||"/",n);if(null==r)return null;let i=g(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o)s=M(i[o],T(r));return s}function g(t,e,n,r){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(t,i,s)=>{let o={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};o.relativePath.startsWith("/")&&(a(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let u=N([r,o.relativePath]),l=n.concat(o);t.children&&t.children.length>0&&(a(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),g(t.children,e,l,u)),(null!=t.path||t.index)&&e.push({path:u,score:A(u,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let r of y(t.path))i(t,e,r);else i(t,e)})),e}function y(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=y(r.join("/")),a=[];return a.push(...o.map((t=>""===t?s:[s,t].join("/")))),i&&a.push(...o),a.map((e=>t.startsWith("/")&&""===e?"/":e))}const v=/^:\w+$/,w=3,b=2,_=1,E=10,k=-2,S=t=>"*"===t;function A(t,e){let n=t.split("/"),r=n.length;return n.some(S)&&(r+=k),e&&(r+=b),n.filter((t=>!S(t))).reduce(((t,e)=>t+(v.test(e)?w:""===e?_:E)),r)}function M(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let t=n[o],a=o===n.length-1,u="/"===i?e:e.slice(i.length)||"/",l=I({path:t.relativePath,caseSensitive:t.caseSensitive,end:a},u);if(!l)return null;Object.assign(r,l.params);let c=t.route;s.push({params:r,pathname:N([i,l.pathname]),pathnameBase:O(N([i,l.pathnameBase])),route:c}),"/"!==l.pathnameBase&&(i=N([i,l.pathnameBase]))}return s}function I(t,e){"string"==typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);u("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((t,e)=>(r.push(e),"/([^\\/]+)")));t.endsWith("*")?(r.push("*"),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,e?void 0:"i");return[s,r]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((t,e,n)=>{if("*"===e){let t=a[n]||"";o=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(n){return u(!1,'The value for the URL param "'+e+'" will not be decoded because the string "'+t+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),t}}(a[n]||"",e),t}),{}),pathname:s,pathnameBase:o,pattern:t}}function T(t){try{return decodeURI(t)}catch(e){return u(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function R(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}function x(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function C(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function P(t,e,n,i){let s;void 0===i&&(i=!1),"string"==typeof t?s=d(t):(s=r({},t),a(!s.pathname||!s.pathname.includes("?"),x("?","pathname","search",s)),a(!s.pathname||!s.pathname.includes("#"),x("#","pathname","hash",s)),a(!s.search||!s.search.includes("#"),x("#","search","hash",s)));let o,u=""===t||""===s.pathname,l=u?"/":s.pathname;if(i||null==l)o=n;else{let t=e.length-1;if(l.startsWith("..")){let e=l.split("/");for(;".."===e[0];)e.shift(),t-=1;s.pathname=e.join("/")}o=t>=0?e[t]:"/"}let c=function(t,e){void 0===e&&(e="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof t?d(t):t,s=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:s,search:L(r),hash:B(i)}}(s,o),h=l&&"/"!==l&&l.endsWith("/"),f=(u||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!f||(c.pathname+="/"),c}const N=t=>t.join("/").replace(/\/\/+/g,"/"),O=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",B=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";class AbortedDeferredError extends Error{}function D(t){return null!=t&&"number"==typeof t.status&&"string"==typeof t.statusText&&"boolean"==typeof t.internal&&"data"in t}const U=["post","put","patch","delete"],j=(new Set(U),["get",...U]);new Set(j),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;Symbol("deferred")},9829:(t,e,n)=>{"use strict";e.I0=e.DH=e.NX=e.u8=e.cY=void 0,e.av=e.O6=e.w3=e.Wg=void 0;const r=n(8891);function i(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function s(t){return i(t),r.Buffer.from(t.buffer,t.byteOffset,t.length)}class Layout{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function o(t,e){return e.property?t+"["+e.property+"]":t}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){i(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}class OffsetLayout extends ExternalLayout{constructor(t,e=0,n){if(!(t instanceof Layout))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}class UInt extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readUIntLE(e,this.span)}encode(t,e,n=0){return s(e).writeUIntLE(t,n,this.span),this.span}}class UIntBE extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readUIntBE(e,this.span)}encode(t,e,n=0){return s(e).writeUIntBE(t,n,this.span),this.span}}class Int extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readIntLE(e,this.span)}encode(t,e,n=0){return s(e).writeIntLE(t,n,this.span),this.span}}class IntBE extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return s(t).readIntBE(e,this.span)}encode(t,e,n=0){return s(e).writeIntBE(t,n,this.span),this.span}}const a=Math.pow(2,32);function u(t){const e=Math.floor(t/a);return{hi32:e,lo32:t-e*a}}function l(t,e){return t*a+e}class NearUInt64 extends Layout{constructor(t){super(8,t)}decode(t,e=0){const n=s(t),r=n.readUInt32LE(e);return l(n.readUInt32LE(e+4),r)}encode(t,e,n=0){const r=u(t),i=s(e);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}class NearUInt64BE extends Layout{constructor(t){super(8,t)}decode(t,e=0){const n=s(t);return l(n.readUInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const r=u(t),i=s(e);return i.writeUInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}class NearInt64 extends Layout{constructor(t){super(8,t)}decode(t,e=0){const n=s(t),r=n.readUInt32LE(e);return l(n.readInt32LE(e+4),r)}encode(t,e,n=0){const r=u(t),i=s(e);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}class NearInt64BE extends Layout{constructor(t){super(8,t)}decode(t,e=0){const n=s(t);return l(n.readInt32BE(e),n.readUInt32BE(e+4))}encode(t,e,n=0){const r=u(t),i=s(e);return i.writeInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}class Float extends Layout{constructor(t){super(4,t)}decode(t,e=0){return s(t).readFloatLE(e)}encode(t,e,n=0){return s(e).writeFloatLE(t,n),4}}class FloatBE extends Layout{constructor(t){super(4,t)}decode(t,e=0){return s(t).readFloatBE(e)}encode(t,e,n=0){return s(e).writeFloatBE(t,n),4}}class Double extends Layout{constructor(t){super(8,t)}decode(t,e=0){return s(t).readDoubleLE(e)}encode(t,e,n=0){return s(e).writeDoubleLE(t,n),8}}class DoubleBE extends Layout{constructor(t){super(8,t)}decode(t,e=0){return s(t).readDoubleBE(e)}encode(t,e,n=0){return s(e).writeDoubleBE(t,n),8}}class Sequence extends Layout{constructor(t,e,n){if(!(t instanceof Layout))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(e instanceof ExternalLayout)&&0<t.span&&(r=e*t.span),super(r,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof ExternalLayout&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let r=0,i=this.count;for(i instanceof ExternalLayout&&(i=i.decode(t,e));r<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n}encode(t,e,n=0){const r=this.elementLayout,i=t.reduce(((t,i)=>t+r.encode(i,e,n+t)),0);return this.count instanceof ExternalLayout&&this.count.encode(t.length,e,n),i}}class Structure extends Layout{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof Layout),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const s of t)if(0>s.span&&void 0===s.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(i){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(t,e=0){i(t);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const r=n;let i=0,s=0;for(const o of this.fields){let r=o.span;if(s=0<r?r:0,void 0!==o.property){const i=t[o.property];void 0!==i&&(s=o.encode(i,e,n),0>r&&(r=o.getSpan(e,n)))}i=n,n+=r}return i+s-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class UnionDiscriminator{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class Union extends Layout{constructor(t,e,n){let r;if(t instanceof UInt||t instanceof UIntBE)r=new UnionLayoutDiscriminator(new OffsetLayout(t));else if(t instanceof ExternalLayout&&t.isCount())r=new UnionLayoutDiscriminator(t);else{if(!(t instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");r=t}if(void 0===e&&(e=null),!(null===e||e instanceof Layout))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof UInt||t instanceof UIntBE)&&(i+=r.layout.span)),super(i,n),this.discriminator=r,this.usesPrefixDiscriminator=t instanceof UInt||t instanceof UIntBE,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return s(t)},this.configGetSourceVariant=function(t){s=t.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const r=this.discriminator,i=r.decode(t,e),s=this.registry[i];if(void 0===s){const s=this.defaultLayout;let o=0;this.usesPrefixDiscriminator&&(o=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[s.property]=s.decode(t,e+o)}else n=s.decode(t,e);return n}encode(t,e,n=0){const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=r.layout.span),r.encode(t[r.property],e,n),s+i.encode(t[i.property],e,n+s)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new VariantLayout(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e=0){let n;return n=t instanceof Uint8Array?this.discriminator.decode(t,e):t,this.registry[n]}}class VariantLayout extends Layout{constructor(t,e,n,r){if(!(t instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof Layout))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(t,e+n)),n+r}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function c(t){return 0>t&&(t+=4294967296),t}class BitStructure extends Layout{constructor(t,e,n){if(!(t instanceof UInt||t instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===n&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let r=0;this._packedSetValue=function(t){return r=c(t),this},this._packedGetValue=function(){return r}}decode(t,e=0){const n=this.makeDestinationObject(),r=this.word.decode(t,e);this._packedSetValue(r);for(const i of this.fields)void 0!==i.property&&(n[i.property]=i.decode(t));return n}encode(t,e,n=0){const r=this.word.decode(e,n);this._packedSetValue(r);for(const i of this.fields)if(void 0!==i.property){const e=t[i.property];void 0!==e&&i.encode(e)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new BitField(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new Boolean(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class BitField{constructor(t,e,n){if(!(t instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const r=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-e),this.wordMask=c(this.valueMask<<this.start),this.property=n}decode(t,e){return c(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if("number"!=typeof t||!Number.isInteger(t)||t!==c(t&this.valueMask))throw new TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=c(t<<this.start);this.container._packedSetValue(c(e&~this.wordMask)|n)}}class Boolean extends BitField{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){"boolean"==typeof t&&(t=+t),super.encode(t)}}class Blob extends Layout{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof ExternalLayout||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),s(t).slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof ExternalLayout&&(r=t.length),!(t instanceof Uint8Array&&r===t.length))throw new TypeError(o("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>e.length)throw new RangeError("encoding overruns Uint8Array");const i=s(t);return s(e).write(i.toString("hex"),n,r,"hex"),this.length instanceof ExternalLayout&&this.length.encode(r,e,n),r}}class CString extends Layout{constructor(t){super(-1,t)}getSpan(t,e=0){i(t);let n=e;for(;n<t.length&&0!==t[n];)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return s(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){"string"!=typeof t&&(t=String(t));const i=r.Buffer.from(t,"utf8"),o=i.length;if(n+o>e.length)throw new RangeError("encoding overruns Buffer");const a=s(e);return i.copy(a,n),a[n+o]=0,o+1}}class UTF8 extends Layout{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return i(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return s(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){"string"!=typeof t&&(t=String(t));const i=r.Buffer.from(t,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(s(e),n),o}}class Constant extends Layout{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}e.cY=(t,e,n)=>new OffsetLayout(t,e,n),e.u8=t=>new UInt(1,t),e.NX=t=>new UInt(2,t),e.DH=t=>new UInt(4,t),e.I0=t=>new NearUInt64(t),e.Wg=t=>new NearInt64(t),e.w3=(t,e,n)=>new Structure(t,e,n),e.O6=(t,e,n)=>new Sequence(t,e,n),e.av=(t,e)=>new Blob(t,e)},3530:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,w:()=>s});var r=n(3696);const i=(0,r.createContext)({});function s(){return(0,r.useContext)(i)}},8267:(t,e,n)=>{"use strict";n.d(e,{b:()=>a,v:()=>u});var r=n(3696);const i=[],s={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){o("call","select")},connect:()=>Promise.reject(o("call","connect")),disconnect:()=>Promise.reject(o("call","disconnect")),sendTransaction:()=>Promise.reject(o("call","sendTransaction")),signTransaction:()=>Promise.reject(o("call","signTransaction")),signAllTransactions:()=>Promise.reject(o("call","signAllTransactions")),signMessage:()=>Promise.reject(o("call","signMessage")),signIn:()=>Promise.reject(o("call","signIn"))};function o(t,e){const n=new Error(`You have tried to ${t} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}Object.defineProperty(s,"wallets",{get:()=>(o("read","wallets"),i)}),Object.defineProperty(s,"wallet",{get:()=>(o("read","wallet"),null)}),Object.defineProperty(s,"publicKey",{get:()=>(o("read","publicKey"),null)});const a=(0,r.createContext)(s);function u(){return(0,r.useContext)(a)}},9367:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Account:()=>Account,AddressLookupTableAccount:()=>AddressLookupTableAccount,AddressLookupTableInstruction:()=>AddressLookupTableInstruction,AddressLookupTableProgram:()=>AddressLookupTableProgram,Authorized:()=>Authorized,BLOCKHASH_CACHE_TIMEOUT_MS:()=>kr,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Mn,BPF_LOADER_PROGRAM_ID:()=>cr,BpfLoader:()=>BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>hs,ComputeBudgetInstruction:()=>ComputeBudgetInstruction,ComputeBudgetProgram:()=>ComputeBudgetProgram,Connection:()=>Connection,Ed25519Program:()=>Ed25519Program,Enum:()=>Enum,EpochSchedule:()=>EpochSchedule,FeeCalculatorLayout:()=>rr,Keypair:()=>Keypair,LAMPORTS_PER_SOL:()=>Cs,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>cs,Loader:()=>Loader,Lockup:()=>Lockup,MAX_SEED_LENGTH:()=>kn,Message:()=>Message,MessageAccountKeys:()=>MessageAccountKeys,MessageV0:()=>MessageV0,NONCE_ACCOUNT_LENGTH:()=>sr,NonceAccount:()=>NonceAccount,PACKET_DATA_SIZE:()=>In,PUBLIC_KEY_LENGTH:()=>Sn,PublicKey:()=>PublicKey,SIGNATURE_LENGTH_IN_BYTES:()=>Rn,SOLANA_SCHEMA:()=>_n,STAKE_CONFIG_ID:()=>gs,STAKE_INSTRUCTION_LAYOUTS:()=>ys,SYSTEM_INSTRUCTION_LAYOUTS:()=>ur,SYSVAR_CLOCK_PUBKEY:()=>Hn,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>qn,SYSVAR_INSTRUCTIONS_PUBKEY:()=>Kn,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>Wn,SYSVAR_RENT_PUBKEY:()=>$n,SYSVAR_REWARDS_PUBKEY:()=>Zn,SYSVAR_SLOT_HASHES_PUBKEY:()=>Gn,SYSVAR_SLOT_HISTORY_PUBKEY:()=>Qn,SYSVAR_STAKE_HISTORY_PUBKEY:()=>Jn,Secp256k1Program:()=>Secp256k1Program,SendTransactionError:()=>SendTransactionError,SolanaJSONRPCError:()=>SolanaJSONRPCError,SolanaJSONRPCErrorCode:()=>Yn,StakeAuthorizationLayout:()=>vs,StakeInstruction:()=>StakeInstruction,StakeProgram:()=>StakeProgram,Struct:()=>index_browser_esm_Struct,SystemInstruction:()=>SystemInstruction,SystemProgram:()=>SystemProgram,Transaction:()=>Transaction,TransactionExpiredBlockheightExceededError:()=>TransactionExpiredBlockheightExceededError,TransactionExpiredNonceInvalidError:()=>TransactionExpiredNonceInvalidError,TransactionExpiredTimeoutError:()=>TransactionExpiredTimeoutError,TransactionInstruction:()=>TransactionInstruction,TransactionMessage:()=>TransactionMessage,TransactionStatus:()=>Vn,VALIDATOR_INFO_KEY:()=>_s,VERSION_PREFIX_MASK:()=>Tn,VOTE_PROGRAM_ID:()=>ks,ValidatorInfo:()=>ValidatorInfo,VersionedMessage:()=>Fn,VersionedTransaction:()=>VersionedTransaction,VoteAccount:()=>VoteAccount,VoteAuthorizationLayout:()=>bs,VoteInit:()=>VoteInit,VoteInstruction:()=>VoteInstruction,VoteProgram:()=>VoteProgram,clusterApiUrl:()=>Rs,sendAndConfirmRawTransaction:()=>xs,sendAndConfirmTransaction:()=>Xn});var r={};n.r(r),n.d(r,{aK:()=>z,e8:()=>M,DO:()=>A,dJ:()=>H,OG:()=>q,My:()=>T,Ph:()=>O,lX:()=>L,Id:()=>j,fg:()=>$,qj:()=>U,aT:()=>N,r4:()=>V,aY:()=>S,x:()=>Q,lq:()=>B,z:()=>D,zW:()=>R,Q5:()=>G});var i=n(8891),s=n(2242);const o=BigInt(2**32-1),a=BigInt(32);function u(t,e=!1){return e?{h:Number(t&o),l:Number(t>>a&o)}:{h:0|Number(t>>a&o),l:0|Number(t&o)}}function l(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=u(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const c=(t,e,n)=>t<<n|e>>>32-n,h=(t,e,n)=>e<<n|t>>>32-n,d=(t,e,n)=>e<<n-32|t>>>64-n,f=(t,e,n)=>t<<n-32|e>>>64-n;const p={fromBig:u,split:l,toBig:(t,e)=>BigInt(t>>>0)<<a|BigInt(e>>>0),shrSH:(t,e,n)=>t>>>n,shrSL:(t,e,n)=>t<<32-n|e>>>n,rotrSH:(t,e,n)=>t>>>n|e<<32-n,rotrSL:(t,e,n)=>t<<32-n|e>>>n,rotrBH:(t,e,n)=>t<<64-n|e>>>n-32,rotrBL:(t,e,n)=>t>>>n-32|e<<64-n,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:c,rotlSL:h,rotlBH:d,rotlBL:f,add:function(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:0|i}},add3L:(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),add3H:(t,e,n,r)=>e+n+r+(t/2**32|0)|0,add4L:(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),add4H:(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,add5H:(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,add5L:(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0)};var m=n(4276);const[g,y]=(()=>p.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))))(),v=new Uint32Array(80),w=new Uint32Array(80);class SHA512 extends s.ol{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:u,El:l,Fh:c,Fl:h,Gh:d,Gl:f,Hh:p,Hl:m}=this;return[t,e,n,r,i,s,o,a,u,l,c,h,d,f,p,m]}set(t,e,n,r,i,s,o,a,u,l,c,h,d,f,p,m){this.Ah=0|t,this.Al=0|e,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|l,this.Fh=0|c,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(t,e){for(let p=0;p<16;p++,e+=4)v[p]=t.getUint32(e),w[p]=t.getUint32(e+=4);for(let g=16;g<80;g++){const t=0|v[g-15],e=0|w[g-15],n=p.rotrSH(t,e,1)^p.rotrSH(t,e,8)^p.shrSH(t,e,7),r=p.rotrSL(t,e,1)^p.rotrSL(t,e,8)^p.shrSL(t,e,7),i=0|v[g-2],s=0|w[g-2],o=p.rotrSH(i,s,19)^p.rotrBH(i,s,61)^p.shrSH(i,s,6),a=p.rotrSL(i,s,19)^p.rotrBL(i,s,61)^p.shrSL(i,s,6),u=p.add4L(r,a,w[g-7],w[g-16]),l=p.add4H(u,n,o,v[g-7],v[g-16]);v[g]=0|l,w[g]=0|u}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:u,Dl:l,Eh:c,El:h,Fh:d,Fl:f,Gh:m,Gl:b,Hh:_,Hl:E}=this;for(let k=0;k<80;k++){const t=p.rotrSH(c,h,14)^p.rotrSH(c,h,18)^p.rotrBH(c,h,41),e=p.rotrSL(c,h,14)^p.rotrSL(c,h,18)^p.rotrBL(c,h,41),S=c&d^~c&m,A=h&f^~h&b,M=p.add5L(E,e,A,y[k],w[k]),I=p.add5H(M,_,t,S,g[k],v[k]),T=0|M,R=p.rotrSH(n,r,28)^p.rotrBH(n,r,34)^p.rotrBH(n,r,39),x=p.rotrSL(n,r,28)^p.rotrBL(n,r,34)^p.rotrBL(n,r,39),C=n&i^n&o^i&o,P=r&s^r&a^s&a;_=0|m,E=0|b,m=0|d,b=0|f,d=0|c,f=0|h,({h:c,l:h}=p.add(0|u,0|l,0|I,0|T)),u=0|o,l=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const N=p.add3L(T,x,P);n=p.add3H(N,I,R,C),r=0|N}({h:n,l:r}=p.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=p.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=p.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:u,l}=p.add(0|this.Dh,0|this.Dl,0|u,0|l)),({h:c,l:h}=p.add(0|this.Eh,0|this.El,0|c,0|h)),({h:d,l:f}=p.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:m,l:b}=p.add(0|this.Gh,0|this.Gl,0|m,0|b)),({h:_,l:E}=p.add(0|this.Hh,0|this.Hl,0|_,0|E)),this.set(n,r,i,s,o,a,u,l,c,h,d,f,m,b,_,E)}roundClean(){v.fill(0),w.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const b=(0,m.ld)((()=>new SHA512)),_=BigInt(0),E=BigInt(1),k=BigInt(2);function S(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name}function A(t){if(!S(t))throw new Error("Uint8Array expected")}function M(t,e){if("boolean"!=typeof e)throw new Error(t+" boolean expected, got "+e)}const I=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function T(t){A(t);let e="";for(let n=0;n<t.length;n++)e+=I[t[n]];return e}function R(t){const e=t.toString(16);return 1&e.length?"0"+e:e}function x(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return""===t?_:BigInt("0x"+t)}const C={_0:48,_9:57,A:65,F:70,a:97,f:102};function P(t){return t>=C._0&&t<=C._9?t-C._0:t>=C.A&&t<=C.F?t-(C.A-10):t>=C.a&&t<=C.f?t-(C.a-10):void 0}function N(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const e=P(t.charCodeAt(s)),n=P(t.charCodeAt(s+1));if(void 0===e||void 0===n){const e=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+e+'" at index '+s)}r[i]=16*e+n}return r}function O(t){return x(T(t))}function L(t){return A(t),x(T(Uint8Array.from(t).reverse()))}function B(t,e){return N(t.toString(16).padStart(2*e,"0"))}function D(t,e){return B(t,e).reverse()}function U(t,e,n){let r;if("string"==typeof e)try{r=N(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else{if(!S(e))throw new Error(t+" must be hex string or Uint8Array");r=Uint8Array.from(e)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function j(...t){let e=0;for(let r=0;r<t.length;r++){const n=t[r];A(n),e+=n.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const e=t[r];n.set(e,i),i+=e.length}return n}const F=t=>"bigint"==typeof t&&_<=t;function V(t,e,n){return F(t)&&F(e)&&F(n)&&e<=t&&t<n}function z(t,e,n,r){if(!V(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function H(t){let e;for(e=0;t>_;t>>=E,e+=1);return e}const q=t=>(k<<BigInt(t-1))-E,K=t=>new Uint8Array(t),W=t=>Uint8Array.from(t);function $(t,e,n){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=K(t),i=K(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...t)=>n(i,r,...t),u=(t=K())=>{i=a(W([0]),t),r=a(),0!==t.length&&(i=a(W([1]),t),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const n=[];for(;t<e;){r=a();const e=r.slice();n.push(e),t+=r.length}return j(...n)};return(t,e)=>{let n;for(o(),u(t);!(n=e(l()));)u();return o(),n}}const Z={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||S(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function G(t,e,n={}){const r=(e,n,r)=>{const i=Z[n];if("function"!=typeof i)throw new Error("invalid validator function");const s=t[e];if(!(r&&void 0===s||i(s,t)))throw new Error("param "+String(e)+" is invalid. Expected "+n+", got "+s)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function Q(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(void 0!==i)return i;const s=t(n,...r);return e.set(n,s),s}}const J=BigInt(0),Y=BigInt(1),X=BigInt(2),tt=BigInt(3),et=BigInt(4),nt=BigInt(5),rt=BigInt(8);function it(t,e){const n=t%e;return n>=J?n:e+n}function st(t,e,n){if(e<J)throw new Error("invalid exponent, negatives unsupported");if(n<=J)throw new Error("invalid modulus");if(n===Y)return J;let r=Y;for(;e>J;)e&Y&&(r=r*t%n),t=t*t%n,e>>=Y;return r}function ot(t,e,n){let r=t;for(;e-- >J;)r*=r,r%=n;return r}function at(t,e){if(t===J)throw new Error("invert: expected non-zero number");if(e<=J)throw new Error("invert: expected positive modulus, got "+e);let n=it(t,e),r=e,i=J,s=Y,o=Y,a=J;for(;n!==J;){const t=r/n,e=r%n,u=i-o*t,l=s-a*t;r=n,n=e,i=o,s=a,o=u,a=l}if(r!==Y)throw new Error("invert: does not exist");return it(i,e)}function ut(t){if(t%et===tt){const e=(t+Y)/et;return function(t,n){const r=t.pow(n,e);if(!t.eql(t.sqr(r),n))throw new Error("Cannot find square root");return r}}if(t%rt===nt){const e=(t-nt)/rt;return function(t,n){const r=t.mul(n,X),i=t.pow(r,e),s=t.mul(n,i),o=t.mul(t.mul(s,X),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(t){const e=(t-Y)/X;let n,r,i;for(n=t-Y,r=0;n%X===J;n/=X,r++);for(i=X;i<t&&st(i,e,t)!==t-Y;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const e=(t+Y)/et;return function(t,n){const r=t.pow(n,e);if(!t.eql(t.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+Y)/X;return function(t,o){if(t.pow(o,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let a=r,u=t.pow(t.mul(t.ONE,i),n),l=t.pow(o,s),c=t.pow(o,n);for(;!t.eql(c,t.ONE);){if(t.eql(c,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(c);e<a&&!t.eql(r,t.ONE);e++)r=t.sqr(r);const n=t.pow(u,Y<<BigInt(a-e-1));u=t.sqr(n),l=t.mul(l,n),c=t.mul(c,u),a=e}return l}}(t)}const lt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ct(t,e){const n=void 0!==e?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function ht(t,e,n=!1,r={}){if(t<=J)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=ct(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:q(i),ZERO:J,ONE:Y,create:e=>it(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("invalid field element: expected bigint, got "+typeof e);return J<=e&&e<t},is0:t=>t===J,isOdd:t=>(t&Y)===Y,neg:e=>it(-e,t),eql:(t,e)=>t===e,sqr:e=>it(e*e,t),add:(e,n)=>it(e+n,t),sub:(e,n)=>it(e-n,t),mul:(e,n)=>it(e*n,t),pow:(t,e)=>function(t,e,n){if(n<J)throw new Error("invalid exponent, negatives unsupported");if(n===J)return t.ONE;if(n===Y)return e;let r=t.ONE,i=e;for(;n>J;)n&Y&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Y;return r}(a,t,e),div:(e,n)=>it(e*at(n,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>at(e,t),sqrt:r.sqrt||(e=>(o||(o=ut(t)),o(a,e))),invertBatch:t=>function(t,e){const n=new Array(e.length),r=e.reduce(((e,r,i)=>t.is0(r)?e:(n[i]=e,t.mul(e,r))),t.ONE),i=t.inv(r);return e.reduceRight(((e,r,i)=>t.is0(r)?e:(n[i]=t.mul(e,n[i]),t.mul(e,r))),i),n}(a,t),cmov:(t,e,n)=>n?e:t,toBytes:t=>n?D(t,s):B(t,s),fromBytes:t=>{if(t.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+t.length);return n?L(t):O(t)}});return Object.freeze(a)}function dt(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function ft(t){const e=dt(t);return e+Math.ceil(e/2)}const pt=BigInt(0),mt=BigInt(1);function gt(t,e){const n=e.negate();return t?n:e}function yt(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function vt(t,e){yt(t,e);return{windows:Math.ceil(e/t)+1,windowSize:2**(t-1)}}function wt(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach(((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)}))}function bt(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach(((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)}))}const _t=new WeakMap,Et=new WeakMap;function kt(t){return Et.get(t)||1}function St(t,e){return{constTimeNegate:gt,hasPrecomputes:t=>1!==kt(t),unsafeLadder(e,n,r=t.ZERO){let i=e;for(;n>pt;)n&mt&&(r=r.add(i)),i=i.double(),n>>=mt;return r},precomputeWindow(t,n){const{windows:r,windowSize:i}=vt(n,e),s=[];let o=t,a=o;for(let e=0;e<r;e++){a=o,s.push(a);for(let t=1;t<i;t++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(n,r,i){const{windows:s,windowSize:o}=vt(n,e);let a=t.ZERO,u=t.BASE;const l=BigInt(2**n-1),c=2**n,h=BigInt(n);for(let t=0;t<s;t++){const e=t*o;let n=Number(i&l);i>>=h,n>o&&(n-=c,i+=mt);const s=e,d=e+Math.abs(n)-1,f=t%2!=0,p=n<0;0===n?u=u.add(gt(f,r[s])):a=a.add(gt(p,r[d]))}return{p:a,f:u}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=vt(n,e),u=BigInt(2**n-1),l=2**n,c=BigInt(n);for(let t=0;t<o;t++){const e=t*a;if(i===pt)break;let n=Number(i&u);if(i>>=c,n>a&&(n-=l,i+=mt),0===n)continue;let o=r[e+Math.abs(n)-1];n<0&&(o=o.negate()),s=s.add(o)}return s},getPrecomputes(t,e,n){let r=_t.get(e);return r||(r=this.precomputeWindow(e,t),1!==t&&_t.set(e,n(r))),r},wNAFCached(t,e,n){const r=kt(t);return this.wNAF(r,this.getPrecomputes(r,t,n),e)},wNAFCachedUnsafe(t,e,n,r){const i=kt(t);return 1===i?this.unsafeLadder(t,e,r):this.wNAFUnsafe(i,this.getPrecomputes(i,t,n),e,r)},setWindowSize(t,n){yt(n,e),Et.set(t,n),_t.delete(t)}}}function At(t,e,n,r){if(wt(n,t),bt(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=H(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,u=new Array(a+1).fill(i);let l=i;for(let c=Math.floor((e.BITS-1)/o)*o;c>=0;c-=o){u.fill(i);for(let e=0;e<r.length;e++){const t=r[e],i=Number(t>>BigInt(c)&BigInt(a));u[i]=u[i].add(n[e])}let t=i;for(let e=u.length-1,n=i;e>0;e--)n=n.add(u[e]),t=t.add(n);if(l=l.add(t),0!==c)for(let e=0;e<o;e++)l=l.double()}return l}function Mt(t){return function(t){const e=lt.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});G(t,e)}(t.Fp),G(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ct(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const It=BigInt(0),Tt=BigInt(1),Rt=BigInt(2),xt=BigInt(8),Ct={zip215:!0};function Pt(t){const e=function(t){const e=Mt(t);return G(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:u}=e,l=Rt<<BigInt(8*a)-Tt,c=n.create,h=ht(e.n,e.nBitLength),d=e.uvRatio||((t,e)=>{try{return{isValid:!0,value:n.sqrt(t*n.inv(e))}}catch(r){return{isValid:!1,value:It}}}),f=e.adjustScalarBytes||(t=>t),p=e.domain||((t,e,n)=>{if(M("phflag",n),e.length||n)throw new Error("Contexts/pre-hash are not supported");return t});function m(t,e){z("coordinate "+t,e,It,l)}function g(t){if(!(t instanceof Point))throw new Error("ExtendedPoint expected")}const y=Q(((t,e)=>{const{ex:r,ey:i,ez:s}=t,o=t.is0();null==e&&(e=o?xt:n.inv(s));const a=c(r*e),u=c(i*e),l=c(s*e);if(o)return{x:It,y:Tt};if(l!==Tt)throw new Error("invZ was invalid");return{x:a,y:u}})),v=Q((t=>{const{a:n,d:r}=e;if(t.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=t,u=c(i*i),l=c(s*s),h=c(o*o),d=c(h*h),f=c(u*n);if(c(h*c(f+l))!==c(d+c(r*c(u*l))))throw new Error("bad point: equation left != right (1)");if(c(i*s)!==c(o*a))throw new Error("bad point: equation left != right (2)");return!0}));class Point{constructor(t,e,n,r){this.ex=t,this.ey=e,this.ez=n,this.et=r,m("x",t),m("y",e),m("z",n),m("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(t){if(t instanceof Point)throw new Error("extended point not allowed");const{x:e,y:n}=t||{};return m("x",e),m("y",n),new Point(e,n,Tt,c(e*n))}static normalizeZ(t){const e=n.invertBatch(t.map((t=>t.ez)));return t.map(((t,n)=>t.toAffine(e[n]))).map(Point.fromAffine)}static msm(t,e){return At(Point,h,t,e)}_setWindowSize(t){_.setWindowSize(this,t)}assertValidity(){v(this)}equals(t){g(t);const{ex:e,ey:n,ez:r}=this,{ex:i,ey:s,ez:o}=t,a=c(e*o),u=c(i*r),l=c(n*o),h=c(s*r);return a===u&&l===h}is0(){return this.equals(Point.ZERO)}negate(){return new Point(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:t}=e,{ex:n,ey:r,ez:i}=this,s=c(n*n),o=c(r*r),a=c(Rt*c(i*i)),u=c(t*s),l=n+r,h=c(c(l*l)-s-o),d=u+o,f=d-a,p=u-o,m=c(h*f),g=c(d*p),y=c(h*p),v=c(f*d);return new Point(m,g,v,y)}add(t){g(t);const{a:n,d:r}=e,{ex:i,ey:s,ez:o,et:a}=this,{ex:u,ey:l,ez:h,et:d}=t;if(n===BigInt(-1)){const t=c((s-i)*(l+u)),e=c((s+i)*(l-u)),n=c(e-t);if(n===It)return this.double();const r=c(o*Rt*d),f=c(a*Rt*h),p=f+r,m=e+t,g=f-r,y=c(p*n),v=c(m*g),w=c(p*g),b=c(n*m);return new Point(y,v,b,w)}const f=c(i*u),p=c(s*l),m=c(a*r*d),y=c(o*h),v=c((i+s)*(u+l)-f-p),w=y-m,b=y+m,_=c(p-n*f),E=c(v*w),k=c(b*_),S=c(v*_),A=c(w*b);return new Point(E,k,A,S)}subtract(t){return this.add(t.negate())}wNAF(t){return _.wNAFCached(this,t,Point.normalizeZ)}multiply(t){const e=t;z("scalar",e,Tt,r);const{p:n,f:i}=this.wNAF(e);return Point.normalizeZ([n,i])[0]}multiplyUnsafe(t,e=Point.ZERO){const n=t;return z("scalar",n,It,r),n===It?b:this.is0()||n===Tt?this:_.wNAFCachedUnsafe(this,n,Point.normalizeZ,e)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return _.unsafeLadder(this,r).is0()}toAffine(t){return y(this,t)}clearCofactor(){const{h:t}=e;return t===Tt?this:this.multiplyUnsafe(t)}static fromHex(t,r=!1){const{d:i,a:s}=e,o=n.BYTES;t=U("pointHex",t,o),M("zip215",r);const a=t.slice(),u=t[o-1];a[o-1]=-129&u;const h=L(a),f=r?l:n.ORDER;z("pointHex.y",h,It,f);const p=c(h*h),m=c(p-Tt),g=c(i*p-s);let{isValid:y,value:v}=d(m,g);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const w=(v&Tt)===Tt,b=!!(128&u);if(!r&&v===It&&b)throw new Error("Point.fromHex: x=0 and x_0=1");return b!==w&&(v=c(-v)),Point.fromAffine({x:v,y:h})}static fromPrivateKey(t){return S(t).point}toRawBytes(){const{x:t,y:e}=this.toAffine(),r=D(e,n.BYTES);return r[r.length-1]|=t&Tt?128:0,r}toHex(){return T(this.toRawBytes())}}Point.BASE=new Point(e.Gx,e.Gy,Tt,c(e.Gx*e.Gy)),Point.ZERO=new Point(It,Tt,Tt,It);const{BASE:w,ZERO:b}=Point,_=St(Point,8*a);function E(t){return it(t,r)}function k(t){return E(L(t))}function S(t){const e=n.BYTES;t=U("private key",t,e);const r=U("hashed private key",s(t),2*e),i=f(r.slice(0,e)),o=r.slice(e,2*e),a=k(i),u=w.multiply(a),l=u.toRawBytes();return{head:i,prefix:o,scalar:a,point:u,pointBytes:l}}function A(t=new Uint8Array,...e){const n=j(...e);return k(s(p(n,U("context",t),!!i)))}const I=Ct;w._setWindowSize(8);return{CURVE:e,getPublicKey:function(t){return S(t).pointBytes},sign:function(t,e,s={}){t=U("message",t),i&&(t=i(t));const{prefix:o,scalar:a,pointBytes:u}=S(e),l=A(s.context,o,t),c=w.multiply(l).toRawBytes(),h=E(l+A(s.context,c,u,t)*a);return z("signature.s",h,It,r),U("result",j(c,D(h,n.BYTES)),2*n.BYTES)},verify:function(t,e,r,s=I){const{context:o,zip215:a}=s,u=n.BYTES;t=U("signature",t,2*u),e=U("message",e),r=U("publicKey",r,u),void 0!==a&&M("zip215",a),i&&(e=i(e));const l=L(t.slice(u,2*u));let c,h,d;try{c=Point.fromHex(r,a),h=Point.fromHex(t.slice(0,u),a),d=w.multiplyUnsafe(l)}catch(p){return!1}if(!a&&c.isSmallOrder())return!1;const f=A(o,h.toRawBytes(),c.toRawBytes(),e);return h.add(c.multiplyUnsafe(f)).subtract(d).clearCofactor().equals(Point.ZERO)},ExtendedPoint:Point,utils:{getExtendedPublicKey:S,randomPrivateKey:()=>o(n.BYTES),precompute:(t=8,e=Point.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}}const Nt=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ot=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Lt=(BigInt(0),BigInt(1)),Bt=BigInt(2),Dt=(BigInt(3),BigInt(5)),Ut=BigInt(8);function jt(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Nt,o=t*t%s*t%s,a=ot(o,Bt,s)*o%s,u=ot(a,Lt,s)*t%s,l=ot(u,Dt,s)*u%s,c=ot(l,e,s)*l%s,h=ot(c,n,s)*c%s,d=ot(h,r,s)*h%s,f=ot(d,i,s)*d%s,p=ot(f,i,s)*d%s,m=ot(p,e,s)*l%s;return{pow_p_5_8:ot(m,Bt,s)*t%s,b2:o}}function Ft(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function Vt(t,e){const n=Nt,r=it(e*e*e,n),i=it(r*r*e,n);let s=it(t*r*jt(t*i).pow_p_5_8,n);const o=it(e*s*s,n),a=s,u=it(s*Ot,n),l=o===t,c=o===it(-t,n),h=o===it(-t*Ot,n);return l&&(s=a),(c||h)&&(s=u),((t,e)=>(it(t,e)&Y)===Y)(s,n)&&(s=it(-s,n)),{isValid:l||c,value:s}}const zt=(()=>ht(Nt,void 0,!0))(),Ht=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:zt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Ut,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:b,randomBytes:m.po,adjustScalarBytes:Ft,uvRatio:Vt}))(),qt=(()=>Pt(Ht))();var Kt=n(621),Wt=n.n(Kt),$t=n(3718),Zt=n.n($t),Gt=n(5423),Qt=n(5375),Jt=n(9829),Yt=n(1740);class StructError extends TypeError{constructor(t,e){let n;const{message:r,explanation:i,...s}=t,{path:o}=t,a=0===o.length?r:`At path: ${o.join(".")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...e()])}}function Xt(t){return"object"==typeof t&&null!=t}function te(t){return Xt(t)&&!Array.isArray(t)}function ee(t){return"symbol"==typeof t?t.toString():"string"==typeof t?JSON.stringify(t):`${t}`}function ne(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:u=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ee(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:u}}function*re(t,e,n,r){var i;Xt(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const s of t){const t=ne(s,e,n,r);t&&(yield t)}}function*ie(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(t=e.coercer(t,a));let u="valid";for(const l of e.validator(t,a))l.explanation=n.message,u="not_valid",yield[l,void 0];for(let[l,c,h]of e.entries(t,a)){const e=ie(c,h,{path:void 0===l?r:[...r,l],branch:void 0===l?i:[...i,c],coerce:s,mask:o,message:n.message});for(const n of e)n[0]?(u=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):s&&(c=n[1],void 0===l?t=c:t instanceof Map?t.set(l,c):t instanceof Set?t.add(c):Xt(t)&&(void 0!==c||l in t)&&(t[l]=c))}if("not_valid"!==u)for(const l of e.refiner(t,a))l.explanation=n.message,u="not_refined",yield[l,void 0];"valid"===u&&(yield[void 0,t])}class Struct{constructor(t){const{type:e,schema:n,validator:r,refiner:i,coercer:s=t=>t,entries:o=function*(){}}=t;this.type=e,this.schema=n,this.entries=o,this.coercer=s,this.validator=r?(t,e)=>re(r(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>re(i(t,e),e,this,t):()=>[]}assert(t,e){return se(t,this,e)}create(t,e){return oe(t,this,e)}is(t){return ae(t,this)}mask(t,e){return function(t,e,n){const r=ue(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(t,this,e)}validate(t,e={}){return ue(t,this,e)}}function se(t,e,n){const r=ue(t,e,{message:n});if(r[0])throw r[0]}function oe(t,e,n){const r=ue(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function ae(t,e){return!ue(t,e)[0]}function ue(t,e,n={}){const r=ie(t,e,n),i=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(i[0]){return[new StructError(i[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]}return[void 0,i[1]]}function le(t,e){return new Struct({type:t,schema:null,validator:e})}function ce(t){return new Struct({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${ee(t)}`})}function he(){return le("boolean",(t=>"boolean"==typeof t))}function de(t){return le("instance",(e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ee(e)}`))}function fe(t){const e=ee(t),n=typeof t;return new Struct({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||`Expected the literal \`${e}\`, but received: ${ee(n)}`})}function pe(){return le("never",(()=>!1))}function me(t){return new Struct({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function ge(){return le("number",(t=>"number"==typeof t&&!isNaN(t)||`Expected a number, but received: ${ee(t)}`))}function ye(t){return new Struct({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function ve(t,e){return new Struct({type:"record",schema:null,*entries(n){if(Xt(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:t=>te(t)||`Expected an object, but received: ${ee(t)}`,coercer:t=>te(t)?{...t}:t})}function we(){return le("string",(t=>"string"==typeof t||`Expected a string, but received: ${ee(t)}`))}function be(t){const e=pe();return new Struct({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator:t=>Array.isArray(t)||`Expected an array, but received: ${ee(t)}`,coercer:t=>Array.isArray(t)?t.slice():t})}function _e(t){const e=Object.keys(t);return new Struct({type:"type",schema:t,*entries(n){if(Xt(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>te(t)||`Expected an object, but received: ${ee(t)}`,coercer:t=>te(t)?{...t}:t})}function Ee(t){const e=t.map((t=>t.type)).join(" | ");return new Struct({type:"union",schema:null,coercer(e,n){for(const r of t){const[t,i]=r.validate(e,{coerce:!0,mask:n.mask});if(!t)return i}return e},validator(n,r){const i=[];for(const e of t){const[...t]=ie(n,e,r),[s]=t;if(!s[0])return[];for(const[e]of t)e&&i.push(e)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ee(n)}`,...i]}})}function ke(){return le("unknown",(()=>!0))}function Se(t,e,n){return new Struct({...t,coercer:(r,i)=>ae(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var Ae=n(4706),Me=n.n(Ae),Ie=n(8042);var Te=class extends Ie{socket;constructor(t,e,n){super(),this.socket=new window.WebSocket(t,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=t=>this.emit("message",t.data),this.socket.onerror=t=>this.emit("error",t),this.socket.onclose=t=>{this.emit("close",t.code,t.reason)}}send(t,e,n){const r=n||e;try{this.socket.send(t),r()}catch(i){r(i)}}close(t,e){this.socket.close(t,e)}addEventListener(t,e,n){this.socket.addEventListener(t,e,n)}};function Re(t,e){return new Te(t,e)}var xe=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},Ce=class extends Ie{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(t,e="ws://localhost:8080",{autoconnect:n=!0,reconnect:r=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...o}={},a,u){super(),this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=n,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=a||(()=>++this.rpc_id),this.dataPack=u||new xe,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,e,n,r){return r||"object"!=typeof n||(r=n,n=null),new Promise(((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o=this.generate_request_id(t,e),a={jsonrpc:"2.0",method:t,params:e||void 0,id:o};this.socket.send(this.dataPack.encode(a),r,(t=>{if(t)return s(t);this.queue[o]={promise:[i,s]},n&&(this.queue[o].timeout=setTimeout((()=>{delete this.queue[o],s(new Error("reply timeout"))}),n))}))}))}async login(t){const e=await this.call("rpc.login",t);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(t,e){return new Promise(((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:e};this.socket.send(this.dataPack.encode(i),(t=>{if(t)return r(t);n()}))}))}async subscribe(t){"string"==typeof t&&(t=[t]);const e=await this.call("rpc.on",t);if("string"==typeof t&&"ok"!==e[t])throw new Error("Failed subscribing to an event '"+t+"' with: "+e[t]);return e}async unsubscribe(t){"string"==typeof t&&(t=[t]);const e=await this.call("rpc.off",t);if("string"==typeof t&&"ok"!==e[t])throw new Error("Failed unsubscribing from an event with: "+e);return e}close(t,e){this.socket.close(t||1e3,e)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,e),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(({data:t})=>{t instanceof ArrayBuffer&&(t=i.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch(e){return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);const e=[t.notification];if(t.params.constructor===Object)e.push(t.params);else for(let n=0;n<t.params.length;n++)e.push(t.params[n]);return Promise.resolve().then((()=>{this.emit.apply(this,e)}))}if(!this.queue[t.id])return t.method?Promise.resolve().then((()=>{this.emit(t.method,t?.params)})):void 0;"error"in t=="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]})),this.socket.addEventListener("error",(t=>this.emit("error",t))),this.socket.addEventListener("close",(({code:n,reason:r})=>{this.ready&&setTimeout((()=>this.emit("close",n,r)),0),this.ready=!1,this.socket=void 0,1e3!==n&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(t,e)),this.reconnect_interval)))}))}},Pe=n(757);const Ne=[],Oe=[],Le=[],Be=BigInt(0),De=BigInt(1),Ue=BigInt(2),je=BigInt(7),Fe=BigInt(256),Ve=BigInt(113);for(let Ps=0,Ns=De,Os=1,Ls=0;Ps<24;Ps++){[Os,Ls]=[Ls,(2*Os+3*Ls)%5],Ne.push(2*(5*Ls+Os)),Oe.push((Ps+1)*(Ps+2)/2%64);let t=Be;for(let e=0;e<7;e++)Ns=(Ns<<De^(Ns>>je)*Ve)%Fe,Ns&Ue&&(t^=De<<(De<<BigInt(e))-De);Le.push(t)}const[ze,He]=l(Le,!0),qe=(t,e,n)=>n>32?d(t,e,n):c(t,e,n),Ke=(t,e,n)=>n>32?f(t,e,n):h(t,e,n);class Keccak extends m.Vw{constructor(t,e,n,r=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Pe.Fe)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,m.DH)(this.state)}keccak(){m.qv||(0,m.Fc)(this.state32),function(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let r=0;r<10;r++)n[r]=t[r]^t[r+10]^t[r+20]^t[r+30]^t[r+40];for(let r=0;r<10;r+=2){const e=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=qe(s,o,1)^n[e],u=Ke(s,o,1)^n[e+1];for(let n=0;n<50;n+=10)t[r+n]^=a,t[r+n+1]^=u}let e=t[2],i=t[3];for(let n=0;n<24;n++){const r=Oe[n],s=qe(e,i,r),o=Ke(e,i,r),a=Ne[n];e=t[a],i=t[a+1],t[a]=s,t[a+1]=o}for(let r=0;r<50;r+=10){for(let e=0;e<10;e++)n[e]=t[r+e];for(let e=0;e<10;e++)t[r+e]^=~n[(e+2)%10]&n[(e+4)%10]}t[0]^=ze[r],t[1]^=He[r]}n.fill(0)}(this.state32,this.rounds),m.qv||(0,m.Fc)(this.state32),this.posOut=0,this.pos=0}update(t){(0,Pe.CC)(this);const{blockLen:e,state:n}=this,r=(t=(0,m.ZJ)(t)).length;for(let i=0;i<r;){const s=Math.min(e-this.pos,r-i);for(let e=0;e<s;e++)n[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:n,blockLen:r}=this;t[n]^=e,128&e&&n===r-1&&this.keccak(),t[r-1]^=128,this.keccak()}writeInto(t){(0,Pe.CC)(this,!1),(0,Pe.DO)(t),this.finish();const e=this.state,{blockLen:n}=this;for(let r=0,i=t.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);t.set(e.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,Pe.Fe)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,Pe.Ht)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return t||(t=new Keccak(e,n,r,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=r,t.enableXOF=s,t.destroyed=this.destroyed,t}}const We=(t,e,n)=>(0,m.ld)((()=>new Keccak(e,t,n))),$e=We(1,136,32);class HMAC extends m.Vw{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,Pe.sd)(t);const n=(0,m.ZJ)(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?t.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(t){return(0,Pe.CC)(this),this.iHash.update(t),this}digestInto(t){(0,Pe.CC)(this),(0,Pe.DO)(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return t.finished=r,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ze=(t,e,n)=>new HMAC(t,e).update(n).digest();function Ge(t){void 0!==t.lowS&&M("lowS",t.lowS),void 0!==t.prehash&&M("prehash",t.prehash)}Ze.create=(t,e)=>new HMAC(t,e);const{Ph:Qe,aT:Je}=r;class DERErr extends Error{constructor(t=""){super(t)}}const Ye={Err:DERErr,_tlv:{encode:(t,e)=>{const{Err:n}=Ye;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(1&e.length)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=R(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?R(i.length/2|128):"";return R(t)+s+i+e},decode(t,e){const{Err:n}=Ye;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++];let s=0;if(!!(128&i)){const t=127&i;if(!t)throw new n("tlv.decode(long): indefinite length not supported");if(t>4)throw new n("tlv.decode(long): byte length is too big");const o=e.subarray(r,r+t);if(o.length!==t)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const e of o)s=s<<8|e;if(r+=t,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=e.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=Ye;if(t<Xe)throw new e("integer: negative integers are not allowed");let n=R(t);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ye;if(128&t[0])throw new e("invalid signature integer: negative");if(0===t[0]&&!(128&t[1]))throw new e("invalid signature integer: unnecessary leading zero");return Qe(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ye,i="string"==typeof t?Je(t):t;A(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:u}=r.decode(2,s),{v:l,l:c}=r.decode(2,u);if(c.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Ye,r=e.encode(2,n.encode(t.r))+e.encode(2,n.encode(t.s));return e.encode(48,r)}},Xe=BigInt(0),tn=BigInt(1),en=(BigInt(2),BigInt(3));BigInt(4);function nn(t){const e=function(t){const e=Mt(t);G(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:n}=e,r=ht(e.n,e.nBitLength),i=e.toBytes||((t,e,r)=>{const i=e.toAffine();return j(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),s=e.fromBytes||(t=>{const e=t.subarray(1);return{x:n.fromBytes(e.subarray(0,n.BYTES)),y:n.fromBytes(e.subarray(n.BYTES,2*n.BYTES))}});function o(t){const{a:r,b:i}=e,s=n.sqr(t),o=n.mul(s,t);return n.add(n.add(o,n.mul(t,r)),i)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(t){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=e;if(n&&"bigint"!=typeof t){if(S(t)&&(t=T(t)),"string"!=typeof t||!n.includes(t.length))throw new Error("invalid private key");t=t.padStart(2*r,"0")}let o;try{o="bigint"==typeof t?t:O(U("private key",t,r))}catch(a){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof t)}return i&&(o=it(o,s)),z("private key",o,tn,s),o}function u(t){if(!(t instanceof Point))throw new Error("ProjectivePoint expected")}const l=Q(((t,e)=>{const{px:r,py:i,pz:s}=t;if(n.eql(s,n.ONE))return{x:r,y:i};const o=t.is0();null==e&&(e=o?n.ONE:n.inv(s));const a=n.mul(r,e),u=n.mul(i,e),l=n.mul(s,e);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:u}})),c=Q((t=>{if(t.is0()){if(e.allowInfinityPoint&&!n.is0(t.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=t.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");const s=n.sqr(i),a=o(r);if(!n.eql(s,a))throw new Error("bad point: equation left != right");if(!t.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class Point{constructor(t,e,r){if(this.px=t,this.py=e,this.pz=r,null==t||!n.isValid(t))throw new Error("x required");if(null==e||!n.isValid(e))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");Object.freeze(this)}static fromAffine(t){const{x:e,y:r}=t||{};if(!t||!n.isValid(e)||!n.isValid(r))throw new Error("invalid affine point");if(t instanceof Point)throw new Error("projective point not allowed");const i=t=>n.eql(t,n.ZERO);return i(e)&&i(r)?Point.ZERO:new Point(e,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=n.invertBatch(t.map((t=>t.pz)));return t.map(((t,n)=>t.toAffine(e[n]))).map(Point.fromAffine)}static fromHex(t){const e=Point.fromAffine(s(U("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return Point.BASE.multiply(a(t))}static msm(t,e){return At(Point,r,t,e)}_setWindowSize(t){d.setWindowSize(this,t)}assertValidity(){c(this)}hasEvenY(){const{y:t}=this.toAffine();if(n.isOdd)return!n.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){u(t);const{px:e,py:r,pz:i}=this,{px:s,py:o,pz:a}=t,l=n.eql(n.mul(e,a),n.mul(s,i)),c=n.eql(n.mul(r,a),n.mul(o,i));return l&&c}negate(){return new Point(this.px,n.neg(this.py),this.pz)}double(){const{a:t,b:r}=e,i=n.mul(r,en),{px:s,py:o,pz:a}=this;let u=n.ZERO,l=n.ZERO,c=n.ZERO,h=n.mul(s,s),d=n.mul(o,o),f=n.mul(a,a),p=n.mul(s,o);return p=n.add(p,p),c=n.mul(s,a),c=n.add(c,c),u=n.mul(t,c),l=n.mul(i,f),l=n.add(u,l),u=n.sub(d,l),l=n.add(d,l),l=n.mul(u,l),u=n.mul(p,u),c=n.mul(i,c),f=n.mul(t,f),p=n.sub(h,f),p=n.mul(t,p),p=n.add(p,c),c=n.add(h,h),h=n.add(c,h),h=n.add(h,f),h=n.mul(h,p),l=n.add(l,h),f=n.mul(o,a),f=n.add(f,f),h=n.mul(f,p),u=n.sub(u,h),c=n.mul(f,d),c=n.add(c,c),c=n.add(c,c),new Point(u,l,c)}add(t){u(t);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:l}=t;let c=n.ZERO,h=n.ZERO,d=n.ZERO;const f=e.a,p=n.mul(e.b,en);let m=n.mul(r,o),g=n.mul(i,a),y=n.mul(s,l),v=n.add(r,i),w=n.add(o,a);v=n.mul(v,w),w=n.add(m,g),v=n.sub(v,w),w=n.add(r,s);let b=n.add(o,l);return w=n.mul(w,b),b=n.add(m,y),w=n.sub(w,b),b=n.add(i,s),c=n.add(a,l),b=n.mul(b,c),c=n.add(g,y),b=n.sub(b,c),d=n.mul(f,w),c=n.mul(p,y),d=n.add(c,d),c=n.sub(g,d),d=n.add(g,d),h=n.mul(c,d),g=n.add(m,m),g=n.add(g,m),y=n.mul(f,y),w=n.mul(p,w),g=n.add(g,y),y=n.sub(m,y),y=n.mul(f,y),w=n.add(w,y),m=n.mul(g,w),h=n.add(h,m),m=n.mul(b,w),c=n.mul(v,c),c=n.sub(c,m),m=n.mul(v,g),d=n.mul(b,d),d=n.add(d,m),new Point(c,h,d)}subtract(t){return this.add(t.negate())}is0(){return this.equals(Point.ZERO)}wNAF(t){return d.wNAFCached(this,t,Point.normalizeZ)}multiplyUnsafe(t){const{endo:r,n:i}=e;z("scalar",t,Xe,i);const s=Point.ZERO;if(t===Xe)return s;if(this.is0()||t===tn)return this;if(!r||d.hasPrecomputes(this))return d.wNAFCachedUnsafe(this,t,Point.normalizeZ);let{k1neg:o,k1:a,k2neg:u,k2:l}=r.splitScalar(t),c=s,h=s,f=this;for(;a>Xe||l>Xe;)a&tn&&(c=c.add(f)),l&tn&&(h=h.add(f)),f=f.double(),a>>=tn,l>>=tn;return o&&(c=c.negate()),u&&(h=h.negate()),h=new Point(n.mul(h.px,r.beta),h.py,h.pz),c.add(h)}multiply(t){const{endo:r,n:i}=e;let s,o;if(z("scalar",t,tn,i),r){const{k1neg:e,k1:i,k2neg:a,k2:u}=r.splitScalar(t);let{p:l,f:c}=this.wNAF(i),{p:h,f}=this.wNAF(u);l=d.constTimeNegate(e,l),h=d.constTimeNegate(a,h),h=new Point(n.mul(h.px,r.beta),h.py,h.pz),s=l.add(h),o=c.add(f)}else{const{p:e,f:n}=this.wNAF(t);s=e,o=n}return Point.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(t,e,n){const r=Point.BASE,i=(t,e)=>e!==Xe&&e!==tn&&t.equals(r)?t.multiply(e):t.multiplyUnsafe(e),s=i(this,e).add(i(t,n));return s.is0()?void 0:s}toAffine(t){return l(this,t)}isTorsionFree(){const{h:t,isTorsionFree:n}=e;if(t===tn)return!0;if(n)return n(Point,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:n}=e;return t===tn?this:n?n(Point,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return M("isCompressed",t),this.assertValidity(),i(Point,this,t)}toHex(t=!0){return M("isCompressed",t),T(this.toRawBytes(t))}}Point.BASE=new Point(e.Gx,e.Gy,n.ONE),Point.ZERO=new Point(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,d=St(Point,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:Point,normPrivateKeyToScalar:a,weierstrassEquation:o,isWithinCurveOrder:function(t){return V(t,tn,e.n)}}}function rn(t){const e=function(t){const e=Mt(t);return G(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(t){return it(t,r)}function a(t){return at(t,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:c,isWithinCurveOrder:h}=nn({...e,toBytes(t,e,r){const i=e.toAffine(),s=n.toBytes(i.x),o=j;return M("isCompressed",r),r?o(Uint8Array.from([e.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(t){const e=t.length,r=t[0],o=t.subarray(1);if(e!==i||2!==r&&3!==r){if(e===s&&4===r){return{x:n.fromBytes(o.subarray(0,n.BYTES)),y:n.fromBytes(o.subarray(n.BYTES,2*n.BYTES))}}throw new Error("invalid Point, expected length of "+i+", or uncompressed "+s+", got "+e)}{const t=O(o);if(!V(t,tn,n.ORDER))throw new Error("Point is not on curve");const e=c(t);let i;try{i=n.sqrt(e)}catch(a){const t=a instanceof Error?": "+a.message:"";throw new Error("Point is not on curve"+t)}return!(1&~r)!==((i&tn)===tn)&&(i=n.neg(i)),{x:t,y:i}}}}),d=t=>T(B(t,e.nByteLength));function f(t){return t>r>>tn}const p=(t,e,n)=>O(t.slice(e,n));class Signature{constructor(t,e,n){this.r=t,this.s=e,this.recovery=n,this.assertValidity()}static fromCompact(t){const n=e.nByteLength;return t=U("compactSignature",t,2*n),new Signature(p(t,0,n),p(t,n,2*n))}static fromDER(t){const{r:e,s:n}=Ye.toSig(U("DER",t));return new Signature(e,n)}assertValidity(){z("r",this.r,tn,r),z("s",this.s,tn,r)}addRecoveryBit(t){return new Signature(this.r,this.s,t)}recoverPublicKey(t){const{r,s:i,recovery:s}=this,l=v(U("msgHash",t));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const c=2===s||3===s?r+e.n:r;if(c>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=1&s?"03":"02",f=u.fromHex(h+d(c)),p=a(c),m=o(-l*p),g=o(i*p),y=u.BASE.multiplyAndAddUnsafe(f,m,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new Signature(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return N(this.toDERHex())}toDERHex(){return Ye.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return N(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const m={isValidPrivateKey(t){try{return l(t),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const t=ft(e.n);return function(t,e,n=!1){const r=t.length,i=dt(e),s=ft(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=it(n?L(t):O(t),e-Y)+Y;return n?D(o,i):B(o,i)}(e.randomBytes(t),e.n)},precompute:(t=8,e=u.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function g(t){const e=S(t),n="string"==typeof t,r=(e||n)&&t.length;return e?r===i||r===s:n?r===2*i||r===2*s:t instanceof u}const y=e.bits2int||function(t){if(t.length>8192)throw new Error("input is too large");const n=O(t),r=8*t.length-e.nBitLength;return r>0?n>>BigInt(r):n},v=e.bits2int_modN||function(t){return o(y(t))},w=q(e.nBitLength);function b(t){return z("num < 2^"+e.nBitLength,t,Xe,w),B(t,e.nByteLength)}function _(t,r,i=E){if(["recovered","canonical"].some((t=>t in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:c}=e;let{lowS:d,prehash:p,extraEntropy:m}=i;null==d&&(d=!0),t=U("msgHash",t),Ge(i),p&&(t=U("prehashed msgHash",s(t)));const g=v(t),w=l(r),_=[b(w),b(g)];if(null!=m&&!1!==m){const t=!0===m?c(n.BYTES):m;_.push(U("extraEntropy",t))}const k=j(..._),S=g;return{seed:k,k2sig:function(t){const e=y(t);if(!h(e))return;const n=a(e),r=u.BASE.multiply(e).toAffine(),i=o(r.x);if(i===Xe)return;const s=o(n*o(S+i*w));if(s===Xe)return;let l=(r.x===i?0:2)|Number(r.y&tn),c=s;return d&&f(s)&&(c=function(t){return f(t)?o(-t):t}(s),l^=1),new Signature(i,c,l)}}}const E={lowS:e.lowS,prehash:!1},k={lowS:e.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return u.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,n=!0){if(g(t))throw new Error("first arg must be private key");if(!g(e))throw new Error("second arg must be public key");return u.fromHex(e).multiply(l(t)).toRawBytes(n)},sign:function(t,n,r=E){const{seed:i,k2sig:s}=_(t,n,r),o=e;return $(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(t,n,r,i=k){const s=t;n=U("msgHash",n),r=U("publicKey",r);const{lowS:l,prehash:c,format:h}=i;if(Ge(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==h&&"compact"!==h&&"der"!==h)throw new Error("format must be compact or der");const d="string"==typeof s||S(s),f=!d&&!h&&"object"==typeof s&&null!==s&&"bigint"==typeof s.r&&"bigint"==typeof s.s;if(!d&&!f)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let p,m;try{if(f&&(p=new Signature(s.r,s.s)),d){try{"compact"!==h&&(p=Signature.fromDER(s))}catch(M){if(!(M instanceof Ye.Err))throw M}p||"der"===h||(p=Signature.fromCompact(s))}m=u.fromHex(r)}catch(I){return!1}if(!p)return!1;if(l&&p.hasHighS())return!1;c&&(n=e.hash(n));const{r:g,s:y}=p,w=v(n),b=a(y),_=o(w*b),E=o(g*b),A=u.BASE.multiplyAndAddUnsafe(m,_,E)?.toAffine();return!!A&&o(A.x)===g},ProjectivePoint:u,Signature,utils:m}}function sn(t){return{hash:t,hmac:(e,...n)=>Ze(t,e,(0,m.Id)(...n)),randomBytes:m.po}}const on=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),an=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),un=BigInt(1),ln=BigInt(2),cn=(t,e)=>(t+e/ln)/e;function hn(t){const e=on,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),l=t*t*t%e,c=l*l*t%e,h=ot(c,n,e)*c%e,d=ot(h,n,e)*c%e,f=ot(d,ln,e)*l%e,p=ot(f,i,e)*f%e,m=ot(p,s,e)*p%e,g=ot(m,a,e)*m%e,y=ot(g,u,e)*g%e,v=ot(y,a,e)*m%e,w=ot(v,n,e)*c%e,b=ot(w,o,e)*p%e,_=ot(b,r,e)*l%e,E=ot(_,ln,e);if(!dn.eql(dn.sqr(E),t))throw new Error("Cannot find square root");return E}const dn=ht(on,void 0,void 0,{sqrt:hn}),fn=function(t,e){const n=e=>rn({...t,...sn(e)});return{...n(e),create:n}}({a:BigInt(0),b:BigInt(7),Fp:dn,n:an,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=an,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-un*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=cn(s*t,e),u=cn(-r*t,e);let l=it(t-a*n-u*i,e),c=it(-a*r-u*s,e);const h=l>o,d=c>o;if(h&&(l=e-l),d&&(c=e-c),l>o||c>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:l,k2neg:d,k2:c}}}},Gt.sc);BigInt(0);fn.ProjectivePoint;const pn=qt.utils.randomPrivateKey,mn=()=>{const t=qt.utils.randomPrivateKey(),e=gn(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),{publicKey:e,secretKey:n}},gn=qt.getPublicKey;function yn(t){try{return qt.ExtendedPoint.fromHex(t),!0}catch{return!1}}const vn=(t,e)=>qt.sign(t,e.slice(0,32)),wn=qt.verify,bn=t=>i.Buffer.isBuffer(t)?t:t instanceof Uint8Array?i.Buffer.from(t.buffer,t.byteOffset,t.byteLength):i.Buffer.from(t);class index_browser_esm_Struct{constructor(t){Object.assign(this,t)}encode(){return i.Buffer.from((0,Qt.serialize)(_n,this))}static decode(t){return(0,Qt.deserialize)(_n,this,t)}static decodeUnchecked(t){return(0,Qt.deserializeUnchecked)(_n,this,t)}}class Enum extends index_browser_esm_Struct{constructor(t){if(super(t),this.enum="",1!==Object.keys(t).length)throw new Error("Enum can only take single value");Object.keys(t).map((t=>{this.enum=t}))}}const _n=new Map;var En;const kn=32,Sn=32;let An=1;class PublicKey extends index_browser_esm_Struct{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=Zt().decode(t);if(e.length!=Sn)throw new Error("Invalid public key input");this._bn=new(Wt())(e)}else this._bn=new(Wt())(t);if(this._bn.byteLength()>Sn)throw new Error("Invalid public key input")}}static unique(){const t=new PublicKey(An);return An+=1,new PublicKey(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Zt().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(i.Buffer);if(t.length===Sn)return t;const e=i.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const r=i.Buffer.concat([t.toBuffer(),i.Buffer.from(e),n.toBuffer()]),s=(0,Gt.sc)(r);return new PublicKey(s)}static createProgramAddressSync(t,e){let n=i.Buffer.alloc(0);t.forEach((function(t){if(t.length>kn)throw new TypeError("Max seed length exceeded");n=i.Buffer.concat([n,bn(t)])})),n=i.Buffer.concat([n,e.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);const r=(0,Gt.sc)(n);if(yn(r))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(r)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n,r=255;for(;0!=r;){try{const s=t.concat(i.Buffer.from([r]));n=this.createProgramAddressSync(s,e)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return yn(new PublicKey(t).toBytes())}}En=PublicKey,PublicKey.default=new En("11111111111111111111111111111111"),_n.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){const e=bn(t);if(64!==t.length)throw new Error("bad secret key size");this._publicKey=e.slice(32,64),this._secretKey=e.slice(0,32)}else this._secretKey=bn(pn()),this._publicKey=bn(gn(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return i.Buffer.concat([this._secretKey,this._publicKey],64)}}const Mn=new PublicKey("BPFLoader1111111111111111111111111111111111"),In=1232,Tn=127,Rn=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const e=new Map;this.keySegments().flat().forEach(((t,n)=>{e.set(t.toBase58(),n)}));const n=t=>{const n=e.get(t.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return t.map((t=>({programIdIndex:n(t.programId),accountKeyIndexes:t.keys.map((t=>n(t.pubkey))),data:t.data})))}}const xn=(t="publicKey")=>Jt.av(32,t),Cn=(t="signature")=>Jt.av(64,t),Pn=(t="string")=>{const e=Jt.w3([Jt.DH("length"),Jt.DH("lengthPadding"),Jt.av(Jt.cY(Jt.DH(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(t,e)=>n(t,e).chars.toString(),s.encode=(t,e,n)=>{const s={chars:i.Buffer.from(t,"utf8")};return r(s,e,n)},s.alloc=t=>Jt.DH().span+Jt.DH().span+i.Buffer.from(t,"utf8").length,s};function Nn(t,e){const n=t=>{if(t.span>=0)return t.span;if("function"==typeof t.alloc)return t.alloc(e[t.property]);if("count"in t&&"elementLayout"in t){const r=e[t.property];if(Array.isArray(r))return r.length*n(t.elementLayout)}else if("fields"in t)return Nn({layout:t},e[t.property]);return 0};let r=0;return t.layout.fields.forEach((t=>{r+=n(t)})),r}function On(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(127&r)<<7*n,n+=1,!(128&r))break}return e}function Ln(t,e){let n=e;for(;;){let e=127&n;if(n>>=7,0==n){t.push(e);break}e|=128,t.push(e)}}function Bn(t,e){if(!t)throw new Error(e||"Assertion failed")}class CompiledKeys{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,r=t=>{const e=t.toBase58();let r=n.get(e);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(e,r)),r},i=r(e);i.isSigner=!0,i.isWritable=!0;for(const s of t){r(s.programId).isInvoked=!0;for(const t of s.keys){const e=r(t.pubkey);e.isSigner||=t.isSigner,e.isWritable||=t.isWritable}}return new CompiledKeys(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Bn(t.length<=256,"Max static account keys length exceeded");const e=t.filter((([,t])=>t.isSigner&&t.isWritable)),n=t.filter((([,t])=>t.isSigner&&!t.isWritable)),r=t.filter((([,t])=>!t.isSigner&&t.isWritable)),i=t.filter((([,t])=>!t.isSigner&&!t.isWritable)),s={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Bn(e.length>0,"Expected at least one writable signer key");const[t]=e[0];Bn(t===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...e.map((([t])=>new PublicKey(t))),...n.map((([t])=>new PublicKey(t))),...r.map((([t])=>new PublicKey(t))),...i.map((([t])=>new PublicKey(t)))]]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&t.isWritable)),[r,i]=this.drainKeysFoundInLookupTable(t.state.addresses,(t=>!t.isSigner&&!t.isInvoked&&!t.isWritable));if(0!==e.length||0!==r.length)return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,r=new Array;for(const[i,s]of this.keyMetaMap.entries())if(e(s)){const e=new PublicKey(i),s=t.findIndex((t=>t.equals(e)));s>=0&&(Bn(s<256,"Max lookup table index exceeded"),n.push(s),r.push(e),this.keyMetaMap.delete(i))}return[n,r]}}const Dn="Reached end of buffer unexpectedly";function Un(t){if(0===t.length)throw new Error(Dn);return t.shift()}function jn(t,...e){const[n]=e;if(2===e.length?n+(e[1]??0)>t.length:n>=t.length)throw new Error(Dn);return t.splice(...e)}class Message{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((t=>new PublicKey(t))),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Zt().decode(t.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(t){const e=CompiledKeys.compile(t.instructions,t.payerKey),[n,r]=e.getMessageComponents(),i=new MessageAccountKeys(r).compileInstructions(t.instructions).map((t=>({programIdIndex:t.programIdIndex,accounts:t.accountKeyIndexes,data:Zt().encode(t.data)})));return new Message({header:n,accountKeys:r,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){return t-e<this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((t,e)=>!this.isProgramId(e)))}serialize(){const t=this.accountKeys.length;let e=[];Ln(e,t);const n=this.instructions.map((t=>{const{accounts:e,programIdIndex:n}=t,r=Array.from(Zt().decode(t.data));let s=[];Ln(s,e.length);let o=[];return Ln(o,r.length),{programIdIndex:n,keyIndicesCount:i.Buffer.from(s),keyIndices:e,dataLength:i.Buffer.from(o),data:r}}));let r=[];Ln(r,n.length);let s=i.Buffer.alloc(In);i.Buffer.from(r).copy(s);let o=r.length;n.forEach((t=>{const e=Jt.w3([Jt.u8("programIdIndex"),Jt.av(t.keyIndicesCount.length,"keyIndicesCount"),Jt.O6(Jt.u8("keyIndex"),t.keyIndices.length,"keyIndices"),Jt.av(t.dataLength.length,"dataLength"),Jt.O6(Jt.u8("userdatum"),t.data.length,"data")]).encode(t,s,o);o+=e})),s=s.slice(0,o);const a=Jt.w3([Jt.av(1,"numRequiredSignatures"),Jt.av(1,"numReadonlySignedAccounts"),Jt.av(1,"numReadonlyUnsignedAccounts"),Jt.av(e.length,"keyCount"),Jt.O6(xn("key"),t,"keys"),xn("recentBlockhash")]),u={numRequiredSignatures:i.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:i.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:i.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:i.Buffer.from(e),keys:this.accountKeys.map((t=>bn(t.toBytes()))),recentBlockhash:Zt().decode(this.recentBlockhash)};let l=i.Buffer.alloc(2048);const c=a.encode(u,l);return s.copy(l,c),l.slice(0,c+s.length)}static from(t){let e=[...t];const n=Un(e);if(n!==(n&Tn))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r=Un(e),s=Un(e),o=On(e);let a=[];for(let d=0;d<o;d++){const t=jn(e,0,Sn);a.push(new PublicKey(i.Buffer.from(t)))}const u=jn(e,0,Sn),l=On(e);let c=[];for(let d=0;d<l;d++){const t=Un(e),n=jn(e,0,On(e)),r=jn(e,0,On(e)),s=Zt().encode(i.Buffer.from(r));c.push({programIdIndex:t,accounts:n,data:s})}const h={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:s},recentBlockhash:Zt().encode(i.Buffer.from(u)),accountKeys:a,instructions:c};return new Message(h)}}class MessageV0{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){return t-n<this.addressTableLookups.reduce(((t,e)=>t+e.writableIndexes.length),0)}if(t>=this.header.numRequiredSignatures){return t-e<n-e-this.header.numReadonlyUnsignedAccounts}return t<e-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=t.find((t=>t.key.equals(n.accountKey)));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const t of n.writableIndexes){if(!(t<r.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${n.accountKey.toBase58()}`);e.writable.push(r.state.addresses[t])}for(const t of n.readonlyIndexes){if(!(t<r.state.addresses.length))throw new Error(`Failed to find address for index ${t} in address lookup table ${n.accountKey.toBase58()}`);e.readonly.push(r.state.addresses[t])}}return e}static compile(t){const e=CompiledKeys.compile(t.instructions,t.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const u of i){const t=e.extractTableLookup(u);if(void 0!==t){const[e,{writable:i,readonly:s}]=t;n.push(e),r.writable.push(...i),r.readonly.push(...s)}}const[s,o]=e.getMessageComponents(),a=new MessageAccountKeys(o,r).compileInstructions(t.instructions);return new MessageV0({header:s,staticAccountKeys:o,recentBlockhash:t.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const t=Array();Ln(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();Ln(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();Ln(i,this.addressTableLookups.length);const s=Jt.w3([Jt.u8("prefix"),Jt.w3([Jt.u8("numRequiredSignatures"),Jt.u8("numReadonlySignedAccounts"),Jt.u8("numReadonlyUnsignedAccounts")],"header"),Jt.av(t.length,"staticAccountKeysLength"),Jt.O6(xn(),this.staticAccountKeys.length,"staticAccountKeys"),xn("recentBlockhash"),Jt.av(n.length,"instructionsLength"),Jt.av(e.length,"serializedInstructions"),Jt.av(i.length,"addressTableLookupsLength"),Jt.av(r.length,"serializedAddressTableLookups")]),o=new Uint8Array(In),a=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map((t=>t.toBytes())),recentBlockhash:Zt().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},o);return o.slice(0,a)}serializeInstructions(){let t=0;const e=new Uint8Array(In);for(const n of this.compiledInstructions){const r=Array();Ln(r,n.accountKeyIndexes.length);const i=Array();Ln(i,n.data.length);t+=Jt.w3([Jt.u8("programIdIndex"),Jt.av(r.length,"encodedAccountKeyIndexesLength"),Jt.O6(Jt.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Jt.av(i.length,"encodedDataLength"),Jt.av(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(In);for(const n of this.addressTableLookups){const r=Array();Ln(r,n.writableIndexes.length);const i=Array();Ln(i,n.readonlyIndexes.length);t+=Jt.w3([xn("accountKey"),Jt.av(r.length,"encodedWritableIndexesLength"),Jt.O6(Jt.u8(),n.writableIndexes.length,"writableIndexes"),Jt.av(i.length,"encodedReadonlyIndexesLength"),Jt.O6(Jt.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=Un(e),r=n&Tn;Bn(n!==r,"Expected versioned message but received legacy message");Bn(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:Un(e),numReadonlySignedAccounts:Un(e),numReadonlyUnsignedAccounts:Un(e)},s=[],o=On(e);for(let d=0;d<o;d++)s.push(new PublicKey(jn(e,0,Sn)));const a=Zt().encode(jn(e,0,Sn)),u=On(e),l=[];for(let d=0;d<u;d++){const t=Un(e),n=jn(e,0,On(e)),r=On(e),i=new Uint8Array(jn(e,0,r));l.push({programIdIndex:t,accountKeyIndexes:n,data:i})}const c=On(e),h=[];for(let d=0;d<c;d++){const t=new PublicKey(jn(e,0,Sn)),n=jn(e,0,On(e)),r=jn(e,0,On(e));h.push({accountKey:t,writableIndexes:n,readonlyIndexes:r})}return new MessageV0({header:i,staticAccountKeys:s,recentBlockhash:a,compiledInstructions:l,addressTableLookups:h})}}const Fn={deserializeMessageVersion(t){const e=t[0],n=e&Tn;return n===e?"legacy":n},deserialize:t=>{const e=Fn.deserializeMessageVersion(t);if("legacy"===e)return Message.from(t);if(0===e)return MessageV0.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Vn=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const zn=i.Buffer.alloc(Rn).fill(0);class TransactionInstruction{constructor(t){this.keys=void 0,this.programId=void 0,this.data=i.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map((({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n}))),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((t=>t.toJSON())),signers:this.signatures.map((({publicKey:t})=>t.toJSON()))}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach((t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new TransactionInstruction(t))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,e=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");if(e.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let p=0;p<e.length;p++)if(void 0===e[p].programId)throw new Error(`Transaction instruction index ${p} has undefined program id`);const r=[],i=[];e.forEach((t=>{t.keys.forEach((t=>{i.push({...t})}));const e=t.programId.toString();r.includes(e)||r.push(e)})),r.forEach((t=>{i.push({pubkey:new PublicKey(t),isSigner:!1,isWritable:!1})}));const s=[];i.forEach((t=>{const e=t.pubkey.toString(),n=s.findIndex((t=>t.pubkey.toString()===e));n>-1?(s[n].isWritable=s[n].isWritable||t.isWritable,s[n].isSigner=s[n].isSigner||t.isSigner):s.push(t)})),s.sort((function(t,e){if(t.isSigner!==e.isSigner)return t.isSigner?-1:1;if(t.isWritable!==e.isWritable)return t.isWritable?-1:1;return t.pubkey.toBase58().localeCompare(e.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const o=s.findIndex((t=>t.pubkey.equals(n)));if(o>-1){const[t]=s.splice(o,1);t.isSigner=!0,t.isWritable=!0,s.unshift(t)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const p of this.signatures){const t=s.findIndex((t=>t.pubkey.equals(p.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${p.publicKey.toString()}`);s[t].isSigner||(s[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,l=0;const c=[],h=[];s.forEach((({pubkey:t,isSigner:e,isWritable:n})=>{e?(c.push(t.toString()),a+=1,n||(u+=1)):(h.push(t.toString()),n||(l+=1))}));const d=c.concat(h),f=e.map((t=>{const{data:e,programId:n}=t;return{programIdIndex:d.indexOf(n.toString()),accounts:t.keys.map((t=>d.indexOf(t.pubkey.toString()))),data:Zt().encode(e)}}));return f.forEach((t=>{Bn(t.programIdIndex>=0),t.accounts.forEach((t=>Bn(t>=0)))})),new Message({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:d,recentBlockhash:t,instructions:f})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);if(this.signatures.length===e.length){if(this.signatures.every(((t,n)=>e[n].equals(t.publicKey))))return t}return this.signatures=e.map((t=>({signature:null,publicKey:t}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter((t=>{const n=t.toString();return!e.has(n)&&(e.add(n),!0)})).map((t=>({signature:null,publicKey:t})))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const t=i.publicKey.toString();e.has(t)||(e.add(t),n.push(i))}this.signatures=n.map((t=>({signature:null,publicKey:t.publicKey})));const r=this._compile();this._partialSign(r,...n)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const t=i.publicKey.toString();e.has(t)||(e.add(t),n.push(i))}const r=this._compile();this._partialSign(r,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach((t=>{const e=vn(n,t.secretKey);this._addSignature(t.publicKey,bn(e))}))}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Bn(64===e.length);const n=this.signatures.findIndex((e=>t.equals(e.publicKey)));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=i.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?e&&(n.missing||=[]).push(i):wn(r,t,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),r=this.serializeMessage();if(n){const t=this._getMessageSignednessErrors(r,e);if(t){let e="Signature verification failed.";throw t.invalid&&(e+=`\nInvalid signature for public key${1===t.invalid.length?"":"(s)"} [\`${t.invalid.map((t=>t.toBase58())).join("`, `")}\`].`),t.missing&&(e+=`\nMissing signature for public key${1===t.missing.length?"":"(s)"} [\`${t.missing.map((t=>t.toBase58())).join("`, `")}\`].`),new Error(e)}}return this._serialize(r)}_serialize(t){const{signatures:e}=this,n=[];Ln(n,e.length);const r=n.length+64*e.length+t.length,s=i.Buffer.alloc(r);return Bn(e.length<256),i.Buffer.from(n).copy(s,0),e.forEach((({signature:t},e)=>{null!==t&&(Bn(64===t.length,"signature has invalid length"),i.Buffer.from(t).copy(s,n.length+64*e))})),t.copy(s,n.length+64*e.length),Bn(s.length<=In,`Transaction too large: ${s.length} > ${In}`),s}get keys(){return Bn(1===this.instructions.length),this.instructions[0].keys.map((t=>t.pubkey))}get programId(){return Bn(1===this.instructions.length),this.instructions[0].programId}get data(){return Bn(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const n=On(e);let r=[];for(let s=0;s<n;s++){const t=jn(e,0,Rn);r.push(Zt().encode(i.Buffer.from(t)))}return Transaction.populate(Message.from(e),r)}static populate(t,e=[]){const n=new Transaction;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach(((e,r)=>{const i={signature:e==Zt().encode(zn)?null:Zt().decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((e=>{const r=e.accounts.map((e=>{const r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((t=>t.publicKey.toString()===r.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new TransactionInstruction({keys:r,programId:t.accountKeys[e.programIdIndex],data:Zt().decode(e.data)}))})),n._message=t,n._json=n.toJSON(),n}}class TransactionMessage{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,e){const{header:n,compiledInstructions:r,recentBlockhash:i}=t,{numRequiredSignatures:s,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a}=n,u=s-o;Bn(u>0,"Message header is invalid");const l=t.staticAccountKeys.length-s-a;Bn(l>=0,"Message header is invalid");const c=t.getAccountKeys(e),h=c.get(0);if(void 0===h)throw new Error("Failed to decompile message because no account keys were found");const d=[];for(const f of r){const t=[];for(const r of f.accountKeyIndexes){const e=c.get(r);if(void 0===e)throw new Error(`Failed to find key for account key index ${r}`);let i;i=r<s?r<u:r<c.staticAccountKeys.length?r-s<l:r-c.staticAccountKeys.length<c.accountKeysFromLookups.writable.length,t.push({pubkey:e,isSigner:r<n.numRequiredSignatures,isWritable:i})}const e=c.get(f.programIdIndex);if(void 0===e)throw new Error(`Failed to find program id for program id index ${f.programIdIndex}`);d.push(new TransactionInstruction({programId:e,data:bn(f.data),keys:t}))}return new TransactionMessage({payerKey:h,instructions:d,recentBlockhash:i})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class VersionedTransaction{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,void 0!==e)Bn(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const e=[];for(let n=0;n<t.header.numRequiredSignatures;n++)e.push(new Uint8Array(Rn));this.signatures=e}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Ln(e,this.signatures.length);const n=Jt.w3([Jt.av(e.length,"encodedSignaturesLength"),Jt.O6(Cn(),this.signatures.length,"signatures"),Jt.av(t.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},r);return r.slice(0,i)}static deserialize(t){let e=[...t];const n=[],r=On(e);for(let s=0;s<r;s++)n.push(new Uint8Array(jn(e,0,Rn)));const i=Fn.deserialize(new Uint8Array(e));return new VersionedTransaction(i,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of t){const t=n.findIndex((t=>t.equals(r.publicKey)));Bn(t>=0,`Cannot sign with non signer key ${r.publicKey.toBase58()}`),this.signatures[t]=vn(e,r.secretKey)}}addSignature(t,e){Bn(64===e.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((e=>e.equals(t)));Bn(n>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=e}}const Hn=new PublicKey("SysvarC1ock11111111111111111111111111111111"),qn=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),Kn=new PublicKey("Sysvar1nstructions1111111111111111111111111"),Wn=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),$n=new PublicKey("SysvarRent111111111111111111111111111111111"),Zn=new PublicKey("SysvarRewards111111111111111111111111111111"),Gn=new PublicKey("SysvarS1otHashes111111111111111111111111111"),Qn=new PublicKey("SysvarS1otHistory11111111111111111111111111"),Jn=new PublicKey("SysvarStakeHistory1111111111111111111111111");class SendTransactionError extends Error{constructor({action:t,signature:e,transactionMessage:n,logs:r}){const i=r?`Logs: \n${JSON.stringify(r.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let o;switch(t){case"send":o=`Transaction ${e} resulted in an error. \n${n}. `+i+s;break;case"simulate":o=`Simulation failed. \nMessage: ${n}. \n`+i+s;break;default:o=`Unknown action '${t}'`}super(o),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=e,this.transactionMessage=n,this.transactionLogs=r||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(null==t||"object"!=typeof t||!("then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((e,n)=>{t.getTransaction(this.signature).then((t=>{if(t&&t.meta&&t.meta.logMessages){const n=t.meta.logMessages;this.transactionLogs=n,e(n)}else n(new Error("Log messages not found"))})).catch(n)}))),await this.transactionLogs}}const Yn={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:t,message:e,data:n},r){super(null!=r?`${r}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}async function Xn(t,e,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await t.sendTransaction(e,n,i);let o;if(null!=e.recentBlockhash&&null!=e.lastValidBlockHeight)o=(await t.confirmTransaction({abortSignal:r?.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=e.minNonceContextSlot&&null!=e.nonceInfo){const{nonceInstruction:n}=e.nonceInfo,i=n.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else null!=r?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,r&&r.commitment)).value;if(o.err){if(null!=s)throw new SendTransactionError({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`});throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`)}return s}function tr(t){return new Promise((e=>setTimeout(e,t)))}function er(t,e){const n=t.layout.span>=0?t.layout.span:Nn(t,e),r=i.Buffer.alloc(n),s=Object.assign({instruction:t.index},e);return t.layout.encode(s,r),r}function nr(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${t.index}`);return n}const rr=Jt.I0("lamportsPerSignature"),ir=Jt.w3([Jt.DH("version"),Jt.DH("state"),xn("authorizedPubkey"),xn("nonce"),Jt.w3([rr],"feeCalculator")]),sr=ir.span;class NonceAccount{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=ir.decode(bn(t),0);return new NonceAccount({authorizedPubkey:new PublicKey(e.authorizedPubkey),nonce:new PublicKey(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const or=(ar=8,t=>{const e=(0,Jt.av)(ar,t),{encode:n,decode:r}=(t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)}))(e),s=e;return s.decode=(t,e)=>{const n=r(t,e);return(0,Yt.k5)(i.Buffer.from(n))},s.encode=(t,e,r)=>{const i=(0,Yt.Bq)(t,ar);return n(i,e,r)},s});var ar;class SystemInstruction{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Jt.DH("instruction").decode(t.data);let n;for(const[r,i]of Object.entries(ur))if(i.index==e){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e,space:n,programId:r}=nr(ur.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:n,programId:new PublicKey(r)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e}=nr(ur.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e,seed:n,programId:r}=nr(ur.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:n,programId:new PublicKey(r)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:e}=nr(ur.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:n,space:r,programId:i}=nr(ur.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new PublicKey(e),seed:n,space:r,programId:new PublicKey(i)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:e}=nr(ur.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new PublicKey(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:n,programId:r}=nr(ur.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new PublicKey(e),seed:n,programId:new PublicKey(r)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:e,seed:n,lamports:r,space:i,programId:s}=nr(ur.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new PublicKey(e),seed:n,lamports:r,space:i,programId:new PublicKey(s)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:e}=nr(ur.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new PublicKey(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),nr(ur.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=nr(ur.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e}=nr(ur.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(e)}}static checkProgramId(t){if(!t.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const ur=Object.freeze({Create:{index:0,layout:Jt.w3([Jt.DH("instruction"),Jt.Wg("lamports"),Jt.Wg("space"),xn("programId")])},Assign:{index:1,layout:Jt.w3([Jt.DH("instruction"),xn("programId")])},Transfer:{index:2,layout:Jt.w3([Jt.DH("instruction"),or("lamports")])},CreateWithSeed:{index:3,layout:Jt.w3([Jt.DH("instruction"),xn("base"),Pn("seed"),Jt.Wg("lamports"),Jt.Wg("space"),xn("programId")])},AdvanceNonceAccount:{index:4,layout:Jt.w3([Jt.DH("instruction")])},WithdrawNonceAccount:{index:5,layout:Jt.w3([Jt.DH("instruction"),Jt.Wg("lamports")])},InitializeNonceAccount:{index:6,layout:Jt.w3([Jt.DH("instruction"),xn("authorized")])},AuthorizeNonceAccount:{index:7,layout:Jt.w3([Jt.DH("instruction"),xn("authorized")])},Allocate:{index:8,layout:Jt.w3([Jt.DH("instruction"),Jt.Wg("space")])},AllocateWithSeed:{index:9,layout:Jt.w3([Jt.DH("instruction"),xn("base"),Pn("seed"),Jt.Wg("space"),xn("programId")])},AssignWithSeed:{index:10,layout:Jt.w3([Jt.DH("instruction"),xn("base"),Pn("seed"),xn("programId")])},TransferWithSeed:{index:11,layout:Jt.w3([Jt.DH("instruction"),or("lamports"),Pn("seed"),xn("programId")])},UpgradeNonceAccount:{index:12,layout:Jt.w3([Jt.DH("instruction")])}});class SystemProgram{constructor(){}static createAccount(t){const e=er(ur.Create,{lamports:t.lamports,space:t.space,programId:bn(t.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}static transfer(t){let e,n;if("basePubkey"in t){e=er(ur.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:bn(t.programId.toBuffer())}),n=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{e=er(ur.Transfer,{lamports:BigInt(t.lamports)}),n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:e})}static assign(t){let e,n;if("basePubkey"in t){e=er(ur.AssignWithSeed,{base:bn(t.basePubkey.toBuffer()),seed:t.seed,programId:bn(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{e=er(ur.Assign,{programId:bn(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=er(ur.CreateWithSeed,{base:bn(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:bn(t.programId.toBuffer())});let n=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||n.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:n,programId:this.programId,data:e})}static createNonceAccount(t){const e=new Transaction;"basePubkey"in t&&"seed"in t?e.add(SystemProgram.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:sr,programId:this.programId})):e.add(SystemProgram.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:sr,programId:this.programId}));const n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(n)),e}static nonceInitialize(t){const e=er(ur.InitializeNonceAccount,{authorized:bn(t.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:$n,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new TransactionInstruction(n)}static nonceAdvance(t){const e=er(ur.AdvanceNonceAccount),n={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new TransactionInstruction(n)}static nonceWithdraw(t){const e=er(ur.WithdrawNonceAccount,{lamports:t.lamports});return new TransactionInstruction({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static nonceAuthorize(t){const e=er(ur.AuthorizeNonceAccount,{authorized:bn(t.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static allocate(t){let e,n;if("basePubkey"in t){e=er(ur.AllocateWithSeed,{base:bn(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:bn(t.programId.toBuffer())}),n=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{e=er(ur.Allocate,{space:t.space}),n=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:e})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const lr=In-300;class Loader{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/Loader.chunkSize)+1+1)}static async load(t,e,n,r,s){{const i=await t.getMinimumBalanceForRentExemption(s.length),o=await t.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==s.length&&(a=a||new Transaction,a.add(SystemProgram.allocate({accountPubkey:n.publicKey,space:s.length}))),o.owner.equals(r)||(a=a||new Transaction,a.add(SystemProgram.assign({accountPubkey:n.publicKey,programId:r}))),o.lamports<i&&(a=a||new Transaction,a.add(SystemProgram.transfer({fromPubkey:e.publicKey,toPubkey:n.publicKey,lamports:i-o.lamports})))}else a=(new Transaction).add(SystemProgram.createAccount({fromPubkey:e.publicKey,newAccountPubkey:n.publicKey,lamports:i>0?i:1,space:s.length,programId:r}));null!==a&&await Xn(t,a,[e,n],{commitment:"confirmed"})}const o=Jt.w3([Jt.DH("instruction"),Jt.DH("offset"),Jt.DH("bytesLength"),Jt.DH("bytesLengthPadding"),Jt.O6(Jt.u8("byte"),Jt.cY(Jt.DH(),-8),"bytes")]),a=Loader.chunkSize;let u=0,l=s,c=[];for(;l.length>0;){const s=l.slice(0,a),h=i.Buffer.alloc(a+16);o.encode({instruction:0,offset:u,bytes:s,bytesLength:0,bytesLengthPadding:0},h);const d=(new Transaction).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:r,data:h});if(c.push(Xn(t,d,[e,n],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await tr(1e3/t)}u+=a,l=l.slice(a)}await Promise.all(c);{const s=Jt.w3([Jt.DH("instruction")]),o=i.Buffer.alloc(s.span);s.encode({instruction:1},o);const a=(new Transaction).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1}],programId:r,data:o}),u="processed",l=await t.sendTransaction(a,[e,n],{preflightCommitment:u}),{context:c,value:h}=await t.confirmTransaction({signature:l,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},u);if(h.err)throw new Error(`Transaction ${l} failed (${JSON.stringify(h)})`);for(;;){try{if(await t.getSlot({commitment:u})>c.slot)break}catch{}await new Promise((t=>setTimeout(t,Math.round(200))))}}return!0}}Loader.chunkSize=lr;const cr=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(t){return Loader.getMinNumSignatures(t)}static load(t,e,n,r,i){return Loader.load(t,e,n,i,r)}}function hr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dr,fr;function pr(){if(fr)return dr;fr=1;var t=Object.prototype.toString,e=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};function n(r,i){var s,o,a,u,l,c,h;if(!0===r)return"true";if(!1===r)return"false";switch(typeof r){case"object":if(null===r)return null;if(r.toJSON&&"function"==typeof r.toJSON)return n(r.toJSON(),i);if("[object Array]"===(h=t.call(r))){for(a="[",o=r.length-1,s=0;s<o;s++)a+=n(r[s],!0)+",";return o>-1&&(a+=n(r[s],!0)),a+"]"}if("[object Object]"===h){for(o=(u=e(r).sort()).length,a="",s=0;s<o;)void 0!==(c=n(r[l=u[s]],!1))&&(a&&(a+=","),a+=JSON.stringify(l)+":"+c),s++;return"{"+a+"}"}return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return dr=function(t){var e=n(t,!1);if(void 0!==e)return""+e}}var mr=hr(pr());function gr(t){let e=0;for(;t>1;)t/=2,e++;return e}class EpochSchedule{constructor(t,e,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=gr(0===(e=t+32+1)?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32)))-gr(32)-1;return[n,t-(this.getSlotsInEpoch(n)-32)]}{const e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+n,e%this.slotsPerEpoch]}var e}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+gr(32)):this.slotsPerEpoch}}var yr=globalThis.fetch;class RpcWebSocketClient extends Ce{constructor(t,e,n){super((t=>{const n=Re(t,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return this.underlyingSocket="socket"in n?n.socket:n,n}),t,e,n),this.underlyingSocket=void 0}call(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class AddressLookupTableAccount{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=function(t,e){let n;try{n=t.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${t.index}`);return n}(vr,t),n=t.length-56;Bn(n>=0,"lookup table is invalid"),Bn(n%32==0,"lookup table is invalid");const r=n/32,{addresses:i}=Jt.w3([Jt.O6(xn(),r,"addresses")]).decode(t.slice(56));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:0!==e.authority.length?new PublicKey(e.authority[0]):void 0,addresses:i.map((t=>new PublicKey(t)))}}}const vr={index:1,layout:Jt.w3([Jt.DH("typeIndex"),or("deactivationSlot"),Jt.I0("lastExtendedSlot"),Jt.u8("lastExtendedStartIndex"),Jt.u8(),Jt.O6(xn(),Jt.cY(Jt.u8(),-1),"authority")])},wr=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const br=Se(de(PublicKey),we(),(t=>new PublicKey(t))),_r=be([we(),fe("base64")]),Er=Se(de(i.Buffer),_r,(t=>i.Buffer.from(t[0],"base64"))),kr=3e4;function Sr(t){let e,n;if("string"==typeof t)e=t;else if(t){const{commitment:r,...i}=t;e=r,n=i}return{commitment:e,config:n}}function Ar(t){return t.map((t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t))}function Mr(t){return Ee([_e({jsonrpc:fe("2.0"),id:we(),result:t}),_e({jsonrpc:fe("2.0"),id:we(),error:_e({code:ke(),message:we(),data:ye(le("any",(()=>!0)))})})])}const Ir=Mr(ke());function Tr(t){return Se(Mr(t),Ir,(e=>"error"in e?e:{...e,result:oe(e.result,t)}))}function Rr(t){return Tr(_e({context:_e({slot:ge()}),value:t}))}function xr(t){return _e({context:_e({slot:ge()}),value:t})}function Cr(t,e){return 0===t?new MessageV0({header:e.header,staticAccountKeys:e.accountKeys.map((t=>new PublicKey(t))),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map((t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Zt().decode(t.data)}))),addressTableLookups:e.addressTableLookups}):new Message(e)}const Pr=_e({foundation:ge(),foundationTerm:ge(),initial:ge(),taper:ge(),terminal:ge()}),Nr=Tr(ce(me(_e({epoch:ge(),effectiveSlot:ge(),amount:ge(),postBalance:ge(),commission:ye(me(ge()))})))),Or=ce(_e({slot:ge(),prioritizationFee:ge()})),Lr=_e({total:ge(),validator:ge(),foundation:ge(),epoch:ge()}),Br=_e({epoch:ge(),slotIndex:ge(),slotsInEpoch:ge(),absoluteSlot:ge(),blockHeight:ye(ge()),transactionCount:ye(ge())}),Dr=_e({slotsPerEpoch:ge(),leaderScheduleSlotOffset:ge(),warmup:he(),firstNormalEpoch:ge(),firstNormalSlot:ge()}),Ur=ve(we(),ce(ge())),jr=me(Ee([_e({}),we()])),Fr=_e({err:jr}),Vr=fe("receivedSignature"),zr=_e({"solana-core":we(),"feature-set":ye(ge())}),Hr=_e({program:we(),programId:br,parsed:ke()}),qr=_e({programId:br,accounts:ce(br),data:we()}),Kr=Rr(_e({err:me(Ee([_e({}),we()])),logs:me(ce(we())),accounts:ye(me(ce(me(_e({executable:he(),owner:we(),lamports:ge(),data:ce(we()),rentEpoch:ye(ge())}))))),unitsConsumed:ye(ge()),returnData:ye(me(_e({programId:we(),data:be([we(),fe("base64")])}))),innerInstructions:ye(me(ce(_e({index:ge(),instructions:ce(Ee([Hr,qr]))}))))})),Wr=Rr(_e({byIdentity:ve(we(),ce(ge())),range:_e({firstSlot:ge(),lastSlot:ge()})}));const $r=Tr(Pr),Zr=Tr(Lr),Gr=Tr(Or),Qr=Tr(Br),Jr=Tr(Dr),Yr=Tr(Ur),Xr=Tr(ge()),ti=Rr(_e({total:ge(),circulating:ge(),nonCirculating:ge(),nonCirculatingAccounts:ce(br)})),ei=_e({amount:we(),uiAmount:me(ge()),decimals:ge(),uiAmountString:ye(we())}),ni=Rr(ce(_e({address:br,amount:we(),uiAmount:me(ge()),decimals:ge(),uiAmountString:ye(we())}))),ri=Rr(ce(_e({pubkey:br,account:_e({executable:he(),owner:br,lamports:ge(),data:Er,rentEpoch:ge()})}))),ii=_e({program:we(),parsed:ke(),space:ge()}),si=Rr(ce(_e({pubkey:br,account:_e({executable:he(),owner:br,lamports:ge(),data:ii,rentEpoch:ge()})}))),oi=Rr(ce(_e({lamports:ge(),address:br}))),ai=_e({executable:he(),owner:br,lamports:ge(),data:Er,rentEpoch:ge()}),ui=_e({pubkey:br,account:ai}),li=Se(Ee([de(i.Buffer),ii]),Ee([_r,ii]),(t=>Array.isArray(t)?oe(t,Er):t)),ci=_e({executable:he(),owner:br,lamports:ge(),data:li,rentEpoch:ge()}),hi=_e({pubkey:br,account:ci}),di=_e({state:Ee([fe("active"),fe("inactive"),fe("activating"),fe("deactivating")]),active:ge(),inactive:ge()}),fi=Tr(ce(_e({signature:we(),slot:ge(),err:jr,memo:me(we()),blockTime:ye(me(ge()))}))),pi=Tr(ce(_e({signature:we(),slot:ge(),err:jr,memo:me(we()),blockTime:ye(me(ge()))}))),mi=_e({subscription:ge(),result:xr(ai)}),gi=_e({pubkey:br,account:ai}),yi=_e({subscription:ge(),result:xr(gi)}),vi=_e({parent:ge(),slot:ge(),root:ge()}),wi=_e({subscription:ge(),result:vi}),bi=Ee([_e({type:Ee([fe("firstShredReceived"),fe("completed"),fe("optimisticConfirmation"),fe("root")]),slot:ge(),timestamp:ge()}),_e({type:fe("createdBank"),parent:ge(),slot:ge(),timestamp:ge()}),_e({type:fe("frozen"),slot:ge(),timestamp:ge(),stats:_e({numTransactionEntries:ge(),numSuccessfulTransactions:ge(),numFailedTransactions:ge(),maxTransactionsPerEntry:ge()})}),_e({type:fe("dead"),slot:ge(),timestamp:ge(),err:we()})]),_i=_e({subscription:ge(),result:bi}),Ei=_e({subscription:ge(),result:xr(Ee([Fr,Vr]))}),ki=_e({subscription:ge(),result:ge()}),Si=_e({pubkey:we(),gossip:me(we()),tpu:me(we()),rpc:me(we()),version:me(we())}),Ai=_e({votePubkey:we(),nodePubkey:we(),activatedStake:ge(),epochVoteAccount:he(),epochCredits:ce(be([ge(),ge(),ge()])),commission:ge(),lastVote:ge(),rootSlot:me(ge())}),Mi=Tr(_e({current:ce(Ai),delinquent:ce(Ai)})),Ii=Ee([fe("processed"),fe("confirmed"),fe("finalized")]),Ti=_e({slot:ge(),confirmations:me(ge()),err:jr,confirmationStatus:ye(Ii)}),Ri=Rr(ce(me(Ti))),xi=Tr(ge()),Ci=_e({accountKey:br,writableIndexes:ce(ge()),readonlyIndexes:ce(ge())}),Pi=_e({signatures:ce(we()),message:_e({accountKeys:ce(we()),header:_e({numRequiredSignatures:ge(),numReadonlySignedAccounts:ge(),numReadonlyUnsignedAccounts:ge()}),instructions:ce(_e({accounts:ce(ge()),data:we(),programIdIndex:ge()})),recentBlockhash:we(),addressTableLookups:ye(ce(Ci))})}),Ni=_e({pubkey:br,signer:he(),writable:he(),source:ye(Ee([fe("transaction"),fe("lookupTable")]))}),Oi=_e({accountKeys:ce(Ni),signatures:ce(we())}),Li=_e({parsed:ke(),program:we(),programId:br}),Bi=_e({accounts:ce(br),data:we(),programId:br}),Di=Se(Ee([Bi,Li]),Ee([_e({parsed:ke(),program:we(),programId:we()}),_e({accounts:ce(we()),data:we(),programId:we()})]),(t=>oe(t,"accounts"in t?Bi:Li))),Ui=_e({signatures:ce(we()),message:_e({accountKeys:ce(Ni),instructions:ce(Di),recentBlockhash:we(),addressTableLookups:ye(me(ce(Ci)))})}),ji=_e({accountIndex:ge(),mint:we(),owner:ye(we()),programId:ye(we()),uiTokenAmount:ei}),Fi=_e({writable:ce(br),readonly:ce(br)}),Vi=_e({err:jr,fee:ge(),innerInstructions:ye(me(ce(_e({index:ge(),instructions:ce(_e({accounts:ce(ge()),data:we(),programIdIndex:ge()}))})))),preBalances:ce(ge()),postBalances:ce(ge()),logMessages:ye(me(ce(we()))),preTokenBalances:ye(me(ce(ji))),postTokenBalances:ye(me(ce(ji))),loadedAddresses:ye(Fi),computeUnitsConsumed:ye(ge())}),zi=_e({err:jr,fee:ge(),innerInstructions:ye(me(ce(_e({index:ge(),instructions:ce(Di)})))),preBalances:ce(ge()),postBalances:ce(ge()),logMessages:ye(me(ce(we()))),preTokenBalances:ye(me(ce(ji))),postTokenBalances:ye(me(ce(ji))),loadedAddresses:ye(Fi),computeUnitsConsumed:ye(ge())}),Hi=Ee([fe(0),fe("legacy")]),qi=_e({pubkey:we(),lamports:ge(),postBalance:me(ge()),rewardType:me(we()),commission:ye(me(ge()))}),Ki=Tr(me(_e({blockhash:we(),previousBlockhash:we(),parentSlot:ge(),transactions:ce(_e({transaction:Pi,meta:me(Vi),version:ye(Hi)})),rewards:ye(ce(qi)),blockTime:me(ge()),blockHeight:me(ge())}))),Wi=Tr(me(_e({blockhash:we(),previousBlockhash:we(),parentSlot:ge(),rewards:ye(ce(qi)),blockTime:me(ge()),blockHeight:me(ge())}))),$i=Tr(me(_e({blockhash:we(),previousBlockhash:we(),parentSlot:ge(),transactions:ce(_e({transaction:Oi,meta:me(Vi),version:ye(Hi)})),rewards:ye(ce(qi)),blockTime:me(ge()),blockHeight:me(ge())}))),Zi=Tr(me(_e({blockhash:we(),previousBlockhash:we(),parentSlot:ge(),transactions:ce(_e({transaction:Ui,meta:me(zi),version:ye(Hi)})),rewards:ye(ce(qi)),blockTime:me(ge()),blockHeight:me(ge())}))),Gi=Tr(me(_e({blockhash:we(),previousBlockhash:we(),parentSlot:ge(),transactions:ce(_e({transaction:Oi,meta:me(zi),version:ye(Hi)})),rewards:ye(ce(qi)),blockTime:me(ge()),blockHeight:me(ge())}))),Qi=Tr(me(_e({blockhash:we(),previousBlockhash:we(),parentSlot:ge(),rewards:ye(ce(qi)),blockTime:me(ge()),blockHeight:me(ge())}))),Ji=Tr(me(_e({blockhash:we(),previousBlockhash:we(),parentSlot:ge(),transactions:ce(_e({transaction:Pi,meta:me(Vi)})),rewards:ye(ce(qi)),blockTime:me(ge())}))),Yi=Tr(me(_e({blockhash:we(),previousBlockhash:we(),parentSlot:ge(),signatures:ce(we()),blockTime:me(ge())}))),Xi=Tr(me(_e({slot:ge(),meta:me(Vi),blockTime:ye(me(ge())),transaction:Pi,version:ye(Hi)}))),ts=Tr(me(_e({slot:ge(),transaction:Ui,meta:me(zi),blockTime:ye(me(ge())),version:ye(Hi)}))),es=Rr(_e({blockhash:we(),lastValidBlockHeight:ge()})),ns=Rr(he()),rs=Tr(ce(_e({slot:ge(),numTransactions:ge(),numSlots:ge(),samplePeriodSecs:ge()}))),is=Rr(me(_e({feeCalculator:_e({lamportsPerSignature:ge()})}))),ss=Tr(we()),os=Tr(we()),as=_e({err:jr,logs:ce(we()),signature:we()}),us=_e({result:xr(as),subscription:ge()}),ls={"solana-client":"js/1.0.0-maintenance"};class Connection{constructor(t,e){let n,r,i,s,o,a;var u;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const t={};return async e=>{const{commitment:n,config:r}=Sr(e),i=this._buildArgs([],n,void 0,r),s=mr(i);return t[s]=t[s]??(async()=>{try{const t=oe(await this._rpcRequest("getBlockHeight",i),Tr(ge()));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get block height information");return t.result}finally{delete t[s]}})(),await t[s]}})(),e&&"string"==typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,r=e.httpHeaders,i=e.fetch,s=e.fetchMiddleware,o=e.disableRetryOnRateLimit,a=e.httpAgent),this._rpcEndpoint=function(t){if(!1===/^https?:/.test(t))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}(t),this._rpcWsEndpoint=n||function(t){const e=t.match(wr);if(null==e)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[n,r,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${o}//${r}${null==a?"":`:${a+1}`}${s}`}(t),this._rpcClient=function(t,e,n,r,i,s){const o=n||yr;let a;return null!=s&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),r&&(a=async(t,e)=>{const n=await new Promise(((n,i)=>{try{r(t,e,((t,e)=>n([t,e])))}catch(s){i(s)}}));return await o(...n)}),new(Me())((async(n,r)=>{const s={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},e||{},ls)};try{let e,n=5,u=500;for(;e=a?await a(t,s):await o(t,s),429===e.status&&!0!==i&&(n-=1,0!==n);)console.error(`Server responded with ${e.status} ${e.statusText}.  Retrying after ${u}ms delay...`),await tr(u),u*=2;const l=await e.text();e.ok?r(null,l):r(new Error(`${e.status} ${e.statusText}: ${l}`))}catch(u){u instanceof Error&&r(u)}}),{})}(t,r,i,s,o,a),this._rpcRequest=(u=this._rpcClient,(t,e)=>new Promise(((n,r)=>{u.request(t,e,((t,e)=>{t?r(t):n(e)}))}))),this._rpcBatchRequest=function(t){return e=>new Promise(((n,r)=>{0===e.length&&n([]);const i=e.map((e=>t.request(e.methodName,e.args)));t.request(i,((t,e)=>{t?r(t):n(e)}))}))}(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:n,config:r}=Sr(e),i=this._buildArgs([t.toBase58()],n,void 0,r),s=oe(await this._rpcRequest("getBalance",i),Rr(ge()));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get balance for ${t.toBase58()}`);return s.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+e)}))}async getBlockTime(t){const e=oe(await this._rpcRequest("getBlockTime",[t]),Tr(me(ge())));if("error"in e)throw new SolanaJSONRPCError(e.error,`failed to get block time for slot ${t}`);return e.result}async getMinimumLedgerSlot(){const t=oe(await this._rpcRequest("minimumLedgerSlot",[]),Tr(ge()));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const t=oe(await this._rpcRequest("getFirstAvailableBlock",[]),Xr);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get first available block");return t.result}async getSupply(t){let e={};e="string"==typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||this.commitment}:{commitment:this.commitment};const n=oe(await this._rpcRequest("getSupply",[e]),ti);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get supply");return n.result}async getTokenSupply(t,e){const n=this._buildArgs([t.toBase58()],e),r=oe(await this._rpcRequest("getTokenSupply",n),Rr(ei));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get token supply");return r.result}async getTokenAccountBalance(t,e){const n=this._buildArgs([t.toBase58()],e),r=oe(await this._rpcRequest("getTokenAccountBalance",n),Rr(ei));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get token account balance");return r.result}async getTokenAccountsByOwner(t,e,n){const{commitment:r,config:i}=Sr(n);let s=[t.toBase58()];"mint"in e?s.push({mint:e.mint.toBase58()}):s.push({programId:e.programId.toBase58()});const o=this._buildArgs(s,r,"base64",i),a=oe(await this._rpcRequest("getTokenAccountsByOwner",o),ri);if("error"in a)throw new SolanaJSONRPCError(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(t,e,n){let r=[t.toBase58()];"mint"in e?r.push({mint:e.mint.toBase58()}):r.push({programId:e.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),s=oe(await this._rpcRequest("getTokenAccountsByOwner",i),si);if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get token accounts owned by account ${t.toBase58()}`);return s.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},n=e.filter||e.commitment?[e]:[],r=oe(await this._rpcRequest("getLargestAccounts",n),oi);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get largest accounts");return r.result}async getTokenLargestAccounts(t,e){const n=this._buildArgs([t.toBase58()],e),r=oe(await this._rpcRequest("getTokenLargestAccounts",n),ni);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get token largest accounts");return r.result}async getAccountInfoAndContext(t,e){const{commitment:n,config:r}=Sr(e),i=this._buildArgs([t.toBase58()],n,"base64",r),s=oe(await this._rpcRequest("getAccountInfo",i),Rr(me(ai)));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getParsedAccountInfo(t,e){const{commitment:n,config:r}=Sr(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",r),s=oe(await this._rpcRequest("getAccountInfo",i),Rr(me(ci)));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get info about account ${t.toBase58()}`);return s.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,e){const{commitment:n,config:r}=Sr(e),i=t.map((t=>t.toBase58())),s=this._buildArgs([i],n,"jsonParsed",r),o=oe(await this._rpcRequest("getMultipleAccounts",s),Rr(ce(me(ci))));if("error"in o)throw new SolanaJSONRPCError(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:n,config:r}=Sr(e),i=t.map((t=>t.toBase58())),s=this._buildArgs([i],n,"base64",r),o=oe(await this._rpcRequest("getMultipleAccounts",s),Rr(ce(me(ai))));if("error"in o)throw new SolanaJSONRPCError(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,n){const{commitment:r,config:i}=Sr(e),s=this._buildArgs([t.toBase58()],r,void 0,{...i,epoch:null!=n?n:i?.epoch}),o=oe(await this._rpcRequest("getStakeActivation",s),Tr(di));if("error"in o)throw new SolanaJSONRPCError(o.error,`failed to get Stake Activation ${t.toBase58()}`);return o.result}async getProgramAccounts(t,e){const{commitment:n,config:r}=Sr(e),{encoding:i,...s}=r||{},o=this._buildArgs([t.toBase58()],n,i||"base64",{...s,...s.filters?{filters:Ar(s.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",o),u=ce(ui),l=!0===s.withContext?oe(a,Rr(u)):oe(a,Tr(u));if("error"in l)throw new SolanaJSONRPCError(l.error,`failed to get accounts owned by program ${t.toBase58()}`);return l.result}async getParsedProgramAccounts(t,e){const{commitment:n,config:r}=Sr(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",r),s=oe(await this._rpcRequest("getProgramAccounts",i),Tr(ce(hi)));if("error"in s)throw new SolanaJSONRPCError(s.error,`failed to get accounts owned by program ${t.toBase58()}`);return s.result}async confirmTransaction(t,e){let n,r;if("string"==typeof t)n=t;else{const e=t;if(e.abortSignal?.aborted)return Promise.reject(e.abortSignal.reason);n=e.signature}try{r=Zt().decode(n)}catch(i){throw new Error("signature must be base58 encoded: "+n)}return Bn(64===r.length,"signature has invalid length"),"string"==typeof t?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise(((e,n)=>{null!=t&&(t.aborted?n(t.reason):t.addEventListener("abort",(()=>{n(t.reason)})))}))}getTransactionConfirmationPromise({commitment:t,signature:e}){let n,r,i=!1;return{abortConfirmation:()=>{r&&(r(),r=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise(((s,o)=>{try{n=this.onSignature(e,((t,e)=>{n=void 0;const r={context:e,value:t};s({__type:Vn.PROCESSED,response:r})}),t);const a=new Promise((t=>{null==n?t():r=this._onSubscriptionStateChange(n,(e=>{"subscribed"===e&&t()}))}));(async()=>{if(await a,i)return;const n=await this.getSignatureStatus(e);if(i)return;if(null==n)return;const{context:r,value:u}=n;if(null!=u)if(u?.err)o(u.err);else{switch(t){case"confirmed":case"single":case"singleGossip":if("processed"===u.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===u.confirmationStatus||"confirmed"===u.confirmationStatus)return}i=!0,s({__type:Vn.PROCESSED,response:{context:r,value:u}})}})()}catch(a){o(a)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:n,signature:r}}){let i=!1;const s=new Promise((e=>{const r=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let t=await r();if(!i){for(;t<=n;){if(await tr(1e3),i)return;if(t=await r(),i)return}e({__type:Vn.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:o,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:t,signature:r}),u=this.getCancellationPromise(e);let l;try{const t=await Promise.race([u,a,s]);if(t.__type!==Vn.PROCESSED)throw new TransactionExpiredBlockheightExceededError(r);l=t.response}finally{i=!0,o()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:n,nonceAccountPubkey:r,nonceValue:i,signature:s}}){let o=!1;const a=new Promise((e=>{let s=i,a=null;const u=async()=>{try{const{context:e,value:i}=await this.getNonceAndContext(r,{commitment:t,minContextSlot:n});return a=e.slot,i?.nonce}catch(e){return s}};(async()=>{if(s=await u(),!o)for(;;){if(i!==s)return void e({__type:Vn.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await tr(2e3),o)return;if(s=await u(),o)return}})()})),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),c=this.getCancellationPromise(e);let h;try{const e=await Promise.race([c,l,a]);if(e.__type===Vn.PROCESSED)h=e.response;else{let r;for(;;){const t=await this.getSignatureStatus(s);if(null==t)break;if(!(t.context.slot<(e.slotInWhichNonceDidAdvance??n))){r=t;break}await tr(400)}if(!r?.value)throw new TransactionExpiredNonceInvalidError(s);{const e=t||"finalized",{confirmationStatus:n}=r.value;switch(e){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new TransactionExpiredNonceInvalidError(s);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new TransactionExpiredNonceInvalidError(s);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new TransactionExpiredNonceInvalidError(s)}h={context:r.context,value:{err:r.value.err}}}}}finally{o=!0,u()}return h}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let n;const r=new Promise((e=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4}n=setTimeout((()=>e({__type:Vn.TIMED_OUT,timeoutMs:r})),r)})),{abortConfirmation:i,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let o;try{const t=await Promise.race([s,r]);if(t.__type!==Vn.PROCESSED)throw new TransactionExpiredTimeoutError(e,t.timeoutMs/1e3);o=t.response}finally{clearTimeout(n),i()}return o}async getClusterNodes(){const t=oe(await this._rpcRequest("getClusterNodes",[]),Tr(ce(Si)));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(t){const e=this._buildArgs([],t),n=oe(await this._rpcRequest("getVoteAccounts",e),Mi);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get vote accounts");return n.result}async getSlot(t){const{commitment:e,config:n}=Sr(t),r=this._buildArgs([],e,void 0,n),i=oe(await this._rpcRequest("getSlot",r),Tr(ge()));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get slot");return i.result}async getSlotLeader(t){const{commitment:e,config:n}=Sr(t),r=this._buildArgs([],e,void 0,n),i=oe(await this._rpcRequest("getSlotLeader",r),Tr(we()));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(t,e){const n=[t,e],r=oe(await this._rpcRequest("getSlotLeaders",n),Tr(ce(br)));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get slot leaders");return r.result}async getSignatureStatus(t,e){const{context:n,value:r}=await this.getSignatureStatuses([t],e);Bn(1===r.length);return{context:n,value:r[0]}}async getSignatureStatuses(t,e){const n=[t];e&&n.push(e);const r=oe(await this._rpcRequest("getSignatureStatuses",n),Ri);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get signature status");return r.result}async getTransactionCount(t){const{commitment:e,config:n}=Sr(t),r=this._buildArgs([],e,void 0,n),i=oe(await this._rpcRequest("getTransactionCount",r),Tr(ge()));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get transaction count");return i.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),n=oe(await this._rpcRequest("getInflationGovernor",e),$r);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get inflation");return n.result}async getInflationReward(t,e,n){const{commitment:r,config:i}=Sr(n),s=this._buildArgs([t.map((t=>t.toBase58()))],r,void 0,{...i,epoch:null!=e?e:i?.epoch}),o=oe(await this._rpcRequest("getInflationReward",s),Nr);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get inflation reward");return o.result}async getInflationRate(){const t=oe(await this._rpcRequest("getInflationRate",[]),Zr);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(t){const{commitment:e,config:n}=Sr(t),r=this._buildArgs([],e,void 0,n),i=oe(await this._rpcRequest("getEpochInfo",r),Qr);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const t=oe(await this._rpcRequest("getEpochSchedule",[]),Jr);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get epoch schedule");const e=t.result;return new EpochSchedule(e.slotsPerEpoch,e.leaderScheduleSlotOffset,e.warmup,e.firstNormalEpoch,e.firstNormalSlot)}async getLeaderSchedule(){const t=oe(await this._rpcRequest("getLeaderSchedule",[]),Yr);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(t,e){const n=this._buildArgs([t],e),r=oe(await this._rpcRequest("getMinimumBalanceForRentExemption",n),xi);return"error"in r?(console.warn("Unable to fetch minimum balance for rent exemption"),0):r.result}async getRecentBlockhashAndContext(t){const{context:e,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(t);return{context:e,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(t){const e=oe(await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),rs);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get recent performance samples");return e.result}async getFeeCalculatorForBlockhash(t,e){const n=this._buildArgs([t],e),r=oe(await this._rpcRequest("getFeeCalculatorForBlockhash",n),is);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get fee calculator");const{context:i,value:s}=r.result;return{context:i,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(t,e){const n=bn(t.serialize()).toString("base64"),r=this._buildArgs([n],e),i=oe(await this._rpcRequest("getFeeForMessage",r),Rr(me(ge())));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(t){const e=t?.lockedWritableAccounts?.map((t=>t.toBase58())),n=e?.length?[e]:[],r=oe(await this._rpcRequest("getRecentPrioritizationFees",n),Gr);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get recent prioritization fees");return r.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:n}=Sr(t),r=this._buildArgs([],e,void 0,n),i=oe(await this._rpcRequest("getLatestBlockhash",r),es);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(t,e){const{commitment:n,config:r}=Sr(e),i=this._buildArgs([t],n,void 0,r),s=oe(await this._rpcRequest("isBlockhashValid",i),ns);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to determine if the blockhash `"+t+"`is valid");return s.result}async getVersion(){const t=oe(await this._rpcRequest("getVersion",[]),Tr(zr));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get version");return t.result}async getGenesisHash(){const t=oe(await this._rpcRequest("getGenesisHash",[]),Tr(we()));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get genesis hash");return t.result}async getBlock(t,e){const{commitment:n,config:r}=Sr(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,r),s=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const t=oe(s,$i);if("error"in t)throw t.error;return t.result}case"none":{const t=oe(s,Wi);if("error"in t)throw t.error;return t.result}default:{const t=oe(s,Ki);if("error"in t)throw t.error;const{result:e}=t;return e?{...e,transactions:e.transactions.map((({transaction:t,meta:e,version:n})=>({meta:e,transaction:{...t,message:Cr(n,t.message)},version:n})))}:null}}}catch(o){throw new SolanaJSONRPCError(o,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:n,config:r}=Sr(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r),s=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const t=oe(s,Gi);if("error"in t)throw t.error;return t.result}case"none":{const t=oe(s,Qi);if("error"in t)throw t.error;return t.result}default:{const t=oe(s,Zi);if("error"in t)throw t.error;return t.result}}}catch(o){throw new SolanaJSONRPCError(o,"failed to get block")}}async getBlockProduction(t){let e,n;if("string"==typeof t)n=t;else if(t){const{commitment:r,...i}=t;n=r,e=i}const r=this._buildArgs([],n,"base64",e),i=oe(await this._rpcRequest("getBlockProduction",r),Wr);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get block production information");return i.result}async getTransaction(t,e){const{commitment:n,config:r}=Sr(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,r),s=oe(await this._rpcRequest("getTransaction",i),Xi);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction");const o=s.result;return o?{...o,transaction:{...o.transaction,message:Cr(o.version,o.transaction.message)}}:o}async getParsedTransaction(t,e){const{commitment:n,config:r}=Sr(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r),s=oe(await this._rpcRequest("getTransaction",i),ts);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction");return s.result}async getParsedTransactions(t,e){const{commitment:n,config:r}=Sr(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",r)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=oe(t,ts);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get transactions");return e.result}))}async getTransactions(t,e){const{commitment:n,config:r}=Sr(e),i=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],n,void 0,r)})));return(await this._rpcBatchRequest(i)).map((t=>{const e=oe(t,Xi);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get transactions");const n=e.result;return n?{...n,transaction:{...n.transaction,message:Cr(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),r=oe(await this._rpcRequest("getBlock",n),Ji);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+t+" not found");const s={...i,transactions:i.transactions.map((({transaction:t,meta:e})=>{const n=new Message(t.message);return{meta:e,transaction:{...t,message:n}}}))};return{...s,transactions:s.transactions.map((({transaction:t,meta:e})=>({meta:e,transaction:Transaction.populate(t.message,t.signatures)})))}}async getBlocks(t,e,n){const r=this._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],n),i=oe(await this._rpcRequest("getBlocks",r),Tr(ce(ge())));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get blocks");return i.result}async getBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),r=oe(await this._rpcRequest("getBlock",n),Yi);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get block");const i=r.result;if(!i)throw new Error("Block "+t+" not found");return i}async getConfirmedBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),r=oe(await this._rpcRequest("getBlock",n),Yi);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+t+" not found");return i}async getConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),r=oe(await this._rpcRequest("getTransaction",n),Xi);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get transaction");const i=r.result;if(!i)return i;const s=new Message(i.transaction.message),o=i.transaction.signatures;return{...i,transaction:Transaction.populate(s,o)}}async getParsedConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),r=oe(await this._rpcRequest("getTransaction",n),ts);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get confirmed transaction");return r.result}async getParsedConfirmedTransactions(t,e){const n=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],e,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((t=>{const e=oe(t,ts);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get confirmed transactions");return e.result}))}async getConfirmedSignaturesForAddress(t,e,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--e<=0||e<i);)try{const t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(r.until=t.signatures[t.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}let s=await this.getSlot("finalized");for(;!("before"in r||++n>s);)try{const t=await this.getConfirmedBlockSignatures(n);t.signatures.length>0&&(r.before=t.signatures[t.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}return(await this.getConfirmedSignaturesForAddress2(t,r)).map((t=>t.signature))}async getConfirmedSignaturesForAddress2(t,e,n){const r=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=oe(await this._rpcRequest("getConfirmedSignaturesForAddress2",r),fi);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(t,e,n){const r=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=oe(await this._rpcRequest("getSignaturesForAddress",r),pi);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(t,e){const{context:n,value:r}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==r&&(i=new AddressLookupTableAccount({key:t,state:AddressLookupTableAccount.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(t,e){const{context:n,value:r}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==r&&(i=NonceAccount.fromAccountData(r.data)),{context:n,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)}))}async requestAirdrop(t,e){const n=oe(await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),ss);if("error"in n)throw new SolanaJSONRPCError(n.error,`airdrop to ${t.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await tr(100);const t=Date.now()-this._blockhashInfo.lastFetch>=kr;if(null!==this._blockhashInfo.latestBlockhash&&!t)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,n=e?e.blockhash:null;for(let r=0;r<50;r++){const t=await this.getLatestBlockhash("finalized");if(n!==t.blockhash)return this._blockhashInfo={latestBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await tr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:n}=Sr(t),r=this._buildArgs([],e,"base64",n),i=oe(await this._rpcRequest("getStakeMinimumDelegation",r),Rr(ge()));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(t,e,n){if("message"in t){const r=t.serialize(),s=i.Buffer.from(r).toString("base64");if(Array.isArray(e)||void 0!==n)throw new Error("Invalid arguments");const o=e||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment),e&&"object"==typeof e&&"innerInstructions"in e&&(o.innerInstructions=e.innerInstructions);const a=[s,o],u=oe(await this._rpcRequest("simulateTransaction",a),Kr);if("error"in u)throw new Error("failed to simulate transaction: "+u.error.message);return u.result}let r;if(t instanceof Transaction){let e=t;r=new Transaction,r.feePayer=e.feePayer,r.instructions=t.instructions,r.nonceInfo=e.nonceInfo,r.signatures=e.signatures}else r=Transaction.populate(t),r._message=r._json=void 0;if(void 0!==e&&!Array.isArray(e))throw new Error("Invalid arguments");const s=e;if(r.nonceInfo&&s)r.sign(...s);else{let t=this._disableBlockhashCaching;for(;;){const e=await this._blockhashWithExpiryBlockHeight(t);if(r.lastValidBlockHeight=e.lastValidBlockHeight,r.recentBlockhash=e.blockhash,!s)break;if(r.sign(...s),!r.signature)throw new Error("!signature");const n=r.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}t=!0}}const o=r._compile(),a=o.serialize(),u=r._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(n){const t=(Array.isArray(n)?n:o.nonProgramIds()).map((t=>t.toBase58()));l.accounts={encoding:"base64",addresses:t}}s&&(l.sigVerify=!0),e&&"object"==typeof e&&"innerInstructions"in e&&(l.innerInstructions=e.innerInstructions);const c=[u,l],h=oe(await this._rpcRequest("simulateTransaction",c),Kr);if("error"in h){let t;if("data"in h.error&&(t=h.error.data.logs,t&&Array.isArray(t))){const e="\n    ",n=e+t.join(e);console.error(h.error.message,n)}throw new SendTransactionError({action:"simulate",signature:"",transactionMessage:h.error.message,logs:t})}return h.result}async sendTransaction(t,e,n){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const n=t.serialize();return await this.sendRawTransaction(n,e)}if(void 0===e||!Array.isArray(e))throw new Error("Invalid arguments");const r=e;if(t.nonceInfo)t.sign(...r);else{let e=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(e);if(t.lastValidBlockHeight=n.lastValidBlockHeight,t.recentBlockhash=n.blockhash,t.sign(...r),!t.signature)throw new Error("!signature");const i=t.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}e=!0}}const i=t.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(t,e){const n=bn(t).toString("base64");return await this.sendEncodedTransaction(n,e)}async sendEncodedTransaction(t,e){const n={encoding:"base64"},r=e&&e.skipPreflight,i=!0===r?"processed":e&&e.preflightCommitment||this.commitment;e&&null!=e.maxRetries&&(n.maxRetries=e.maxRetries),e&&null!=e.minContextSlot&&(n.minContextSlot=e.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const s=[t,n],o=oe(await this._rpcRequest("sendTransaction",s),os);if("error"in o){let t;throw"data"in o.error&&(t=o.error.data.logs),new SendTransactionError({action:r?"send":"simulate",signature:"",transactionMessage:o.error.message,logs:t})}return o.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([t,e])=>{this._setSubscription(t,{...e,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(t,e){const n=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=e,n!==e.state){const n=this._subscriptionStateChangeCallbacksByHash[t];n&&n.forEach((t=>{try{t(e.state)}catch{}}))}}_onSubscriptionStateChange(t,e){const n=this._subscriptionHashByClientSubscriptionId[t];if(null==n)return()=>{};const r=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return r.add(e),()=>{r.delete(e),0===r.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(t){t instanceof Error&&console.log(`Error when closing socket connection: ${t.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async t=>{const n=this._subscriptionsByHash[t];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[t],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void(await this._updateSubscriptions());await(async()=>{const{args:r,method:i}=n;try{this._setSubscription(t,{...n,state:"subscribing"});const e=await this._rpcWebSocket.call(i,r);this._setSubscription(t,{...n,serverSubscriptionId:e,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[e]=n.callbacks,await this._updateSubscriptions()}catch(s){if(console.error(`Received ${s instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:r,error:s}),!e())return;this._setSubscription(t,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(t,{...n,state:"unsubscribing"}),this._setSubscription(t,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[r])}catch(s){if(s instanceof Error&&console.error(`${i} error:`,s.message),!e())return;return this._setSubscription(t,{...n,state:"subscribed"}),void(await this._updateSubscriptions())}}this._setSubscription(t,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(t,e){const n=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==n&&n.forEach((t=>{try{t(...e)}catch(n){console.error(n)}}))}_wsOnAccountNotification(t){const{result:e,subscription:n}=oe(t,mi);this._handleServerNotification(n,[e.value,e.context])}_makeSubscription(t,e){const n=this._nextClientSubscriptionId++,r=mr([t.method,e]),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const e=this._subscriptionsByHash[r];Bn(void 0!==e,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),e.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,e,n){const{commitment:r,config:i}=Sr(n),s=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:n}=oe(t,yi);this._handleServerNotification(n,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,n,r){const{commitment:i,config:s}=Sr(n),o=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",s||(r?{filters:Ar(r)}:void 0));return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,n){const r=this._buildArgs(["object"==typeof t?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:n}=oe(t,us);this._handleServerNotification(n,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:n}=oe(t,wi);this._handleServerNotification(n,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:n}=oe(t,_i);this._handleServerNotification(n,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,n,r){const i=e||this._commitment;if(i||n||r){let e={};n&&(e.encoding=n),i&&(e.commitment=i),r&&(e=Object.assign(e,r)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,n,r){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,n,r)}_wsOnSignatureNotification(t){const{result:e,subscription:n}=oe(t,Ei);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,n){const r=this._buildArgs([t],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(t,n)=>{if("status"===t.type){e(t.result,n);try{this.removeSignatureListener(i)}catch(r){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(t,e,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([t],r,void 0,i),o=this._makeSubscription({callback:(t,n)=>{e(t,n);try{this.removeSignatureListener(o)}catch(r){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:n}=oe(t,ki);this._handleServerNotification(n,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class Keypair{constructor(t){this._keypair=void 0,this._keypair=t??mn()}static generate(){return new Keypair(mn())}static fromSecretKey(t,e){if(64!==t.byteLength)throw new Error("bad secret key size");const n=t.slice(32,64);if(!e||!e.skipValidation){const e=t.slice(0,32),r=gn(e);for(let t=0;t<32;t++)if(n[t]!==r[t])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:n,secretKey:t})}static fromSeed(t){const e=gn(t),n=new Uint8Array(64);return n.set(t),n.set(e,32),new Keypair({publicKey:e,secretKey:n})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const cs=Object.freeze({CreateLookupTable:{index:0,layout:Jt.w3([Jt.DH("instruction"),or("recentSlot"),Jt.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Jt.w3([Jt.DH("instruction")])},ExtendLookupTable:{index:2,layout:Jt.w3([Jt.DH("instruction"),or(),Jt.O6(xn(),Jt.cY(Jt.DH(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Jt.w3([Jt.DH("instruction")])},CloseLookupTable:{index:4,layout:Jt.w3([Jt.DH("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Jt.DH("instruction").decode(t.data);let n;for(const[r,i]of Object.entries(cs))if(i.index==e){n=r;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);const{recentSlot:e}=nr(cs.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(e)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);const{addresses:e}=nr(cs.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:e.map((t=>new PublicKey(t)))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(t){const[e,n]=PublicKey.findProgramAddressSync([t.authority.toBuffer(),(0,Yt.Bq)(BigInt(t.recentSlot),8)],this.programId),r=er(cs.CreateLookupTable,{recentSlot:BigInt(t.recentSlot),bumpSeed:n}),i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:i,data:r}),e]}static freezeLookupTable(t){const e=er(cs.FreezeLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:n,data:e})}static extendLookupTable(t){const e=er(cs.ExtendLookupTable,{addresses:t.addresses.map((t=>t.toBytes()))}),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&n.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:n,data:e})}static deactivateLookupTable(t){const e=er(cs.DeactivateLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:n,data:e})}static closeLookupTable(t){const e=er(cs.CloseLookupTable),n=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:n,data:e})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Jt.u8("instruction").decode(t.data);let n;for(const[r,i]of Object.entries(hs))if(i.index==e){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:e,additionalFee:n}=nr(hs.RequestUnits,t.data);return{units:e,additionalFee:n}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:e}=nr(hs.RequestHeapFrame,t.data);return{bytes:e}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);const{units:e}=nr(hs.SetComputeUnitLimit,t.data);return{units:e}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);const{microLamports:e}=nr(hs.SetComputeUnitPrice,t.data);return{microLamports:e}}static checkProgramId(t){if(!t.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const hs=Object.freeze({RequestUnits:{index:0,layout:Jt.w3([Jt.u8("instruction"),Jt.DH("units"),Jt.DH("additionalFee")])},RequestHeapFrame:{index:1,layout:Jt.w3([Jt.u8("instruction"),Jt.DH("bytes")])},SetComputeUnitLimit:{index:2,layout:Jt.w3([Jt.u8("instruction"),Jt.DH("units")])},SetComputeUnitPrice:{index:3,layout:Jt.w3([Jt.u8("instruction"),or("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(t){const e=er(hs.RequestUnits,t);return new TransactionInstruction({keys:[],programId:this.programId,data:e})}static requestHeapFrame(t){const e=er(hs.RequestHeapFrame,t);return new TransactionInstruction({keys:[],programId:this.programId,data:e})}static setComputeUnitLimit(t){const e=er(hs.SetComputeUnitLimit,t);return new TransactionInstruction({keys:[],programId:this.programId,data:e})}static setComputeUnitPrice(t){const e=er(hs.SetComputeUnitPrice,{microLamports:BigInt(t.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:e})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const ds=Jt.w3([Jt.u8("numSignatures"),Jt.u8("padding"),Jt.NX("signatureOffset"),Jt.NX("signatureInstructionIndex"),Jt.NX("publicKeyOffset"),Jt.NX("publicKeyInstructionIndex"),Jt.NX("messageDataOffset"),Jt.NX("messageDataSize"),Jt.NX("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:n,signature:r,instructionIndex:s}=t;Bn(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),Bn(64===r.length,`Signature must be 64 bytes but received ${r.length} bytes`);const o=ds.span,a=o+e.length,u=a+r.length,l=i.Buffer.alloc(u+n.length),c=s??65535;return ds.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:c,publicKeyOffset:o,publicKeyInstructionIndex:c,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:c},l),l.fill(e,o),l.fill(r,a),l.fill(n,u),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:l})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:n,instructionIndex:r}=t;Bn(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const t=Keypair.fromSecretKey(e),i=t.publicKey.toBytes(),s=vn(n,t.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:s,instructionIndex:r})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");fn.utils.isValidPrivateKey;const fs=fn.getPublicKey,ps=Jt.w3([Jt.u8("numSignatures"),Jt.NX("signatureOffset"),Jt.u8("signatureInstructionIndex"),Jt.NX("ethAddressOffset"),Jt.u8("ethAddressInstructionIndex"),Jt.NX("messageDataOffset"),Jt.NX("messageDataSize"),Jt.u8("messageInstructionIndex"),Jt.av(20,"ethAddress"),Jt.av(64,"signature"),Jt.u8("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(t){Bn(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return i.Buffer.from($e(bn(t))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:n,signature:r,recoveryId:i,instructionIndex:s}=t;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(e),message:n,signature:r,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:n,signature:r,recoveryId:s,instructionIndex:o=0}=t;let a;a="string"==typeof e?e.startsWith("0x")?i.Buffer.from(e.substr(2),"hex"):i.Buffer.from(e,"hex"):e,Bn(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const u=12+a.length,l=u+r.length+1,c=i.Buffer.alloc(ps.span+n.length);return ps.encode({numSignatures:1,signatureOffset:u,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:o,signature:bn(r),ethAddress:bn(a),recoveryId:s},c),c.fill(bn(n),ps.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:c})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:n,instructionIndex:r}=t;Bn(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const t=bn(e),s=fs(t,!1).slice(1),o=i.Buffer.from($e(bn(n))),[a,u]=((t,e)=>{const n=fn.sign(t,e);return[n.toCompactRawBytes(),n.recovery]})(o,t);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,recoveryId:u,instructionIndex:r})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}var ms;Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const gs=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(t,e){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=e}}class Lockup{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}ms=Lockup,Lockup.default=new ms(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Jt.DH("instruction").decode(t.data);let n;for(const[r,i]of Object.entries(ys))if(i.index==e){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e,lockup:n}=nr(ys.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new Authorized(new PublicKey(e.staker),new PublicKey(e.withdrawer)),lockup:new Lockup(n.unixTimestamp,n.epoch,new PublicKey(n.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),nr(ys.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,stakeAuthorizationType:n}=nr(ys.Authorize,t.data),r={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(e),stakeAuthorizationType:{index:n}};return t.keys.length>3&&(r.custodianPubkey=t.keys[3].pubkey),r}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:e,stakeAuthorizationType:n,authoritySeed:r,authorityOwner:i}=nr(ys.AuthorizeWithSeed,t.data),s={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:r,authorityOwner:new PublicKey(i),newAuthorizedPubkey:new PublicKey(e),stakeAuthorizationType:{index:n}};return t.keys.length>3&&(s.custodianPubkey=t.keys[3].pubkey),s}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=nr(ys.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:e}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),nr(ys.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=nr(ys.Withdraw,t.data),n={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e};return t.keys.length>5&&(n.custodianPubkey=t.keys[5].pubkey),n}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),nr(ys.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const ys=Object.freeze({Initialize:{index:0,layout:Jt.w3([Jt.DH("instruction"),((t="authorized")=>Jt.w3([xn("staker"),xn("withdrawer")],t))(),((t="lockup")=>Jt.w3([Jt.Wg("unixTimestamp"),Jt.Wg("epoch"),xn("custodian")],t))()])},Authorize:{index:1,layout:Jt.w3([Jt.DH("instruction"),xn("newAuthorized"),Jt.DH("stakeAuthorizationType")])},Delegate:{index:2,layout:Jt.w3([Jt.DH("instruction")])},Split:{index:3,layout:Jt.w3([Jt.DH("instruction"),Jt.Wg("lamports")])},Withdraw:{index:4,layout:Jt.w3([Jt.DH("instruction"),Jt.Wg("lamports")])},Deactivate:{index:5,layout:Jt.w3([Jt.DH("instruction")])},Merge:{index:7,layout:Jt.w3([Jt.DH("instruction")])},AuthorizeWithSeed:{index:8,layout:Jt.w3([Jt.DH("instruction"),xn("newAuthorized"),Jt.DH("stakeAuthorizationType"),Pn("authoritySeed"),xn("authorityOwner")])}}),vs=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(t){const{stakePubkey:e,authorized:n,lockup:r}=t,i=r||Lockup.default,s=er(ys.Initialize,{authorized:{staker:bn(n.staker.toBuffer()),withdrawer:bn(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:bn(i.custodian.toBuffer())}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new TransactionInstruction(o)}static createAccountWithSeed(t){const e=new Transaction;e.add(SystemProgram.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=t;return e.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(t){const e=new Transaction;e.add(SystemProgram.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=t;return e.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:n,votePubkey:r}=t,i=er(ys.Delegate);return(new Transaction).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Hn,isSigner:!1,isWritable:!1},{pubkey:Jn,isSigner:!1,isWritable:!1},{pubkey:gs,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:s}=t,o=er(ys.Authorize,{newAuthorized:bn(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Hn,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=t,u=er(ys.AuthorizeWithSeed,{newAuthorized:bn(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:r,authorityOwner:bn(i.toBuffer())}),l=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Hn,isSigner:!1,isWritable:!1}];return a&&l.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:l,programId:this.programId,data:u})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=t,s=er(ys.Split,{lamports:i});return new TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(t,e){const n=new Transaction;return n.add(SystemProgram.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:e,space:this.space,programId:this.programId})),n.add(this.splitInstruction(t))}static splitWithSeed(t,e){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,basePubkey:s,seed:o,lamports:a}=t,u=new Transaction;return u.add(SystemProgram.allocate({accountPubkey:i,basePubkey:s,seed:o,space:this.space,programId:this.programId})),e&&e>0&&u.add(SystemProgram.transfer({fromPubkey:t.authorizedPubkey,toPubkey:i,lamports:e})),u.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:a}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:n,authorizedPubkey:r}=t,i=er(ys.Merge);return(new Transaction).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Hn,isSigner:!1,isWritable:!1},{pubkey:Jn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:s}=t,o=er(ys.Withdraw,{lamports:i}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Hn,isSigner:!1,isWritable:!1},{pubkey:Jn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:a,programId:this.programId,data:o})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:n}=t,r=er(ys.Deactivate);return(new Transaction).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Hn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111"),StakeProgram.space=200;class VoteInit{constructor(t,e,n,r){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=e,this.authorizedWithdrawer=n,this.commission=r}}class VoteInstruction{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=Jt.DH("instruction").decode(t.data);let n;for(const[r,i]of Object.entries(ws))if(i.index==e){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:e}=nr(ws.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(e.nodePubkey),new PublicKey(e.authorizedVoter),new PublicKey(e.authorizedWithdrawer),e.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,voteAuthorizationType:n}=nr(ws.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(e),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:e,currentAuthorityDerivedKeySeed:n,newAuthorized:r,voteAuthorizationType:i}}=nr(ws.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(e),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new PublicKey(r),voteAuthorizationType:{index:i},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=nr(ws.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:e,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const ws=Object.freeze({InitializeAccount:{index:0,layout:Jt.w3([Jt.DH("instruction"),((t="voteInit")=>Jt.w3([xn("nodePubkey"),xn("authorizedVoter"),xn("authorizedWithdrawer"),Jt.u8("commission")],t))()])},Authorize:{index:1,layout:Jt.w3([Jt.DH("instruction"),xn("newAuthorized"),Jt.DH("voteAuthorizationType")])},Withdraw:{index:3,layout:Jt.w3([Jt.DH("instruction"),Jt.Wg("lamports")])},UpdateValidatorIdentity:{index:4,layout:Jt.w3([Jt.DH("instruction")])},AuthorizeWithSeed:{index:10,layout:Jt.w3([Jt.DH("instruction"),((t="voteAuthorizeWithSeedArgs")=>Jt.w3([Jt.DH("voteAuthorizationType"),xn("currentAuthorityDerivedKeyOwnerPubkey"),Pn("currentAuthorityDerivedKeySeed"),xn("newAuthorized")],t))()])}}),bs=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:n,voteInit:r}=t,i=er(ws.InitializeAccount,{voteInit:{nodePubkey:bn(r.nodePubkey.toBuffer()),authorizedVoter:bn(r.authorizedVoter.toBuffer()),authorizedWithdrawer:bn(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:$n,isSigner:!1,isWritable:!1},{pubkey:Hn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new TransactionInstruction(s)}static createAccount(t){const e=new Transaction;return e.add(SystemProgram.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=t,s=er(ws.Authorize,{newAuthorized:bn(r.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:Hn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:o,programId:this.programId,data:s})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:e,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:o}=t,a=er(ws.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:bn(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:bn(i.toBuffer()),voteAuthorizationType:s.index}}),u=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Hn,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:u,programId:this.programId,data:a})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=t,s=er(ws.Withdraw,{lamports:r}),o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:o,programId:this.programId,data:s})}static safeWithdraw(t,e,n){if(t.lamports>e-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return VoteProgram.withdraw(t)}static updateValidatorIdentity(t){const{votePubkey:e,authorizedWithdrawerPubkey:n,nodePubkey:r}=t,i=er(ws.UpdateValidatorIdentity),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:s,programId:this.programId,data:i})}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111"),VoteProgram.space=3762;const _s=new PublicKey("Va1idator1nfo111111111111111111111111111111"),Es=_e({name:we(),website:ye(we()),details:ye(we()),iconUrl:ye(we()),keybaseUsername:ye(we())});class ValidatorInfo{constructor(t,e){this.key=void 0,this.info=void 0,this.key=t,this.info=e}static fromConfigData(t){let e=[...t];if(2!==On(e))return null;const n=[];for(let r=0;r<2;r++){const t=new PublicKey(jn(e,0,Sn)),r=1===Un(e);n.push({publicKey:t,isSigner:r})}if(n[0].publicKey.equals(_s)&&n[1].isSigner){const t=Pn().decode(i.Buffer.from(e)),r=JSON.parse(t);return se(r,Es),new ValidatorInfo(n[1].publicKey,r)}return null}}const ks=new PublicKey("Vote111111111111111111111111111111111111111"),Ss=Jt.w3([xn("nodePubkey"),xn("authorizedWithdrawer"),Jt.u8("commission"),Jt.I0(),Jt.O6(Jt.w3([Jt.I0("slot"),Jt.DH("confirmationCount")]),Jt.cY(Jt.DH(),-8),"votes"),Jt.u8("rootSlotValid"),Jt.I0("rootSlot"),Jt.I0(),Jt.O6(Jt.w3([Jt.I0("epoch"),xn("authorizedVoter")]),Jt.cY(Jt.DH(),-8),"authorizedVoters"),Jt.w3([Jt.O6(Jt.w3([xn("authorizedPubkey"),Jt.I0("epochOfLastAuthorizedSwitch"),Jt.I0("targetEpoch")]),32,"buf"),Jt.I0("idx"),Jt.u8("isEmpty")],"priorVoters"),Jt.I0(),Jt.O6(Jt.w3([Jt.I0("epoch"),Jt.I0("credits"),Jt.I0("prevCredits")]),Jt.cY(Jt.DH(),-8),"epochCredits"),Jt.w3([Jt.I0("slot"),Jt.I0("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const e=Ss.decode(bn(t),4);let n=e.rootSlot;return e.rootSlotValid||(n=null),new VoteAccount({nodePubkey:new PublicKey(e.nodePubkey),authorizedWithdrawer:new PublicKey(e.authorizedWithdrawer),commission:e.commission,votes:e.votes,rootSlot:n,authorizedVoters:e.authorizedVoters.map(As),priorVoters:Is(e.priorVoters),epochCredits:e.epochCredits,lastTimestamp:e.lastTimestamp})}}function As({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new PublicKey(t)}}function Ms({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:n}){return{authorizedPubkey:new PublicKey(t),epochOfLastAuthorizedSwitch:e,targetEpoch:n}}function Is({buf:t,idx:e,isEmpty:n}){return n?[]:[...t.slice(e+1).map(Ms),...t.slice(0,e).map(Ms)]}const Ts={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Rs(t,e){const n=!1===e?"http":"https";if(!t)return Ts[n].devnet;const r=Ts[n][t];if(!r)throw new Error(`Unknown ${n} cluster: ${t}`);return r}async function xs(t,e,n,r){let i,s;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,s=r):s=n;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await t.sendRawTransaction(e,o),u=s&&s.commitment,l=i?t.confirmTransaction(i,u):t.confirmTransaction(a,u),c=(await l).value;if(c.err){if(null!=a)throw new SendTransactionError({action:o?.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(c)})`});throw new Error(`Raw transaction ${a} failed (${JSON.stringify(c)})`)}return a}const Cs=1e9},2993:(t,e,n)=>{"use strict";var r=n(1817).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=i}var a=t.length,u=t.charAt(0),l=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return r.alloc(0);for(var n=0,i=0,s=0;t[n]===u;)i++,n++;for(var o=(t.length-n)*l+1>>>0,c=new Uint8Array(o);n<t.length;){var h=e[t.charCodeAt(n)];if(255===h)return;for(var d=0,f=o-1;(0!==h||d<s)&&-1!==f;f--,d++)h+=a*c[f]>>>0,c[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=d,n++}for(var p=o-s;p!==o&&0===c[p];)p++;var m=r.allocUnsafe(i+(o-p));m.fill(0,0,i);for(var g=i;p!==o;)m[g++]=c[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=r.from(e)),!r.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var n=0,i=0,s=0,o=e.length;s!==o&&0===e[s];)s++,n++;for(var l=(o-s)*c+1>>>0,h=new Uint8Array(l);s!==o;){for(var d=e[s],f=0,p=l-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=256*h[p]>>>0,h[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,s++}for(var m=l-i;m!==l&&0===h[m];)m++;for(var g=u.repeat(n);m<l;++m)g+=t.charAt(h[m]);return g},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},621:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(8013).Buffer}catch(T){}function a(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function u(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function l(t,e,n,i){for(var s=0,o=0,a=Math.min(t.length,n),u=e;u<a;u++){var l=t.charCodeAt(u)-48;s*=i,o=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&o<i,"Invalid character"),s+=o}return s}function c(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,s=0,o=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var s=t.length-n,o=s%r,a=Math.min(s,s-o)+n,u=0,c=n;c<a;c+=r)u=l(t,c,c+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=l(t,c,t.length,e),c=0;c<o;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){c(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(T){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?d[6-u.length]+u+n:u+n}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],c=p[t];n="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(c).toString(t);n=(h=h.idivn(c)).isZero()?m+n:d[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;n.words[0]=a;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,d=Math.min(l,e.length-1),f=Math.max(0,l-t.length+1);f<=d;f++){var p=l-f|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}n.words[l]=0|h,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n._strip()}s.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;t[n++]=255&o,n<t.length&&(t[n++]=o>>8&255),n<t.length&&(t[n++]=o>>16&255),6===s?(n<t.length&&(t[n++]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;t[n--]=255&o,n>=0&&(t[n--]=o>>8&255),n>=0&&(t[n--]=o>>16&255),6===s?(n>=0&&(t[n--]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 8191&e||(n+=13,e>>>=13),127&e||(n+=7,e>>>=7),15&e||(n+=4,e>>>=4),3&e||(n+=2,e>>>=2),1&e||n++,n},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return r(!(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return r(!(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return r(!(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,s=0;s<r.length;s++)e=(0|n.words[s])+(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<n.length;s++)e=(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var s=0,o=0;o<r.length;o++)s=(e=(0|n.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<n.length;o++)s=(e=(0|n.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,n){var r,i,s,o=t.words,a=e.words,u=n.words,l=0,c=0|o[0],h=8191&c,d=c>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,v=g>>>13,w=0|o[3],b=8191&w,_=w>>>13,E=0|o[4],k=8191&E,S=E>>>13,A=0|o[5],M=8191&A,I=A>>>13,T=0|o[6],R=8191&T,x=T>>>13,C=0|o[7],P=8191&C,N=C>>>13,O=0|o[8],L=8191&O,B=O>>>13,D=0|o[9],U=8191&D,j=D>>>13,F=0|a[0],V=8191&F,z=F>>>13,H=0|a[1],q=8191&H,K=H>>>13,W=0|a[2],$=8191&W,Z=W>>>13,G=0|a[3],Q=8191&G,J=G>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ct=0|a[8],ht=8191&ct,dt=ct>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(l+(r=Math.imul(h,V))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(d,V)|0))<<13)|0;l=((s=Math.imul(d,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(p,V),i=(i=Math.imul(p,z))+Math.imul(m,V)|0,s=Math.imul(m,z);var yt=(l+(r=r+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,q)|0))<<13)|0;l=((s=s+Math.imul(d,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,V),i=(i=Math.imul(y,z))+Math.imul(v,V)|0,s=Math.imul(v,z),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,K)|0;var vt=(l+(r=r+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,$)|0))<<13)|0;l=((s=s+Math.imul(d,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,V),i=(i=Math.imul(b,z))+Math.imul(_,V)|0,s=Math.imul(_,z),r=r+Math.imul(y,q)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,q)|0,s=s+Math.imul(v,K)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Z)|0;var wt=(l+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Q)|0))<<13)|0;l=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(k,V),i=(i=Math.imul(k,z))+Math.imul(S,V)|0,s=Math.imul(S,z),r=r+Math.imul(b,q)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,K)|0,r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,J)|0;var bt=(l+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;l=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(M,V),i=(i=Math.imul(M,z))+Math.imul(I,V)|0,s=Math.imul(I,z),r=r+Math.imul(k,q)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(S,q)|0,s=s+Math.imul(S,K)|0,r=r+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,Z)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,Q)|0,s=s+Math.imul(v,J)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var _t=(l+(r=r+Math.imul(h,nt)|0)|0)+((8191&(i=(i=i+Math.imul(h,rt)|0)+Math.imul(d,nt)|0))<<13)|0;l=((s=s+Math.imul(d,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(R,V),i=(i=Math.imul(R,z))+Math.imul(x,V)|0,s=Math.imul(x,z),r=r+Math.imul(M,q)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,K)|0,r=r+Math.imul(k,$)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(S,$)|0,s=s+Math.imul(S,Z)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,J)|0,r=r+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,s=s+Math.imul(m,rt)|0;var Et=(l+(r=r+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;l=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(P,V),i=(i=Math.imul(P,z))+Math.imul(N,V)|0,s=Math.imul(N,z),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(x,q)|0,s=s+Math.imul(x,K)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(I,$)|0,s=s+Math.imul(I,Z)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,J)|0,r=r+Math.imul(b,X)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,s=s+Math.imul(v,rt)|0,r=r+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(l+(r=r+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(d,ut)|0))<<13)|0;l=((s=s+Math.imul(d,lt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(L,V),i=(i=Math.imul(L,z))+Math.imul(B,V)|0,s=Math.imul(B,z),r=r+Math.imul(P,q)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(N,q)|0,s=s+Math.imul(N,K)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,Z)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,J)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(_,nt)|0,s=s+Math.imul(_,rt)|0,r=r+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,lt)|0;var St=(l+(r=r+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;l=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(U,V),i=(i=Math.imul(U,z))+Math.imul(j,V)|0,s=Math.imul(j,z),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(B,q)|0,s=s+Math.imul(B,K)|0,r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,Z)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,J)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,tt)|0,r=r+Math.imul(k,nt)|0,i=(i=i+Math.imul(k,rt)|0)+Math.imul(S,nt)|0,s=s+Math.imul(S,rt)|0,r=r+Math.imul(b,st)|0,i=(i=i+Math.imul(b,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,r=r+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,lt)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,dt)|0;var At=(l+(r=r+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;l=((s=s+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(U,q),i=(i=Math.imul(U,K))+Math.imul(j,q)|0,s=Math.imul(j,K),r=r+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(B,$)|0,s=s+Math.imul(B,Z)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,J)|0,r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(I,nt)|0,s=s+Math.imul(I,rt)|0,r=r+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,r=r+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,lt)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,dt)|0;var Mt=(l+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(U,$),i=(i=Math.imul(U,Z))+Math.imul(j,$)|0,s=Math.imul(j,Z),r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,J)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(x,nt)|0,s=s+Math.imul(x,rt)|0,r=r+Math.imul(M,st)|0,i=(i=i+Math.imul(M,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,r=r+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(S,ut)|0,s=s+Math.imul(S,lt)|0,r=r+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var It=(l+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;l=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(U,Q),i=(i=Math.imul(U,J))+Math.imul(j,Q)|0,s=Math.imul(j,J),r=r+Math.imul(L,X)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(N,nt)|0,s=s+Math.imul(N,rt)|0,r=r+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,r=r+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,lt)|0,r=r+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,dt)|0;var Tt=(l+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(j,X)|0,s=Math.imul(j,tt),r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(B,nt)|0,s=s+Math.imul(B,rt)|0,r=r+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,r=r+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,lt)|0,r=r+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,dt)|0;var Rt=(l+(r=r+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((s=s+Math.imul(S,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(U,nt),i=(i=Math.imul(U,rt))+Math.imul(j,nt)|0,s=Math.imul(j,rt),r=r+Math.imul(L,st)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,r=r+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,lt)|0,r=r+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,dt)|0;var xt=(l+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(I,pt)|0))<<13)|0;l=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(U,st),i=(i=Math.imul(U,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),r=r+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(B,ut)|0,s=s+Math.imul(B,lt)|0,r=r+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,dt)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,dt)|0;var Ct=(l+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(x,pt)|0))<<13)|0;l=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(U,ut),i=(i=Math.imul(U,lt))+Math.imul(j,ut)|0,s=Math.imul(j,lt),r=r+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,dt)|0)+Math.imul(B,ht)|0,s=s+Math.imul(B,dt)|0;var Pt=(l+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(j,ht)|0,s=Math.imul(j,dt);var Nt=(l+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(B,pt)|0))<<13)|0;l=((s=s+Math.imul(B,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Ot=(l+(r=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,mt))+Math.imul(j,pt)|0))<<13)|0;return l=((s=Math.imul(j,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=wt,u[4]=bt,u[5]=_t,u[6]=Et,u[7]=kt,u[8]=St,u[9]=At,u[10]=Mt,u[11]=It,u[12]=Tt,u[13]=Rt,u[14]=xt,u[15]=Ct,u[16]=Pt,u[17]=Nt,u[18]=Ot,0!==l&&(u[19]=l,n.length++),n};function y(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,s=0;s<n.length-1;s++){var o=i;i=0;for(var a=67108863&r,u=Math.min(s,e.length-1),l=Math.max(0,s-t.length+1);l<=u;l++){var c=s-l,h=(0|t.words[c])*(0|e.words[l]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,r=o,o=i}return 0!==r?n.words[s]=r:n.length--,n._strip()}function v(t,e,n){return y(t,e,n)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):n<63?m(this,t,e):n<1024?y(this,t,e):v(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),n=s.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},w.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},w.prototype.permute=function(t,e,n,r,i,s){for(var o=0;o<s;o++)r[o]=e[t[o]],i[o]=n[t[o]]},w.prototype.transform=function(t,e,n,r,i,s){this.permute(s,t,e,n,r,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=u,d=l,f=0;f<o;f++){var p=n[c+f],m=r[c+f],g=n[c+f+o],y=r[c+f+o],v=h*g-d*y;y=h*y+d*g,g=v,n[c+f]=p+g,r[c+f]=m+y,n[c+f+o]=p-g,r[c+f+o]=m-y,f!==a&&(v=u*h-l*d,d=u*d+l*h,h=v)}},w.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},w.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},w.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,n,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)n[o]=0;r(0===s),r(!(-8192&s))},w.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},w.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),s=this.stub(r),o=new Array(r),a=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),d=n.words;d.length=r,this.convert13b(t.words,t.length,o,r),this.convert13b(e.words,e.length,l,r),this.transform(o,s,a,u,r,i),this.transform(l,s,c,h,r,i);for(var f=0;f<r;f++){var p=a[f]*c[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*c[f],a[f]=p}return this.conjugate(a,u,r),this.transform(a,u,d,s,r,i),this.conjugate(d,s,r),this.normalize13b(d,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),v(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new s(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},s.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<n;this.words[e]=u|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=n;if(i-=o,i=Math.max(0,i),u){for(var l=0;l<o;l++)u.words[l]=this.words[l];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-s|h>>>s,c=h&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},s.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var i,s,o=t.length+n;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+n])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var a,u=r.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),r._ishlnsubmul(i,d,h);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},s.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),s=n.cmp(r);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/t|0,n=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),o.isub(u)):(n.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:n.iushln(l)}},s.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;!(e.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(e.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;!(n.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var s=e;e=n,n=s}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new M(t)},s.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(E,_),E.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},E.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(k,_),i(S,_),i(A,_),A.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new E;else if("p224"===t)e=new k;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return b[t]=e,e},M.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(!(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(c(t,t.umod(this.m)._forceRed(this)),t)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],c=u-1;c>=0;c--){var h=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===r&&0===c)&&(i=this.mul(i,n[o]),a=0,o=0)):a=0}u=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new I(t)},i(I,M),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},3718:(t,e,n)=>{var r=n(2993);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},3203:(t,e,n)=>{"use strict";n.d(e,{m:()=>s});var r=n(5257),i=n(9739),s=new class extends r.Q{#h;#d;#f;constructor(){super(),this.#f=t=>{if(!i.S$&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#d||this.setEventListener(this.#f)}onUnsubscribe(){this.hasListeners()||(this.#d?.(),this.#d=void 0)}setEventListener(t){this.#f=t,this.#d?.(),this.#d=t((t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()}))}setFocused(t){this.#h!==t&&(this.#h=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach((e=>{e(t)}))}isFocused(){return"boolean"==typeof this.#h?this.#h:"hidden"!==globalThis.document?.visibilityState}}},9655:(t,e,n)=>{"use strict";n.d(e,{$:()=>a,s:()=>o});var r=n(3102),i=n(183),s=n(5039),o=class extends i.k{#p;#i;#m;constructor(t){super(),this.mutationId=t.mutationId,this.#i=t.mutationCache,this.#p=[],this.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#p.includes(t)||(this.#p.push(t),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#p=this.#p.filter((e=>e!==t)),this.scheduleGc(),this.#i.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#p.length||("pending"===this.state.status?this.scheduleGc():this.#i.remove(this))}continue(){return this.#m?.continue()??this.execute(this.state.variables)}async execute(t){this.#m=(0,s.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(t,e)=>{this.#g({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#g({type:"pause"})},onContinue:()=>{this.#g({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#i.canRun(this)});const e="pending"===this.state.status,n=!this.#m.canStart();try{if(!e){this.#g({type:"pending",variables:t,isPaused:n}),await(this.#i.config.onMutate?.(t,this));const e=await(this.options.onMutate?.(t));e!==this.state.context&&this.#g({type:"pending",context:e,variables:t,isPaused:n})}const r=await this.#m.start();return await(this.#i.config.onSuccess?.(r,t,this.state.context,this)),await(this.options.onSuccess?.(r,t,this.state.context)),await(this.#i.config.onSettled?.(r,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(r,null,t,this.state.context)),this.#g({type:"success",data:r}),r}catch(r){try{throw await(this.#i.config.onError?.(r,t,this.state.context,this)),await(this.options.onError?.(r,t,this.state.context)),await(this.#i.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,r,t,this.state.context)),r}finally{this.#g({type:"error",error:r})}}finally{this.#i.runNext(this)}}#g(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),r.j.batch((()=>{this.#p.forEach((e=>{e.onMutationUpdate(t)})),this.#i.notify({mutation:this,type:"updated",action:t})}))}};function a(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},3102:(t,e,n)=>{"use strict";n.d(e,{j:()=>r});var r=function(){let t=[],e=0,n=t=>{t()},r=t=>{t()},i=t=>setTimeout(t,0);const s=r=>{e?t.push(r):i((()=>{n(r)}))},o=()=>{const e=t;t=[],e.length&&i((()=>{r((()=>{e.forEach((t=>{n(t)}))}))}))};return{batch:t=>{let n;e++;try{n=t()}finally{e--,e||o()}return n},batchCalls:t=>(...e)=>{s((()=>{t(...e)}))},schedule:s,setNotifyFunction:t=>{n=t},setBatchNotifyFunction:t=>{r=t},setScheduler:t=>{i=t}}}()},792:(t,e,n)=>{"use strict";n.d(e,{t:()=>s});var r=n(5257),i=n(9739),s=new class extends r.Q{#y=!0;#d;#f;constructor(){super(),this.#f=t=>{if(!i.S$&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#d||this.setEventListener(this.#f)}onUnsubscribe(){this.hasListeners()||(this.#d?.(),this.#d=void 0)}setEventListener(t){this.#f=t,this.#d?.(),this.#d=t(this.setOnline.bind(this))}setOnline(t){this.#y!==t&&(this.#y=t,this.listeners.forEach((e=>{e(t)})))}isOnline(){return this.#y}}},3194:(t,e,n)=>{"use strict";n.d(e,{X:()=>a,k:()=>u});var r=n(9739),i=n(3102),s=n(5039),o=n(183),a=class extends o.k{#v;#w;#b;#m;#s;#_;constructor(t){super(),this.#_=!1,this.#s=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#b=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#v=t.state||function(t){const e="function"==typeof t.initialData?t.initialData():t.initialData,n=void 0!==e,r=n?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=this.#v,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#m?.promise}setOptions(t){this.options={...this.#s,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#b.remove(this)}setData(t,e){const n=(0,r.pl)(this.state.data,t,this.options);return this.#g({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#g({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#m?.promise;return this.#m?.cancel(t),e?e.then(r.lQ).catch(r.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#v)}isActive(){return this.observers.some((t=>!1!==t.options.enabled))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((t=>t.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(t=0){return this.state.isInvalidated||void 0===this.state.data||!(0,r.j3)(this.state.dataUpdatedAt,t)}onFocus(){const t=this.observers.find((t=>t.shouldFetchOnWindowFocus()));t?.refetch({cancelRefetch:!1}),this.#m?.continue()}onOnline(){const t=this.observers.find((t=>t.shouldFetchOnReconnect()));t?.refetch({cancelRefetch:!1}),this.#m?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#b.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter((e=>e!==t)),this.observers.length||(this.#m&&(this.#_?this.#m.cancel({revert:!0}):this.#m.cancelRetry()),this.scheduleGc()),this.#b.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#g({type:"invalidate"})}fetch(t,e){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#m)return this.#m.continueRetry(),this.#m.promise;if(t&&this.setOptions(t),!this.options.queryFn){const t=this.observers.find((t=>t.options.queryFn));t&&this.setOptions(t.options)}const n=new AbortController,i=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(this.#_=!0,n.signal)})},o={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{const t=(0,r.ZM)(this.options,e),n={queryKey:this.queryKey,meta:this.meta};return i(n),this.#_=!1,this.options.persister?this.options.persister(t,n,this):t(n)}};i(o),this.options.behavior?.onFetch(o,this),this.#w=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===o.fetchOptions?.meta||this.#g({type:"fetch",meta:o.fetchOptions?.meta});const a=t=>{(0,s.wm)(t)&&t.silent||this.#g({type:"error",error:t}),(0,s.wm)(t)||(this.#b.config.onError?.(t,this),this.#b.config.onSettled?.(this.state.data,t,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#m=(0,s.II)({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:t=>{void 0!==t?(this.setData(t),this.#b.config.onSuccess?.(t,this),this.#b.config.onSettled?.(t,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):a(new Error(`${this.queryHash} data is undefined`))},onError:a,onFail:(t,e)=>{this.#g({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#g({type:"pause"})},onContinue:()=>{this.#g({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#m.start()}#g(t){this.state=(e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...u(e.data,this.options),fetchMeta:t.meta??null};case"success":return{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return(0,s.wm)(n)&&n.revert&&this.#w?{...this.#w,fetchStatus:"idle"}:{...e,error:n,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),i.j.batch((()=>{this.observers.forEach((t=>{t.onQueryUpdate()})),this.#b.notify({query:this,type:"updated",action:t})}))}};function u(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,s.v_)(e.networkMode)?"fetching":"paused",...void 0===t&&{error:null,status:"pending"}}}},183:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});var r=n(9739),i=class{#E;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,r.gn)(this.gcTime)&&(this.#E=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(r.S$?1/0:3e5))}clearGcTimeout(){this.#E&&(clearTimeout(this.#E),this.#E=void 0)}}},5039:(t,e,n)=>{"use strict";n.d(e,{II:()=>c,v_:()=>a,wm:()=>l});var r=n(3203),i=n(792),s=n(9739);function o(t){return Math.min(1e3*2**t,3e4)}function a(t){return"online"!==(t??"online")||i.t.isOnline()}var u=class{constructor(t){this.revert=t?.revert,this.silent=t?.silent}};function l(t){return t instanceof u}function c(t){let e,n,l,c=!1,h=0,d=!1;const f=new Promise(((t,e)=>{n=t,l=e})),p=()=>r.m.isFocused()&&("always"===t.networkMode||i.t.isOnline())&&t.canRun(),m=()=>a(t.networkMode)&&t.canRun(),g=r=>{d||(d=!0,t.onSuccess?.(r),e?.(),n(r))},y=n=>{d||(d=!0,t.onError?.(n),e?.(),l(n))},v=()=>new Promise((n=>{e=t=>{(d||p())&&n(t)},t.onPause?.()})).then((()=>{e=void 0,d||t.onContinue?.()})),w=()=>{if(d)return;let e;const n=0===h?t.initialPromise:void 0;try{e=n??t.fn()}catch(r){e=Promise.reject(r)}Promise.resolve(e).then(g).catch((e=>{if(d)return;const n=t.retry??(s.S$?0:3),r=t.retryDelay??o,i="function"==typeof r?r(h,e):r,a=!0===n||"number"==typeof n&&h<n||"function"==typeof n&&n(h,e);!c&&a?(h++,t.onFail?.(h,e),(0,s.yy)(i).then((()=>p()?void 0:v())).then((()=>{c?y(e):w()}))):y(e)}))};return{promise:f,cancel:e=>{d||(y(new u(e)),t.abort?.())},continue:()=>(e?.(),f),cancelRetry:()=>{c=!0},continueRetry:()=>{c=!1},canStart:m,start:()=>(m()?w():v().then(w),f)}}},5257:(t,e,n)=>{"use strict";n.d(e,{Q:()=>r});var r=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},9739:(t,e,n)=>{"use strict";n.d(e,{Cp:()=>d,EN:()=>h,F$:()=>c,MK:()=>u,S$:()=>r,ZM:()=>k,ZZ:()=>_,Zw:()=>s,f8:()=>p,gn:()=>o,hT:()=>E,j3:()=>a,lQ:()=>i,nJ:()=>l,pl:()=>w,y9:()=>b,yy:()=>v});var r="undefined"==typeof window||"Deno"in globalThis;function i(){}function s(t,e){return"function"==typeof t?t(e):t}function o(t){return"number"==typeof t&&t>=0&&t!==1/0}function a(t,e){return Math.max(t+(e||0)-Date.now(),0)}function u(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o)if(r){if(e.queryHash!==c(o,e.options))return!1}else if(!d(e.queryKey,o))return!1;if("all"!==n){const t=e.isActive();if("active"===n&&!t)return!1;if("inactive"===n&&t)return!1}return("boolean"!=typeof a||e.isStale()===a)&&((!i||i===e.state.fetchStatus)&&!(s&&!s(e)))}function l(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(h(e.options.mutationKey)!==h(s))return!1}else if(!d(e.options.mutationKey,s))return!1}return(!r||e.state.status===r)&&!(i&&!i(e))}function c(t,e){return(e?.queryKeyHashFn||h)(t)}function h(t){return JSON.stringify(t,((t,e)=>g(e)?Object.keys(e).sort().reduce(((t,n)=>(t[n]=e[n],t)),{}):e))}function d(t,e){return t===e||typeof t==typeof e&&(!(!t||!e||"object"!=typeof t||"object"!=typeof e)&&!Object.keys(e).some((n=>!d(t[n],e[n]))))}function f(t,e){if(t===e)return t;const n=m(t)&&m(e);if(n||g(t)&&g(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let u=0;for(let l=0;l<o;l++){const i=n?l:s[l];(!n&&r.includes(i)||n)&&void 0===t[i]&&void 0===e[i]?(a[i]=void 0,u++):(a[i]=f(t[i],e[i]),a[i]===t[i]&&void 0!==t[i]&&u++)}return i===o&&u===i?t:a}return e}function p(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function m(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function g(t){if(!y(t))return!1;const e=t.constructor;if(void 0===e)return!0;const n=e.prototype;return!!y(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(t)===Object.prototype)}function y(t){return"[object Object]"===Object.prototype.toString.call(t)}function v(t){return new Promise((e=>{setTimeout(e,t)}))}function w(t,e,n){return"function"==typeof n.structuralSharing?n.structuralSharing(t,e):!1!==n.structuralSharing?f(t,e):e}function b(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function _(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var E=Symbol(),k=(t,e)=>!t.queryFn&&e?.initialPromise?()=>e.initialPromise:t.queryFn&&t.queryFn!==E?t.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`))},720:(t,e,n)=>{"use strict";n.d(e,{Ht:()=>a,jE:()=>o});var r=n(3696),i=n(2540),s=r.createContext(void 0),o=t=>{const e=r.useContext(s);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},a=({client:t,children:e})=>(r.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]),(0,i.jsx)(s.Provider,{value:t,children:e}))},514:(t,e,n)=>{"use strict";n.d(e,{n:()=>h});var r=n(3696),i=n(9655),s=n(3102),o=n(5257),a=n(9739),u=class extends o.Q{#k;#S=void 0;#A;#M;constructor(t,e){super(),this.#k=t,this.setOptions(e),this.bindMethods(),this.#I()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#k.defaultMutationOptions(t),(0,a.f8)(this.options,e)||this.#k.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#A,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,a.EN)(e.mutationKey)!==(0,a.EN)(this.options.mutationKey)?this.reset():"pending"===this.#A?.state.status&&this.#A.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#A?.removeObserver(this)}onMutationUpdate(t){this.#I(),this.#T(t)}getCurrentResult(){return this.#S}reset(){this.#A?.removeObserver(this),this.#A=void 0,this.#I(),this.#T()}mutate(t,e){return this.#M=e,this.#A?.removeObserver(this),this.#A=this.#k.getMutationCache().build(this.#k,this.options),this.#A.addObserver(this),this.#A.execute(t)}#I(){const t=this.#A?.state??(0,i.$)();this.#S={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#T(t){s.j.batch((()=>{if(this.#M&&this.hasListeners()){const e=this.#S.variables,n=this.#S.context;"success"===t?.type?(this.#M.onSuccess?.(t.data,e,n),this.#M.onSettled?.(t.data,null,e,n)):"error"===t?.type&&(this.#M.onError?.(t.error,e,n),this.#M.onSettled?.(void 0,t.error,e,n))}this.listeners.forEach((t=>{t(this.#S)}))}))}},l=n(720),c=n(2719);function h(t,e){const n=(0,l.jE)(e),[i]=r.useState((()=>new u(n,t)));r.useEffect((()=>{i.setOptions(t)}),[i,t]);const o=r.useSyncExternalStore(r.useCallback((t=>i.subscribe(s.j.batchCalls(t))),[i]),(()=>i.getCurrentResult()),(()=>i.getCurrentResult())),a=r.useCallback(((t,e)=>{i.mutate(t,e).catch(c.l)}),[i]);if(o.error&&(0,c.G)(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}},7073:(t,e,n)=>{"use strict";n.d(e,{I:()=>I});var r=n(9739),i=n(3102),s=n(3203),o=n(5257),a=n(3194),u=class extends o.Q{constructor(t,e){super(),this.options=e,this.#k=t,this.#R=null,this.bindMethods(),this.setOptions(e)}#k;#x=void 0;#C=void 0;#S=void 0;#P;#N;#R;#O;#L;#B;#D;#U;#j;#F=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#x.addObserver(this),l(this.#x,this.options)?this.#V():this.updateResult(),this.#z())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return c(this.#x,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return c(this.#x,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#H(),this.#q(),this.#x.removeObserver(this)}setOptions(t,e){const n=this.options,i=this.#x;if(this.options=this.#k.defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.#K(),this.#x.setOptions(this.options),n._defaulted&&!(0,r.f8)(this.options,n)&&this.#k.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#x,observer:this});const s=this.hasListeners();s&&h(this.#x,i,this.options,n)&&this.#V(),this.updateResult(e),!s||this.#x===i&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.#W();const o=this.#$();!s||this.#x===i&&this.options.enabled===n.enabled&&o===this.#j||this.#Z(o)}getOptimisticResult(t){const e=this.#k.getQueryCache().build(this.#k,t),n=this.createResult(e,t);return function(t,e){if(!(0,r.f8)(t.getCurrentResult(),e))return!0;return!1}(this,n)&&(this.#S=n,this.#N=this.options,this.#P=this.#x.state),n}getCurrentResult(){return this.#S}trackResult(t,e){const n={};return Object.keys(t).forEach((r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})})),n}trackProp(t){this.#F.add(t)}getCurrentQuery(){return this.#x}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#k.defaultQueryOptions(t),n=this.#k.getQueryCache().build(this.#k,e);return n.isFetchingOptimistic=!0,n.fetch().then((()=>this.createResult(n,e)))}fetch(t){return this.#V({...t,cancelRefetch:t.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#S)))}#V(t){this.#K();let e=this.#x.fetch(this.options,t);return t?.throwOnError||(e=e.catch(r.lQ)),e}#W(){if(this.#H(),r.S$||this.#S.isStale||!(0,r.gn)(this.options.staleTime))return;const t=(0,r.j3)(this.#S.dataUpdatedAt,this.options.staleTime)+1;this.#D=setTimeout((()=>{this.#S.isStale||this.updateResult()}),t)}#$(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#x):this.options.refetchInterval)??!1}#Z(t){this.#q(),this.#j=t,!r.S$&&!1!==this.options.enabled&&(0,r.gn)(this.#j)&&0!==this.#j&&(this.#U=setInterval((()=>{(this.options.refetchIntervalInBackground||s.m.isFocused())&&this.#V()}),this.#j))}#z(){this.#W(),this.#Z(this.#$())}#H(){this.#D&&(clearTimeout(this.#D),this.#D=void 0)}#q(){this.#U&&(clearInterval(this.#U),this.#U=void 0)}createResult(t,e){const n=this.#x,i=this.options,s=this.#S,o=this.#P,u=this.#N,c=t!==n?t.state:this.#C,{state:f}=t;let p,m={...f},g=!1;if(e._optimisticResults){const r=this.hasListeners(),s=!r&&l(t,e),o=r&&h(t,n,e,i);(s||o)&&(m={...m,...(0,a.k)(f.data,t.options)}),"isRestoring"===e._optimisticResults&&(m.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:w}=m;if(e.select&&void 0!==m.data)if(s&&m.data===o?.data&&e.select===this.#O)p=this.#L;else try{this.#O=e.select,p=e.select(m.data),p=(0,r.pl)(s?.data,p,e),this.#L=p,this.#R=null}catch(A){this.#R=A}else p=m.data;if(void 0!==e.placeholderData&&void 0===p&&"pending"===w){let t;if(s?.isPlaceholderData&&e.placeholderData===u?.placeholderData)t=s.data;else if(t="function"==typeof e.placeholderData?e.placeholderData(this.#B?.state.data,this.#B):e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),this.#R=null}catch(A){this.#R=A}void 0!==t&&(w="success",p=(0,r.pl)(s?.data,t,e),g=!0)}this.#R&&(y=this.#R,p=this.#L,v=Date.now(),w="error");const b="fetching"===m.fetchStatus,_="pending"===w,E="error"===w,k=_&&b,S=void 0!==p;return{status:w,fetchStatus:m.fetchStatus,isPending:_,isSuccess:"success"===w,isError:E,isInitialLoading:k,isLoading:k,data:p,dataUpdatedAt:m.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>c.dataUpdateCount||m.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!_,isLoadingError:E&&!S,isPaused:"paused"===m.fetchStatus,isPlaceholderData:g,isRefetchError:E&&S,isStale:d(t,e),refetch:this.refetch}}updateResult(t){const e=this.#S,n=this.createResult(this.#x,this.options);if(this.#P=this.#x.state,this.#N=this.options,void 0!==this.#P.data&&(this.#B=this.#x),(0,r.f8)(n,e))return;this.#S=n;const i={};!1!==t?.listeners&&(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"==typeof t?t():t;if("all"===n||!n&&!this.#F.size)return!0;const r=new Set(n??this.#F);return this.options.throwOnError&&r.add("error"),Object.keys(this.#S).some((t=>{const n=t;return this.#S[n]!==e[n]&&r.has(n)}))})()&&(i.listeners=!0),this.#T({...i,...t})}#K(){const t=this.#k.getQueryCache().build(this.#k,this.options);if(t===this.#x)return;const e=this.#x;this.#x=t,this.#C=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#z()}#T(t){i.j.batch((()=>{t.listeners&&this.listeners.forEach((t=>{t(this.#S)})),this.#k.getQueryCache().notify({query:this.#x,type:"observerResultsUpdated"})}))}};function l(t,e){return function(t,e){return!1!==e.enabled&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&c(t,e,e.refetchOnMount)}function c(t,e,n){if(!1!==e.enabled){const r="function"==typeof n?n(t):n;return"always"===r||!1!==r&&d(t,e)}return!1}function h(t,e,n,r){return(t!==e||!1===r.enabled)&&(!n.suspense||"error"!==t.state.status)&&d(t,n)}function d(t,e){return!1!==e.enabled&&t.isStaleByTime(e.staleTime)}var f=n(3696);n(2540);function p(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var m=f.createContext(p()),g=()=>f.useContext(m),y=n(720),v=f.createContext(!1),w=()=>f.useContext(v),b=(v.Provider,n(2719)),_=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},E=t=>{f.useEffect((()=>{t.clearReset()}),[t])},k=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(0,b.G)(n,[t.error,r]),S=t=>{t.suspense&&"number"!=typeof t.staleTime&&(t.staleTime=1e3)},A=(t,e)=>t?.suspense&&e.isPending,M=(t,e,n)=>e.fetchOptimistic(t).catch((()=>{n.clearReset()}));function I(t,e){return function(t,e,n){const r=(0,y.jE)(n),s=w(),o=g(),a=r.defaultQueryOptions(t);a._optimisticResults=s?"isRestoring":"optimistic",S(a),_(a,o),E(o);const[u]=f.useState((()=>new e(r,a))),l=u.getOptimisticResult(a);if(f.useSyncExternalStore(f.useCallback((t=>{const e=s?()=>{}:u.subscribe(i.j.batchCalls(t));return u.updateResult(),e}),[u,s]),(()=>u.getCurrentResult()),(()=>u.getCurrentResult())),f.useEffect((()=>{u.setOptions(a,{listeners:!1})}),[a,u]),A(a,l))throw M(a,u,o);if(k({result:l,errorResetBoundary:o,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw l.error;return a.notifyOnChangeProps?l:u.trackResult(l)}(t,u,e)}},2719:(t,e,n)=>{"use strict";function r(t,e){return"function"==typeof t?t(...e):!!t}function i(){}n.d(e,{G:()=>r,l:()=>i})},1736:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(255!==e[s])throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function c(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var n=0,r=0,i=0;t[n]===a;)r++,n++;for(var s=(t.length-n)*u+1>>>0,l=new Uint8Array(s);t[n];){var c=e[t.charCodeAt(n)];if(255===c)return;for(var h=0,d=s-1;(0!==c||h<i)&&-1!==d;d--,h++)c+=o*l[d]>>>0,l[d]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");i=h,n++}for(var f=s-i;f!==s&&0===l[f];)f++;for(var p=new Uint8Array(r+(s-f)),m=r;f!==s;)p[m++]=l[f++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var n=0,r=0,i=0,s=e.length;i!==s&&0===e[i];)i++,n++;for(var u=(s-i)*l+1>>>0,c=new Uint8Array(u);i!==s;){for(var h=e[i],d=0,f=u-1;(0!==h||d<r)&&-1!==f;f--,d++)h+=256*c[f]>>>0,c[f]=h%o>>>0,h=h/o>>>0;if(0!==h)throw new Error("Non-zero carry");r=d,i++}for(var p=u-r;p!==u&&0===c[p];)p++;for(var m=a.repeat(n);p<u;++p)m+=t.charAt(c[p]);return m},decodeUnsafe:c,decode:function(t){var e=c(t);if(e)return e;throw new Error("Non-base"+o+" character")}}}},7322:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,s=a(t),o=s[0],u=s[1],l=new i(function(t,e,n){return 3*(e+n)/4-n}(0,o,u)),c=0,h=u>0?o-4:o;for(n=0;n<h;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;2===u&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,l[c++]=255&e);1===u&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e);return l},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,s=[],o=16383,a=0,l=r-i;a<l;a+=o)s.push(u(t,a,a+o>l?l:a+o));1===i?(e=t[r-1],s.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],s.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return s.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=s[o],r[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,r){for(var i,s,o=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},1740:(t,e)=>{"use strict";e.k5=function(t){{const e=Buffer.from(t);e.reverse();const n=e.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}},e.cI=function(t){{const e=t.toString("hex");return 0===e.length?BigInt(0):BigInt(`0x${e}`)}},e.Bq=function(t,e){{const n=t.toString(16),r=Buffer.from(n.padStart(2*e,"0").slice(0,2*e),"hex");return r.reverse(),r}},e.zy=function(t,e){{const n=t.toString(16);return Buffer.from(n.padStart(2*e,"0").slice(0,2*e),"hex")}}},7240:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(5066).Buffer}catch(A){}function a(t,e){var n=t.charCodeAt(e);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function u(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function l(t,e,n,r){for(var i=0,s=Math.min(t.length,n),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=r,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,s=0,o=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var s=t.length-n,o=s%r,a=Math.min(s,s-o)+n,u=0,c=n;c<a;c+=r)u=l(t,c,c+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=l(t,c,t.length,e),c=0;c<o;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;n.words[0]=a;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,d=Math.min(l,e.length-1),f=Math.max(0,l-t.length+1);f<=d;f++){var p=l-f|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}n.words[l]=0|h,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n.strip()}s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?c[6-u.length]+u+n:u+n}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=h[t],f=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(f).toString(t);n=(p=p.idivn(f)).isZero()?m+n:c[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return r(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,l=new t(s),c=this.clone();if(u){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),l[a]=o;for(;a<s;a++)l[a]=0}else{for(a=0;a<s-i;a++)l[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),l[s-a-1]=o}return l},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 8191&e||(n+=13,e>>>=13),127&e||(n+=7,e>>>=7),15&e||(n+=4,e>>>=4),3&e||(n+=2,e>>>=2),1&e||n++,n},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return r(!(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return r(!(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return r(!(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,s=0;s<r.length;s++)e=(0|n.words[s])+(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<n.length;s++)e=(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var s=0,o=0;o<r.length;o++)s=(e=(0|n.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<n.length;o++)s=(e=(0|n.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,n){var r,i,s,o=t.words,a=e.words,u=n.words,l=0,c=0|o[0],h=8191&c,d=c>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,v=g>>>13,w=0|o[3],b=8191&w,_=w>>>13,E=0|o[4],k=8191&E,S=E>>>13,A=0|o[5],M=8191&A,I=A>>>13,T=0|o[6],R=8191&T,x=T>>>13,C=0|o[7],P=8191&C,N=C>>>13,O=0|o[8],L=8191&O,B=O>>>13,D=0|o[9],U=8191&D,j=D>>>13,F=0|a[0],V=8191&F,z=F>>>13,H=0|a[1],q=8191&H,K=H>>>13,W=0|a[2],$=8191&W,Z=W>>>13,G=0|a[3],Q=8191&G,J=G>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ct=0|a[8],ht=8191&ct,dt=ct>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(l+(r=Math.imul(h,V))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(d,V)|0))<<13)|0;l=((s=Math.imul(d,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(p,V),i=(i=Math.imul(p,z))+Math.imul(m,V)|0,s=Math.imul(m,z);var yt=(l+(r=r+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,q)|0))<<13)|0;l=((s=s+Math.imul(d,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,V),i=(i=Math.imul(y,z))+Math.imul(v,V)|0,s=Math.imul(v,z),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,K)|0;var vt=(l+(r=r+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,$)|0))<<13)|0;l=((s=s+Math.imul(d,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,V),i=(i=Math.imul(b,z))+Math.imul(_,V)|0,s=Math.imul(_,z),r=r+Math.imul(y,q)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,q)|0,s=s+Math.imul(v,K)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Z)|0;var wt=(l+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Q)|0))<<13)|0;l=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(k,V),i=(i=Math.imul(k,z))+Math.imul(S,V)|0,s=Math.imul(S,z),r=r+Math.imul(b,q)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,K)|0,r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,J)|0;var bt=(l+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;l=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(M,V),i=(i=Math.imul(M,z))+Math.imul(I,V)|0,s=Math.imul(I,z),r=r+Math.imul(k,q)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(S,q)|0,s=s+Math.imul(S,K)|0,r=r+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,Z)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,Q)|0,s=s+Math.imul(v,J)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var _t=(l+(r=r+Math.imul(h,nt)|0)|0)+((8191&(i=(i=i+Math.imul(h,rt)|0)+Math.imul(d,nt)|0))<<13)|0;l=((s=s+Math.imul(d,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(R,V),i=(i=Math.imul(R,z))+Math.imul(x,V)|0,s=Math.imul(x,z),r=r+Math.imul(M,q)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,K)|0,r=r+Math.imul(k,$)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(S,$)|0,s=s+Math.imul(S,Z)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,J)|0,r=r+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,s=s+Math.imul(m,rt)|0;var Et=(l+(r=r+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;l=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(P,V),i=(i=Math.imul(P,z))+Math.imul(N,V)|0,s=Math.imul(N,z),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(x,q)|0,s=s+Math.imul(x,K)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(I,$)|0,s=s+Math.imul(I,Z)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,J)|0,r=r+Math.imul(b,X)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,s=s+Math.imul(v,rt)|0,r=r+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(l+(r=r+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(d,ut)|0))<<13)|0;l=((s=s+Math.imul(d,lt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(L,V),i=(i=Math.imul(L,z))+Math.imul(B,V)|0,s=Math.imul(B,z),r=r+Math.imul(P,q)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(N,q)|0,s=s+Math.imul(N,K)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,Z)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,J)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(_,nt)|0,s=s+Math.imul(_,rt)|0,r=r+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,lt)|0;var St=(l+(r=r+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;l=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(U,V),i=(i=Math.imul(U,z))+Math.imul(j,V)|0,s=Math.imul(j,z),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(B,q)|0,s=s+Math.imul(B,K)|0,r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,Z)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,J)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,tt)|0,r=r+Math.imul(k,nt)|0,i=(i=i+Math.imul(k,rt)|0)+Math.imul(S,nt)|0,s=s+Math.imul(S,rt)|0,r=r+Math.imul(b,st)|0,i=(i=i+Math.imul(b,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,r=r+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,lt)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,dt)|0;var At=(l+(r=r+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;l=((s=s+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(U,q),i=(i=Math.imul(U,K))+Math.imul(j,q)|0,s=Math.imul(j,K),r=r+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(B,$)|0,s=s+Math.imul(B,Z)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,J)|0,r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(I,nt)|0,s=s+Math.imul(I,rt)|0,r=r+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,r=r+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,lt)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,dt)|0;var Mt=(l+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(U,$),i=(i=Math.imul(U,Z))+Math.imul(j,$)|0,s=Math.imul(j,Z),r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,J)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(x,nt)|0,s=s+Math.imul(x,rt)|0,r=r+Math.imul(M,st)|0,i=(i=i+Math.imul(M,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,r=r+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(S,ut)|0,s=s+Math.imul(S,lt)|0,r=r+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var It=(l+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;l=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(U,Q),i=(i=Math.imul(U,J))+Math.imul(j,Q)|0,s=Math.imul(j,J),r=r+Math.imul(L,X)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(N,nt)|0,s=s+Math.imul(N,rt)|0,r=r+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,r=r+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,lt)|0,r=r+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,dt)|0;var Tt=(l+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(j,X)|0,s=Math.imul(j,tt),r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(B,nt)|0,s=s+Math.imul(B,rt)|0,r=r+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,r=r+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,lt)|0,r=r+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,dt)|0;var Rt=(l+(r=r+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((s=s+Math.imul(S,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(U,nt),i=(i=Math.imul(U,rt))+Math.imul(j,nt)|0,s=Math.imul(j,rt),r=r+Math.imul(L,st)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,r=r+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,lt)|0,r=r+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,dt)|0;var xt=(l+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(I,pt)|0))<<13)|0;l=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(U,st),i=(i=Math.imul(U,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),r=r+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(B,ut)|0,s=s+Math.imul(B,lt)|0,r=r+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,dt)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,dt)|0;var Ct=(l+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(x,pt)|0))<<13)|0;l=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(U,ut),i=(i=Math.imul(U,lt))+Math.imul(j,ut)|0,s=Math.imul(j,lt),r=r+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,dt)|0)+Math.imul(B,ht)|0,s=s+Math.imul(B,dt)|0;var Pt=(l+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(j,ht)|0,s=Math.imul(j,dt);var Nt=(l+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(B,pt)|0))<<13)|0;l=((s=s+Math.imul(B,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Ot=(l+(r=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,mt))+Math.imul(j,pt)|0))<<13)|0;return l=((s=Math.imul(j,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=wt,u[4]=bt,u[5]=_t,u[6]=Et,u[7]=kt,u[8]=St,u[9]=At,u[10]=Mt,u[11]=It,u[12]=Tt,u[13]=Rt,u[14]=xt,u[15]=Ct,u[16]=Pt,u[17]=Nt,u[18]=Ot,0!==l&&(u[19]=l,n.length++),n};function m(t,e,n){return(new g).mulp(t,e,n)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=f),s.prototype.mulTo=function(t,e){var n,r=this.length+t.length;return n=10===this.length&&10===t.length?p(this,t,e):r<63?f(this,t,e):r<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,s=0;s<n.length-1;s++){var o=i;i=0;for(var a=67108863&r,u=Math.min(s,e.length-1),l=Math.max(0,s-t.length+1);l<=u;l++){var c=s-l,h=(0|t.words[c])*(0|e.words[l]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,r=o,o=i}return 0!==r?n.words[s]=r:n.length--,n.strip()}(this,t,e):m(this,t,e),n},g.prototype.makeRBT=function(t){for(var e=new Array(t),n=s.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},g.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},g.prototype.permute=function(t,e,n,r,i,s){for(var o=0;o<s;o++)r[o]=e[t[o]],i[o]=n[t[o]]},g.prototype.transform=function(t,e,n,r,i,s){this.permute(s,t,e,n,r,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=u,d=l,f=0;f<o;f++){var p=n[c+f],m=r[c+f],g=n[c+f+o],y=r[c+f+o],v=h*g-d*y;y=h*y+d*g,g=v,n[c+f]=p+g,r[c+f]=m+y,n[c+f+o]=p-g,r[c+f+o]=m-y,f!==a&&(v=u*h-l*d,d=u*d+l*h,h=v)}},g.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},g.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},g.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,n,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)n[o]=0;r(0===s),r(!(-8192&s))},g.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},g.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),s=this.stub(r),o=new Array(r),a=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),d=n.words;d.length=r,this.convert13b(t.words,t.length,o,r),this.convert13b(e.words,e.length,l,r),this.transform(o,s,a,u,r,i),this.transform(l,s,c,h,r,i);for(var f=0;f<r;f++){var p=a[f]*c[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*c[f],a[f]=p}return this.conjugate(a,u,r),this.transform(a,u,d,s,r,i),this.conjugate(d,s,r),this.normalize13b(d,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),m(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},s.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<n;this.words[e]=u|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=n;if(i-=o,i=Math.max(0,i),u){for(var l=0;l<o;l++)u.words[l]=this.words[l];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-s|h>>>s,c=h&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},s.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var i,s,o=t.length+n;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+n])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var a,u=r.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),r._ishlnsubmul(i,d,h);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},s.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),s=n.cmp(r);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},s.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),o.isub(u)):(n.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:n.iushln(l)}},s.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;!(e.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(e.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;!(n.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var s=e;e=n,n=s}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new k(t)},s.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){k.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(w,v),w.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,v),i(_,v),i(E,v),E.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new b;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return y[t]=e,e},k.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},k.prototype._verify2=function(t,e){r(!(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},k.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},k.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},k.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},k.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},k.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},k.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},k.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},k.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},k.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},k.prototype.isqr=function(t){return this.imul(t,t.clone())},k.prototype.sqr=function(t){return this.mul(t,t)},k.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},k.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],c=u-1;c>=0;c--){var h=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===r&&0===c)&&(i=this.mul(i,n[o]),a=0,o=0)):a=0}u=26}return i},k.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},k.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new S(t)},i(S,k),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},5375:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&r(e,t,n);return i(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const u=a(n(4058)),l=a(n(1049)),c=o(n(2573)),h=new("function"!=typeof TextDecoder?c.TextDecoder:TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(t){return"string"==typeof t&&(t=Buffer.from(t,"utf8")),l.default.encode(Buffer.from(t))},e.baseDecode=function(t){return Buffer.from(l.default.decode(t))};const d=1024;class BorshError extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(d)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new u.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(d)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}function f(t,e,n){const r=n.value;n.value=function(...t){try{return r.apply(this,t)}catch(e){if(e instanceof RangeError){const t=e.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(t)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw e}}}e.BinaryWriter=BinaryWriter;class BinaryReader{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new u.default(t,"le")}readU128(){const t=this.readBuffer(16);return new u.default(t,"le")}readU256(){const t=this.readBuffer(32);return new u.default(t,"le")}readU512(){const t=this.readBuffer(64);return new u.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new BorshError(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return h.decode(e)}catch(n){throw new BorshError(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let r=0;r<e;++r)n.push(t());return n}}function p(t){return t.charAt(0).toUpperCase()+t.slice(1)}function m(t,e,n,r,i){try{if("string"==typeof r)i[`write${p(r)}`](n);else if(r instanceof Array)if("number"==typeof r[0]){if(n.length!==r[0])throw new BorshError(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(2===r.length&&"number"==typeof r[1]){if(n.length!==r[1])throw new BorshError(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let e=0;e<r[1];e++)m(t,null,n[e],r[0],i)}else i.writeArray(n,(n=>{m(t,e,n,r[0],i)}));else if(void 0!==r.kind)switch(r.kind){case"option":null==n?i.writeU8(0):(i.writeU8(1),m(t,e,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach(((n,s)=>{m(t,e,s,r.key,i),m(t,e,n,r.value,i)}));break;default:throw new BorshError(`FieldType ${r} unrecognized`)}else g(t,n,i)}catch(s){throw s instanceof BorshError&&s.addToFieldPath(e),s}}function g(t,e,n){if("function"==typeof e.borshSerialize)return void e.borshSerialize(n);const r=t.get(e.constructor);if(!r)throw new BorshError(`Class ${e.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map((([r,i])=>{m(t,r,e[r],i,n)}));else{if("enum"!==r.kind)throw new BorshError(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`);{const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),m(t,o,e[o],a,n);break}}}}}function y(t,e,n,r){try{if("string"==typeof n)return r[`read${p(n)}`]();if(n instanceof Array){if("number"==typeof n[0])return r.readFixedArray(n[0]);if("number"==typeof n[1]){const e=[];for(let i=0;i<n[1];i++)e.push(y(t,null,n[0],r));return e}return r.readArray((()=>y(t,e,n[0],r)))}if("option"===n.kind){return r.readU8()?y(t,e,n.type,r):void 0}if("map"===n.kind){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const s=y(t,e,n.key,r),o=y(t,e,n.value,r);i.set(s,o)}return i}return v(t,n,r)}catch(i){throw i instanceof BorshError&&i.addToFieldPath(e),i}}function v(t,e,n){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new BorshError(`Class ${e.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,s]of t.get(e).fields)r[i]=y(t,i,s,n);return new e(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new BorshError(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=y(t,s,o,n);return new e({[s]:a})}throw new BorshError(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}s([f],BinaryReader.prototype,"readU8",null),s([f],BinaryReader.prototype,"readU16",null),s([f],BinaryReader.prototype,"readU32",null),s([f],BinaryReader.prototype,"readU64",null),s([f],BinaryReader.prototype,"readU128",null),s([f],BinaryReader.prototype,"readU256",null),s([f],BinaryReader.prototype,"readU512",null),s([f],BinaryReader.prototype,"readString",null),s([f],BinaryReader.prototype,"readFixedArray",null),s([f],BinaryReader.prototype,"readArray",null),e.BinaryReader=BinaryReader,e.serialize=function(t,e,n=BinaryWriter){const r=new n;return g(t,e,r),r.toArray()},e.deserialize=function(t,e,n,r=BinaryReader){const i=new r(n),s=v(t,e,i);if(i.offset<n.length)throw new BorshError(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s},e.deserializeUnchecked=function(t,e,n,r=BinaryReader){return v(t,e,new r(n))}},6194:(t,e,n)=>{"use strict";var r=n(1817).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=i}var a=t.length,u=t.charAt(0),l=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return r.alloc(0);for(var n=0,i=0,s=0;t[n]===u;)i++,n++;for(var o=(t.length-n)*l+1>>>0,c=new Uint8Array(o);n<t.length;){var h=e[t.charCodeAt(n)];if(255===h)return;for(var d=0,f=o-1;(0!==h||d<s)&&-1!==f;f--,d++)h+=a*c[f]>>>0,c[f]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=d,n++}for(var p=o-s;p!==o&&0===c[p];)p++;var m=r.allocUnsafe(i+(o-p));m.fill(0,0,i);for(var g=i;p!==o;)m[g++]=c[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=r.from(e)),!r.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var n=0,i=0,s=0,o=e.length;s!==o&&0===e[s];)s++,n++;for(var l=(o-s)*c+1>>>0,h=new Uint8Array(l);s!==o;){for(var d=e[s],f=0,p=l-1;(0!==d||f<i)&&-1!==p;p--,f++)d+=256*h[p]>>>0,h[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=f,s++}for(var m=l-i;m!==l&&0===h[m];)m++;for(var g=u.repeat(n);m<l;++m)g+=t.charAt(h[m]);return g},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},4058:function(t,e,n){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(2736).Buffer}catch(T){}function a(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function u(t,e,n){var r=a(t,n);return n-1>=e&&(r|=a(t,n-1)<<4),r}function l(t,e,n,i){for(var s=0,o=0,a=Math.min(t.length,n),u=e;u<a;u++){var l=t.charCodeAt(u)-48;s*=i,o=l>=49?l-49+10:l>=17?l-17+10:l,r(l>=0&&o<i,"Invalid character"),s+=o}return s}function c(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},s.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},s.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,s=0,o=0;if("be"===n)for(r=t.length-1;r>=e;r-=2)i=u(t,e,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(r=(t.length-e)%2==0?e+1:e;r<t.length;r+=2)i=u(t,e,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var s=t.length-n,o=s%r,a=Math.min(s,s-o)+n,u=0,c=n;c<a;c+=r)u=l(t,c,c+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=l(t,c,t.length,e),c=0;c<o;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype._move=function(t){c(t,this)},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(T){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?d[6-u.length]+u+n:u+n}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var l=f[t],c=p[t];n="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(c).toString(t);n=(h=h.idivn(c)).isZero()?m+n:d[l-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(t,e){return this.toArrayLike(o,t,e)}),s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;n.words[0]=a;for(var l=1;l<r;l++){for(var c=u>>>26,h=67108863&u,d=Math.min(l,e.length-1),f=Math.max(0,l-t.length+1);f<=d;f++){var p=l-f|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[f])+h)/67108864|0,h=67108863&o}n.words[l]=0|h,u=0|c}return 0!==u?n.words[l]=0|u:n.length--,n._strip()}s.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(t,e){for(var n=0,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;t[n++]=255&o,n<t.length&&(t[n++]=o>>8&255),n<t.length&&(t[n++]=o>>16&255),6===s?(n<t.length&&(t[n++]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n<t.length)for(t[n++]=r;n<t.length;)t[n++]=0},s.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;t[n--]=255&o,n>=0&&(t[n--]=o>>8&255),n>=0&&(t[n--]=o>>16&255),6===s?(n>=0&&(t[n--]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n>=0)for(t[n--]=r;n>=0;)t[n--]=0},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 8191&e||(n+=13,e>>>=13),127&e||(n+=7,e>>>=7),15&e||(n+=4,e>>>=4),3&e||(n+=2,e>>>=2),1&e||n++,n},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},s.prototype.ior=function(t){return r(!(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},s.prototype.iand=function(t){return r(!(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this._strip()},s.prototype.ixor=function(t){return r(!(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},s.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,s=0;s<r.length;s++)e=(0|n.words[s])+(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<n.length;s++)e=(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var s=0,o=0;o<r.length;o++)s=(e=(0|n.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<n.length;o++)s=(e=(0|n.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,n){var r,i,s,o=t.words,a=e.words,u=n.words,l=0,c=0|o[0],h=8191&c,d=c>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,v=g>>>13,w=0|o[3],b=8191&w,_=w>>>13,E=0|o[4],k=8191&E,S=E>>>13,A=0|o[5],M=8191&A,I=A>>>13,T=0|o[6],R=8191&T,x=T>>>13,C=0|o[7],P=8191&C,N=C>>>13,O=0|o[8],L=8191&O,B=O>>>13,D=0|o[9],U=8191&D,j=D>>>13,F=0|a[0],V=8191&F,z=F>>>13,H=0|a[1],q=8191&H,K=H>>>13,W=0|a[2],$=8191&W,Z=W>>>13,G=0|a[3],Q=8191&G,J=G>>>13,Y=0|a[4],X=8191&Y,tt=Y>>>13,et=0|a[5],nt=8191&et,rt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,lt=at>>>13,ct=0|a[8],ht=8191&ct,dt=ct>>>13,ft=0|a[9],pt=8191&ft,mt=ft>>>13;n.negative=t.negative^e.negative,n.length=19;var gt=(l+(r=Math.imul(h,V))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(d,V)|0))<<13)|0;l=((s=Math.imul(d,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(p,V),i=(i=Math.imul(p,z))+Math.imul(m,V)|0,s=Math.imul(m,z);var yt=(l+(r=r+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,q)|0))<<13)|0;l=((s=s+Math.imul(d,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(y,V),i=(i=Math.imul(y,z))+Math.imul(v,V)|0,s=Math.imul(v,z),r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,K)|0;var vt=(l+(r=r+Math.imul(h,$)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,$)|0))<<13)|0;l=((s=s+Math.imul(d,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(b,V),i=(i=Math.imul(b,z))+Math.imul(_,V)|0,s=Math.imul(_,z),r=r+Math.imul(y,q)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,q)|0,s=s+Math.imul(v,K)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,$)|0,s=s+Math.imul(m,Z)|0;var wt=(l+(r=r+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,Q)|0))<<13)|0;l=((s=s+Math.imul(d,J)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(k,V),i=(i=Math.imul(k,z))+Math.imul(S,V)|0,s=Math.imul(S,z),r=r+Math.imul(b,q)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,K)|0,r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,J)|0;var bt=(l+(r=r+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(d,X)|0))<<13)|0;l=((s=s+Math.imul(d,tt)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(M,V),i=(i=Math.imul(M,z))+Math.imul(I,V)|0,s=Math.imul(I,z),r=r+Math.imul(k,q)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(S,q)|0,s=s+Math.imul(S,K)|0,r=r+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Z)|0)+Math.imul(_,$)|0,s=s+Math.imul(_,Z)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,Q)|0,s=s+Math.imul(v,J)|0,r=r+Math.imul(p,X)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,X)|0,s=s+Math.imul(m,tt)|0;var _t=(l+(r=r+Math.imul(h,nt)|0)|0)+((8191&(i=(i=i+Math.imul(h,rt)|0)+Math.imul(d,nt)|0))<<13)|0;l=((s=s+Math.imul(d,rt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(R,V),i=(i=Math.imul(R,z))+Math.imul(x,V)|0,s=Math.imul(x,z),r=r+Math.imul(M,q)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,K)|0,r=r+Math.imul(k,$)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(S,$)|0,s=s+Math.imul(S,Z)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,J)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,J)|0,r=r+Math.imul(y,X)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(v,X)|0,s=s+Math.imul(v,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,s=s+Math.imul(m,rt)|0;var Et=(l+(r=r+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(d,st)|0))<<13)|0;l=((s=s+Math.imul(d,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(P,V),i=(i=Math.imul(P,z))+Math.imul(N,V)|0,s=Math.imul(N,z),r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(x,q)|0,s=s+Math.imul(x,K)|0,r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(I,$)|0,s=s+Math.imul(I,Z)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,J)|0,r=r+Math.imul(b,X)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(_,X)|0,s=s+Math.imul(_,tt)|0,r=r+Math.imul(y,nt)|0,i=(i=i+Math.imul(y,rt)|0)+Math.imul(v,nt)|0,s=s+Math.imul(v,rt)|0,r=r+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(l+(r=r+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(d,ut)|0))<<13)|0;l=((s=s+Math.imul(d,lt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(L,V),i=(i=Math.imul(L,z))+Math.imul(B,V)|0,s=Math.imul(B,z),r=r+Math.imul(P,q)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(N,q)|0,s=s+Math.imul(N,K)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,Z)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,J)|0,r=r+Math.imul(k,X)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(S,X)|0,s=s+Math.imul(S,tt)|0,r=r+Math.imul(b,nt)|0,i=(i=i+Math.imul(b,rt)|0)+Math.imul(_,nt)|0,s=s+Math.imul(_,rt)|0,r=r+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(v,st)|0,s=s+Math.imul(v,ot)|0,r=r+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(m,ut)|0,s=s+Math.imul(m,lt)|0;var St=(l+(r=r+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,dt)|0)+Math.imul(d,ht)|0))<<13)|0;l=((s=s+Math.imul(d,dt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(U,V),i=(i=Math.imul(U,z))+Math.imul(j,V)|0,s=Math.imul(j,z),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(B,q)|0,s=s+Math.imul(B,K)|0,r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(N,$)|0,s=s+Math.imul(N,Z)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,J)|0,r=r+Math.imul(M,X)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(I,X)|0,s=s+Math.imul(I,tt)|0,r=r+Math.imul(k,nt)|0,i=(i=i+Math.imul(k,rt)|0)+Math.imul(S,nt)|0,s=s+Math.imul(S,rt)|0,r=r+Math.imul(b,st)|0,i=(i=i+Math.imul(b,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,r=r+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(v,ut)|0,s=s+Math.imul(v,lt)|0,r=r+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,dt)|0;var At=(l+(r=r+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(d,pt)|0))<<13)|0;l=((s=s+Math.imul(d,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(U,q),i=(i=Math.imul(U,K))+Math.imul(j,q)|0,s=Math.imul(j,K),r=r+Math.imul(L,$)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(B,$)|0,s=s+Math.imul(B,Z)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,J)|0,r=r+Math.imul(R,X)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(x,X)|0,s=s+Math.imul(x,tt)|0,r=r+Math.imul(M,nt)|0,i=(i=i+Math.imul(M,rt)|0)+Math.imul(I,nt)|0,s=s+Math.imul(I,rt)|0,r=r+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,r=r+Math.imul(b,ut)|0,i=(i=i+Math.imul(b,lt)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,lt)|0,r=r+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,dt)|0)+Math.imul(v,ht)|0,s=s+Math.imul(v,dt)|0;var Mt=(l+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;l=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(U,$),i=(i=Math.imul(U,Z))+Math.imul(j,$)|0,s=Math.imul(j,Z),r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,J)|0,r=r+Math.imul(P,X)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(N,X)|0,s=s+Math.imul(N,tt)|0,r=r+Math.imul(R,nt)|0,i=(i=i+Math.imul(R,rt)|0)+Math.imul(x,nt)|0,s=s+Math.imul(x,rt)|0,r=r+Math.imul(M,st)|0,i=(i=i+Math.imul(M,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,r=r+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,lt)|0)+Math.imul(S,ut)|0,s=s+Math.imul(S,lt)|0,r=r+Math.imul(b,ht)|0,i=(i=i+Math.imul(b,dt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,dt)|0;var It=(l+(r=r+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,mt)|0)+Math.imul(v,pt)|0))<<13)|0;l=((s=s+Math.imul(v,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(U,Q),i=(i=Math.imul(U,J))+Math.imul(j,Q)|0,s=Math.imul(j,J),r=r+Math.imul(L,X)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(B,X)|0,s=s+Math.imul(B,tt)|0,r=r+Math.imul(P,nt)|0,i=(i=i+Math.imul(P,rt)|0)+Math.imul(N,nt)|0,s=s+Math.imul(N,rt)|0,r=r+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,r=r+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,lt)|0,r=r+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,dt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,dt)|0;var Tt=(l+(r=r+Math.imul(b,pt)|0)|0)+((8191&(i=(i=i+Math.imul(b,mt)|0)+Math.imul(_,pt)|0))<<13)|0;l=((s=s+Math.imul(_,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(U,X),i=(i=Math.imul(U,tt))+Math.imul(j,X)|0,s=Math.imul(j,tt),r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(B,nt)|0,s=s+Math.imul(B,rt)|0,r=r+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,r=r+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(x,ut)|0,s=s+Math.imul(x,lt)|0,r=r+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,dt)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,dt)|0;var Rt=(l+(r=r+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(S,pt)|0))<<13)|0;l=((s=s+Math.imul(S,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(U,nt),i=(i=Math.imul(U,rt))+Math.imul(j,nt)|0,s=Math.imul(j,rt),r=r+Math.imul(L,st)|0,i=(i=i+Math.imul(L,ot)|0)+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,r=r+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(N,ut)|0,s=s+Math.imul(N,lt)|0,r=r+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,dt)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,dt)|0;var xt=(l+(r=r+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,mt)|0)+Math.imul(I,pt)|0))<<13)|0;l=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(U,st),i=(i=Math.imul(U,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),r=r+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,lt)|0)+Math.imul(B,ut)|0,s=s+Math.imul(B,lt)|0,r=r+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,dt)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,dt)|0;var Ct=(l+(r=r+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(x,pt)|0))<<13)|0;l=((s=s+Math.imul(x,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(U,ut),i=(i=Math.imul(U,lt))+Math.imul(j,ut)|0,s=Math.imul(j,lt),r=r+Math.imul(L,ht)|0,i=(i=i+Math.imul(L,dt)|0)+Math.imul(B,ht)|0,s=s+Math.imul(B,dt)|0;var Pt=(l+(r=r+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,mt)|0)+Math.imul(N,pt)|0))<<13)|0;l=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(U,ht),i=(i=Math.imul(U,dt))+Math.imul(j,ht)|0,s=Math.imul(j,dt);var Nt=(l+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(B,pt)|0))<<13)|0;l=((s=s+Math.imul(B,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Ot=(l+(r=Math.imul(U,pt))|0)+((8191&(i=(i=Math.imul(U,mt))+Math.imul(j,pt)|0))<<13)|0;return l=((s=Math.imul(j,mt))+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,u[0]=gt,u[1]=yt,u[2]=vt,u[3]=wt,u[4]=bt,u[5]=_t,u[6]=Et,u[7]=kt,u[8]=St,u[9]=At,u[10]=Mt,u[11]=It,u[12]=Tt,u[13]=Rt,u[14]=xt,u[15]=Ct,u[16]=Pt,u[17]=Nt,u[18]=Ot,0!==l&&(u[19]=l,n.length++),n};function y(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,s=0;s<n.length-1;s++){var o=i;i=0;for(var a=67108863&r,u=Math.min(s,e.length-1),l=Math.max(0,s-t.length+1);l<=u;l++){var c=s-l,h=(0|t.words[c])*(0|e.words[l]),d=67108863&h;a=67108863&(d=d+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}n.words[s]=a,r=o,o=i}return 0!==r?n.words[s]=r:n.length--,n._strip()}function v(t,e,n){return y(t,e,n)}function w(t,e){this.x=t,this.y=e}Math.imul||(g=m),s.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):n<63?m(this,t,e):n<1024?y(this,t,e):v(this,t,e)},w.prototype.makeRBT=function(t){for(var e=new Array(t),n=s.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},w.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},w.prototype.permute=function(t,e,n,r,i,s){for(var o=0;o<s;o++)r[o]=e[t[o]],i[o]=n[t[o]]},w.prototype.transform=function(t,e,n,r,i,s){this.permute(s,t,e,n,r,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),l=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=u,d=l,f=0;f<o;f++){var p=n[c+f],m=r[c+f],g=n[c+f+o],y=r[c+f+o],v=h*g-d*y;y=h*y+d*g,g=v,n[c+f]=p+g,r[c+f]=m+y,n[c+f+o]=p-g,r[c+f+o]=m-y,f!==a&&(v=u*h-l*d,d=u*d+l*h,h=v)}},w.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},w.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},w.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},w.prototype.convert13b=function(t,e,n,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)n[o]=0;r(0===s),r(!(-8192&s))},w.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},w.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),s=this.stub(r),o=new Array(r),a=new Array(r),u=new Array(r),l=new Array(r),c=new Array(r),h=new Array(r),d=n.words;d.length=r,this.convert13b(t.words,t.length,o,r),this.convert13b(e.words,e.length,l,r),this.transform(o,s,a,u,r,i),this.transform(l,s,c,h,r,i);for(var f=0;f<r;f++){var p=a[f]*c[f]-u[f]*h[f];u[f]=a[f]*h[f]+u[f]*c[f],a[f]=p}return this.conjugate(a,u,r),this.transform(a,u,d,s,r,i),this.conjugate(d,s,r),this.normalize13b(d,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n._strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),v(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=t.words[r]>>>i&1}return e}(t);if(0===e.length)return new s(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},s.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<n;this.words[e]=u|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=n;if(i-=o,i=Math.max(0,i),u){for(var l=0;l<o;l++)u.words[l]=this.words[l];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var c=0;for(l=this.length-1;l>=0&&(0!==c||l>=i);l--){var h=0|this.words[l];this.words[l]=c<<26-s|h>>>s,c=h&a}return u&&0!==c&&(u.words[u.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},s.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,n){var i,s,o=t.length+n;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+n])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,o=0|i.words[i.length-1];0!==(n=26-this._countBits(o))&&(i=i.ushln(n),r.iushln(n),o=0|i.words[i.length-1]);var a,u=r.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var l=0;l<a.length;l++)a.words[l]=0}var c=r.clone()._ishlnsubmul(i,1,u);0===c.negative&&(r=c,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var d=67108864*(0|r.words[i.length+h])+(0|r.words[i.length+h-1]);for(d=Math.min(d/o|0,67108863),r._ishlnsubmul(i,d,h);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,h),r.isZero()||(r.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),r._strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},s.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),s=n.cmp(r);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%t;return e?-i:i},s.prototype.modn=function(t){return this.modrn(t)},s.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/t|0,n=s%t}return this._strip(),e?this.ineg():this},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),l=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++l;for(var c=n.clone(),h=e.clone();!e.isZero();){for(var d=0,f=1;!(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,m=1;!(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(c),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a),o.isub(u)):(n.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:n.iushln(l)}},s.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var l=0,c=1;!(e.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(e.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,d=1;!(n.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var s=e;e=n,n=s}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new M(t)},s.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function _(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},_.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(t,e){t.iushrn(this.n,0,e)},_.prototype.imulK=function(t){return t.imul(this.k)},i(E,_),E.prototype.split=function(t,e){for(var n=4194303,r=Math.min(t.length,9),i=0;i<r;i++)e.words[i]=t.words[i];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&n,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},E.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(k,_),i(S,_),i(A,_),A.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new E;else if("p224"===t)e=new k;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return b[t]=e,e},M.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(!(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(c(t,t.umod(this.m)._forceRed(this)),t)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},M.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new s(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);r(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),l=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,l).cmp(u);)c.redIAdd(u);for(var h=this.pow(c,i),d=this.pow(t,i.addn(1).iushrn(1)),f=this.pow(t,i),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var y=this.pow(h,new s(1).iushln(p-g-1));d=d.redMul(y),h=y.redSqr(),f=f.redMul(h),p=g}return d},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var l=e.words[r],c=u-1;c>=0;c--){var h=l>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===r&&0===c)&&(i=this.mul(i,n[o]),a=0,o=0)):a=0}u=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new I(t)},i(I,M),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=n.nmd(t),this)},1049:(t,e,n)=>{var r=n(6194);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},463:(t,e,n)=>{const r=n(1736);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},6376:(t,e)=>{"use strict";class Layout{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function n(t,e){return e.property?t+"["+e.property+"]":t}e.Layout=Layout,e.nameWithProperty=n,e.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,n){return e.decode(t,n)},writable:!0})};class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout{constructor(t,e){if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){void 0===e&&(e=0);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}class OffsetLayout extends ExternalLayout{constructor(t,e,n){if(!(t instanceof Layout))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class UInt extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class UIntBE extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}class Int extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeIntLE(t,n,this.span),this.span}}class IntBE extends Layout{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeIntBE(t,n,this.span),this.span}}const r=Math.pow(2,32);function i(t){const e=Math.floor(t/r);return{hi32:e,lo32:t-e*r}}function s(t,e){return t*r+e}class NearUInt64 extends Layout{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return s(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=i(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class NearUInt64BE extends Layout{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);return s(t.readUInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,n){void 0===n&&(n=0);const r=i(t);return e.writeUInt32BE(r.hi32,n),e.writeUInt32BE(r.lo32,n+4),8}}class NearInt64 extends Layout{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return s(t.readInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=i(t);return e.writeUInt32LE(r.lo32,n),e.writeInt32LE(r.hi32,n+4),8}}class NearInt64BE extends Layout{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);return s(t.readInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,n){void 0===n&&(n=0);const r=i(t);return e.writeInt32BE(r.hi32,n),e.writeUInt32BE(r.lo32,n+4),8}}class Float extends Layout{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatLE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeFloatLE(t,n),4}}class FloatBE extends Layout{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatBE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeFloatBE(t,n),4}}class Double extends Layout{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleLE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeDoubleLE(t,n),8}}class DoubleBE extends Layout{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleBE(e)}encode(t,e,n){return void 0===n&&(n=0),e.writeDoubleBE(t,n),8}}class Sequence extends Layout{constructor(t,e,n){if(!(t instanceof Layout))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(e instanceof ExternalLayout)&&0<t.span&&(r=e*t.span),super(r,n),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0,r=this.count;if(r instanceof ExternalLayout&&(r=r.decode(t,e)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e){void 0===e&&(e=0);const n=[];let r=0,i=this.count;for(i instanceof ExternalLayout&&(i=i.decode(t,e));r<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),r+=1;return n}encode(t,e,n){void 0===n&&(n=0);const r=this.elementLayout,i=t.reduce(((t,i)=>t+r.encode(i,e,n+t)),0);return this.count instanceof ExternalLayout&&this.count.encode(t.length,e,n),i}}class Structure extends Layout{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof Layout),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const s of t)if(0>s.span&&void 0===s.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(i){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(t,e);return e+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let i=0,s=0;for(const o of this.fields){let r=o.span;if(s=0<r?r:0,void 0!==o.property){const i=t[o.property];void 0!==i&&(s=o.encode(i,e,n),0>r&&(r=o.getSpan(e,n)))}i=n,n+=r}return i+s-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class UnionDiscriminator{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class Union extends Layout{constructor(t,e,n){const r=t instanceof UInt||t instanceof UIntBE;if(r)t=new UnionLayoutDiscriminator(new OffsetLayout(t));else if(t instanceof ExternalLayout&&t.isCount())t=new UnionLayoutDiscriminator(t);else if(!(t instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof Layout))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&r&&(i+=t.layout.span)),super(i,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return s(t)},this.configGetSourceVariant=function(t){s=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,i=r.decode(t,e);let s=this.registry[i];if(void 0===s){let o=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(o=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[s.property]=this.defaultLayout.decode(t,e+o)}else n=s.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=r.layout.span),r.encode(t[r.property],e,n),s+i.encode(t[i.property],e,n+s)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new VariantLayout(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return Buffer.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class VariantLayout extends Layout{constructor(t,e,n,r){if(!(t instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof Layout))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),i+=this.layout.getSpan(e,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function o(t){return 0>t&&(t+=4294967296),t}class BitStructure extends Layout{constructor(t,e,n){if(!(t instanceof UInt||t instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===n&&(n=e,e=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let r=0;this._packedSetValue=function(t){return r=o(t),this},this._packedGetValue=function(){return r}}decode(t,e){const n=this.makeDestinationObject();void 0===e&&(e=0);const r=this.word.decode(t,e);this._packedSetValue(r);for(const i of this.fields)void 0!==i.property&&(n[i.property]=i.decode(r));return n}encode(t,e,n){void 0===n&&(n=0);const r=this.word.decode(e,n);this._packedSetValue(r);for(const i of this.fields)if(void 0!==i.property){const e=t[i.property];void 0!==e&&i.encode(e)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new BitField(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new Boolean(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class BitField{constructor(t,e,n){if(!(t instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const r=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-e),this.wordMask=o(this.valueMask<<this.start),this.property=n}decode(){return o(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==o(t&this.valueMask))throw new TypeError(n("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),r=o(t<<this.start);this.container._packedSetValue(o(e&~this.wordMask)|r)}}class Boolean extends BitField{constructor(t,e){super(t,1,e)}decode(t,e){return!!BitField.prototype.decode.call(this,t,e)}encode(t){return"boolean"==typeof t&&(t=+t),BitField.prototype.encode.call(this,t)}}class Blob extends Layout{constructor(t,e){if(!(t instanceof ExternalLayout&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof ExternalLayout||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,r){let i=this.length;if(this.length instanceof ExternalLayout&&(i=t.length),!Buffer.isBuffer(t)||i!==t.length)throw new TypeError(n("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),r,i,"hex"),this.length instanceof ExternalLayout&&this.length.encode(i,e,r),i}}class CString extends Layout{constructor(t){super(-1,t)}getSpan(t,e){if(!Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");void 0===e&&(e=0);let n=e;for(;n<t.length&&0!==t[n];)n+=1;return 1+n-e}decode(t,e,n){void 0===e&&(e=0);let r=this.getSpan(t,e);return t.slice(e,e+r-1).toString("utf-8")}encode(t,e,n){void 0===n&&(n=0),"string"!=typeof t&&(t=t.toString());const r=new Buffer(t,"utf8"),i=r.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return r.copy(e,n),e[n+i]=0,i+1}}class UTF8 extends Layout{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e){if(!Buffer.isBuffer(t))throw new TypeError("b must be a Buffer");return void 0===e&&(e=0),t.length-e}decode(t,e,n){void 0===e&&(e=0);let r=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return t.slice(e,e+r).toString("utf-8")}encode(t,e,n){void 0===n&&(n=0),"string"!=typeof t&&(t=t.toString());const r=new Buffer(t,"utf8"),i=r.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return r.copy(e,n),i}}class Constant extends Layout{constructor(t,e){super(0,e),this.value=t}decode(t,e,n){return this.value}encode(t,e,n){return 0}}e.ExternalLayout=ExternalLayout,e.GreedyCount=GreedyCount,e.OffsetLayout=OffsetLayout,e.UInt=UInt,e.UIntBE=UIntBE,e.Int=Int,e.IntBE=IntBE,e.Float=Float,e.FloatBE=FloatBE,e.Double=Double,e.DoubleBE=DoubleBE,e.Sequence=Sequence,e.Structure=Structure,e.UnionDiscriminator=UnionDiscriminator,e.UnionLayoutDiscriminator=UnionLayoutDiscriminator,e.Union=Union,e.VariantLayout=VariantLayout,e.BitStructure=BitStructure,e.BitField=BitField,e.Boolean=Boolean,e.Blob=Blob,e.CString=CString,e.UTF8=UTF8,e.Constant=Constant,e.greedy=(t,e)=>new GreedyCount(t,e),e.offset=(t,e,n)=>new OffsetLayout(t,e,n),e.u8=t=>new UInt(1,t),e.u16=t=>new UInt(2,t),e.u24=t=>new UInt(3,t),e.u32=t=>new UInt(4,t),e.u40=t=>new UInt(5,t),e.u48=t=>new UInt(6,t),e.nu64=t=>new NearUInt64(t),e.u16be=t=>new UIntBE(2,t),e.u24be=t=>new UIntBE(3,t),e.u32be=t=>new UIntBE(4,t),e.u40be=t=>new UIntBE(5,t),e.u48be=t=>new UIntBE(6,t),e.nu64be=t=>new NearUInt64BE(t),e.s8=t=>new Int(1,t),e.s16=t=>new Int(2,t),e.s24=t=>new Int(3,t),e.s32=t=>new Int(4,t),e.s40=t=>new Int(5,t),e.s48=t=>new Int(6,t),e.ns64=t=>new NearInt64(t),e.s16be=t=>new IntBE(2,t),e.s24be=t=>new IntBE(3,t),e.s32be=t=>new IntBE(4,t),e.s40be=t=>new IntBE(5,t),e.s48be=t=>new IntBE(6,t),e.ns64be=t=>new NearInt64BE(t),e.f32=t=>new Float(t),e.f32be=t=>new FloatBE(t),e.f64=t=>new Double(t),e.f64be=t=>new DoubleBE(t),e.struct=(t,e,n)=>new Structure(t,e,n),e.bits=(t,e,n)=>new BitStructure(t,e,n),e.seq=(t,e,n)=>new Sequence(t,e,n),e.union=(t,e,n)=>new Union(t,e,n),e.unionLayoutDiscriminator=(t,e)=>new UnionLayoutDiscriminator(t,e),e.blob=(t,e)=>new Blob(t,e),e.cstr=t=>new CString(t),e.utf8=(t,e)=>new UTF8(t,e),e.const=(t,e)=>new Constant(t,e)},8891:(t,e,n)=>{"use strict";const r=n(7322),i=n(8239),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return l(t,e,n)}function l(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|m(t,e);let r=a(n);const i=r.write(t,e);i!==n&&(r=r.slice(0,i));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(G(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer))return f(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return f(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return u.from(r,e,n);const i=function(t){if(u.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||Q(t.length)?a(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return c(t),a(t<0?0:0|p(t))}function d(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function f(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,u.prototype),r}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function m(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(i)return r?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,e,n);case"utf8":case"utf-8":return M(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:w(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){let s,o=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,u/=2,n/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let r=-1;for(s=n;s<a;s++)if(l(t,s)===l(e,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===u)return r*o}else-1!==r&&(s-=s-r),r=-1}else for(n+u>a&&(n=a-u),s=n;s>=0;s--){let n=!0;for(let r=0;r<u;r++)if(l(t,s+r)!==l(e,r)){n=!1;break}if(n)return s}return-1}function b(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const s=e.length;let o;for(r>s/2&&(r=s/2),o=0;o<r;++o){const r=parseInt(e.substr(2*o,2),16);if(Q(r))return o;t[n+o]=r}return o}function _(t,e,n,r){return Z(W(e,t.length-n),t,n,r)}function E(t,e,n,r){return Z(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function k(t,e,n,r){return Z($(e),t,n,r)}function S(t,e,n,r){return Z(function(t,e){let n,r,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function M(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=n){let n,r,a,u;switch(o){case 1:e<128&&(s=e);break;case 2:n=t[i+1],128==(192&n)&&(u=(31&e)<<6|63&n,u>127&&(s=u));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(u=(15&e)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(u=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=o}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}(r)}e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,n){return l(t,e,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,n){return function(t,e,n){return c(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=u.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(G(e,Uint8Array))i+e.length>r.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?M(this,0,t):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(t,e,n,r,i){if(G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0);const a=Math.min(s,o),l=this.slice(r,i),c=t.slice(e,n);for(let u=0;u<a;++u)if(l[u]!==c[u]){s=l[u],o=c[u];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":case"latin1":case"binary":return E(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function T(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function x(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let s=e;s<n;++s)i+=J[t[s]];return i}function C(t,e,n){const r=t.slice(e,n);let i="";for(let s=0;s<r.length-1;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,i,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,e,n,r,i){z(e,r,i,t,n,7);let s=Number(e&BigInt(4294967295));t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,n}function L(t,e,n,r,i){z(e,r,i,t,n,7);let s=Number(e&BigInt(4294967295));t[n+7]=s,s>>=8,t[n+6]=s,s>>=8,t[n+5]=s,s>>=8,t[n+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=o,o>>=8,t[n+2]=o,o>>=8,t[n+1]=o,o>>=8,t[n]=o,n+8}function B(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,e,n,r,s){return e=+e,n>>>=0,s||B(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function U(t,e,n,r,s){return e=+e,n>>>=0,s||B(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t],i=1,s=0;for(;++s<e&&(i*=256);)r+=this[t+s]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Y((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t],i=1,s=0;for(;++s<e&&(i*=256);)r+=this[t+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=e,i=1,s=this[t+--r];for(;r>0&&(i*=256);)s+=this[t+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Y((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Y((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||q(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){N(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=1,s=0;for(this[e]=255&t;++s<n&&(i*=256);)this[e+s]=t/i&255;return e+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){N(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=n-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Y((function(t,e=0){return O(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(t,e=0){return L(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,t,e,n,r-1,-r)}let i=0,s=1,o=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s|0)-o&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,t,e,n,r-1,-r)}let i=n-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s|0)-o&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Y((function(t,e=0){return O(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(t,e=0){return L(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const s=u.isBuffer(t)?t:u.from(t,r),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=s[i%o]}return this};const j={};function F(t,e,n){j[t]=class NodeError extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function V(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function z(t,e,n,r,i,s){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(s+1)}${r}`:`>= -(2${r} ** ${8*(s+1)-1}${r}) and < 2 ** ${8*(s+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new j.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){H(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||q(e,t.length-(n+1))}(r,i,s)}function H(t,e){if("number"!=typeof t)throw new j.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,n){if(Math.floor(t)!==t)throw H(t,n),new j.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=V(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function W(t,e){let n;e=e||1/0;const r=t.length;let i=null;const s=[];for(let o=0;o<r;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function $(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Z(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function G(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Q(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Y(t){return"undefined"==typeof BigInt?X:t}function X(){throw new Error("BigInt not supported")}},2349:t=>{"use strict";const e=/[\p{Lu}]/u,n=/[\p{Ll}]/u,r=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,s=/[_.\- ]+/,o=new RegExp("^"+s.source),a=new RegExp(s.source+i.source,"gu"),u=new RegExp("\\d+"+i.source,"gu"),l=(t,i)=>{if("string"!=typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(t=Array.isArray(t)?t.map((t=>t.trim())).filter((t=>t.length)).join("-"):t.trim()).length)return"";const s=!1===i.locale?t=>t.toLowerCase():t=>t.toLocaleLowerCase(i.locale),l=!1===i.locale?t=>t.toUpperCase():t=>t.toLocaleUpperCase(i.locale);if(1===t.length)return i.pascalCase?l(t):s(t);return t!==s(t)&&(t=((t,r,i)=>{let s=!1,o=!1,a=!1;for(let u=0;u<t.length;u++){const l=t[u];s&&e.test(l)?(t=t.slice(0,u)+"-"+t.slice(u),s=!1,a=o,o=!0,u++):o&&a&&n.test(l)?(t=t.slice(0,u-1)+"-"+t.slice(u-1),a=o,o=!1,s=!0):(s=r(l)===l&&i(l)!==l,a=o,o=i(l)===l&&r(l)!==l)}return t})(t,s,l)),t=t.replace(o,""),t=i.preserveConsecutiveUppercase?((t,e)=>(r.lastIndex=0,t.replace(r,(t=>e(t)))))(t,s):s(t),i.pascalCase&&(t=l(t.charAt(0))+t.slice(1)),((t,e)=>(a.lastIndex=0,u.lastIndex=0,t.replace(a,((t,n)=>e(n))).replace(u,(t=>e(t)))))(t,l)};t.exports=l,t.exports.default=l},6805:(t,e,n)=>{var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g,i=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r=void 0!==t&&t||"undefined"!=typeof self&&self||void 0!==n.g&&n.g||{},i="URLSearchParams"in r,s="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(t){return!1}}(),a="FormData"in r,u="ArrayBuffer"in r;if(u)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&l.indexOf(Object.prototype.toString.call(t))>-1};function h(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function d(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return s&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){if(2!=t.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function m(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function g(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function y(t){var e=new FileReader,n=g(e);return e.readAsArrayBuffer(t),n}function v(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:a&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:i&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():u&&o&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=v(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=v(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=m(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=m(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o)return this.blob().then(y);throw new Error("could not read as ArrayBuffer")},this.text=function(){var t,e,n,r,i,s=m(this);if(s)return s;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=g(e),r=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=r?r[1]:"utf-8",e.readAsText(t,i),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(t,e){t=h(t),e=d(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},p.prototype.delete=function(t){delete this.map[h(t)]},p.prototype.get=function(t){return t=h(t),this.has(t)?this.map[t]:null},p.prototype.has=function(t){return this.map.hasOwnProperty(h(t))},p.prototype.set=function(t,e){this.map[h(t)]=d(e)},p.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},p.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),f(t)},p.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},p.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),f(t)},s&&(p.prototype[Symbol.iterator]=p.prototype.entries);var b=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function _(t,e){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,s=(e=e||{}).body;if(t instanceof _){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new p(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,s||null==t._bodyInit||(s=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new p(e.headers)),this.method=(n=e.method||this.method||"GET",i=n.toUpperCase(),b.indexOf(i)>-1?i:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(s),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function E(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function k(t,e){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new p(e.headers),this.url=e.url||"",this._initBody(t)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},w.call(_.prototype),w.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},k.error=function(){var t=new k(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var S=[301,302,303,307,308];k.redirect=function(t,e){if(-1===S.indexOf(e))throw new RangeError("Invalid status code");return new k(null,{status:e,headers:{location:t}})},e.DOMException=r.DOMException;try{new e.DOMException}catch(M){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function A(t,n){return new Promise((function(i,s){var a=new _(t,n);if(a.signal&&a.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function c(){l.abort()}if(l.onload=function(){var t,e,n={statusText:l.statusText,headers:(t=l.getAllResponseHeaders()||"",e=new p,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{e.append(r,i)}catch(s){console.warn("Response "+s.message)}}})),e)};0===a.url.indexOf("file://")&&(l.status<200||l.status>599)?n.status=200:n.status=l.status,n.url="responseURL"in l?l.responseURL:n.headers.get("X-Request-URL");var r="response"in l?l.response:l.responseText;setTimeout((function(){i(new k(r,n))}),0)},l.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request timed out"))}),0)},l.onabort=function(){setTimeout((function(){s(new e.DOMException("Aborted","AbortError"))}),0)},l.open(a.method,function(t){try{return""===t&&r.location.href?r.location.href:t}catch(e){return t}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(o?l.responseType="blob":u&&(l.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof p||r.Headers&&n.headers instanceof r.Headers)){var f=[];Object.getOwnPropertyNames(n.headers).forEach((function(t){f.push(h(t)),l.setRequestHeader(t,d(n.headers[t]))})),a.headers.forEach((function(t,e){-1===f.indexOf(e)&&l.setRequestHeader(e,t)}))}else a.headers.forEach((function(t,e){l.setRequestHeader(e,t)}));a.signal&&(a.signal.addEventListener("abort",c),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",c)}),l.send(void 0===a._bodyInit?null:a._bodyInit)}))}A.polyfill=!0,r.fetch||(r.fetch=A,r.Headers=p,r.Request=_,r.Response=k),e.Headers=p,e.Request=_,e.Response=k,e.fetch=A}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=r.fetch?r:i;(e=s.fetch).default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e},5084:t=>{"use strict";var e={single_source_shortest_paths:function(t,n,r){var i={},s={};s[n]=0;var o,a,u,l,c,h,d,f=e.PriorityQueue.make();for(f.push(n,0);!f.empty();)for(u in a=(o=f.pop()).value,l=o.cost,c=t[a]||{})c.hasOwnProperty(u)&&(h=l+c[u],d=s[u],(void 0===s[u]||d>h)&&(s[u]=h,f.push(u,h),i[u]=a));if(void 0!==r&&void 0===s[r]){var p=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e;r;)n.push(r),t[r],r=t[r];return n.reverse(),n},find_path:function(t,n,r){var i=e.single_source_shortest_paths(t,n,r);return e.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(t){var n,r=e.PriorityQueue,i={};for(n in t=t||{},r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e},8411:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,r,s,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,s||t,o),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,s,o){var a=n?n+t:t;if(!this._events[a])return!1;var u,l,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,i),!0;case 5:return c.fn.call(c.context,e,r,i,s),!0;case 6:return c.fn.call(c.context,e,r,i,s,o),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,r);break;case 4:c[l].fn.call(c[l].context,e,r,i);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var s=n?n+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||o(this,s);else{for(var u=0,l=[],c=a.length;u<c;u++)(a[u].fn!==e||i&&!a[u].once||r&&a[u].context!==r)&&l.push(a[u]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&o(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},8239:(t,e)=>{e.read=function(t,e,n,r,i){var s,o,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=t[e+h];for(h+=d,s=f&(1<<-c)-1,f>>=-c,c+=a;c>0;s=256*s+t[e+h],h+=d,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=r;c>0;o=256*o+t[e+h],h+=d,c-=8);if(0===s)s=1-l;else{if(s===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),s-=l}return(f?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,n,r,i,s){var o,a,u,l=8*s-i-1,c=(1<<l)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(e*u-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[n+f]=255&o,f+=p,o/=256,l-=8);t[n+f-p]|=128*m}},4706:(t,e,n)=>{"use strict";const r=n(9616).v4,i=n(9133),s=function(t,e){if(!(this instanceof s))return new s(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return r()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=s,s.prototype.request=function(t,e,n,r){const s=this;let o=null;const a=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&t&&"object"==typeof t&&"function"==typeof e)r=e,o=t;else{"function"==typeof n&&(r=n,n=void 0);const s="function"==typeof r;try{o=i(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(s)return r(l);throw l}if(!s)return o}let u;try{u=JSON.stringify(o,this.options.replacer)}catch(l){return r(l)}return this.callServer(u,(function(t,e){s._parseResponse(t,e,r)})),o},s.prototype._parseResponse=function(t,e,n){if(t)return void n(t);if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(t){return n(t)}if(3===n.length){if(Array.isArray(r)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return n(null,r.filter(t),r.filter(e))}return n(null,r.error,r.result)}n(null,r)}},9133:(t,e,n)=>{"use strict";const r=n(9616).v4;t.exports=function(t,e,n,i){if("string"!=typeof t)throw new TypeError(t+" must be a string");const s="number"==typeof(i=i||{}).version?i.version:2;if(1!==s&&2!==s)throw new TypeError(s+" must be 1 or 2");const o={method:t};if(2===s&&(o.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(void 0===n){const t="function"==typeof i.generator?i.generator:function(){return r()};o.id=t(o,i)}else 2===s&&null===n?i.notificationIdNull&&(o.id=null):o.id=n;return o}},36:(t,e,n)=>{var r;!function(){"use strict";var e="input is invalid type",i="object"==typeof window,s=i?window:{};s.JS_SHA256_NO_WINDOW&&(i=!1);var o=!i&&"object"==typeof self,a=!s.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;a?s=n.g:o&&(s=self);var u=!s.JS_SHA256_NO_COMMON_JS&&t.exports,l=n.amdO,c=!s.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,h="0123456789abcdef".split(""),d=[-2147483648,8388608,32768,128],f=[24,16,8,0],p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=["hex","array","digest","arrayBuffer"],g=[];!s.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!c||!s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var y=function(t,e){return function(n){return new E(e,!0).update(n)[t]()}},v=function(t){var e=y("hex",t);a&&(e=w(e,t)),e.create=function(){return new E(t)},e.update=function(t){return e.create().update(t)};for(var n=0;n<m.length;++n){var r=m[n];e[r]=y(r,t)}return e},w=function(t,r){var i,o=n(4454),a=n(4987).Buffer,u=r?"sha224":"sha256";i=a.from&&!s.JS_SHA256_NO_BUFFER_FROM?a.from:function(t){return new a(t)};return function(n){if("string"==typeof n)return o.createHash(u).update(n,"utf8").digest("hex");if(null==n)throw new Error(e);return n.constructor===ArrayBuffer&&(n=new Uint8Array(n)),Array.isArray(n)||ArrayBuffer.isView(n)||n.constructor===a?o.createHash(u).update(i(n)).digest("hex"):t(n)}},b=function(t,e){return function(n,r){return new k(n,e,!0).update(r)[t]()}},_=function(t){var e=b("hex",t);e.create=function(e){return new k(e,t)},e.update=function(t,n){return e.create(t).update(n)};for(var n=0;n<m.length;++n){var r=m[n];e[r]=b(r,t)}return e};function E(t,e){e?(g[0]=g[16]=g[1]=g[2]=g[3]=g[4]=g[5]=g[6]=g[7]=g[8]=g[9]=g[10]=g[11]=g[12]=g[13]=g[14]=g[15]=0,this.blocks=g):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function k(t,n,r){var i,s=typeof t;if("string"===s){var o,a=[],u=t.length,l=0;for(i=0;i<u;++i)(o=t.charCodeAt(i))<128?a[l++]=o:o<2048?(a[l++]=192|o>>>6,a[l++]=128|63&o):o<55296||o>=57344?(a[l++]=224|o>>>12,a[l++]=128|o>>>6&63,a[l++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++i)),a[l++]=240|o>>>18,a[l++]=128|o>>>12&63,a[l++]=128|o>>>6&63,a[l++]=128|63&o);t=a}else{if("object"!==s)throw new Error(e);if(null===t)throw new Error(e);if(c&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||c&&ArrayBuffer.isView(t)))throw new Error(e)}t.length>64&&(t=new E(n,!0).update(t).array());var h=[],d=[];for(i=0;i<64;++i){var f=t[i]||0;h[i]=92^f,d[i]=54^f}E.call(this,n,r),this.update(d),this.oKeyPad=h,this.inner=!0,this.sharedMemory=r}E.prototype.update=function(t){if(!this.finalized){var n,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(e);if(null===t)throw new Error(e);if(c&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||c&&ArrayBuffer.isView(t)))throw new Error(e);n=!0}for(var i,s,o=0,a=t.length,u=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,this.block=u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),n)for(s=this.start;o<a&&s<64;++o)u[s>>>2]|=t[o]<<f[3&s++];else for(s=this.start;o<a&&s<64;++o)(i=t.charCodeAt(o))<128?u[s>>>2]|=i<<f[3&s++]:i<2048?(u[s>>>2]|=(192|i>>>6)<<f[3&s++],u[s>>>2]|=(128|63&i)<<f[3&s++]):i<55296||i>=57344?(u[s>>>2]|=(224|i>>>12)<<f[3&s++],u[s>>>2]|=(128|i>>>6&63)<<f[3&s++],u[s>>>2]|=(128|63&i)<<f[3&s++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++o)),u[s>>>2]|=(240|i>>>18)<<f[3&s++],u[s>>>2]|=(128|i>>>12&63)<<f[3&s++],u[s>>>2]|=(128|i>>>6&63)<<f[3&s++],u[s>>>2]|=(128|63&i)<<f[3&s++]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=u[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>>2]|=d[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},E.prototype.hash=function(){var t,e,n,r,i,s,o,a,u,l=this.h0,c=this.h1,h=this.h2,d=this.h3,f=this.h4,m=this.h5,g=this.h6,y=this.h7,v=this.blocks;for(t=16;t<64;++t)e=((i=v[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,n=((i=v[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,v[t]=v[t-16]+e+v[t-7]+n|0;for(u=c&h,t=0;t<64;t+=4)this.first?(this.is224?(s=300032,y=(i=v[0]-1413257819)-150054599|0,d=i+24177077|0):(s=704751109,y=(i=v[0]-210244248)-1521486534|0,d=i+143694565|0),this.first=!1):(e=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(s=l&c)^l&h^u,y=d+(i=y+(n=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&m^~f&g)+p[t]+v[t])|0,d=i+(e+r)|0),e=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(o=d&l)^d&c^s,g=h+(i=g+(n=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&f^~y&m)+p[t+1]+v[t+1])|0,e=((h=i+(e+r)|0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),r=(a=h&d)^h&l^o,m=c+(i=m+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&y^~g&f)+p[t+2]+v[t+2])|0,e=((c=i+(e+r)|0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),r=(u=c&h)^c&d^a,f=l+(i=f+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&g^~m&y)+p[t+3]+v[t+3])|0,l=i+(e+r)|0,this.chromeBugWorkAround=!0;this.h0=this.h0+l|0,this.h1=this.h1+c|0,this.h2=this.h2+h|0,this.h3=this.h3+d|0,this.h4=this.h4+f|0,this.h5=this.h5+m|0,this.h6=this.h6+g|0,this.h7=this.h7+y|0},E.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=h[t>>>28&15]+h[t>>>24&15]+h[t>>>20&15]+h[t>>>16&15]+h[t>>>12&15]+h[t>>>8&15]+h[t>>>4&15]+h[15&t]+h[e>>>28&15]+h[e>>>24&15]+h[e>>>20&15]+h[e>>>16&15]+h[e>>>12&15]+h[e>>>8&15]+h[e>>>4&15]+h[15&e]+h[n>>>28&15]+h[n>>>24&15]+h[n>>>20&15]+h[n>>>16&15]+h[n>>>12&15]+h[n>>>8&15]+h[n>>>4&15]+h[15&n]+h[r>>>28&15]+h[r>>>24&15]+h[r>>>20&15]+h[r>>>16&15]+h[r>>>12&15]+h[r>>>8&15]+h[r>>>4&15]+h[15&r]+h[i>>>28&15]+h[i>>>24&15]+h[i>>>20&15]+h[i>>>16&15]+h[i>>>12&15]+h[i>>>8&15]+h[i>>>4&15]+h[15&i]+h[s>>>28&15]+h[s>>>24&15]+h[s>>>20&15]+h[s>>>16&15]+h[s>>>12&15]+h[s>>>8&15]+h[s>>>4&15]+h[15&s]+h[o>>>28&15]+h[o>>>24&15]+h[o>>>20&15]+h[o>>>16&15]+h[o>>>12&15]+h[o>>>8&15]+h[o>>>4&15]+h[15&o];return this.is224||(u+=h[a>>>28&15]+h[a>>>24&15]+h[a>>>20&15]+h[a>>>16&15]+h[a>>>12&15]+h[a>>>8&15]+h[a>>>4&15]+h[15&a]),u},E.prototype.toString=E.prototype.hex,E.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o>>>24&255,o>>>16&255,o>>>8&255,255&o];return this.is224||u.push(a>>>24&255,a>>>16&255,a>>>8&255,255&a),u},E.prototype.array=E.prototype.digest,E.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},k.prototype=new E,k.prototype.finalize=function(){if(E.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();E.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),E.prototype.finalize.call(this)}};var S=v();S.sha256=S,S.sha224=v(!0),S.sha256.hmac=_(),S.sha224.hmac=_(!0),u?t.exports=S:(s.sha256=S.sha256,s.sha224=S.sha224,l&&(void 0===(r=(function(){return S}).call(S,n,S,t))||(t.exports=r)))}()},6909:(t,e,n)=>{"use strict";n.r(e)},7155:(t,e,n)=>{const r=n(297),i=n(9369),s=n(6375),o=n(6208);function a(t,e,n,s,o){const a=[].slice.call(arguments,1),u=a.length,l="function"==typeof a[u-1];if(!l&&!r())throw new Error("Callback required as last argument");if(!l){if(u<1)throw new Error("Too few arguments provided");return 1===u?(n=e,e=s=void 0):2!==u||e.getContext||(s=n,n=e,e=void 0),new Promise((function(r,o){try{const o=i.create(n,s);r(t(o,e,s))}catch(a){o(a)}}))}if(u<2)throw new Error("Too few arguments provided");2===u?(o=n,n=e,e=s=void 0):3===u&&(e.getContext&&void 0===o?(o=s,s=void 0):(o=s,s=n,n=e,e=void 0));try{const r=i.create(n,s);o(null,t(r,e,s))}catch(c){o(c)}}e.create=i.create,e.toCanvas=a.bind(null,s.render),e.toDataURL=a.bind(null,s.renderToDataURL),e.toString=a.bind(null,(function(t,e,n){return o.render(t,n)}))},297:t=>{t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6513:(t,e,n)=>{const r=n(8490).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];const e=Math.floor(t/7)+2,n=r(t),i=145===n?26:2*Math.ceil((n-13)/(2*e-2)),s=[n-7];for(let r=1;r<e-1;r++)s[r]=s[r-1]-i;return s.push(6),s.reverse()},e.getPositions=function(t){const n=[],r=e.getRowColCoords(t),i=r.length;for(let e=0;e<i;e++)for(let t=0;t<i;t++)0===e&&0===t||0===e&&t===i-1||e===i-1&&0===t||n.push([r[e],r[t]]);return n}},6245:(t,e,n)=>{const r=n(1252),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(t){this.mode=r.ALPHANUMERIC,this.data=t}s.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let n=45*i.indexOf(this.data[e]);n+=i.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(i.indexOf(this.data[e]),6)},t.exports=s},5743:t=>{function e(){this.buffer=[],this.length=0}e.prototype={get:function(t){const e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(let n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=e},3624:t=>{function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}e.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)},e.prototype.get=function(t,e){return this.data[t*this.size+e]},e.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},e.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=e},8738:(t,e,n)=>{const r=n(1252);function i(t){this.mode=r.BYTE,this.data="string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t)}i.getBitsLength=function(t){return 8*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)},t.exports=i},9898:(t,e,n)=>{const r=n(8805),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case r.L:return i[4*(t-1)+0];case r.M:return i[4*(t-1)+1];case r.Q:return i[4*(t-1)+2];case r.H:return i[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case r.L:return s[4*(t-1)+0];case r.M:return s[4*(t-1)+1];case r.Q:return s[4*(t-1)+2];case r.H:return s[4*(t-1)+3];default:return}}},8805:(t,e)=>{e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(r){return n}}},1848:(t,e,n)=>{const r=n(8490).getSymbolSize;e.getPositions=function(t){const e=r(t);return[[0,0],[e-7,0],[0,e-7]]}},7137:(t,e,n)=>{const r=n(8490),i=r.getBCHDigit(1335);e.getEncodedBits=function(t,e){const n=t.bit<<3|e;let s=n<<10;for(;r.getBCHDigit(s)-i>=0;)s^=1335<<r.getBCHDigit(s)-i;return 21522^(n<<10|s)}},3663:(t,e)=>{const n=new Uint8Array(512),r=new Uint8Array(256);!function(){let t=1;for(let e=0;e<255;e++)n[e]=t,r[t]=e,t<<=1,256&t&&(t^=285);for(let e=255;e<512;e++)n[e]=n[e-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return r[t]},e.exp=function(t){return n[t]},e.mul=function(t,e){return 0===t||0===e?0:n[r[t]+r[e]]}},769:(t,e,n)=>{const r=n(1252),i=n(8490);function s(t){this.mode=r.KANJI,this.data=t}s.getBitsLength=function(t){return 13*t},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=i.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13)}},t.exports=s},2536:(t,e)=>{e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n=3,r=3,i=40,s=10;function o(t,n,r){switch(t){case e.Patterns.PATTERN000:return(n+r)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return r%3==0;case e.Patterns.PATTERN011:return(n+r)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case e.Patterns.PATTERN101:return n*r%2+n*r%3==0;case e.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case e.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){const e=t.size;let r=0,i=0,s=0,o=null,a=null;for(let u=0;u<e;u++){i=s=0,o=a=null;for(let l=0;l<e;l++){let e=t.get(u,l);e===o?i++:(i>=5&&(r+=n+(i-5)),o=e,i=1),e=t.get(l,u),e===a?s++:(s>=5&&(r+=n+(s-5)),a=e,s=1)}i>=5&&(r+=n+(i-5)),s>=5&&(r+=n+(s-5))}return r},e.getPenaltyN2=function(t){const e=t.size;let n=0;for(let r=0;r<e-1;r++)for(let i=0;i<e-1;i++){const e=t.get(r,i)+t.get(r,i+1)+t.get(r+1,i)+t.get(r+1,i+1);4!==e&&0!==e||n++}return n*r},e.getPenaltyN3=function(t){const e=t.size;let n=0,r=0,s=0;for(let i=0;i<e;i++){r=s=0;for(let o=0;o<e;o++)r=r<<1&2047|t.get(i,o),o>=10&&(1488===r||93===r)&&n++,s=s<<1&2047|t.get(o,i),o>=10&&(1488===s||93===s)&&n++}return n*i},e.getPenaltyN4=function(t){let e=0;const n=t.data.length;for(let r=0;r<n;r++)e+=t.data[r];return Math.abs(Math.ceil(100*e/n/5)-10)*s},e.applyMask=function(t,e){const n=e.size;for(let r=0;r<n;r++)for(let i=0;i<n;i++)e.isReserved(i,r)||e.xor(i,r,o(t,i,r))},e.getBestMask=function(t,n){const r=Object.keys(e.Patterns).length;let i=0,s=1/0;for(let o=0;o<r;o++){n(o),e.applyMask(o,t);const r=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(o,t),r<s&&(s=r,i=o)}return i}},1252:(t,e,n)=>{const r=n(5122),i=n(3240);e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!r.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return i.testNumeric(t)?e.NUMERIC:i.testAlphanumeric(t)?e.ALPHANUMERIC:i.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(r){return n}}},6369:(t,e,n)=>{const r=n(1252);function i(t){this.mode=r.NUMERIC,this.data=t.toString()}i.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let e,n,r;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),r=parseInt(n,10),t.put(r,10);const i=this.data.length-e;i>0&&(n=this.data.substr(e),r=parseInt(n,10),t.put(r,3*i+1))},t.exports=i},8733:(t,e,n)=>{const r=n(3663);e.mul=function(t,e){const n=new Uint8Array(t.length+e.length-1);for(let i=0;i<t.length;i++)for(let s=0;s<e.length;s++)n[i+s]^=r.mul(t[i],e[s]);return n},e.mod=function(t,e){let n=new Uint8Array(t);for(;n.length-e.length>=0;){const t=n[0];for(let s=0;s<e.length;s++)n[s]^=r.mul(e[s],t);let i=0;for(;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},e.generateECPolynomial=function(t){let n=new Uint8Array([1]);for(let i=0;i<t;i++)n=e.mul(n,new Uint8Array([1,r.exp(i)]));return n}},9369:(t,e,n)=>{const r=n(8490),i=n(8805),s=n(5743),o=n(3624),a=n(6513),u=n(1848),l=n(2536),c=n(9898),h=n(3936),d=n(5503),f=n(7137),p=n(1252),m=n(1341);function g(t,e,n){const r=t.size,i=f.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=1==(i>>s&1),s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function y(t,e,n){const i=new s;n.forEach((function(e){i.put(e.mode.bit,4),i.put(e.getLength(),p.getCharCountIndicator(e.mode,t)),e.write(i)}));const o=8*(r.getSymbolTotalCodewords(t)-c.getTotalCodewordsCount(t,e));for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);const a=(o-i.getLengthInBits())/8;for(let r=0;r<a;r++)i.put(r%2?17:236,8);return function(t,e,n){const i=r.getSymbolTotalCodewords(e),s=c.getTotalCodewordsCount(e,n),o=i-s,a=c.getBlocksCount(e,n),u=i%a,l=a-u,d=Math.floor(i/a),f=Math.floor(o/a),p=f+1,m=d-f,g=new h(m);let y=0;const v=new Array(a),w=new Array(a);let b=0;const _=new Uint8Array(t.buffer);for(let r=0;r<a;r++){const t=r<l?f:p;v[r]=_.slice(y,y+t),w[r]=g.encode(v[r]),y+=t,b=Math.max(b,t)}const E=new Uint8Array(i);let k,S,A=0;for(k=0;k<b;k++)for(S=0;S<a;S++)k<v[S].length&&(E[A++]=v[S][k]);for(k=0;k<m;k++)for(S=0;S<a;S++)E[A++]=w[S][k];return E}(i,t,e)}function v(t,e,n,i){let s;if(Array.isArray(t))s=m.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let r=e;if(!r){const e=m.rawSplit(t);r=d.getBestVersionForData(e,n)}s=m.fromString(t,r||40)}}const c=d.getBestVersionForData(s,n);if(!c)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<c)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+c+".\n")}else e=c;const h=y(e,n,s),f=r.getSymbolSize(e),p=new o(f);return function(t,e){const n=t.size,r=u.getPositions(e);for(let i=0;i<r.length;i++){const e=r[i][0],s=r[i][1];for(let r=-1;r<=7;r++)if(!(e+r<=-1||n<=e+r))for(let i=-1;i<=7;i++)s+i<=-1||n<=s+i||(r>=0&&r<=6&&(0===i||6===i)||i>=0&&i<=6&&(0===r||6===r)||r>=2&&r<=4&&i>=2&&i<=4?t.set(e+r,s+i,!0,!0):t.set(e+r,s+i,!1,!0))}}(p,e),function(t){const e=t.size;for(let n=8;n<e-8;n++){const e=n%2==0;t.set(n,6,e,!0),t.set(6,n,e,!0)}}(p),function(t,e){const n=a.getPositions(e);for(let r=0;r<n.length;r++){const e=n[r][0],i=n[r][1];for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)-2===n||2===n||-2===r||2===r||0===n&&0===r?t.set(e+n,i+r,!0,!0):t.set(e+n,i+r,!1,!0)}}(p,e),g(p,n,0),e>=7&&function(t,e){const n=t.size,r=d.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=1==(r>>a&1),t.set(i,s,o,!0),t.set(s,i,o,!0)}(p,e),function(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(6===a&&a--;;){for(let n=0;n<2;n++)if(!t.isReserved(i,a-n)){let r=!1;o<e.length&&(r=1==(e[o]>>>s&1)),t.set(i,a-n,r),s--,-1===s&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}(p,h),isNaN(i)&&(i=l.getBestMask(p,g.bind(null,p,n))),l.applyMask(i,p),g(p,n,i),{modules:p,version:e,errorCorrectionLevel:n,maskPattern:i,segments:s}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");let n,s,o=i.M;return void 0!==e&&(o=i.from(e.errorCorrectionLevel,i.M),n=d.from(e.version),s=l.from(e.maskPattern),e.toSJISFunc&&r.setToSJISFunction(e.toSJISFunc)),v(t,n,o,s)}},3936:(t,e,n)=>{const r=n(8733);function i(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(t){this.degree=t,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=r.mod(e,this.genPoly),i=this.degree-n.length;if(i>0){const t=new Uint8Array(this.degree);return t.set(n,i),t}return n},t.exports=i},3240:(t,e)=>{const n="[0-9]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";e.KANJI=new RegExp(r,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(i,"g"),e.NUMERIC=new RegExp(n,"g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const s=new RegExp("^"+r+"$"),o=new RegExp("^"+n+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return s.test(t)},e.testNumeric=function(t){return o.test(t)},e.testAlphanumeric=function(t){return a.test(t)}},1341:(t,e,n)=>{const r=n(1252),i=n(6369),s=n(6245),o=n(8738),a=n(769),u=n(3240),l=n(8490),c=n(5084);function h(t){return unescape(encodeURIComponent(t)).length}function d(t,e,n){const r=[];let i;for(;null!==(i=t.exec(n));)r.push({data:i[0],index:i.index,mode:e,length:i[0].length});return r}function f(t){const e=d(u.NUMERIC,r.NUMERIC,t),n=d(u.ALPHANUMERIC,r.ALPHANUMERIC,t);let i,s;l.isKanjiModeEnabled()?(i=d(u.BYTE,r.BYTE,t),s=d(u.KANJI,r.KANJI,t)):(i=d(u.BYTE_KANJI,r.BYTE,t),s=[]);return e.concat(n,i,s).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function p(t,e){switch(e){case r.NUMERIC:return i.getBitsLength(t);case r.ALPHANUMERIC:return s.getBitsLength(t);case r.KANJI:return a.getBitsLength(t);case r.BYTE:return o.getBitsLength(t)}}function m(t,e){let n;const u=r.getBestModeForData(t);if(n=r.from(e,u),n!==r.BYTE&&n.bit<u.bit)throw new Error('"'+t+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(u));switch(n!==r.KANJI||l.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(t);case r.ALPHANUMERIC:return new s(t);case r.KANJI:return new a(t);case r.BYTE:return new o(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return"string"==typeof e?t.push(m(e,null)):e.data&&t.push(m(e.data,e.mode)),t}),[])},e.fromString=function(t,n){const i=function(t){const e=[];for(let n=0;n<t.length;n++){const i=t[n];switch(i.mode){case r.NUMERIC:e.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:e.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:e.push([i,{data:i.data,mode:r.BYTE,length:h(i.data)}]);break;case r.BYTE:e.push([{data:i.data,mode:r.BYTE,length:h(i.data)}])}}return e}(f(t,l.isKanjiModeEnabled())),s=function(t,e){const n={},i={start:{}};let s=["start"];for(let o=0;o<t.length;o++){const a=t[o],u=[];for(let t=0;t<a.length;t++){const l=a[t],c=""+o+t;u.push(c),n[c]={node:l,lastCount:0},i[c]={};for(let t=0;t<s.length;t++){const o=s[t];n[o]&&n[o].node.mode===l.mode?(i[o][c]=p(n[o].lastCount+l.length,l.mode)-p(n[o].lastCount,l.mode),n[o].lastCount+=l.length):(n[o]&&(n[o].lastCount=l.length),i[o][c]=p(l.length,l.mode)+4+r.getCharCountIndicator(l.mode,e))}}s=u}for(let r=0;r<s.length;r++)i[s[r]].end=0;return{map:i,table:n}}(i,n),o=c.find_path(s.map,"start","end"),a=[];for(let e=1;e<o.length-1;e++)a.push(s.table[o[e]].node);return e.fromArray(function(t){return t.reduce((function(t,e){const n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}(a))},e.rawSplit=function(t){return e.fromArray(f(t,l.isKanjiModeEnabled()))}},8490:(t,e)=>{let n;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return r[t]},e.getBCHDigit=function(t){let e=0;for(;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},5122:(t,e)=>{e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},5503:(t,e,n)=>{const r=n(8490),i=n(9898),s=n(8805),o=n(1252),a=n(5122),u=r.getBCHDigit(7973);function l(t,e){return o.getCharCountIndicator(t,e)+4}function c(t,e){let n=0;return t.forEach((function(t){const r=l(t.mode,e);n+=r+t.getBitsLength()})),n}e.from=function(t,e){return a.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!a.isValid(t))throw new Error("Invalid QR Code version");void 0===n&&(n=o.BYTE);const s=8*(r.getSymbolTotalCodewords(t)-i.getTotalCodewordsCount(t,e));if(n===o.MIXED)return s;const u=s-l(n,t);switch(n){case o.NUMERIC:return Math.floor(u/10*3);case o.ALPHANUMERIC:return Math.floor(u/11*2);case o.KANJI:return Math.floor(u/13);case o.BYTE:default:return Math.floor(u/8)}},e.getBestVersionForData=function(t,n){let r;const i=s.from(n,s.M);if(Array.isArray(t)){if(t.length>1)return function(t,n){for(let r=1;r<=40;r++)if(c(t,r)<=e.getCapacity(r,n,o.MIXED))return r}(t,i);if(0===t.length)return 1;r=t[0]}else r=t;return function(t,n,r){for(let i=1;i<=40;i++)if(n<=e.getCapacity(i,r,t))return i}(r.mode,r.getLength(),i)},e.getEncodedBits=function(t){if(!a.isValid(t)||t<7)throw new Error("Invalid QR Code version");let e=t<<12;for(;r.getBCHDigit(e)-u>=0;)e^=7973<<r.getBCHDigit(e)-u;return t<<12|e}},6375:(t,e,n)=>{const r=n(2146);e.render=function(t,e,n){let i=n,s=e;void 0!==i||e&&e.getContext||(i=e,e=void 0),e||(s=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);const o=r.getImageWidth(t.modules.size,i),a=s.getContext("2d"),u=a.createImageData(o,o);return r.qrToImageData(u.data,t,i),function(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}(a,s,o),a.putImageData(u,0,0),s},e.renderToDataURL=function(t,n,r){let i=r;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});const s=e.render(t,n,i),o=i.type||"image/png",a=i.rendererOpts||{};return s.toDataURL(o,a.quality)}},6208:(t,e,n)=>{const r=n(2146);function i(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function s(t,e,n){let r=t+e;return void 0!==n&&(r+=" "+n),r}e.render=function(t,e,n){const o=r.getOptions(e),a=t.modules.size,u=t.modules.data,l=a+2*o.margin,c=o.color.light.a?"<path "+i(o.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",h="<path "+i(o.color.dark,"stroke")+' d="'+function(t,e,n){let r="",i=0,o=!1,a=0;for(let u=0;u<t.length;u++){const l=Math.floor(u%e),c=Math.floor(u/e);l||o||(o=!0),t[u]?(a++,u>0&&l>0&&t[u-1]||(r+=o?s("M",l+n,.5+c+n):s("m",i,0),i=0,o=!1),l+1<e&&t[u+1]||(r+=s("h",a),a=0)):i++}return r}(u,a,o.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+h+"</svg>\n";return"function"==typeof n&&n(null,f),f}},2146:(t,e)=>{function n(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push("F","F");const n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});const e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,r=t.width&&t.width>=21?t.width:void 0,i=t.scale||4;return{width:r,scale:r?4:i,margin:e,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,n){const r=e.getScale(t,n);return Math.floor((t+2*n.margin)*r)},e.qrToImageData=function(t,n,r){const i=n.modules.size,s=n.modules.data,o=e.getScale(i,r),a=Math.floor((i+2*r.margin)*o),u=r.margin*o,l=[r.color.light,r.color.dark];for(let e=0;e<a;e++)for(let n=0;n<a;n++){let c=4*(e*a+n),h=r.color.light;if(e>=u&&n>=u&&e<a-u&&n<a-u){h=l[s[Math.floor((e-u)/o)*i+Math.floor((n-u)/o)]?1:0]}t[c++]=h.r,t[c++]=h.g,t[c++]=h.b,t[c]=h.a}}},6067:(t,e,n)=>{"use strict";var r=n(3696),i=n(1434);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function u(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(t,e,n,r,i,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function w(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=O&&t[O]||t["@@iterator"])?t:null}var B,D=Object.assign;function U(t){if(void 0===B)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);B=e&&e[1]||""}return"\n"+B+t}var j=!1;function F(t,e){if(!t||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&"string"==typeof l.stack){for(var i=l.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var u="\n"+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=o&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?U(t):""}function V(t){switch(t.tag){case 5:return U(t.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return t=F(t.type,!1);case 11:return t=F(t.type.render,!1);case 1:return t=F(t.type,!0);default:return""}}function z(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case k:return"Fragment";case E:return"Portal";case A:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case x:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case I:return(t.displayName||"Context")+".Consumer";case M:return(t._context.displayName||"Context")+".Provider";case T:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case C:return null!==(e=t.displayName||null)?e:z(t.type)||"Memo";case P:e=t._payload,t=t._init;try{return z(t(e))}catch(n){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e}return null}function q(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function K(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function W(t){t._valueTracker||(t._valueTracker=function(t){var e=K(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function $(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=K(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Z(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function G(t,e){var n=e.checked;return D({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Q(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=q(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&w(t,"checked",e,!1)}function Y(t,e){J(t,e);var n=q(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function X(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Z(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+q(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return D({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:q(n)}}function st(t,e){var n=q(e.value),r=q(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var lt,ct,ht=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((lt=lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function mt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function gt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=mt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var yt=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(s(62))}}function wt(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function _t(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Et=null,kt=null,St=null;function At(t){if(t=wi(t)){if("function"!=typeof Et)throw Error(s(280));var e=t.stateNode;e&&(e=_i(e),Et(t.stateNode,t.type,e))}}function Mt(t){kt?St?St.push(t):St=[t]:kt=t}function It(){if(kt){var t=kt,e=St;if(St=kt=null,At(t),e)for(t=0;t<e.length;t++)At(e[t])}}function Tt(t,e){return t(e)}function Rt(){}var xt=!1;function Ct(t,e,n){if(xt)return t(e,n);xt=!0;try{return Tt(t,e,n)}finally{xt=!1,(null!==kt||null!==St)&&(Rt(),It())}}function Pt(t,e){var n=t.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(s(231,e,typeof n));return n}var Nt=!1;if(c)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Nt=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ct){Nt=!1}function Lt(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Bt=!1,Dt=null,Ut=!1,jt=null,Ft={onError:function(t){Bt=!0,Dt=t}};function Vt(t,e,n,r,i,s,o,a,u){Bt=!1,Dt=null,Lt.apply(Ft,arguments)}function zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{!!(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function qt(t){if(zt(t)!==t)throw Error(s(188))}function Kt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=zt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qt(i),t;if(o===r)return qt(i),e;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t))?Wt(t):null}function Wt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Wt(t);if(null!==e)return e;t=t.sibling}return null}var $t=i.unstable_scheduleCallback,Zt=i.unstable_cancelCallback,Gt=i.unstable_shouldYield,Qt=i.unstable_requestPaint,Jt=i.unstable_now,Yt=i.unstable_getCurrentPriorityLevel,Xt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/ue|0)|0},ae=Math.log,ue=Math.LN2;var le=64,ce=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=he(a):0!==(s&=o)&&(r=he(s))}else 0!==(o=n&~i)?r=he(o):0!==s&&(r=he(s));if(0===r)return 0;if(0!==e&&e!==r&&!(e&i)&&((i=r&-r)>=(s=e&-e)||16===i&&4194240&s))return e;if(4&r&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-oe(e)),r|=t[n],e&=~i;return r}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=le;return!(4194240&(le<<=1))&&(le=64),t}function ge(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oe(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function be(t){return 1<(t&=-t)?4<t?268435455&t?16:536870912:4:1}var _e,Ee,ke,Se,Ae,Me=!1,Ie=[],Te=null,Re=null,xe=null,Ce=new Map,Pe=new Map,Ne=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Le(t,e){switch(t){case"focusin":case"focusout":Te=null;break;case"dragenter":case"dragleave":Re=null;break;case"mouseover":case"mouseout":xe=null;break;case"pointerover":case"pointerout":Ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pe.delete(e.pointerId)}}function Be(t,e,n,r,i,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==e&&(null!==(e=wi(e))&&Ee(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function De(t){var e=vi(t.target);if(null!==e){var n=zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void Ae(t.priority,(function(){ke(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Ue(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ge(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=wi(n))&&Ee(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);bt=r,n.target.dispatchEvent(r),bt=null,e.shift()}return!0}function je(t,e,n){Ue(t)&&n.delete(e)}function Fe(){Me=!1,null!==Te&&Ue(Te)&&(Te=null),null!==Re&&Ue(Re)&&(Re=null),null!==xe&&Ue(xe)&&(xe=null),Ce.forEach(je),Pe.forEach(je)}function Ve(t,e){t.blockedOn===e&&(t.blockedOn=null,Me||(Me=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Fe)))}function ze(t){function e(e){return Ve(e,t)}if(0<Ie.length){Ve(Ie[0],t);for(var n=1;n<Ie.length;n++){var r=Ie[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Te&&Ve(Te,t),null!==Re&&Ve(Re,t),null!==xe&&Ve(xe,t),Ce.forEach(e),Pe.forEach(e),n=0;n<Ne.length;n++)(r=Ne[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Ne.length&&null===(n=Ne[0]).blockedOn;)De(n),null===n.blockedOn&&Ne.shift()}var He=b.ReactCurrentBatchConfig,qe=!0;function Ke(t,e,n,r){var i=we,s=He.transition;He.transition=null;try{we=1,$e(t,e,n,r)}finally{we=i,He.transition=s}}function We(t,e,n,r){var i=we,s=He.transition;He.transition=null;try{we=4,$e(t,e,n,r)}finally{we=i,He.transition=s}}function $e(t,e,n,r){if(qe){var i=Ge(t,e,n,r);if(null===i)qr(t,e,r,Ze,n),Le(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Te=Be(Te,t,e,n,r,i),!0;case"dragenter":return Re=Be(Re,t,e,n,r,i),!0;case"mouseover":return xe=Be(xe,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ce.set(s,Be(Ce.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pe.set(s,Be(Pe.get(s)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Le(t,r),4&e&&-1<Oe.indexOf(t)){for(;null!==i;){var s=wi(i);if(null!==s&&_e(s),null===(s=Ge(t,e,n,r))&&qr(t,e,r,Ze,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(t,e,r,null,n)}}var Ze=null;function Ge(t,e,n,r){if(Ze=null,null!==(t=vi(t=_t(r))))if(null===(e=zt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ze=t,null}function Qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yt()){case Xt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Je=null,Ye=null,Xe=null;function tn(){if(Xe)return Xe;var t,e,n=Ye,r=n.length,i="value"in Je?Je.value:Je.textContent,s=i.length;for(t=0;t<r&&n[t]===i[t];t++);var o=r-t;for(e=1;e<=o&&n[r-e]===i[s-e];e++);return Xe=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function sn(t){function e(e,n,r,i,s){for(var o in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,an,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(ln),hn=D({},ln,{view:0,detail:0}),dn=sn(hn),fn=D({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==un&&(un&&"mousemove"===t.type?(on=t.screenX-un.screenX,an=t.screenY-un.screenY):an=on=0,un=t),on)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=sn(fn),mn=sn(D({},fn,{dataTransfer:0})),gn=sn(D({},hn,{relatedTarget:0})),yn=sn(D({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=D({},ln,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=sn(vn),bn=sn(D({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=kn[t])&&!!e[t]}function An(){return Sn}var Mn=D({},hn,{key:function(t){if(t.key){var e=_n[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?En[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),In=sn(Mn),Tn=sn(D({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=sn(D({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),xn=sn(D({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=D({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Cn),Nn=[9,13,27,32],On=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Bn=c&&"TextEvent"in window&&!Ln,Dn=c&&(!On||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Fn(t,e){switch(t){case"keyup":return-1!==Nn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function Kn(t,e,n,r){Mt(r),0<(e=Wr(e,"onChange")).length&&(n=new cn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wn=null,$n=null;function Zn(t){Ur(t,0)}function Gn(t){if($(bi(t)))return t}function Qn(t,e){if("change"===t)return e}var Jn=!1;if(c){var Yn;if(c){var Xn="oninput"in document;if(!Xn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Xn="function"==typeof tr.oninput}Yn=Xn}else Yn=!1;Jn=Yn&&(!document.documentMode||9<document.documentMode)}function er(){Wn&&(Wn.detachEvent("onpropertychange",nr),$n=Wn=null)}function nr(t){if("value"===t.propertyName&&Gn($n)){var e=[];Kn(e,$n,t,_t(t)),Ct(Zn,e)}}function rr(t,e,n){"focusin"===t?(er(),$n=n,(Wn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Gn($n)}function sr(t,e){if("click"===t)return Gn(e)}function or(t,e){if("input"===t||"change"===t)return Gn(e)}var ar="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e};function ur(t,e){if(ar(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!ar(t[i],e[i]))return!1}return!0}function lr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var n,r=lr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=lr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dr(){for(var t=window,e=Z();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Z((t=e.contentWindow).document)}return e}function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pr(t){var e=dr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Z(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(e=new cn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gr)))}function _r(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Sr={};function Ar(t){if(kr[t])return kr[t];if(!Er[t])return t;var e,n=Er[t];for(e in n)if(n.hasOwnProperty(e)&&e in Sr)return kr[t]=n[e];return t}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Mr=Ar("animationend"),Ir=Ar("animationiteration"),Tr=Ar("animationstart"),Rr=Ar("transitionend"),xr=new Map,Cr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(t,e){xr.set(t,e),u(e,[t])}for(var Nr=0;Nr<Cr.length;Nr++){var Or=Cr[Nr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Mr,"onAnimationEnd"),Pr(Ir,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Rr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Dr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,a,u,l){if(Vt.apply(this,arguments),Bt){if(!Bt)throw Error(s(198));var c=Dt;Bt=!1,Dt=null,Ut||(Ut=!0,jt=c)}}(r,e,void 0,t),t.currentTarget=null}function Ur(t,e){e=!!(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break t;Dr(i,a,l),s=u}else for(o=0;o<r.length;o++){if(u=(a=r[o]).instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break t;Dr(i,a,l),s=u}}}if(Ut)throw t=jt,Ut=!1,jt=null,t}function jr(t,e){var n=e[mi];void 0===n&&(n=e[mi]=new Set);var r=t+"__bubble";n.has(r)||(Hr(e,t,2,!1),n.add(r))}function Fr(t,e,n){var r=0;e&&(r|=4),Hr(n,t,r,e)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(t){if(!t[Vr]){t[Vr]=!0,o.forEach((function(e){"selectionchange"!==e&&(Br.has(e)||Fr(e,!1,t),Fr(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Vr]||(e[Vr]=!0,Fr("selectionchange",!1,e))}}function Hr(t,e,n,r){switch(Qe(e)){case 1:var i=Ke;break;case 4:i=We;break;default:i=$e}n=i.bind(null,e,n,t),i=void 0,!Nt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qr(t,e,n,r,i){var s=r;if(!(1&e||2&e||null===r))t:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(u=o.tag)||6===u){r=s=o;continue t}a=a.parentNode}}r=r.return}Ct((function(){var r=s,i=_t(n),o=[];t:{var a=xr.get(t);if(void 0!==a){var u=cn,l=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":u=In;break;case"focusin":l="focus",u=gn;break;case"focusout":l="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Mr:case Ir:case Tr:u=yn;break;case Rr:u=xn;break;case"scroll":u=dn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=!!(4&e),h=!c&&"scroll"===t,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pt(p,d))&&c.push(Kr(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new u(a,l,null,n,i),o.push({event:a,listeners:c}))}}if(!(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===bt||!(l=n.relatedTarget||n.fromElement)||!vi(l)&&!l[pi])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?vi(l):null)&&(l!==(h=zt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==u?a:bi(u),f=null==l?a:bi(l),(a=new c(m,p+"leave",u,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=f,c.relatedTarget=h,m=c),h=m,u&&l)t:{for(d=l,p=0,f=c=u;f;f=$r(f))p++;for(f=0,m=d;m;m=$r(m))f++;for(;0<p-f;)c=$r(c),p--;for(;0<f-p;)d=$r(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break t;c=$r(c),d=$r(d)}c=null}else c=null;null!==u&&Zr(o,a,u,c,!1),null!==l&&null!==h&&Zr(o,h,l,c,!0)}if("select"===(u=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var g=Qn;else if(qn(a))if(Jn)g=or;else{g=ir;var y=rr}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(t,r))?Kn(o,g,n,i):(y&&y(t,a,r),"focusout"===t&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&tt(a,"number",a.value)),y=r?bi(r):window,t){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(On)t:{switch(t){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else zn?Fn(t,n)&&(w="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(w="onCompositionStart");w&&(Dn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(v=tn()):(Ye="value"in(Je=i)?Je.value:Je.textContent,zn=!0)),0<(y=Wr(r,w)).length&&(w=new bn(w,t,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=Vn(n))&&(w.data=v))),(v=Bn?function(t,e){switch(t){case"compositionend":return Vn(e);case"keypress":return 32!==e.which?null:(jn=!0,Un);case"textInput":return(t=e.data)===Un&&jn?null:t;default:return null}}(t,n):function(t,e){if(zn)return"compositionend"===t||!On&&Fn(t,e)?(t=tn(),Xe=Ye=Je=null,zn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Ur(o,e)}))}function Kr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pt(t,n))&&r.unshift(Kr(t,s,i)),null!=(s=Pt(t,e))&&r.push(Kr(t,s,i))),t=t.return}return r}function $r(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Zr(t,e,n,r,i){for(var s=e._reactName,o=[];null!==n&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(u=Pt(n,s))&&o.unshift(Kr(n,u,a)):i||null!=(u=Pt(n,s))&&o.push(Kr(n,u,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(t){return("string"==typeof t?t:""+t).replace(Gr,"\n").replace(Qr,"")}function Yr(t,e,n){if(e=Jr(e),Jr(t)!==e&&n)throw Error(s(425))}function Xr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,si="function"==typeof Promise?Promise:void 0,oi="function"==typeof queueMicrotask?queueMicrotask:void 0!==si?function(t){return si.resolve(null).then(t).catch(ai)}:ri;function ai(t){setTimeout((function(){throw t}))}function ui(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void ze(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);ze(e)}function li(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ci(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[di]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ci(t);null!==t;){if(n=t[di])return n;t=ci(t)}return e}n=(t=n).parentNode}return null}function wi(t){return!(t=t[di]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function bi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function _i(t){return t[fi]||null}var Ei=[],ki=-1;function Si(t){return{current:t}}function Ai(t){0>ki||(t.current=Ei[ki],Ei[ki]=null,ki--)}function Mi(t,e){ki++,Ei[ki]=t.current,t.current=e}var Ii={},Ti=Si(Ii),Ri=Si(!1),xi=Ii;function Ci(t,e){var n=t.type.contextTypes;if(!n)return Ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(t){return null!=(t=t.childContextTypes)}function Ni(){Ai(Ri),Ai(Ti)}function Oi(t,e,n){if(Ti.current!==Ii)throw Error(s(168));Mi(Ti,e),Mi(Ri,n)}function Li(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(s(108,H(t)||"Unknown",i));return D({},n,r)}function Bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ii,xi=Ti.current,Mi(Ti,t),Mi(Ri,Ri.current),!0}function Di(t,e,n){var r=t.stateNode;if(!r)throw Error(s(169));n?(t=Li(t,e,xi),r.__reactInternalMemoizedMergedChildContext=t,Ai(Ri),Ai(Ti),Mi(Ti,t)):Ai(Ri),Mi(Ri,n)}var Ui=null,ji=!1,Fi=!1;function Vi(t){null===Ui?Ui=[t]:Ui.push(t)}function zi(){if(!Fi&&null!==Ui){Fi=!0;var t=0,e=we;try{var n=Ui;for(we=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(t+1)),$t(Xt,zi),i}finally{we=e,Fi=!1}}return null}var Hi=[],qi=0,Ki=null,Wi=0,$i=[],Zi=0,Gi=null,Qi=1,Ji="";function Yi(t,e){Hi[qi++]=Wi,Hi[qi++]=Ki,Ki=t,Wi=e}function Xi(t,e,n){$i[Zi++]=Qi,$i[Zi++]=Ji,$i[Zi++]=Gi,Gi=t;var r=Qi;t=Ji;var i=32-oe(r)-1;r&=~(1<<i),n+=1;var s=32-oe(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-oe(e)+i|n<<i|r,Ji=s+t}else Qi=1<<s|n<<i|r,Ji=t}function ts(t){null!==t.return&&(Yi(t,1),Xi(t,1,0))}function es(t){for(;t===Ki;)Ki=Hi[--qi],Hi[qi]=null,Wi=Hi[--qi],Hi[qi]=null;for(;t===Gi;)Gi=$i[--Zi],$i[Zi]=null,Ji=$i[--Zi],$i[Zi]=null,Qi=$i[--Zi],$i[Zi]=null}var ns=null,rs=null,is=!1,ss=null;function os(t,e){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function as(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ns=t,rs=li(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ns=t,rs=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Gi?{id:Qi,overflow:Ji}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Ol(18,null,null,0)).stateNode=e,n.return=t,t.child=n,ns=t,rs=null,!0);default:return!1}}function us(t){return!(!(1&t.mode)||128&t.flags)}function ls(t){if(is){var e=rs;if(e){var n=e;if(!as(t,e)){if(us(t))throw Error(s(418));e=li(n.nextSibling);var r=ns;e&&as(t,e)?os(r,n):(t.flags=-4097&t.flags|2,is=!1,ns=t)}}else{if(us(t))throw Error(s(418));t.flags=-4097&t.flags|2,is=!1,ns=t}}}function cs(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ns=t}function hs(t){if(t!==ns)return!1;if(!is)return cs(t),is=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=rs)){if(us(t))throw ds(),Error(s(418));for(;e;)os(t,e),e=li(e.nextSibling)}if(cs(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){rs=li(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}rs=null}}else rs=ns?li(t.stateNode.nextSibling):null;return!0}function ds(){for(var t=rs;t;)t=li(t.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(t){null===ss?ss=[t]:ss.push(t)}var ms=b.ReactCurrentBatchConfig;function gs(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,t));var i=r,o=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=i.refs;null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!=typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function ys(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vs(t){return(0,t._init)(t._payload)}function ws(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Bl(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Fl(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){var s=n.type;return s===k?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===P&&vs(s)===e.type)?((r=i(e,n.props)).ref=gs(t,e,n),r.return=t,r):((r=Dl(n.type,n.key,n.props,null,t.mode,r)).ref=gs(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Vl(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,s){return null===e||7!==e.tag?((e=Ul(n,t.mode,r,s)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"==typeof e&&""!==e||"number"==typeof e)return(e=Fl(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case _:return(n=Dl(e.type,e.key,e.props,null,t.mode,n)).ref=gs(t,null,e),n.return=t,n;case E:return(e=Vl(e,t.mode,n)).return=t,e;case P:return d(t,(0,e._init)(e._payload),n)}if(et(e)||L(e))return(e=Ul(e,t.mode,n,null)).return=t,e;ys(t,e)}return null}function f(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:u(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(t,e,n,r):null;case E:return n.key===i?c(t,e,n,r):null;case P:return f(t,e,(i=n._init)(n._payload),r)}if(et(n)||L(n))return null!==i?null:h(t,e,n,r,null);ys(t,n)}return null}function p(t,e,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case _:return l(e,t=t.get(null===r.key?n:r.key)||null,r,i);case E:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case P:return p(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||L(r))return h(e,t=t.get(n)||null,r,i,null);ys(e,r)}return null}function m(i,s,a,u){for(var l=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],u);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(i,h),s=o(y,s,m),null===c?l=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),is&&Yi(i,m),l;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],u))&&(s=o(h,s,m),null===c?l=h:c.sibling=h,c=h);return is&&Yi(i,m),l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],u))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?l=g:c.sibling=g,c=g);return t&&h.forEach((function(t){return e(i,t)})),is&&Yi(i,m),l}function g(i,a,u,l){var c=L(u);if("function"!=typeof c)throw Error(s(150));if(null==(u=c.call(u)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,y=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,l);if(null===w){null===m&&(m=y);break}t&&m&&null===w.alternate&&e(i,m),a=o(w,a,g),null===h?c=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),is&&Yi(i,g),c;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=d(i,v.value,l))&&(a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return is&&Yi(i,g),c}for(m=r(i,m);!v.done;g++,v=u.next())null!==(v=p(m,i,g,v.value,l))&&(t&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return t&&m.forEach((function(t){return e(i,t)})),is&&Yi(i,g),c}return function t(r,s,o,u){if("object"==typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case _:t:{for(var l=o.key,c=s;null!==c;){if(c.key===l){if((l=o.type)===k){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break t}}else if(c.elementType===l||"object"==typeof l&&null!==l&&l.$$typeof===P&&vs(l)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=gs(r,c,o),s.return=r,r=s;break t}n(r,c);break}e(r,c),c=c.sibling}o.type===k?((s=Ul(o.props.children,r.mode,u,o.key)).return=r,r=s):((u=Dl(o.type,o.key,o.props,null,r.mode,u)).ref=gs(r,s,o),u.return=r,r=u)}return a(r);case E:t:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break t}n(r,s);break}e(r,s),s=s.sibling}(s=Vl(o,r.mode,u)).return=r,r=s}return a(r);case P:return t(r,s,(c=o._init)(o._payload),u)}if(et(o))return m(r,s,o,u);if(L(o))return g(r,s,o,u);ys(r,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fl(o,r.mode,u)).return=r,r=s),a(r)):n(r,s)}}var bs=ws(!0),_s=ws(!1),Es=Si(null),ks=null,Ss=null,As=null;function Ms(){As=Ss=ks=null}function Is(t){var e=Es.current;Ai(Es),t._currentValue=e}function Ts(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rs(t,e){ks=t,As=Ss=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(!!(t.lanes&e)&&(ba=!0),t.firstContext=null)}function xs(t){var e=t._currentValue;if(As!==t)if(t={context:t,memoizedValue:e,next:null},null===Ss){if(null===ks)throw Error(s(308));Ss=t,ks.dependencies={lanes:0,firstContext:t}}else Ss=Ss.next=t;return e}var Cs=null;function Ps(t){null===Cs?Cs=[t]:Cs.push(t)}function Ns(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Ps(e)):(n.next=i.next,i.next=n),e.interleaved=n,Os(t,r)}function Os(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Bs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Us(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function js(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,2&Cu){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Os(t,n)}return null===(i=r.interleaved)?(e.next=e,Ps(r)):(e.next=i.next,i.next=e),r.interleaved=e,Os(t,n)}function Fs(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}function Vs(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=e:s=s.next=e}else i=s=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zs(t,e,n,r){var i=t.updateQueue;Ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var u=a,l=u.next;u.next=null,null===o?s=l:o.next=l,o=u;var c=t.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(null!==s){var h=i.baseState;for(o=0,c=l=u=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break t;h=D({},h,d);break t;case 2:Ls=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(l=c=f,u=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(e=i.shared.interleaved)){i=e;do{o|=i.lane,i=i.next}while(i!==e)}else null===s&&(i.shared.lanes=0);ju|=o,t.lanes=o,t.memoizedState=h}}function Hs(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},Ks=Si(qs),Ws=Si(qs),$s=Si(qs);function Zs(t){if(t===qs)throw Error(s(174));return t}function Gs(t,e){switch(Mi($s,e),Mi(Ws,t),Mi(Ks,qs),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ut(null,"");break;default:e=ut(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ai(Ks),Mi(Ks,e)}function Qs(){Ai(Ks),Ai(Ws),Ai($s)}function Js(t){Zs($s.current);var e=Zs(Ks.current),n=ut(e,t.type);e!==n&&(Mi(Ws,t),Mi(Ks,n))}function Ys(t){Ws.current===t&&(Ai(Ks),Ai(Ws))}var Xs=Si(0);function to(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(128&e.flags)return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eo=[];function no(){for(var t=0;t<eo.length;t++)eo[t]._workInProgressVersionPrimary=null;eo.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,so=0,oo=null,ao=null,uo=null,lo=!1,co=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function go(t,e,n,r,i,o){if(so=o,oo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ro.current=null===t||null===t.memoizedState?Xo:ta,t=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(s(301));o+=1,uo=ao=null,e.updateQueue=null,ro.current=ea,t=n(r,i)}while(co)}if(ro.current=Yo,e=null!==ao&&null!==ao.next,so=0,uo=ao=oo=null,lo=!1,e)throw Error(s(300));return t}function yo(){var t=0!==ho;return ho=0,t}function vo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===uo?oo.memoizedState=uo=t:uo=uo.next=t,uo}function wo(){if(null===ao){var t=oo.alternate;t=null!==t?t.memoizedState:null}else t=ao.next;var e=null===uo?oo.memoizedState:uo.next;if(null!==e)uo=e,ao=t;else{if(null===t)throw Error(s(310));t={memoizedState:(ao=t).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===uo?oo.memoizedState=uo=t:uo=uo.next=t}return uo}function bo(t,e){return"function"==typeof e?e(t):e}function _o(t){var e=wo(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=a=null,l=null,c=o;do{var h=c.lane;if((so&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,a=r):l=l.next=d,oo.lanes|=h,ju|=h}c=c.next}while(null!==c&&c!==o);null===l?a=r:l.next=u,ar(r,e.memoizedState)||(ba=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{o=i.lane,oo.lanes|=o,ju|=o,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Eo(t){var e=wo(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);ar(o,e.memoizedState)||(ba=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function So(t,e){var n=oo,r=wo(),i=e(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Bo(Io.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||null!==uo&&1&uo.memoizedState.tag){if(n.flags|=2048,Co(9,Mo.bind(null,n,r,i,e),void 0,null),null===Pu)throw Error(s(349));30&so||Ao(n,e,i)}return i}function Ao(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Mo(t,e,n,r){e.value=n,e.getSnapshot=r,To(e)&&Ro(t)}function Io(t,e,n){return n((function(){To(e)&&Ro(t)}))}function To(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch(r){return!0}}function Ro(t){var e=Os(t,1);null!==e&&sl(e,t,1,-1)}function xo(t){var e=vo();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:t},e.queue=t,t=t.dispatch=Zo.bind(null,oo,t),[e.memoizedState,t]}function Co(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Po(){return wo().memoizedState}function No(t,e,n,r){var i=vo();oo.flags|=t,i.memoizedState=Co(1|e,n,void 0,void 0===r?null:r)}function Oo(t,e,n,r){var i=wo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Co(e,n,s,r))}oo.flags|=t,i.memoizedState=Co(1|e,n,s,r)}function Lo(t,e){return No(8390656,8,t,e)}function Bo(t,e){return Oo(2048,8,t,e)}function Do(t,e){return Oo(4,2,t,e)}function Uo(t,e){return Oo(4,4,t,e)}function jo(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Fo(t,e,n){return n=null!=n?n.concat([t]):null,Oo(4,4,jo.bind(null,e,t),n)}function Vo(){}function zo(t,e){var n=wo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&mo(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ho(t,e){var n=wo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&mo(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qo(t,e,n){return 21&so?(ar(n,e)||(n=me(),oo.lanes|=n,ju|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ba=!0),t.memoizedState=n)}function Ko(t,e){var n=we;we=0!==n&&4>n?n:4,t(!0);var r=io.transition;io.transition={};try{t(!1),e()}finally{we=n,io.transition=r}}function Wo(){return wo().memoizedState}function $o(t,e,n){var r=il(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Go(t))Qo(e,n);else if(null!==(n=Ns(t,e,n,r))){sl(n,t,r,rl()),Jo(n,e,r)}}function Zo(t,e,n){var r=il(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Go(t))Qo(e,i);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var u=e.interleaved;return null===u?(i.next=i,Ps(e)):(i.next=u.next,u.next=i),void(e.interleaved=i)}}catch(l){}null!==(n=Ns(t,e,i,r))&&(sl(n,t,r,i=rl()),Jo(n,e,r))}}function Go(t){var e=t.alternate;return t===oo||null!==e&&e===oo}function Qo(t,e){co=lo=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jo(t,e,n){if(4194240&n){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}var Yo={readContext:xs,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Xo={readContext:xs,useCallback:function(t,e){return vo().memoizedState=[t,void 0===e?null:e],t},useContext:xs,useEffect:Lo,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,No(4194308,4,jo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return No(4194308,4,t,e)},useInsertionEffect:function(t,e){return No(4,2,t,e)},useMemo:function(t,e){var n=vo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$o.bind(null,oo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},vo().memoizedState=t},useState:xo,useDebugValue:Vo,useDeferredValue:function(t){return vo().memoizedState=t},useTransition:function(){var t=xo(!1),e=t[0];return t=Ko.bind(null,t[1]),vo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=oo,i=vo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Pu)throw Error(s(349));30&so||Ao(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Lo(Io.bind(null,r,o,t),[t]),r.flags|=2048,Co(9,Mo.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=vo(),e=Pu.identifierPrefix;if(is){var n=Ji;e=":"+e+"R"+(n=(Qi&~(1<<32-oe(Qi)-1)).toString(32)+n),0<(n=ho++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=fo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ta={readContext:xs,useCallback:zo,useContext:xs,useEffect:Bo,useImperativeHandle:Fo,useInsertionEffect:Do,useLayoutEffect:Uo,useMemo:Ho,useReducer:_o,useRef:Po,useState:function(){return _o(bo)},useDebugValue:Vo,useDeferredValue:function(t){return qo(wo(),ao.memoizedState,t)},useTransition:function(){return[_o(bo)[0],wo().memoizedState]},useMutableSource:ko,useSyncExternalStore:So,useId:Wo,unstable_isNewReconciler:!1},ea={readContext:xs,useCallback:zo,useContext:xs,useEffect:Bo,useImperativeHandle:Fo,useInsertionEffect:Do,useLayoutEffect:Uo,useMemo:Ho,useReducer:Eo,useRef:Po,useState:function(){return Eo(bo)},useDebugValue:Vo,useDeferredValue:function(t){var e=wo();return null===ao?e.memoizedState=t:qo(e,ao.memoizedState,t)},useTransition:function(){return[Eo(bo)[0],wo().memoizedState]},useMutableSource:ko,useSyncExternalStore:So,useId:Wo,unstable_isNewReconciler:!1};function ra(t,e){if(t&&t.defaultProps){for(var n in e=D({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function ia(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:D({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var sa={isMounted:function(t){return!!(t=t._reactInternals)&&zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rl(),i=il(t),s=Us(r,i);s.payload=e,null!=n&&(s.callback=n),null!==(e=js(t,s,i))&&(sl(e,t,i,r),Fs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rl(),i=il(t),s=Us(r,i);s.tag=1,s.payload=e,null!=n&&(s.callback=n),null!==(e=js(t,s,i))&&(sl(e,t,i,r),Fs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rl(),r=il(t),i=Us(n,r);i.tag=2,null!=e&&(i.callback=e),null!==(e=js(t,i,r))&&(sl(e,t,r,n),Fs(e,t,r))}};function oa(t,e,n,r,i,s,o){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,s))}function aa(t,e,n){var r=!1,i=Ii,s=e.contextType;return"object"==typeof s&&null!==s?s=xs(s):(i=Pi(e)?xi:Ti.current,s=(r=null!=(r=e.contextTypes))?Ci(t,i):Ii),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=sa,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ua(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sa.enqueueReplaceState(e,e.state,null)}function la(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Bs(t);var s=e.contextType;"object"==typeof s&&null!==s?i.context=xs(s):(s=Pi(e)?xi:Ti.current,i.context=Ci(t,s)),i.state=t.memoizedState,"function"==typeof(s=e.getDerivedStateFromProps)&&(ia(t,e,s,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&sa.enqueueReplaceState(i,i.state,null),zs(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308)}function ca(t,e){try{var n="",r=e;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:i,digest:null}}function ha(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function da(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"==typeof WeakMap?WeakMap:Map;function pa(t,e,n){(n=Us(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$u||($u=!0,Zu=r),da(0,e)},n}function ma(t,e,n){(n=Us(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){da(0,e)}}var s=t.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){da(0,e),"function"!=typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ga(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new fa;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Tl.bind(null,t,e,n),e.then(t,t))}function ya(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function va(t,e,n,r,i){return 1&t.mode?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Us(-1,1)).tag=2,js(n,e,1))),n.lanes|=1),t)}var wa=b.ReactCurrentOwner,ba=!1;function _a(t,e,n,r){e.child=null===t?_s(e,null,n,r):bs(e,t.child,n,r)}function Ea(t,e,n,r,i){n=n.render;var s=e.ref;return Rs(e,i),r=go(t,e,n,r,s,i),n=yo(),null===t||ba?(is&&n&&ts(e),e.flags|=1,_a(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$a(t,e,i))}function ka(t,e,n,r,i){if(null===t){var s=n.type;return"function"!=typeof s||Ll(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Dl(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Sa(t,e,s,r,i))}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&t.ref===e.ref)return $a(t,e,i)}return e.flags|=1,(t=Bl(s,r)).ref=e.ref,t.return=e,e.child=t}function Sa(t,e,n,r,i){if(null!==t){var s=t.memoizedProps;if(ur(s,r)&&t.ref===e.ref){if(ba=!1,e.pendingProps=r=s,!(t.lanes&i))return e.lanes=t.lanes,$a(t,e,i);131072&t.flags&&(ba=!0)}}return Ta(t,e,n,r,i)}function Ma(t,e,n){var r=e.pendingProps,i=r.children,s=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(1&e.mode){if(!(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mi(Bu,Lu),Lu|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Mi(Bu,Lu),Lu|=r}else e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mi(Bu,Lu),Lu|=n;else null!==s?(r=s.baseLanes|n,e.memoizedState=null):r=n,Mi(Bu,Lu),Lu|=r;return _a(t,e,i,n),e.child}function Ia(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ta(t,e,n,r,i){var s=Pi(n)?xi:Ti.current;return s=Ci(e,s),Rs(e,i),n=go(t,e,n,r,s,i),r=yo(),null===t||ba?(is&&r&&ts(e),e.flags|=1,_a(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$a(t,e,i))}function Ra(t,e,n,r,i){if(Pi(n)){var s=!0;Bi(e)}else s=!1;if(Rs(e,i),null===e.stateNode)Wa(t,e),aa(e,n,r),la(e,n,r,i),r=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;"object"==typeof l&&null!==l?l=xs(l):l=Ci(e,l=Pi(n)?xi:Ti.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||u!==l)&&ua(e,o,r,l),Ls=!1;var d=e.memoizedState;o.state=d,zs(e,r,o,i),u=e.memoizedState,a!==r||d!==u||Ri.current||Ls?("function"==typeof c&&(ia(e,n,c,r),u=e.memoizedState),(a=Ls||oa(e,n,a,r,d,u,l))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(e.flags|=4194308)):("function"==typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):("function"==typeof o.componentDidMount&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ds(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:ra(e.type,a),o.props=l,h=e.pendingProps,d=o.context,"object"==typeof(u=n.contextType)&&null!==u?u=xs(u):u=Ci(e,u=Pi(n)?xi:Ti.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==u)&&ua(e,o,r,u),Ls=!1,d=e.memoizedState,o.state=d,zs(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||Ri.current||Ls?("function"==typeof f&&(ia(e,n,f,r),p=e.memoizedState),(l=Ls||oa(e,n,l,r,d,p,u)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof o.componentDidUpdate&&(e.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return xa(t,e,n,r,s,i)}function xa(t,e,n,r,i,s){Ia(t,e);var o=!!(128&e.flags);if(!r&&!o)return i&&Di(e,n,!1),$a(t,e,s);r=e.stateNode,wa.current=e;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&o?(e.child=bs(e,t.child,null,s),e.child=bs(e,null,a,s)):_a(t,e,a,s),e.memoizedState=r.state,i&&Di(e,n,!0),e.child}function Pa(t){var e=t.stateNode;e.pendingContext?Oi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Oi(0,e.context,!1),Gs(t,e.containerInfo)}function Na(t,e,n,r,i){return fs(),ps(i),e.flags|=256,_a(t,e,n,r),e.child}var Oa,La,Ba,Da,Ua={dehydrated:null,treeContext:null,retryLane:0};function ja(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fa(t,e,n){var r,i=e.pendingProps,o=Xs.current,a=!1,u=!!(128&e.flags);if((r=u)||(r=(null===t||null!==t.memoizedState)&&!!(2&o)),r?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Mi(Xs,1&o),null===t)return ls(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(1&e.mode?"$!"===t.data?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=i.children,t=i.fallback,a?(i=e.mode,a=e.child,u={mode:"hidden",children:u},1&i||null===a?a=jl(u,i,0,null):(a.childLanes=0,a.pendingProps=u),t=Ul(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=ja(n),e.memoizedState=Ua,t):Va(e,u));if(null!==(o=t.memoizedState)&&null!==(r=o.dehydrated))return function(t,e,n,r,i,o,a){if(n)return 256&e.flags?(e.flags&=-257,za(t,e,a,r=ha(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=jl({mode:"visible",children:r.children},i,0,null),(o=Ul(o,i,a,null)).flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,1&e.mode&&bs(e,t.child,null,a),e.child.memoizedState=ja(a),e.memoizedState=Ua,o);if(!(1&e.mode))return za(t,e,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,za(t,e,a,r=ha(o=Error(s(419)),r,void 0))}if(u=!!(a&t.childLanes),ba||u){if(null!==(r=Pu)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(r.suspendedLanes|a)?0:i)&&i!==o.retryLane&&(o.retryLane=i,Os(t,i),sl(r,t,i,-1))}return vl(),za(t,e,a,r=ha(Error(s(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=xl.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,rs=li(i.nextSibling),ns=e,is=!0,ss=null,null!==t&&($i[Zi++]=Qi,$i[Zi++]=Ji,$i[Zi++]=Gi,Qi=t.id,Ji=t.overflow,Gi=e),e=Va(e,r.children),e.flags|=4096,e)}(t,e,u,i,r,o,n);if(a){a=i.fallback,u=e.mode,r=(o=t.child).sibling;var l={mode:"hidden",children:i.children};return 1&u||e.child===o?(i=Bl(o,l)).subtreeFlags=14680064&o.subtreeFlags:((i=e.child).childLanes=0,i.pendingProps=l,e.deletions=null),null!==r?a=Bl(r,a):(a=Ul(a,u,n,null)).flags|=2,a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,u=null===(u=t.child.memoizedState)?ja(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=Ua,i}return t=(a=t.child).sibling,i=Bl(a,{mode:"visible",children:i.children}),!(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Va(t,e){return(e=jl({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function za(t,e,n,r){return null!==r&&ps(r),bs(e,t.child,null,n),(t=Va(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Ha(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),Ts(t.return,e,n)}function qa(t,e,n,r,i){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ka(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_a(t,e,r.children,n),2&(r=Xs.current))r=1&r|2,e.flags|=128;else{if(null!==t&&128&t.flags)t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ha(t,n,e);else if(19===t.tag)Ha(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Mi(Xs,r),1&e.mode)switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===to(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qa(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===to(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qa(e,!0,n,null,s);break;case"together":qa(e,!1,null,null,void 0);break;default:e.memoizedState=null}else e.memoizedState=null;return e.child}function Wa(t,e){!(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $a(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),ju|=e.lanes,!(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Bl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Bl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Za(t,e){if(!is)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ga(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Qa(t,e,n){var r=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(e),null;case 1:case 17:return Pi(e.type)&&Ni(),Ga(e),null;case 3:return r=e.stateNode,Qs(),Ai(Ri),Ai(Ti),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(hs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&!(256&e.flags)||(e.flags|=1024,null!==ss&&(ll(ss),ss=null))),La(t,e),Ga(e),null;case 5:Ys(e);var i=Zs($s.current);if(n=e.type,null!==t&&null!=e.stateNode)Ba(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(s(166));return Ga(e),null}if(t=Zs(Ks.current),hs(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[di]=e,r[fi]=o,t=!!(1&e.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Q(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":it(r,o),jr("invalid",r)}for(var u in vt(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"==typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,l,t),i=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,l,t),i=["children",""+l]):a.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":W(r),X(r,o,!0);break;case"textarea":W(r),ot(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Xr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),"select"===n&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[di]=e,t[fi]=r,Oa(t,e,!1,!1),e.stateNode=t;t:{switch(u=wt(n,r),n){case"dialog":jr("cancel",t),jr("close",t),i=r;break;case"iframe":case"object":case"embed":jr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],t);i=r;break;case"source":jr("error",t),i=r;break;case"img":case"image":case"link":jr("error",t),jr("load",t),i=r;break;case"details":jr("toggle",t),i=r;break;case"input":Q(t,r),i=G(t,r),jr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),jr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),jr("invalid",t)}for(o in vt(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?gt(t,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ht(t,c):"children"===o?"string"==typeof c?("textarea"!==n||""!==c)&&dt(t,c):"number"==typeof c&&dt(t,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&jr("scroll",t):null!=c&&w(t,o,c,u))}switch(n){case"input":W(t),X(t,r,!1);break;case"textarea":W(t),ot(t);break;case"option":null!=r.value&&t.setAttribute("value",""+q(r.value));break;case"select":t.multiple=!!r.multiple,null!=(o=r.value)?nt(t,!!r.multiple,o,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(t.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ga(e),null;case 6:if(t&&null!=e.stateNode)Da(t,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(s(166));if(n=Zs($s.current),Zs(Ks.current),hs(e)){if(r=e.stateNode,n=e.memoizedProps,r[di]=e,(o=r.nodeValue!==n)&&null!==(t=ns))switch(t.tag){case 3:Yr(r.nodeValue,n,!!(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,!!(1&t.mode))}o&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=e,e.stateNode=r}return Ga(e),null;case 13:if(Ai(Xs),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(is&&null!==rs&&1&e.mode&&!(128&e.flags))ds(),fs(),e.flags|=98560,o=!1;else if(o=hs(e),null!==r&&null!==r.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=e}else fs(),!(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ga(e),o=!1}else null!==ss&&(ll(ss),ss=null),o=!0;if(!o)return 65536&e.flags?e:null}return 128&e.flags?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,1&e.mode&&(null===t||1&Xs.current?0===Du&&(Du=3):vl())),null!==e.updateQueue&&(e.flags|=4),Ga(e),null);case 4:return Qs(),La(t,e),null===t&&zr(e.stateNode.containerInfo),Ga(e),null;case 10:return Is(e.type._context),Ga(e),null;case 19:if(Ai(Xs),null===(o=e.memoizedState))return Ga(e),null;if(r=!!(128&e.flags),null===(u=o.rendering))if(r)Za(o,!1);else{if(0!==Du||null!==t&&128&t.flags)for(t=e.child;null!==t;){if(null!==(u=to(t))){for(e.flags|=128,Za(o,!1),null!==(r=u.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,t=u.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Mi(Xs,1&Xs.current|2),e.child}t=t.sibling}null!==o.tail&&Jt()>Ku&&(e.flags|=128,r=!0,Za(o,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=to(u))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),Za(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!is)return Ga(e),null}else 2*Jt()-o.renderingStartTime>Ku&&1073741824!==n&&(e.flags|=128,r=!0,Za(o,!1),e.lanes=4194304);o.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=o.last)?n.sibling=u:e.child=u,o.last=u)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Jt(),e.sibling=null,n=Xs.current,Mi(Xs,r?1&n|2:1&n),e):(Ga(e),null);case 22:case 23:return pl(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&1&e.mode?!!(1073741824&Lu)&&(Ga(e),6&e.subtreeFlags&&(e.flags|=8192)):Ga(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function Ja(t,e){switch(es(e),e.tag){case 1:return Pi(e.type)&&Ni(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Qs(),Ai(Ri),Ai(Ti),no(),65536&(t=e.flags)&&!(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Ys(e),null;case 13:if(Ai(Xs),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));fs()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ai(Xs),null;case 4:return Qs(),null;case 10:return Is(e.type._context),null;case 22:case 23:return pl(),null;default:return null}}Oa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},La=function(){},Ba=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zs(Ks.current);var s,o=null;switch(n){case"input":i=G(t,i),r=G(t,r),o=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),o=[];break;case"textarea":i=rt(t,i),r=rt(t,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(t.onclick=Xr)}for(c in vt(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(s in u)!u.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&u[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&jr("scroll",t),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}},Da=function(t,e,n,r){n!==r&&(e.flags|=4)};var Ya=!1,Xa=!1,tu="function"==typeof WeakSet?WeakSet:Set,eu=null;function nu(t,e){var n=t.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){Il(t,e,r)}else n.current=null}function ru(t,e,n){try{n()}catch(r){Il(t,e,r)}}var iu=!1;function su(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,void 0!==s&&ru(e,n,s)}i=i.next}while(i!==r)}}function ou(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function au(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"==typeof e?e(t):e.current=t}}function uu(t){var e=t.alternate;null!==e&&(t.alternate=null,uu(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[di],delete e[fi],delete e[mi],delete e[gi],delete e[yi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lu(t){return 5===t.tag||3===t.tag||4===t.tag}function cu(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||lu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function hu(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Xr));else if(4!==r&&null!==(t=t.child))for(hu(t,e,n),t=t.sibling;null!==t;)hu(t,e,n),t=t.sibling}function du(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(du(t,e,n),t=t.sibling;null!==t;)du(t,e,n),t=t.sibling}var fu=null,pu=!1;function mu(t,e,n){for(n=n.child;null!==n;)gu(t,e,n),n=n.sibling}function gu(t,e,n){if(se&&"function"==typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(ie,n)}catch(a){}switch(n.tag){case 5:Xa||nu(n,e);case 6:var r=fu,i=pu;fu=null,mu(t,e,n),pu=i,null!==(fu=r)&&(pu?(t=fu,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(pu?(t=fu,n=n.stateNode,8===t.nodeType?ui(t.parentNode,n):1===t.nodeType&&ui(t,n),ze(t)):ui(fu,n.stateNode));break;case 4:r=fu,i=pu,fu=n.stateNode.containerInfo,pu=!0,mu(t,e,n),fu=r,pu=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(2&s||4&s)&&ru(n,e,o),i=i.next}while(i!==r)}mu(t,e,n);break;case 1:if(!Xa&&(nu(n,e),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Il(n,e,a)}mu(t,e,n);break;case 21:mu(t,e,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,mu(t,e,n),Xa=r):mu(t,e,n);break;default:mu(t,e,n)}}function yu(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new tu),e.forEach((function(e){var r=Cl.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function vu(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,u=a;t:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,pu=!1;break t;case 3:case 4:fu=u.stateNode.containerInfo,pu=!0;break t}u=u.return}if(null===fu)throw Error(s(160));gu(o,a,i),fu=null,pu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Il(i,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)wu(e,t),e=e.sibling}function wu(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vu(e,t),bu(t),4&r){try{su(3,t,t.return),ou(3,t)}catch(g){Il(t,t.return,g)}try{su(5,t,t.return)}catch(g){Il(t,t.return,g)}}break;case 1:vu(e,t),bu(t),512&r&&null!==n&&nu(n,n.return);break;case 5:if(vu(e,t),bu(t),512&r&&null!==n&&nu(n,n.return),32&t.flags){var i=t.stateNode;try{dt(i,"")}catch(g){Il(t,t.return,g)}}if(4&r&&null!=(i=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,u=t.type,l=t.updateQueue;if(t.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),wt(u,a);var c=wt(u,o);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];"style"===h?gt(i,d):"dangerouslySetInnerHTML"===h?ht(i,d):"children"===h?dt(i,d):w(i,h,d,c)}switch(u){case"input":Y(i,o);break;case"textarea":st(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?nt(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?nt(i,!!o.multiple,o.defaultValue,!0):nt(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Il(t,t.return,g)}}break;case 6:if(vu(e,t),bu(t),4&r){if(null===t.stateNode)throw Error(s(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){Il(t,t.return,g)}}break;case 3:if(vu(e,t),bu(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{ze(e.containerInfo)}catch(g){Il(t,t.return,g)}break;case 4:default:vu(e,t),bu(t);break;case 13:vu(e,t),bu(t),8192&(i=t.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Jt())),4&r&&yu(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Xa=(c=Xa)||h,vu(e,t),Xa=c):vu(e,t),bu(t),8192&r){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!h&&1&t.mode)for(eu=t,h=t.child;null!==h;){for(d=eu=h;null!==eu;){switch(p=(f=eu).child,f.tag){case 0:case 11:case 14:case 15:su(4,f,f.return);break;case 1:nu(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Il(r,n,g)}}break;case 5:nu(f,f.return);break;case 22:if(null!==f.memoizedState){Su(d);continue}}null!==p?(p.return=f,eu=p):Su(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,a=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,u.style.display=mt("display",a))}catch(g){Il(t,t.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Il(t,t.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vu(e,t),bu(t),4&r&&yu(t);case 21:}}function bu(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(lu(n)){var r=n;break t}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(dt(i,""),r.flags&=-33),du(t,cu(t),i);break;case 3:case 4:var o=r.stateNode.containerInfo;hu(t,cu(t),o);break;default:throw Error(s(161))}}catch(a){Il(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function _u(t,e,n){eu=t,Eu(t,e,n)}function Eu(t,e,n){for(var r=!!(1&t.mode);null!==eu;){var i=eu,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,u=null!==a&&null!==a.memoizedState||Xa;a=Ya;var l=Xa;if(Ya=o,(Xa=u)&&!l)for(eu=i;null!==eu;)u=(o=eu).child,22===o.tag&&null!==o.memoizedState?Au(i):null!==u?(u.return=o,eu=u):Au(i);for(;null!==s;)eu=s,Eu(s,e,n),s=s.sibling;eu=i,Ya=a,Xa=l}ku(t)}else 8772&i.subtreeFlags&&null!==s?(s.return=i,eu=s):ku(t)}}function ku(t){for(;null!==eu;){var e=eu;if(8772&e.flags){var n=e.alternate;try{if(8772&e.flags)switch(e.tag){case 0:case 11:case 15:Xa||ou(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ra(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&Hs(e,o,r);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Hs(e,a,n)}break;case 5:var u=e.stateNode;if(null===n&&4&e.flags){n=u;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&ze(d)}}}break;default:throw Error(s(163))}Xa||512&e.flags&&au(e)}catch(f){Il(e,e.return,f)}}if(e===t){eu=null;break}if(null!==(n=e.sibling)){n.return=e.return,eu=n;break}eu=e.return}}function Su(t){for(;null!==eu;){var e=eu;if(e===t){eu=null;break}var n=e.sibling;if(null!==n){n.return=e.return,eu=n;break}eu=e.return}}function Au(t){for(;null!==eu;){var e=eu;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ou(4,e)}catch(u){Il(e,n,u)}break;case 1:var r=e.stateNode;if("function"==typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(u){Il(e,i,u)}}var s=e.return;try{au(e)}catch(u){Il(e,s,u)}break;case 5:var o=e.return;try{au(e)}catch(u){Il(e,o,u)}}}catch(u){Il(e,e.return,u)}if(e===t){eu=null;break}var a=e.sibling;if(null!==a){a.return=e.return,eu=a;break}eu=e.return}}var Mu,Iu=Math.ceil,Tu=b.ReactCurrentDispatcher,Ru=b.ReactCurrentOwner,xu=b.ReactCurrentBatchConfig,Cu=0,Pu=null,Nu=null,Ou=0,Lu=0,Bu=Si(0),Du=0,Uu=null,ju=0,Fu=0,Vu=0,zu=null,Hu=null,qu=0,Ku=1/0,Wu=null,$u=!1,Zu=null,Gu=null,Qu=!1,Ju=null,Yu=0,Xu=0,tl=null,el=-1,nl=0;function rl(){return 6&Cu?Jt():-1!==el?el:el=Jt()}function il(t){return 1&t.mode?2&Cu&&0!==Ou?Ou&-Ou:null!==ms.transition?(0===nl&&(nl=me()),nl):0!==(t=we)?t:t=void 0===(t=window.event)?16:Qe(t.type):1}function sl(t,e,n,r){if(50<Xu)throw Xu=0,tl=null,Error(s(185));ye(t,n,r),2&Cu&&t===Pu||(t===Pu&&(!(2&Cu)&&(Fu|=n),4===Du&&cl(t,Ou)),ol(t,r),1===n&&0===Cu&&!(1&e.mode)&&(Ku=Jt()+500,ji&&zi()))}function ol(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,u=i[o];-1===u?a&n&&!(a&r)||(i[o]=fe(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var r=de(t,t===Pu?Ou:0);if(0===r)null!==n&&Zt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Zt(n),1===e)0===t.tag?function(t){ji=!0,Vi(t)}(hl.bind(null,t)):Vi(hl.bind(null,t)),oi((function(){!(6&Cu)&&zi()})),n=null;else{switch(be(r)){case 1:n=Xt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Pl(n,al.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function al(t,e){if(el=-1,nl=0,6&Cu)throw Error(s(327));var n=t.callbackNode;if(Al()&&t.callbackNode!==n)return null;var r=de(t,t===Pu?Ou:0);if(0===r)return null;if(30&r||r&t.expiredLanes||e)e=wl(t,r);else{e=r;var i=Cu;Cu|=2;var o=yl();for(Pu===t&&Ou===e||(Wu=null,Ku=Jt()+500,ml(t,e));;)try{_l();break}catch(u){gl(t,u)}Ms(),Tu.current=o,Cu=i,null!==Nu?e=0:(Pu=null,Ou=0,e=Du)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(r=i,e=ul(t,i))),1===e)throw n=Uu,ml(t,0),cl(t,r),ol(t,Jt()),n;if(6===e)cl(t,r);else{if(i=t.current.alternate,!(30&r||function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)||(e=wl(t,r),2===e&&(o=pe(t),0!==o&&(r=o,e=ul(t,o))),1!==e)))throw n=Uu,ml(t,0),cl(t,r),ol(t,Jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(s(345));case 2:case 5:Sl(t,Hu,Wu);break;case 3:if(cl(t,r),(130023424&r)===r&&10<(e=qu+500-Jt())){if(0!==de(t,0))break;if(((i=t.suspendedLanes)&r)!==r){rl(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(Sl.bind(null,t,Hu,Wu),e);break}Sl(t,Hu,Wu);break;case 4:if(cl(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-oe(r);o=1<<a,(a=e[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Jt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Iu(r/1960))-r)){t.timeoutHandle=ri(Sl.bind(null,t,Hu,Wu),r);break}Sl(t,Hu,Wu);break;default:throw Error(s(329))}}}return ol(t,Jt()),t.callbackNode===n?al.bind(null,t):null}function ul(t,e){var n=zu;return t.current.memoizedState.isDehydrated&&(ml(t,e).flags|=256),2!==(t=wl(t,e))&&(e=Hu,Hu=n,null!==e&&ll(e)),t}function ll(t){null===Hu?Hu=t:Hu.push.apply(Hu,t)}function cl(t,e){for(e&=~Vu,e&=~Fu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),r=1<<n;t[n]=-1,e&=~r}}function hl(t){if(6&Cu)throw Error(s(327));Al();var e=de(t,0);if(!(1&e))return ol(t,Jt()),null;var n=wl(t,e);if(0!==t.tag&&2===n){var r=pe(t);0!==r&&(e=r,n=ul(t,r))}if(1===n)throw n=Uu,ml(t,0),cl(t,e),ol(t,Jt()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sl(t,Hu,Wu),ol(t,Jt()),null}function dl(t,e){var n=Cu;Cu|=1;try{return t(e)}finally{0===(Cu=n)&&(Ku=Jt()+500,ji&&zi())}}function fl(t){null!==Ju&&0===Ju.tag&&!(6&Cu)&&Al();var e=Cu;Cu|=1;var n=xu.transition,r=we;try{if(xu.transition=null,we=1,t)return t()}finally{we=r,xu.transition=n,!(6&(Cu=e))&&zi()}}function pl(){Lu=Bu.current,Ai(Bu)}function ml(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(es(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ni();break;case 3:Qs(),Ai(Ri),Ai(Ti),no();break;case 5:Ys(r);break;case 4:Qs();break;case 13:case 19:Ai(Xs);break;case 10:Is(r.type._context);break;case 22:case 23:pl()}n=n.return}if(Pu=t,Nu=t=Bl(t.current,null),Ou=Lu=e,Du=0,Uu=null,Vu=Fu=ju=0,Hu=zu=null,null!==Cs){for(e=0;e<Cs.length;e++)if(null!==(r=(n=Cs[e]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Cs=null}return t}function gl(t,e){for(;;){var n=Nu;try{if(Ms(),ro.current=Yo,lo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(so=0,uo=ao=oo=null,co=!1,ho=0,Ru.current=null,null===n||null===n.return){Du=1,Uu=e,Nu=null;break}t:{var o=t,a=n.return,u=n,l=e;if(e=Ou,u.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,h=u,d=h.tag;if(!(1&h.mode||0!==d&&11!==d&&15!==d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,u,0,e),1&p.mode&&ga(o,c,e),l=c;var m=(e=p).updateQueue;if(null===m){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break t}if(!(1&e)){ga(o,c,e),vl();break t}l=Error(s(426))}else if(is&&1&u.mode){var y=ya(a);if(null!==y){!(65536&y.flags)&&(y.flags|=256),va(y,a,u,0,e),ps(ca(l,u));break t}}o=l=ca(l,u),4!==Du&&(Du=2),null===zu?zu=[o]:zu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Vs(o,pa(0,l,e));break t;case 1:u=l;var v=o.type,w=o.stateNode;if(!(128&o.flags||"function"!=typeof v.getDerivedStateFromError&&(null===w||"function"!=typeof w.componentDidCatch||null!==Gu&&Gu.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e,Vs(o,ma(o,u,e));break t}}o=o.return}while(null!==o)}kl(n)}catch(b){e=b,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function yl(){var t=Tu.current;return Tu.current=Yo,null===t?Yo:t}function vl(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Pu||!(268435455&ju)&&!(268435455&Fu)||cl(Pu,Ou)}function wl(t,e){var n=Cu;Cu|=2;var r=yl();for(Pu===t&&Ou===e||(Wu=null,ml(t,e));;)try{bl();break}catch(i){gl(t,i)}if(Ms(),Cu=n,Tu.current=r,null!==Nu)throw Error(s(261));return Pu=null,Ou=0,Du}function bl(){for(;null!==Nu;)El(Nu)}function _l(){for(;null!==Nu&&!Gt();)El(Nu)}function El(t){var e=Mu(t.alternate,t,Lu);t.memoizedProps=t.pendingProps,null===e?kl(t):Nu=e,Ru.current=null}function kl(t){var e=t;do{var n=e.alternate;if(t=e.return,32768&e.flags){if(null!==(n=Ja(n,e)))return n.flags&=32767,void(Nu=n);if(null===t)return Du=6,void(Nu=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}else if(null!==(n=Qa(n,e,Lu)))return void(Nu=n);if(null!==(e=e.sibling))return void(Nu=e);Nu=e=t}while(null!==e);0===Du&&(Du=5)}function Sl(t,e,n){var r=we,i=xu.transition;try{xu.transition=null,we=1,function(t,e,n,r){do{Al()}while(null!==Ju);if(6&Cu)throw Error(s(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oe(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}(t,o),t===Pu&&(Nu=Pu=null,Ou=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Qu||(Qu=!0,Pl(ee,(function(){return Al(),null}))),o=!!(15990&n.flags),!!(15990&n.subtreeFlags)||o){o=xu.transition,xu.transition=null;var a=we;we=1;var u=Cu;Cu|=4,Ru.current=null,function(t,e){if(ti=qe,fr(t=dr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break t}var a=0,u=-1,l=-1,c=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=a+i),d!==o||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++c===i&&(u=a),f===o&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},qe=!1,eu=e;null!==eu;)if(t=(e=eu).child,1028&e.subtreeFlags&&null!==t)t.return=e,eu=t;else for(;null!==eu;){e=eu;try{var m=e.alternate;if(1024&e.flags)switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:ra(e.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){Il(e,e.return,_)}if(null!==(t=e.sibling)){t.return=e.return,eu=t;break}eu=e.return}m=iu,iu=!1}(t,n),wu(n,t),pr(ei),qe=!!ti,ei=ti=null,t.current=n,_u(n,t,i),Qt(),Cu=u,we=a,xu.transition=o}else t.current=n;if(Qu&&(Qu=!1,Ju=t,Yu=i),o=t.pendingLanes,0===o&&(Gu=null),function(t){if(se&&"function"==typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(ie,t,void 0,!(128&~t.current.flags))}catch(e){}}(n.stateNode),ol(t,Jt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($u)throw $u=!1,t=Zu,Zu=null,t;!!(1&Yu)&&0!==t.tag&&Al(),o=t.pendingLanes,1&o?t===tl?Xu++:(Xu=0,tl=t):Xu=0,zi()}(t,e,n,r)}finally{xu.transition=i,we=r}return null}function Al(){if(null!==Ju){var t=be(Yu),e=xu.transition,n=we;try{if(xu.transition=null,we=16>t?16:t,null===Ju)var r=!1;else{if(t=Ju,Ju=null,Yu=0,6&Cu)throw Error(s(331));var i=Cu;for(Cu|=4,eu=t.current;null!==eu;){var o=eu,a=o.child;if(16&eu.flags){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(eu=c;null!==eu;){var h=eu;switch(h.tag){case 0:case 11:case 15:su(8,h,o)}var d=h.child;if(null!==d)d.return=h,eu=d;else for(;null!==eu;){var f=(h=eu).sibling,p=h.return;if(uu(h),h===c){eu=null;break}if(null!==f){f.return=p,eu=f;break}eu=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}eu=o}}if(2064&o.subtreeFlags&&null!==a)a.return=o,eu=a;else t:for(;null!==eu;){if(2048&(o=eu).flags)switch(o.tag){case 0:case 11:case 15:su(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,eu=v;break t}eu=o.return}}var w=t.current;for(eu=w;null!==eu;){var b=(a=eu).child;if(2064&a.subtreeFlags&&null!==b)b.return=a,eu=b;else t:for(a=w;null!==eu;){if(2048&(u=eu).flags)try{switch(u.tag){case 0:case 11:case 15:ou(9,u)}}catch(E){Il(u,u.return,E)}if(u===a){eu=null;break t}var _=u.sibling;if(null!==_){_.return=u.return,eu=_;break t}eu=u.return}}if(Cu=i,zi(),se&&"function"==typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(ie,t)}catch(E){}r=!0}return r}finally{we=n,xu.transition=e}}return!1}function Ml(t,e,n){t=js(t,e=pa(0,e=ca(n,e),1),1),e=rl(),null!==t&&(ye(t,1,e),ol(t,e))}function Il(t,e,n){if(3===t.tag)Ml(t,t,n);else for(;null!==e;){if(3===e.tag){Ml(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"==typeof e.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){e=js(e,t=ma(e,t=ca(n,t),1),1),t=rl(),null!==e&&(ye(e,1,t),ol(e,t));break}}e=e.return}}function Tl(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=rl(),t.pingedLanes|=t.suspendedLanes&n,Pu===t&&(Ou&n)===n&&(4===Du||3===Du&&(130023424&Ou)===Ou&&500>Jt()-qu?ml(t,0):Vu|=n),ol(t,e)}function Rl(t,e){0===e&&(1&t.mode?(e=ce,!(130023424&(ce<<=1))&&(ce=4194304)):e=1);var n=rl();null!==(t=Os(t,e))&&(ye(t,e,n),ol(t,n))}function xl(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Rl(t,n)}function Cl(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(e),Rl(t,n)}function Pl(t,e){return $t(t,e)}function Nl(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(t,e,n,r){return new Nl(t,e,n,r)}function Ll(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Bl(t,e){var n=t.alternate;return null===n?((n=Ol(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Dl(t,e,n,r,i,o){var a=2;if(r=t,"function"==typeof t)Ll(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case k:return Ul(n.children,i,o,e);case S:a=8,i|=8;break;case A:return(t=Ol(12,n,e,2|i)).elementType=A,t.lanes=o,t;case R:return(t=Ol(13,n,e,i)).elementType=R,t.lanes=o,t;case x:return(t=Ol(19,n,e,i)).elementType=x,t.lanes=o,t;case N:return jl(n,i,o,e);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case M:a=10;break t;case I:a=9;break t;case T:a=11;break t;case C:a=14;break t;case P:a=16,r=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Ol(a,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Ul(t,e,n,r){return(t=Ol(7,t,r,e)).lanes=n,t}function jl(t,e,n,r){return(t=Ol(22,t,r,e)).elementType=N,t.lanes=n,t.stateNode={isHidden:!1},t}function Fl(t,e,n){return(t=Ol(6,t,null,e)).lanes=n,t}function Vl(t,e,n){return(e=Ol(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zl(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hl(t,e,n,r,i,s,o,a,u){return t=new zl(t,e,n,a,u),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Ol(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bs(s),t}function ql(t){if(!t)return Ii;t:{if(zt(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(Pi(n))return Li(t,n,e)}return e}function Kl(t,e,n,r,i,s,o,a,u){return(t=Hl(n,r,!0,t,0,s,0,a,u)).context=ql(null),n=t.current,(s=Us(r=rl(),i=il(n))).callback=null!=e?e:null,js(n,s,i),t.current.lanes=i,ye(t,i,r),ol(t,r),t}function Wl(t,e,n,r){var i=e.current,s=rl(),o=il(i);return n=ql(n),null===e.context?e.context=n:e.pendingContext=n,(e=Us(s,o)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=js(i,e,o))&&(sl(t,i,o,s),Fs(t,i,o)),o}function $l(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Zl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Gl(t,e){Zl(t,e),(t=t.alternate)&&Zl(t,e)}Mu=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ri.current)ba=!0;else{if(!(t.lanes&n||128&e.flags))return ba=!1,function(t,e,n){switch(e.tag){case 3:Pa(e),fs();break;case 5:Js(e);break;case 1:Pi(e.type)&&Bi(e);break;case 4:Gs(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Mi(Es,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Mi(Xs,1&Xs.current),e.flags|=128,null):n&e.child.childLanes?Fa(t,e,n):(Mi(Xs,1&Xs.current),null!==(t=$a(t,e,n))?t.sibling:null);Mi(Xs,1&Xs.current);break;case 19:if(r=!!(n&e.childLanes),128&t.flags){if(r)return Ka(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mi(Xs,Xs.current),r)break;return null;case 22:case 23:return e.lanes=0,Ma(t,e,n)}return $a(t,e,n)}(t,e,n);ba=!!(131072&t.flags)}else ba=!1,is&&1048576&e.flags&&Xi(e,Wi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wa(t,e),t=e.pendingProps;var i=Ci(e,Ti.current);Rs(e,n),i=go(null,e,r,t,i,n);var o=yo();return e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pi(r)?(o=!0,Bi(e)):o=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Bs(e),i.updater=sa,e.stateNode=i,i._reactInternals=e,la(e,r,t,n),e=xa(null,e,r,!0,o,n)):(e.tag=0,is&&o&&ts(e),_a(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Wa(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"==typeof t)return Ll(t)?1:0;if(null!=t){if((t=t.$$typeof)===T)return 11;if(t===C)return 14}return 2}(r),t=ra(r,t),i){case 0:e=Ta(null,e,r,t,n);break t;case 1:e=Ra(null,e,r,t,n);break t;case 11:e=Ea(null,e,r,t,n);break t;case 14:e=ka(null,e,r,ra(r.type,t),n);break t}throw Error(s(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ta(t,e,r,i=e.elementType===r?i:ra(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ra(t,e,r,i=e.elementType===r?i:ra(r,i),n);case 3:t:{if(Pa(e),null===t)throw Error(s(387));r=e.pendingProps,i=(o=e.memoizedState).element,Ds(t,e),zs(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Na(t,e,r,n,i=ca(Error(s(423)),e));break t}if(r!==i){e=Na(t,e,r,n,i=ca(Error(s(424)),e));break t}for(rs=li(e.stateNode.containerInfo.firstChild),ns=e,is=!0,ss=null,n=_s(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){e=$a(t,e,n);break t}_a(t,e,r,n)}e=e.child}return e;case 5:return Js(e),null===t&&ls(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(e.flags|=32),Ia(t,e),_a(t,e,a,n),e.child;case 6:return null===t&&ls(e),null;case 13:return Fa(t,e,n);case 4:return Gs(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=bs(e,null,r,n):_a(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ea(t,e,r,i=e.elementType===r?i:ra(r,i),n);case 7:return _a(t,e,e.pendingProps,n),e.child;case 8:case 12:return _a(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Mi(Es,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ri.current){e=$a(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var u=o.dependencies;if(null!==u){a=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Us(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o.return,n,e),u.lanes|=n;break}l=l.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Ts(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Rs(e,n),r=r(i=xs(i)),e.flags|=1,_a(t,e,r,n),e.child;case 14:return i=ra(r=e.type,e.pendingProps),ka(t,e,r,i=ra(r.type,i),n);case 15:return Sa(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ra(r,i),Wa(t,e),e.tag=1,Pi(r)?(t=!0,Bi(e)):t=!1,Rs(e,n),aa(e,r,i),la(e,r,i,n),xa(null,e,r,!0,t,n);case 19:return Ka(t,e,n);case 22:return Ma(t,e,n)}throw Error(s(156,e.tag))};var Ql="function"==typeof reportError?reportError:function(t){console.error(t)};function Jl(t){this._internalRoot=t}function Yl(t){this._internalRoot=t}function Xl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function tc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ec(){}function nc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"==typeof i){var a=i;i=function(){var t=$l(o);a.call(t)}}Wl(e,o,t,i)}else o=function(t,e,n,r,i){if(i){if("function"==typeof r){var s=r;r=function(){var t=$l(o);s.call(t)}}var o=Kl(e,r,t,0,null,!1,0,"",ec);return t._reactRootContainer=o,t[pi]=o.current,zr(8===t.nodeType?t.parentNode:t),fl(),o}for(;i=t.lastChild;)t.removeChild(i);if("function"==typeof r){var a=r;r=function(){var t=$l(u);a.call(t)}}var u=Hl(t,0,!1,null,0,!1,0,"",ec);return t._reactRootContainer=u,t[pi]=u.current,zr(8===t.nodeType?t.parentNode:t),fl((function(){Wl(e,u,n,r)})),u}(n,e,t,i,r);return $l(o)}Yl.prototype.render=Jl.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Wl(t,e,null,null)},Yl.prototype.unmount=Jl.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;fl((function(){Wl(null,t,null,null)})),e[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ne.length&&0!==e&&e<Ne[n].priority;n++);Ne.splice(n,0,t),0===n&&De(t)}},_e=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ve(e,1|n),ol(e,Jt()),!(6&Cu)&&(Ku=Jt()+500,zi()))}break;case 13:fl((function(){var e=Os(t,1);if(null!==e){var n=rl();sl(e,t,1,n)}})),Gl(t,1)}},Ee=function(t){if(13===t.tag){var e=Os(t,134217728);if(null!==e)sl(e,t,134217728,rl());Gl(t,134217728)}},ke=function(t){if(13===t.tag){var e=il(t),n=Os(t,e);if(null!==n)sl(n,t,e,rl());Gl(t,e)}},Se=function(){return we},Ae=function(t,e){var n=we;try{return we=t,e()}finally{we=n}},Et=function(t,e,n){switch(e){case"input":if(Y(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_i(r);if(!i)throw Error(s(90));$(r),Y(r,i)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Tt=dl,Rt=fl;var rc={usingClientEntryPoint:!1,Events:[wi,bi,_i,Mt,It,dl]},ic={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sc={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Kt(t))?null:t.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{ie=oc.inject(sc),se=oc}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rc,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(e))throw Error(s(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Xl(t))throw Error(s(299));var n=!1,r="",i=Ql;return null!=e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Hl(t,1,!1,null,0,n,0,r,i),t[pi]=e.current,zr(8===t.nodeType?t.parentNode:t),new Jl(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=Kt(e))?null:t.stateNode},e.flushSync=function(t){return fl(t)},e.hydrate=function(t,e,n){if(!tc(e))throw Error(s(200));return nc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Xl(t))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ql;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Kl(e,null,t,1,null!=n?n:null,i,0,o,a),t[pi]=e.current,zr(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yl(e)},e.render=function(t,e,n){if(!tc(e))throw Error(s(200));return nc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!tc(t))throw Error(s(40));return!!t._reactRootContainer&&(fl((function(){nc(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=dl,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tc(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return nc(t,e,n,!1,r)},e.version="18.3.1-next-f1338f8080-20240426"},7470:(t,e,n)=>{"use strict";var r=n(8325);e.H=r.createRoot,r.hydrateRoot},8325:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(6067)},9348:(t,e,n)=>{"use strict";n.d(e,{I9:()=>l,N_:()=>d});var r=n(3696),i=n(7435),s=n(744);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}function a(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}const u=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function l(t){let{basename:e,children:n,window:o}=t,a=r.useRef();null==a.current&&(a.current=(0,s.TM)({window:o,v5Compat:!0}));let u=a.current,[l,c]=r.useState({action:u.action,location:u.location});return r.useLayoutEffect((()=>u.listen(c)),[u]),r.createElement(i.Ix,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:u})}const c="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,h=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d=r.forwardRef((function(t,e){let n,{onClick:l,relative:d,reloadDocument:f,replace:p,state:m,target:g,to:y,preventScrollReset:v}=t,w=a(t,u),{basename:b}=r.useContext(i.jb),_=!1;if("string"==typeof y&&h.test(y)&&(n=y,c))try{let t=new URL(window.location.href),e=y.startsWith("//")?new URL(t.protocol+y):new URL(y),n=(0,s.pb)(e.pathname,b);e.origin===t.origin&&null!=n?y=n+e.search+e.hash:_=!0}catch(S){}let E=(0,i.$P)(y,{relative:d}),k=function(t,e){let{target:n,replace:o,state:a,preventScrollReset:u,relative:l}=void 0===e?{}:e,c=(0,i.Zp)(),h=(0,i.zy)(),d=(0,i.x$)(t,{relative:l});return r.useCallback((e=>{if(function(t,e){return!(0!==t.button||e&&"_self"!==e||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t))}(e,n)){e.preventDefault();let n=void 0!==o?o:(0,s.AO)(h)===(0,s.AO)(d);c(t,{replace:n,state:a,preventScrollReset:u,relative:l})}}),[h,c,d,o,a,n,t,u,l])}(y,{replace:p,state:m,target:g,preventScrollReset:v,relative:d});return r.createElement("a",o({},w,{href:n||E,onClick:_||f?l:function(t){l&&l(t),t.defaultPrevented||k(t)},ref:e,target:g}))}));var f,p;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(f||(f={})),function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(p||(p={}))},7435:(t,e,n)=>{"use strict";n.d(e,{$P:()=>d,C5:()=>x,Ix:()=>C,Ye:()=>w,Zp:()=>g,g:()=>y,jb:()=>u,x$:()=>v,zy:()=>p});var r=n(3696),i=n(744);function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s.apply(this,arguments)}const o=r.createContext(null);const a=r.createContext(null);const u=r.createContext(null);const l=r.createContext(null);const c=r.createContext({outlet:null,matches:[],isDataRoute:!1});const h=r.createContext(null);function d(t,e){let{relative:n}=void 0===e?{}:e;f()||(0,i.Oi)(!1);let{basename:s,navigator:o}=r.useContext(u),{hash:a,pathname:l,search:c}=v(t,{relative:n}),h=l;return"/"!==s&&(h="/"===l?s:(0,i.HS)([s,l])),o.createHref({pathname:h,search:c,hash:a})}function f(){return null!=r.useContext(l)}function p(){return f()||(0,i.Oi)(!1),r.useContext(l).location}function m(t){r.useContext(u).static||r.useLayoutEffect(t)}function g(){let{isDataRoute:t}=r.useContext(c);return t?function(){let{router:t}=I(A.UseNavigateStable),e=R(M.UseNavigateStable),n=r.useRef(!1);return m((()=>{n.current=!0})),r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?t.navigate(r):t.navigate(r,s({fromRouteId:e},i)))}),[t,e])}():function(){f()||(0,i.Oi)(!1);let t=r.useContext(o),{basename:e,navigator:n}=r.useContext(u),{matches:s}=r.useContext(c),{pathname:a}=p(),l=JSON.stringify((0,i.sd)(s).map((t=>t.pathnameBase))),h=r.useRef(!1);return m((()=>{h.current=!0})),r.useCallback((function(r,s){if(void 0===s&&(s={}),!h.current)return;if("number"==typeof r)return void n.go(r);let o=(0,i.Gh)(r,JSON.parse(l),a,"path"===s.relative);null==t&&"/"!==e&&(o.pathname="/"===o.pathname?e:(0,i.HS)([e,o.pathname])),(s.replace?n.replace:n.push)(o,s.state,s)}),[e,n,l,a,t])}()}function y(){let{matches:t}=r.useContext(c),e=t[t.length-1];return e?e.params:{}}function v(t,e){let{relative:n}=void 0===e?{}:e,{matches:s}=r.useContext(c),{pathname:o}=p(),a=JSON.stringify((0,i.sd)(s).map((t=>t.pathnameBase)));return r.useMemo((()=>(0,i.Gh)(t,JSON.parse(a),o,"path"===n)),[t,a,o,n])}function w(t,e){return b(t,e)}function b(t,e,n){f()||(0,i.Oi)(!1);let{navigator:o}=r.useContext(u),{matches:a}=r.useContext(c),h=a[a.length-1],d=h?h.params:{},m=(h&&h.pathname,h?h.pathnameBase:"/");h&&h.route;let g,y=p();if(e){var v;let t="string"==typeof e?(0,i.Rr)(e):e;"/"===m||(null==(v=t.pathname)?void 0:v.startsWith(m))||(0,i.Oi)(!1),g=t}else g=y;let w=g.pathname||"/",b="/"===m?w:w.slice(m.length)||"/",_=(0,i.ue)(t,{pathname:b});let E=S(_&&_.map((t=>Object.assign({},t,{params:Object.assign({},d,t.params),pathname:(0,i.HS)([m,o.encodeLocation?o.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?m:(0,i.HS)([m,o.encodeLocation?o.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,n);return e&&E?r.createElement(l.Provider,{value:{location:s({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:i.rc.Pop}},E):E}function _(){let t=function(){var t;let e=r.useContext(h),n=T(M.UseRouteError),i=R(M.UseRouteError);if(e)return e;return null==(t=n.errors)?void 0:t[i]}(),e=(0,i.pX)(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},e),n?r.createElement("pre",{style:o},n):null,null)}const E=r.createElement(_,null);class RenderErrorBoundary extends r.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error?r.createElement(c.Provider,{value:this.props.routeContext},r.createElement(h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k(t){let{routeContext:e,match:n,children:i}=t,s=r.useContext(o);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(c.Provider,{value:e},i)}function S(t,e,n){var s;if(void 0===e&&(e=[]),void 0===n&&(n=null),null==t){var o;if(null==(o=n)||!o.errors)return null;t=n.matches}let a=t,u=null==(s=n)?void 0:s.errors;if(null!=u){let t=a.findIndex((t=>t.route.id&&(null==u?void 0:u[t.route.id])));t>=0||(0,i.Oi)(!1),a=a.slice(0,Math.min(a.length,t+1))}return a.reduceRight(((t,i,s)=>{let o=i.route.id?null==u?void 0:u[i.route.id]:null,l=null;n&&(l=i.route.errorElement||E);let c=e.concat(a.slice(0,s+1)),h=()=>{let e;return e=o?l:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:t,r.createElement(k,{match:i,routeContext:{outlet:t,matches:c,isDataRoute:null!=n},children:e})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:l,error:o,children:h(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):h()}),null)}var A,M;function I(t){let e=r.useContext(o);return e||(0,i.Oi)(!1),e}function T(t){let e=r.useContext(a);return e||(0,i.Oi)(!1),e}function R(t){let e=function(){let t=r.useContext(c);return t||(0,i.Oi)(!1),t}(),n=e.matches[e.matches.length-1];return n.route.id||(0,i.Oi)(!1),n.route.id}!function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"}(A||(A={})),function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"}(M||(M={}));function x(t){let{to:e,replace:n,state:s,relative:o}=t;f()||(0,i.Oi)(!1);let{matches:a}=r.useContext(c),{pathname:u}=p(),l=g(),h=(0,i.Gh)(e,(0,i.sd)(a).map((t=>t.pathnameBase)),u,"path"===o),d=JSON.stringify(h);return r.useEffect((()=>l(JSON.parse(d),{replace:n,state:s,relative:o})),[l,d,o,n,s]),null}function C(t){let{basename:e="/",children:n=null,location:s,navigationType:o=i.rc.Pop,navigator:a,static:c=!1}=t;f()&&(0,i.Oi)(!1);let h=e.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:h,navigator:a,static:c})),[h,a,c]);"string"==typeof s&&(s=(0,i.Rr)(s));let{pathname:p="/",search:m="",hash:g="",state:y=null,key:v="default"}=s,w=r.useMemo((()=>{let t=(0,i.pb)(p,h);return null==t?null:{location:{pathname:t,search:m,hash:g,state:y,key:v},navigationType:o}}),[h,p,m,g,y,v,o]);return null==w?null:r.createElement(u.Provider,{value:d},r.createElement(l.Provider,{children:n,value:w}))}var P;!function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"}(P||(P={}));new Promise((()=>{}));r.Component},2192:(t,e,n)=>{"use strict";var r=n(3696),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,s={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(c=e.ref),e)o.call(e,r)&&!u.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===s[r]&&(s[r]=e[r]);return{$$typeof:i,type:t,key:l,ref:c,props:s,_owner:a.current}}e.Fragment=s,e.jsx=l,e.jsxs=l},4403:(t,e)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}function v(){}function w(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function A(t,e,r){var i,s={},o=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)E.call(e,i)&&!S.hasOwnProperty(i)&&(s[i]=e[i]);var u=arguments.length-2;if(1===u)s.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(i in u=t.defaultProps)void 0===s[i]&&(s[i]=u[i]);return{$$typeof:n,type:t,key:o,ref:a,props:s,_owner:k.current}}function M(t){return"object"==typeof t&&null!==t&&t.$$typeof===n}var I=/\/+/g;function T(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function R(t,e,i,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var u=!1;if(null===t)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=t),t=""===s?"."+T(u,0):s,_(o)?(i="",null!=t&&(i=t.replace(I,"$&/")+"/"),R(o,e,i,"",(function(t){return t}))):null!=o&&(M(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+t)),e.push(o)),1;if(u=0,s=""===s?".":s+":",_(t))for(var l=0;l<t.length;l++){var c=s+T(a=t[l],l);u+=R(a,e,i,c,o)}else if(c=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"==typeof c)for(t=c.call(t),l=0;!(a=t.next()).done;)u+=R(a=a.value,e,i,c=s+T(a,l++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function x(t,e,n){if(null==t)return t;var r=[],i=0;return R(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function C(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var P={current:null},N={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:N,ReactCurrentOwner:k};function L(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:x,forEach:function(t,e,n){x(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return x(t,(function(){e++})),e},toArray:function(t){return x(t,(function(t){return t}))||[]},only:function(t){if(!M(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=i,e.Profiler=o,e.PureComponent=w,e.StrictMode=s,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.act=L,e.cloneElement=function(t,e,r){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=m({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=k.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)E.call(e,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==u?u[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:t.type,key:s,ref:o,props:i,_owner:a}},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=A,e.createFactory=function(t){var e=A.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=M,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:C}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=N.transition;N.transition={};try{t()}finally{N.transition=e}},e.unstable_act=L,e.useCallback=function(t,e){return P.current.useCallback(t,e)},e.useContext=function(t){return P.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return P.current.useDeferredValue(t)},e.useEffect=function(t,e){return P.current.useEffect(t,e)},e.useId=function(){return P.current.useId()},e.useImperativeHandle=function(t,e,n){return P.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return P.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return P.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return P.current.useMemo(t,e)},e.useReducer=function(t,e,n){return P.current.useReducer(t,e,n)},e.useRef=function(t){return P.current.useRef(t)},e.useState=function(t){return P.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return P.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return P.current.useTransition()},e.version="18.3.1"},3696:(t,e,n)=>{"use strict";t.exports=n(4403)},2540:(t,e,n)=>{"use strict";t.exports=n(2192)},8042:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,r,s,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,s||t,o),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],a]:t._events[u].push(a):(t._events[u]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,s,o){var a=n?n+t:t;if(!this._events[a])return!1;var u,l,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,r),!0;case 4:return c.fn.call(c.context,e,r,i),!0;case 5:return c.fn.call(c.context,e,r,i,s),!0;case 6:return c.fn.call(c.context,e,r,i,s,o),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,r);break;case 4:c[l].fn.call(c[l].context,e,r,i);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var s=n?n+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||o(this,s);else{for(var u=0,l=[],c=a.length;u<c;u++)(a[u].fn!==e||i&&!a[u].once||r&&a[u].context!==r)&&l.push(a[u]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&o(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},1817:(t,e,n)=>{var r=n(8891),i=r.Buffer;function s(t,e){for(var n in t)e[n]=t[n]}function o(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},o.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},7699:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<s(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,o=i>>>1;r<o;){var a=2*(r+1)-1,u=t[a],l=a+1,c=t[l];if(0>s(u,n))l<i&&0>s(c,u)?(t[r]=c,t[l]=n,r=l):(t[r]=u,t[a]=n,r=a);else{if(!(l<i&&0>s(c,n)))break t;t[r]=c,t[l]=n,r=l}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var l=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function b(t){for(var e=r(c);null!==e;){if(null===e.callback)i(c);else{if(!(e.startTime<=t))break;i(c),e.sortIndex=e.expirationTime,n(l,e)}e=r(c)}}function _(t){if(g=!1,b(t),!m)if(null!==r(l))m=!0,N(E);else{var e=r(c);null!==e&&O(_,e.startTime-t)}}function E(t,n){m=!1,g&&(g=!1,v(M),M=-1),p=!0;var s=f;try{for(b(n),d=r(l);null!==d&&(!(d.expirationTime>n)||t&&!R());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=e.unstable_now(),"function"==typeof a?d.callback=a:d===r(l)&&i(l),b(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var h=r(c);null!==h&&O(_,h.startTime-n),u=!1}return u}finally{d=null,f=s,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,A=null,M=-1,I=5,T=-1;function R(){return!(e.unstable_now()-T<I)}function x(){if(null!==A){var t=e.unstable_now();T=t;var n=!0;try{n=A(!0,t)}finally{n?k():(S=!1,A=null)}}else S=!1}if("function"==typeof w)k=function(){w(x)};else if("undefined"!=typeof MessageChannel){var C=new MessageChannel,P=C.port2;C.port1.onmessage=x,k=function(){P.postMessage(null)}}else k=function(){y(x,0)};function N(t){A=t,S||(S=!0,k())}function O(t,n){M=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,N(E))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,i,s){var o=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,n(c,t),null===r(l)&&t===r(c)&&(g?(v(M),M=-1):g=!0,O(_,s-o))):(t.sortIndex=a,n(l,t),m||p||(m=!0,N(E))),t},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},1434:(t,e,n)=>{"use strict";t.exports=n(7699)},9616:(t,e,n)=>{"use strict";var r;n.d(e,{v4:()=>h});var i=new Uint8Array(16);function s(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(t){return"string"==typeof t&&o.test(t)};for(var u=[],l=0;l<256;++l)u.push((l+256).toString(16).substr(1));const c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n};const h=function(t,e,n){var r=(t=t||{}).random||(t.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return c(r)}},4843:(t,e,n)=>{var r={"./token-14zP2ToQ79XWvc7FQpm4bRnp9d6Mp1rFfsUW3gpLcRX.json":[1903,1903],"./token-1FPs2RTXvLzW9r9MgRYfGgNJt4wcDUc3FpMeRpQLVLS.json":[8471,8471],"./token-25hAyBQfoDhfWx9ay6rarbgvWGwDdNqcHsXS3jQ3mTDJ.json":[9378,9378],"./token-25x9Av7ddPJQFVJy512VzzQ96A2Tqza22LtfHTKCpump.json":[9019,9019],"./token-27G8MtK7VtTcCHkpASjSDdkWWYfoqT6ggEuKidVJidD4.json":[954,954],"./token-2JcXacFwt9mVAwBQ5nZkYwCyXQkRcdsYrDXn6hj22SbP.json":[6345,6345],"./token-2KgAN8nLAU74wjiyKi85m4ZT6Z9MtqrUTGfse8Xapump.json":[7021,7021],"./token-2RBko3xoz56aH69isQMUpzZd9NYHahhwC23A5F3Spkin.json":[4456,4456],"./token-2XEm27fupa295SSXpmD8coakcFpCJn3huMsH5V77ZixP.json":[5234,5234],"./token-2aufSD4YXcqBaXreBdE7Y7qfX38grKMwjHprd4kXiP94.json":[6435,6435],"./token-2b1kV6DkPAnxd5ixfnxCpjxmKwqjjaYmCZfHsFu24GXo.json":[4099,4099],"./token-2eXamy7t3kvKhfV6aJ6Uwe3eh8cuREFcTKs1mFKZpump.json":[5051,5051],"./token-2oXCwAWnQoLLbUKwsC2LxMKbx4xxViRuZyfJvx9Qpump.json":[1495,1495],"./token-2otVNpcHXn9MKeDk3Zby5uanF3s7tki4toaJ3PZcXaUd.json":[3171,3171],"./token-2q8Y8rubbsaaA3faq8Ytsk382JXgtKdn23qjNXhSpump.json":[8763,8763],"./token-2qEHjDLDLbuBgRYvsxhc5D6uDWAivNFZGan56P1tpump.json":[3082,3082],"./token-2sCUCJdVkmyXp4dT8sFaA9LKgSMK4yDPi9zLHiwXpump.json":[147,147],"./token-2wvWZyfEkwjJyKhCVFRNpjKctbKDn2m2yZrg1cVypump.json":[6160,6160],"./token-2zMMhcVQEXDtdE6vsFS7S7D5oUodfJHE8vd1gnBouauv.json":[7754,7754],"./token-2zrH2jE542mzB4HABgBjdWMQPtNC5H12pwo1iLpfpump.json":[3167,3167],"./token-39qibQxVzemuZTEvjSB7NePhw9WyyHdQCqP8xmBMpump.json":[9230,9230],"./token-3B5wuUrMEi5yATD7on46hKfej3pfmd7t1RKgrsN3pump.json":[8811,8811],"./token-3MyaQBG7y3SHLQZa282Jh2xtB2TZKHGzNp1CuZ4Cpump.json":[1750,1750],"./token-3N2ETvNpPNAxhcaXgkhKoY1yDnQfs41Wnxsx5qNJpump.json":[7235,7235],"./token-3NZ9JMVBmGAqocybic2c7LQCJScmgsAZ6vQqTDzcqmJh.json":[7835,7835],"./token-3QGGLYLu251jE9Ra8jkGtuHb773xYciXeqqvUgNTGimE.json":[4213,4213],"./token-3UH5xpF3KGGnvM4EEXhQnvd8XtPZkd6kPmpFiyHCsf7x.json":[1659,1659],"./token-3UVsk4edHhVTZwEJQ1kSbp16f2Hsaxt7VQpTKuiUdtKc.json":[3016,3016],"./token-3V9RSvTZugo9LWbK39Q6gNrmE56bArRVfWpx23X4pump.json":[4601,4601],"./token-3an8rhdepsLCya22af7qDBKPbdomw8K4iCHXaA2Gpump.json":[3092,3092],"./token-3ufbSaVQSGeoCbgVp45YYYWKygbYFXAUZ7n7AP4CUWg6.json":[7675,7675],"./token-43VWkd99HjqkhFTZbWBpMpRhjG469nWa7x7uEsgSH7We.json":[8403,8403],"./token-43YakhC3TcSuTgSXnxFgw8uKL8VkuLuFa4M6Bninpump.json":[6691,6691],"./token-486JAkB6LpmDFWBDcaVNJFbQND3rhtjEP39xtz9Mpump.json":[1315,1315],"./token-4Cnk9EPnW5ixfLZatCPJjDB1PUtcRpVVgTQukm9epump.json":[1023,1023],"./token-4FkNq8RcCYg4ZGDWh14scJ7ej3m5vMjYTcWoJVkupump.json":[1081,1081],"./token-4LLbsb5ReP3yEtYzmXewyGjcir5uXtKFURtaEUVC2AHs.json":[7698,7698],"./token-4T54PGF4gAU75NL9j2GHvrVbR6u5zjyJE4zGuJbkpump.json":[9882,4644],"./token-4TwC4AiF1uUSHES2eBftGqemp6TqjEnKghqiH6dFpump.json":[1687,1687],"./token-4VntW5zNY5DeqU7mbnxRZXSMvvuxiySTftigkewxsAPf.json":[9830,9830],"./token-4bxQ3bQarmDqpTmnnfnw2gDsugL1wn8eUg8H3rPcpump.json":[1943,1943],"./token-4j9bDg7iWNah1Qa61rrqwWZMtEdqV3fV56SzyhfNpump.json":[5e3,5e3],"./token-4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R.json":[9818,9818],"./token-4mbdysBik3jmzD7mt6FGPDsMxnYcxExSQRFjPucdpump.json":[5931,5931],"./token-4oz9DZabbYNeB7UGUA4HYZKYRb4Hwm3h2u2x4CrumbAr.json":[5229,5229],"./token-4q3Z58YxrZEAVMLtMwnm7eHtodSD3LSpSNt3pDnqpump.json":[1757,1757],"./token-4uCRv65cB7gqt4uErxjYKmjbV3QLoGqHqTqJ7Ngkpump.json":[4288,4288],"./token-4xTGFjZMJszwyKiUYf8f2oVGzptBqJrYNokaptodVqFx.json":[268,268],"./token-51zudBR4NmATG35goida4dLQH5YPn9k8hVkLcizNpump.json":[4296,4296],"./token-5BUpXY6Cq5qrxh3GfZEvsRafW3mtyNbR44biGK7T4CeR.json":[5976,5976],"./token-5LafQUrVco6o7KMz42eqVEJ9LW31StPyGjeeu5sKoMtA.json":[715,715],"./token-5QS7RcHfGUa2ZtrovPvEJMB9coqroiT7H48dPSwFpump.json":[4460,4460],"./token-5SVG3T9CNQsm2kEwzbRq6hASqh1oGfjqTtLXYUibpump.json":[1385,1385],"./token-5UAMZkfNmuVcKzr2wo8Jqw4R1k8vfdAVJNN6h3bVpump.json":[4071,4071],"./token-5UTc1wL1gGnSBXx989cZhKJTQEmtX9rwepFpgoNdzWXx.json":[5128,2747],"./token-5XqzzdodsNtAM8TtQyiqGVbD7GwLBBN7oVnRA3hLpump.json":[2744,2744],"./token-5XyKkFaJpAmsH4Tf2EFj3S61W3hC5cJhxNZQQ5h1pump.json":[8203,8203],"./token-5mbK36SZ7J19An8jFochhQS4of8g6BwUjbeCSxBSoWdp.json":[27,27],"./token-5oVNBeEEQvYi1cX3ir8Dx5n1P7pdxydbGF2X4TxVusJm.json":[1676,1676],"./token-5pPkhLEJDMFDHUuE1wW5os5YJeyNUDVmih1DKgMFpB38.json":[2111,2111],"./token-5sk98tYqaYsx6AJHmpp41k92mQyAoSLQcmc7tuSXpump.json":[9333,9333],"./token-5voS9evDjxF589WuEub5i4ti7FWQmZCsAsyD5ucbuRqM.json":[2789,2789],"./token-5z3EqYQo9HiCEs3R84RCDMu2n7anpDMxRhdK8PSWmrRC.json":[6320,6320],"./token-5z3iCe53hUANTiG8Js8RjHNE2Arjik7L2CXLyr2rpump.json":[5663,5663],"./token-5zLfT94WwU1gihh6mZYB8pXLDYiHqSi5T699bXcyq7nB.json":[8816,8816],"./token-61V8vBaqAGMpgDQi4JcAwo1dmBGHsyhzodcPqnEVpump.json":[7638,7638],"./token-63LfDmNb3MQ8mw9MtZ2To9bEA2M71kZUUGq5tiJxcqj9.json":[1454,1454],"./token-66gsTs88mXJ5L4AtJnWqFW6H2L5YQDRy4W41y6zbpump.json":[7906,7906],"./token-69kdRLyP5DTRkpHraaSZAQbWmAwzF9guKjZfzMXzcbAs.json":[2270,2270],"./token-6AJcP7wuLwmRYLBNbi825wgguaPsWzPBEHcHndpRpump.json":[5831,5831],"./token-6EHnbUDSm5ThiqDjhPn1bh7ACEPxbKvXkK2ZS3tqpump.json":[9224,9224],"./token-6HgJHzGpq3fSLmkepsaC8F3VtpUWfXcG4hmUaf4Vpump.json":[7839,220],"./token-6NcdiK8B5KK2DzKvzvCfqi8EHaEqu48fyEzC8Mm9pump.json":[7417,7417],"./token-6PsCTT4X9KrojedBWJXBj6naxAPXGVodQ93GV5EMpump.json":[6988,6988],"./token-6TC3Nj94aEFK7ZzZ5QWUk29aUeym4TQYcqntW4z8Q88x.json":[798,798],"./token-6ZPL3c4D5cicrU8gvhqmYL6VJ4c72YiMpVvd6pHhpump.json":[7186,7186],"./token-6ZrYhkwvoYE4QqzpdzJ7htEHwT2u2546EkTNJ7qepump.json":[766,766],"./token-6d5zHW5B8RkGKd51Lpb9RqFQSqDudr9GJgZ1SgQZpump.json":[2210,9829],"./token-6dKCoWjpj5MFU5gWDEFdpUUeBasBLK3wLEwhUzQPAa1e.json":[7477,7477],"./token-6ddKaRpoLRRYnjWX9fyWuYJX9LNhFWPf3CJSApudpump.json":[6525,6525],"./token-6fv7gDeWqyDNNg6fY3VGtnHJAMgbCD3JZfPibi6Wpump.json":[5524,5524],"./token-6hHGASvHo3jmTPhNCsaRHNTq1AKoKqvnEz3AY3yM4czY.json":[1499,1499],"./token-6nmSCTfpz2UtGnmJAkpYh7w7E7LAzsSFdrX1XxzWScn7.json":[2050,2050],"./token-6ogzHhzdrQr9Pgv6hZ2MNze7UrzBMAFyBBWUYp1Fhitx.json":[893,893],"./token-6p6xgHyF7AeE6TZkSmFsko444wqoP15icUSqi2jfGiPN.json":[881,881],"./token-6tuiEeCTsXLBHd3ToJyn77mq37jr9H5kMtzFotN5Dmis.json":[5944,5944],"./token-6uYAMiY8KwDsW9ome5AvadsnNUKF19Evz4QxQ43Dpump.json":[9514,9514],"./token-72XUGRRzuSoLRch3QPpSPHkuZ8F58rvtCNF4QSosLb4H.json":[9936,9936],"./token-74SBV4zDXxTRgv1pEMoECskKBkZHc2yGPnc7GYVepump.json":[8235,8235],"./token-79yTpy8uwmAkrdgZdq6ZSBTvxKsgPrNqTLvYQBh1pump.json":[4587,4587],"./token-7BgBvyjrZX1YKz4oh9mjb8ZScatkkwb8DzFx7LoiVkM3.json":[8735,8735],"./token-7D1iYWfhw2cr9yBZBFE6nZaaSUvXHqG5FizFFEZwpump.json":[3622,3622],"./token-7GCihgDB8fe6KNjn2MYtkzZcRjQy3t9GHdC8uHYmW2hr.json":[3779,3779],"./token-7SZMQtjz46ciGTozmUsdsCYysYsEQutL6Y2KRmQ8rich.json":[2867,2867],"./token-7XJiwLDrjzxDYdZipnJXzpr1iDTmK55XixSFAa7JgNEL.json":[3578,3578],"./token-7Z3wQfxhw9zPjW246aFGgvz5QCjbwwBtwpCf2qvkWp6R.json":[4168,4168],"./token-7ZqzGzTNg5tjK1CHTBdGFHyKjBtXdfvAobuGgdt4pump.json":[9292,9292],"./token-7d1vpt5eri79nETcL74Punhp3mGkeBgUkMdPWep6pump.json":[8874,8874],"./token-7h5AzpYTAnh4Gyux8Gqko5Fvx4AYQBZdkzHZ2CsBudvJ.json":[4800,4800],"./token-7hhU2Y7GhR5yygyxrE1mjncZ5kPQX7kxGrkrB6NPpump.json":[395,395],"./token-7jZzp2kDBANM1xHaeFA4qraiDvFJCkTJLMjCaJAZdLrL.json":[3379,3379],"./token-7p4RodzmcU7YTrrqHLAkuPvH7Wye342xgkcrcvh3pump.json":[9089,9089],"./token-7sy5gj71KHXqyC9UNrv7P26vHxxncbgjQ3XrTpiEHxmh.json":[8683,8683],"./token-7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs.json":[3029,3029],"./token-7yZFFUhq9ac7DY4WobLL539pJEUbMnQ5AGQQuuEMpump.json":[4973,4973],"./token-83iBDw3ZpxqJ3pEzrbttr9fGA57tttehDAxoFyR1moon.json":[578,578],"./token-85VBFQZC9TZkfaptBWjvUw7YbZjy52A6mjtPGjstQAmQ.json":[3139,3139],"./token-864YJRb3JAVARC4FNuDtPKFxdEsYRbB39Nwxkzudxy46.json":[6926,6926],"./token-86t88w3MKT38HChTBKBwEeb1RW1MeTceaW68qY2Vpump.json":[8041,8041],"./token-88881Hu2jGMfCs9tMu5Rr7Ah7WBNBuXqde4nR5ZmKYYy.json":[2327,2327],"./token-89nnWMkWeF9LSJvAWcN2JFQfeWdDk6diKEckeToEU1hE.json":[9748,9748],"./token-8CzPPqenpfRXvjE5DHfE3kMDgJhHwWZ1WXRzs44KsamW.json":[1030,1030],"./token-8FGxHMgcSAuCGfvPW3eQncaRfgbiKPhFptj6c7p1pump.json":[4529,4529],"./token-8JRGk7mm55oU2iqDExoKa3MYS2ma8iSurzho8iojpump.json":[3941,3941],"./token-8Ki8DpuWNxu9VsS3kQbarsCWMcFGWkzzA8pUPto9zBd5.json":[6163,6163],"./token-8NrAzg558TYtwdGYcwomsLHfdQ5dwEYckXqgfL6tpump.json":[6654,6654],"./token-8SVVCGzYwnAkDwwvc5fSHZdCenUyhPccnGirWecVpump.json":[2621,2621],"./token-8SgNwESovnbG1oNEaPVhg6CR9mTMSK7jPvcYRe3wpump.json":[3388,3388],"./token-8SpPaFLycx897D6sowPZkEkcNdDahzRZb5itr6D8pump.json":[3888,3888],"./token-8XQwMtFFGutnyKPjeRggJKPtXWdEozWpKSmG13iXNXFi.json":[6005,6005],"./token-8XtRWb4uAAJFMP4QQhoYYCWR6XXb7ybcCdiqPwz9s5WS.json":[5086,5086],"./token-8YiB8B43EwDeSx5Jp91VQjgBU4mfCgVvyNahadtzpump.json":[3839,3839],"./token-8c8gJSmaU4yiDsZFWTiCtsMoVBuqp5WGyzSv4VVpump.json":[6540,6540],"./token-8i51XNNpGaKaj4G4nDdmQh95v4FKAxw8mhtaRoKd9tE8.json":[7481,7481],"./token-8iNKN1yb9bwHY2m6HN1rMHM9R9pt8hNx31n4uVvEpump.json":[7115,7115],"./token-8x5VqbHA8D7NkD52uNuS5nnt3PwA8pLD34ymskeSo2Wn.json":[8442,8442],"./token-92cRC6kV5D7TiHX1j56AbkPbffo9jwcXxSDQZ8Mopump.json":[8675,8675],"./token-98mb39tPFKQJ4Bif8iVg9mYb9wsfPZgpgN1sxoVTpump.json":[9532,9532],"./token-9A2jUbgoDY97fruKHXvDd7eQiq4xvnW3By1BfH1Bwn9Y.json":[5899,5899],"./token-9BB6NFEcjBCtnNLFko2FqVQBq8HHM13kCyYcdQbgpump.json":[5149,5149],"./token-9DHe3pycTuymFk4H4bbPoAJ4hQrr2kaLDF6J6aAKpump.json":[2715,2715],"./token-9McvH6w97oewLmPxqQEoHUAv3u5iYMyQ9AeZZhguYf1T.json":[3163,3163],"./token-9MmYJen1thytTQUm2ns3X95D3X7n3wC57QSx747xsAwj.json":[9020,9020],"./token-9PR7nCP9DpcUotnDPVLUBUZKu5WAYkwrCUx9wDnSpump.json":[8404,8404],"./token-9RjwNo6hBPkxayWHCqQD1VjaH8igSizEseNZNbddpump.json":[6875,6875],"./token-9So52ugZh2BLBT3f7p61947q91uQh2DyvbfyMDeRpump.json":[3434,3434],"./token-9TY6DUg1VSssYH5tFE95qoq5hnAGFak4w3cn72sJNCoV.json":[1182,1182],"./token-9UYAYvVS2cZ3BndbsoG1ScJbjfwyEPGxjE79hh5ipump.json":[8439,8439],"./token-9dPu9oLYsXrdE8kNA1WQu3tB9426WkJcSpxA2uYCTGtn.json":[5436,5436],"./token-9doRRAik5gvhbEwjbZDbZR6GxXSAfdoomyJR57xKpump.json":[1085,1085],"./token-9gP2kCy3wA1ctvYWQk75guqXuHfrEomqydHLtcTCqiLa.json":[8918,8918],"./token-9hfKxLSnwh4LhpRgmxBYDRgrKeYUgszMePKxuidPpump.json":[8265,8265],"./token-9n7PCZLVMG9sEViRwz2cmaR4eM72R3ekWuBdEzZppump.json":[7702,7702],"./token-9qriMjPPAJTMCtfQnz7Mo9BsV2jAWTr2ff7yc3JWpump.json":[2974,2974],"./token-9sbrLLnk4vxJajnZWXP9h5qk1NDFw7dz2eHjgemcpump.json":[2949,2949],"./token-9zNQRsGLjNKwCUU5Gq5LR8beUCPzQMVMqKAi3SSZh54u.json":[162,162],"./token-A8C3xuqscfmyLrte3VmTqrAq8kgMASius9AFNANwpump.json":[9889,9889],"./token-A9mUU4qviSctJVPJdBJWkb28deg915LYJKrzQ19ji3FM.json":[6286,6286],"./token-AE6X2h8BQWqgeCpz1Gdu8YBkGb2j1QjkcTJRAPrpmoon.json":[6566,6566],"./token-AEUT5uFm1D575FVCoQd5Yq891FJEqkncZUbBFoFcAhTV.json":[9254,9254],"./token-AKzAhPPLMH5NG35kGbgkwtrTLeGyVrfCtApjnvqAATcm.json":[9579,9579],"./token-AMgMqadZ7Qpe9PCQwehAG3Xbg5cf8JxCxH7sGCSupump.json":[3477,3477],"./token-ANQ85daDtoBFgZcKqkD75xuLHz7o1JnX5ry6aMFaGU7R.json":[5444,5444],"./token-ANdwEKKgK7xa1ZkkDw7QHkYcmVTQsJYheKSQCfRVpump.json":[5069,5069],"./token-AUdvAZm7ScT7S1z5frV7awvmwi4P3WVNcJsbq7spump.json":[5266,5266],"./token-AeMPigdui9V7JSpgdjUVHrTDvh5GZrE8oHnKJn8ipump.json":[6124,6124],"./token-Ah1GGTZCWk37Ko4Zc34xf3fgZsMnib4kM5Nwv1pHpump.json":[597,597],"./token-AsyfR3e5JcPqWot4H5MMhQUm7DZ4zwQrcp2zbB7vpump.json":[9383,9383],"./token-AuLFCTA8V8katsgpkFsezQtkHodJby5M4KB2VryTpump.json":[8523,8523],"./token-AxGAbdFtdbj2oNXa4dKqFvwHzgFtW9mFHWmd7vQfpump.json":[1950,1950],"./token-B29VFNAL4vh7rNcZMCmsHkZaYzUaVj3UinU3dFh6pump.json":[8506,8506],"./token-BCm8rzex8G15vhxDNud4X3DRibjyoUUP8f2bQopspump.json":[2268,2268],"./token-BG6VWes7KRFNPXHbWbA95ZU7grnaob8JSsS7r181pump.json":[8347,8347],"./token-BLDiYcvm3CLcgZ7XUBPgz6idSAkNmWY6MBbm8Xpjpump.json":[368,368],"./token-BP8RUdhLKBL2vgVXc3n7oTSZKWaQVbD8S6QcPaMVBAPo.json":[527,527],"./token-BTKyGp2MXMa8aWkmcq5HiLrhpkFfvhfkBV1dDH8Fpump.json":[5491,5491],"./token-BUhS5coXEt9hcxN3JSpGYUWSKbNo96RsKu52LcMo12rf.json":[280,280],"./token-BXebtR4k2WiaZ1HJmxcZkoCdxSBx1g1xnEpVra9Ppump.json":[5528,5528],"./token-BYZ9CcZGKAXmN2uDsKcQMM9UnZacija4vWcns9Th69xb.json":[7028,7028],"./token-BZLbGTNCSFfoth2GYDtwr7e4imWzpR5jqcUuGEwr646K.json":[8631,8631],"./token-BeKw9c5uv9i5JVtoAJGcqWnsF79rBmNLvUNW2CBKpump.json":[8360,8360],"./token-BjCmA9ZYwJ1BwusMGaSxe4pgaa9gfXTtdyX27NYEpump.json":[6464,6464],"./token-BjjvKX5k7gQoGRmvQAA5WMr7EkQ2cirGTSGxAznDpump.json":[4999,4999],"./token-BkYAUVMar1gLwuFLv2n5cmB6HhcNtvd86kU3gqAypump.json":[9587,9587],"./token-Bksfke6KWgpftafmbR3E9J4wHr4bBfKDrztXN6etpump.json":[6703,6703],"./token-BmXfbamFqrBzrqihr9hbSmEsfQUXMVaqshAjgvZupump.json":[8712,8712],"./token-BoAQaykj3LtkM2Brevc7cQcRAzpqcsP47nJ2rkyopump.json":[3575,3575],"./token-BonK1YhkXEGLZzwtcvRTip3gAL9nCeQD7ppZBLXhtTs.json":[6543,6543],"./token-BrZmDQwbdLXme3uaea8znLhy9Bb3fucMJmcFBuRPpump.json":[1233,1233],"./token-BroodjAHbyJ5eisR17AZ5rEvZFzACo4Pk4Yx4zm6AnQ1.json":[8554,8554],"./token-BsLbnZRGsFvYhstyjqMwnB2kNCRTSGJ5fYU9xFDXpump.json":[2289,2289],"./token-BwUTq7fS6sfUmHDwAiCQZ3asSiPEapW5zDrsbwtapump.json":[217,217],"./token-Bybit2vBJGhPF52GBdNaQfUJ6ZpThSgHBobjWZpLPb4B.json":[4998,4998],"./token-Bz4MhmVRQENiCou7ZpJ575wpjNFjBjVBSiVhuNg1pump.json":[1312,1312],"./token-Bzc1otXtaLdaFzcaWaH15gZs6iiWZeRbLSwc7qsppump.json":[7641,7641],"./token-C7heQqfNzdMbUFQwcHkL9FvdwsFsDRBnfwZDDyWYCLTZ.json":[2266,2266],"./token-C9FVTtx4WxgHmz55FEvQgykq8rqiLS8xRBVgqQVtpump.json":[5391,5391],"./token-CBdCxKo9QavR9hfShgpEBG3zekorAeD7W1jfq2o3pump.json":[4070,4070],"./token-CFUGzh1JfeuR1nxeRUvwvVqAdbrQWbNeqpVigduFpump.json":[4541,4541],"./token-CLoUDKc4Ane7HeQcPpE3YHnznRxhMimJ4MyaUqyHFzAu.json":[648,8267],"./token-CNvitvFnSM5ed6K28RUNSaAjqqz5tX1rA5HgaBN9pump.json":[6030,792],"./token-CNyMaRR4krm1yAxfCvPXevNMArZZZk7sRqKwX68uCeJk.json":[6975,6975],"./token-CP9h6ftteyAog9qF6qzC7a3X9bqSxA62RbCwqgLyLyrs.json":[7833,7833],"./token-CWX6t6pGJ1zsnuywnyd2ZMZJ7inB2sWuPdsteoT6pump.json":[7836,7836],"./token-CboMcTUYUcy9E6B3yGdFn6aEsGUnYV6yWeoeukw6pump.json":[9400,9400],"./token-Cd15xKWAMQYGhX8ZpY9eG8i583u7TGWf7J6kjq9XEsm4.json":[6600,6600],"./token-Cn5Ne1vmR9ctMGY9z5NC71A3NYFvopjXNyxYtfVYpump.json":[150,150],"./token-CnGb7hJsGdsFyQP2uXNWrUgT5K1tovBA3mNnUZcTpump.json":[5707,5707],"./token-CnfshwmvDqLrB1jSLF7bLJ3iZF5u354WRFGPBmGz4uyf.json":[5776,5776],"./token-CpEpquNgiGyeMeTBrJJCgMXL8vn1jCkWKVbSurhJpump.json":[4907,4907],"./token-Cpzvdx6pppc9TNArsGsqgShCsKC9NCCjA2gtzHvUpump.json":[5614,5614],"./token-CvCvT6xjgA7W6nXpjyWkFhdjLqpBKEeWCVkVphtz4HT9.json":[4471,4471],"./token-Cy1GS2FqefgaMbi45UunrUzin1rfEmTUYnomddzBpump.json":[695,695],"./token-CzLSujWBLFsSjncfkh59rUFqvafWcY5tzedWJSuypump.json":[8244,8244],"./token-D94iLjNK58UFSU9VrMpfBG6Uqp5M4BsiG52UKcWohvSU.json":[4781,4781],"./token-DBRiDgJAMsM95moTzJs7M9LnkGErpbv9v6CUR1DXnUu5.json":[2808,2808],"./token-DDDG5QJyVutQuyQ7p2hx69PM5gGYRyxrQU1fw8zDPWoG.json":[1428,1428],"./token-DECqp3qgUAarXoP2FssBnFXPsqtLhc5Y9UuvjxWMpump.json":[3558,3558],"./token-DKu9kykSfbN5LBfFXtNNDPaX35o4Fv6vJ9FKk7pZpump.json":[9462,9462],"./token-DNMTk67urDBxEEVRx9HjVzCVu8en4Kgg5HfZy3E6pump.json":[7011,7011],"./token-DQc6FTgu2HiB1PMUkHj8SATCtxsCeeMz5hiaqwk1pump.json":[9190,9190],"./token-DSdjfUH556qpfrci5QvnefeQUBf3QfdynfUsPXvjpump.json":[1004,1004],"./token-DZppXb9XAgZ5X7xNbMDeqvL7przSr69aSpZm2451PTMh.json":[473,473],"./token-DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263.json":[1565,1565],"./token-Df6yfrKC8kZE3KNkrHERKzAetSxbrWeniQfyJY4Jpump.json":[3109,3109],"./token-Dfh5DzRgSvvCFDoYc2ciTkMrbDfRKybA4SoFbPmApump.json":[5308,5308],"./token-Dgc3wwM2awkc6aj9QCuZzK9bD2TXUqRbnkXMzuWzos1o.json":[3895,3895],"./token-Dn4noZ5jgGfkntzcQSUZ8czkreiZ1ForXYoV2H8Dm7S1.json":[1893,1893],"./token-DriFtupJYLTosbwoN8koMbEYSx54aFAVLddWsbksjwg7.json":[8317,8317],"./token-Dso1bDeDjCQxTrWHqUUi63oBvV7Mdm6WaobLbQ7gnPQ.json":[2377,2377],"./token-DwDtUqBZJtbRpdjsFw3N7YKB5epocSru25BGcVhfcYtg.json":[495,495],"./token-Dy7M5B3Z5GnyhyHKkcHRFpYxw6eyiF1gqsDTBiT4t4oQ.json":[8370,8370],"./token-E1jCTXdkMRoawoWoqfbhiNkkLbxcSHPssMo36U84pump.json":[7933,7933],"./token-E5vSaRkSUDe3ob3KTAzXa6gmCndknzutn4hNtf2Qmoon.json":[6789,6789],"./token-ECY31gWwxy4s2VnMkYhmqDkrV75KrwR2yTtsnrnSpump.json":[9585,9585],"./token-ED5nyyWEzpPPiWimP8vYm7sD7TD3LAt3Q3gRTWHzPJBY.json":[197,197],"./token-EKRBZrcu3rKiT1T5kUGRe9S7aCLq3GFYqsqkin9Qpump.json":[1713,1713],"./token-EKpQGSJtjMFqKZ9KQanSqYXRcF8fBopzLHYxdM65zcjm.json":[5246,5246],"./token-EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v.json":[8207,8207],"./token-EVKN2G6SBKQPnYvJeMtEj1Qw6Pbo8w7ssetved49pump.json":[7895,7895],"./token-EbbwViGo4ku5gsxnUn44u4vbBF111RioirJbJfxopump.json":[3345,3345],"./token-EmBBhcqgm2acaXv9dXQFyDZDkhL4YMoWnGdHaMQJpump.json":[3313,3313],"./token-EpXBP1mNofE6j55wAty4poUh4cJPQS7NWDdCD9HSpump.json":[5278,5278],"./token-Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB.json":[8665,8665],"./token-EsP4kJfKUDLfX274WoBSiiEy74Sh4tZKUCDjfULHpump.json":[8689,8689],"./token-Ey59PH7Z4BFU4HjyKnyMdWt5GGN76KazTAwQihoUXRnk.json":[90,90],"./token-F89jHjBacyiFcYy3QDjQKwJMr9GS9iBFFnMKfGToUWNJ.json":[5315,5315],"./token-F9TgEJLLRUKDRF16HgjUCdJfJ5BK6ucyiW8uJxVPpump.json":[2057,2057],"./token-F9nJsVxZGn3Az7HAXUrLQs2WaWHiKRbNRYfSpRR2UPRC.json":[6927,6927],"./token-FFXsbx4rPwM8CyKKZiPU3YS9xFFirww6QEzb6KCCpump.json":[1639,1639],"./token-FHEFGB8y8C6uhraLyvtGdW23xackcxWFqpsTrNfdpump.json":[2975,2975],"./token-FLJYGHpCCcfYUdzhcfHSeSd2peb5SMajNWaCsRnhpump.json":[7501,9882],"./token-FLqmVrv6cp7icjobpRMQJMEyjF3kF84QmC4HXpySpump.json":[8635,8635],"./token-FQ1tyso61AH1tzodyJfSwmzsD3GToybbRNoZxUBz21p8.json":[8237,8237],"./token-FSTRgYfDaudjDwFg5A9LQpDMq5vxqhskHq4rkjUMwERE.json":[3634,3634],"./token-FUAfBo2jgks6gB4Z4LfZkqSZgzNucisEHqnNebaRxM1P.json":[220,7839],"./token-FVdo7CDJarhYoH6McyTFqx71EtzCPViinvdd1v86Qmy5.json":[6461,6461],"./token-FasH397CeZLNYWkd3wWK9vrmjd1z93n3b59DssRXpump.json":[7158,4777],"./token-Fch1oixTPri8zxBnmdCEADoJW2toyFHxqDZacQkwdvSP.json":[8614,8614],"./token-FeR8VBqNRSUD5NtXAj2n3j1dAHkZHfyDktKuLXD4pump.json":[5314,5314],"./token-FjTJCCQpLU4fpH58mN1bTQXiQsjJVYai3QYFjYqYpump.json":[2830,2830],"./token-Fmkuht1JGccdTZVaQFtKs78dyAwZHNuWvboaDu6Kpump.json":[1297,1297],"./token-FnyU17zyUzg5aeep5B1RqEoSkiXAmUqWkT7tKNhZpump.json":[2263,7501],"./token-FuQASH8ps9NPeDu4h3rVtMBygKYoSiSTZ4uSiA5tpump.json":[8301,8301],"./token-FvaYGu8dnNUuviAZN61zxQ8Ppv5Zj2cVaRdqa8kbxQsb.json":[5914,5914],"./token-FvgqHMfL9yn39V79huDPy3YUNDoYJpuLWng2JfmQpump.json":[1829,1829],"./token-GAMwtMB6onAvBNBQJCJFuxoaqfPH8uCQ2dewNMVVpump.json":[373,373],"./token-GJAFwWjJ3vnTsrQVabjBVK2TYB1YtRCQXRDfDgUnpump.json":[7658,7658],"./token-GJtJuWD9qYcCkrwMBmtY1tpapV1sKfB2zUv9Q4aqpump.json":[5685,5685],"./token-GKHgTd6tqvycgG3mqcZraSZDFR32hXhRgo6sZQtudMsC.json":[8089,8089],"./token-GMXYPswNmgqFFMpqxHHA25Ssmfg67RcM96fxFiCtD1pR.json":[9025,9025],"./token-GMzuntWYJLpNuCizrSR7ZXggiMdDzTNiEmSNHHunpump.json":[9145,9145],"./token-GPrg1CgbBvAJS2SCuf9gF7NmQYsWudfyfWy5SUzypump.json":[4024,4024],"./token-GTQvCKNtibHa4jCe4Nwg6kjp3fUjdkN56J5RDyrykA1R.json":[6349,6349],"./token-GVwNfniW2yeCbyjZizDPzoh3f81QYn7DSitgMqVXEQQH.json":[8033,8033],"./token-GaqBQibdxWXx2epFhxLE436RkqroKBqYxLPAVHTMpump.json":[1293,1293],"./token-GekTNfm84QfyP2GdAHZ5AgACBRd69aNmgA5FDhZupump.json":[4777,7158],"./token-GiG7Hr61RVm4CSUxJmgiCoySFQtdiwxtqf64MsRppump.json":[9765,2146],"./token-GmbC2HgWpHpq9SHnmEXZNT5e1zgcU9oASDqbAkGTpump.json":[3886,3886],"./token-Gn4Jb8kg8UpnyEjgbUDktSiW8QGu8yn62JbWs911pump.json":[2215,2215],"./token-Gq3U9Bfei1dEdCBQiQn8UXU8ndX5LDemmqdmRgkfcshe.json":[5432,5432],"./token-Grass7B4RdKfBCjTKgSqnXkqjwiGvQyFbuSCUJr3XXjs.json":[7656,7656],"./token-GriJxukSkHQs8x2sMhVeYuNn1Wx4HSUuq4USgugMpump.json":[3059,3059],"./token-Gu3LDkn7Vx3bmCzLafYNKcDxv2mH7YN44NJZFXnypump.json":[2580,2580],"./token-H1pbfgSZ1wPdbhyrkt5uNruno4ksUBTAppBGMFuYoFdn.json":[2685,5066],"./token-H2c31USxu35MDkBrGph8pUDUnmzo2e4Rf4hnvL2Upump.json":[8419,8419],"./token-H2gf5g2k4KSWGrAdwtznw7bYkWiszvjistFG447aePiN.json":[2892,2892],"./token-H33XL6HHDReCVRgSApZpsXM7Hy7JGyLztRJaGxjapump.json":[5973,5973],"./token-HAPPYwgFcjEJDzRtfWE6tiHE9zGdzpNky2FvjPHsvvGZ.json":[4134,4134],"./token-HDa3zJc12ahykSsBRvgiWzr6WLEByf36yzKKbVvy4gnF.json":[7437,7437],"./token-HNg5PYJmtqcmzXrv6S9zP1CDKk5BgDuyFBxbvNApump.json":[7962,7962],"./token-HUBsveNpjo5pWqNkH57QzxjQASdTVXcSK7bVKTSZtcSX.json":[7482,7482],"./token-HUdqc5MR5h3FssESabPnQ1GTgTcPvnNudAuLj5J6a9sU.json":[4859,4859],"./token-HW7D5MyYG4Dz2C98axfjVBeLWpsEnofrqy6ZUwqwpump.json":[5215,5215],"./token-HapL1btGuVi28wZtdkdGN6GQakBhEXtZ4XEUKbXPpump.json":[7024,7024],"./token-Hax9LTgsQkze1YFychnBLtFH8gYbQKtKfWKKg2SP6gdD.json":[8004,8004],"./token-HeJUFDxfJSzYFUuHLxkMqCgytU31G6mjP4wKviwqpump.json":[7710,7710],"./token-HeLp6NuQkmYB4pYWo2zYs22mESHXPQYzXbB8n4V98jwC.json":[7979,7979],"./token-HgBRWfYxEfvPhtqkaeymCQtHCrKE46qQ43pKe8HCpump.json":[7173,7173],"./token-HjdE4j3rHC7YMxFMHXSgEzXoNcVU6YBCfg9Q1gTJpump.json":[7796,7796],"./token-Hjw6bEcHtbHGpQr8onG3izfJY5DJiWdt7uk2BfdSpump.json":[8215,8215],"./token-Hnou7HG2Qhj3vxWo3cVTKax5vLCswthj8mNoLzkUpump.json":[5598,5598],"./token-HtrN5MnZTiHEC8DqzNp3d18wzTX4zaZU5LrHVyGd1QXf.json":[4504,4504],"./token-HwPtbFpd3VTe3tfyosoVtPf9WPuSk5gAKkN5xp6Npump.json":[9235,9235],"./token-HxVARGwyoM4WxicMkG73wFHvshERiu2YcRrqgwBKpump.json":[9,9],"./token-Hz4CJCpZky4YD75Zs2R2nBjP5wY6tYbraaT2hVZCpump.json":[289,289],"./token-J1toso1uCk3RLmjorhTtrVwY9HJ7X8V9yYac6Y7kGCPn.json":[2969,2969],"./token-J3NKxxXZcnNiMjKw9hYb2K4LUxgwB6t1FtPtQVsv3KFr.json":[2478,2478],"./token-JEFFSQ3s8T3wKsvp4tnRAsUBW7Cqgnf8ukBZC4C8XBm1.json":[7597,7597],"./token-JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN.json":[6897,6897],"./token-KENJSUYLASHUMfHyy5o4Hp2FdNqZg1AsUPhfH2kYvEP.json":[556,556],"./token-KMNo3nJsBXfcpJTVhZcXLW7RmTwTt4GVFE7suUBo9sS.json":[9379,9379],"./token-KNVfdSJyq1pRQk9AKKv1g5uyGuk6wpm4WG16Bjuwdma.json":[6400,6400],"./token-MEFNBXixkEbait3xn9bkm8WsJzXtVsaJEn4c8Sam21u.json":[4356,4356],"./token-METAewgxyPbgwsseH8T16a39CQ5VyVxZi9zXiDPY18m.json":[4062,4062],"./token-MEW1gQWJ3nEXg2qgERiKu7FAFj79PHvQVREQUzScPP5.json":[383,383],"./token-RdTSEwJwHA8vh6BALTu9hYVYv4FgWDS5JsK9hnApump.json":[8988,8988],"./token-SENDdRQtYMWaQrBroBrJ2Q53fgVuq95CV9UPGEvpCxa.json":[9266,9266],"./token-SHDWyBxihqiCj6YekG2GUr7wqKLeLAMK1gHZck9pL6y.json":[4821,4821],"./token-STrikemJEk2tFVYpg7SMo9nGPrnJ56fHnS1K7PV2fPw.json":[9925,9925],"./token-So11111111111111111111111111111111111111112.json":[486,486],"./token-SonicxvLud67EceaEzCLRnMTBqzYUUYNr93DBkBdDES.json":[6825,6825],"./token-T8KdT8hDzNhbGx5sjpEUxepnbDB1TZoCa7vtC5JjsMw.json":[7697,7697],"./token-TNSRxcUxoT9xBG3de7PiJyTDYu7kskLqcpddxnEJAS6.json":[436,436],"./token-USDSwr9ApdHk5bvJKMjzff41FfuX8bSxdKcR81vTwcA.json":[3241,3241],"./token-UrAE9vVdrWxncikcCRp7TgNqEsArFtP22iXzH7gpump.json":[731,731],"./token-VanBuNQLmo1shQvVPEFBbVGM4gASQDXeRTcDBkopump.json":[9139,9139],"./token-VaxZxmFXV8tmsd72hUn22ex6GFzZ5uq9DVJ5wA5pump.json":[642,642],"./token-WENWENvqqNya429ubCdR81ZmD69brwQaaBYY6p3LCpk.json":[9843,9843],"./token-ZEUS1aR7aX8DFFJf5QjWj2ftDDdNTroMNGo8YoQm3Gq.json":[6819,6819],"./token-bGxHNbsacaVL35pkYWae5PYQDZXSpuQb3QDyW31pump.json":[4322,4322],"./token-bSo13r4TkiE4KumL71LsHTPpL2euBYLFx6h9HP3piy1.json":[805,805],"./token-cbbtcf3aa214zXHbiAZQwf4122FBYbraNdFqgw4iMij.json":[5661,5661],"./token-d4VVNcnhYwenMzJJk7QgZsxVbLQSijPSLB8m7gKMGFM.json":[7901,7901],"./token-eL5fUxj2J4CiQsmW85k5FG9DvuQjjUoBHoQBi2Kpump.json":[8616,8616],"./token-h5NciPdMZ5QCB5BYETJMYBMpVx9ZuitR6HcVjyBhood.json":[5248,5248],"./token-he1iusmfkpAdwvxLNGV8Y1iSbj4rUy6yMhEA3fotn9A.json":[9568,9568],"./token-hntyVP6YFm1Hg25TN9WGLqM12b8TQmcknKrdu1oxWux.json":[6542,6542],"./token-jtojtomepa8beP8AuQc6eXt5FriJwfFMwQx2v2f9mCL.json":[4040,4040],"./token-jupSoLaHXQiZZTSfEWMTRRgpnyFm8f6sZdosWBjx93v.json":[8831,8831],"./token-mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So.json":[7941,7941],"./token-mwSB6dN11c2DUknTQXA9dUggDWXiJD1XMtZGp12pump.json":[4518,4518],"./token-nosXBVoaCTtYdLvKY6Csb4AC8JCdQKKAaWYtx2ZMoo7.json":[3588,3588],"./token-oraim8c9d1nkfuQk9EzGYEUGxqL3MHQYndRw1huVo5h.json":[1276,1276],"./token-pepo1CFNU2RXf7yXX7HNXazXwxsq8WrPvDHpHriwoLY.json":[7577,7577],"./token-rndrizKT3MK1iimdxRdWabcF7Zg7AR5T4nud4EkHBof.json":[9595,9595],"./token-sSo14endRuUbvQaJS3dq36Q829a3A6BEfoeeRGJywEh.json":[4784,4784],"./token-sp6DKKYq1MDXJi45QfbJyqvKwVxrNghTtZ9vH49pump.json":[4841,4841],"./token-strng7mqqc1MBJJV6vMzYbEqnwVGvKKGKedeCvtktWA.json":[7193,7193],"./token-ukHH6c7mMyiWCf1b9pnWe25TSpkDDt3H5pQZgZ74J82.json":[4450,4450],"./token-vSoLxydx6akxyMD9XEcPvGYNGq6Nn66oqVb3UkGkei7.json":[8698,8698],"./token-wUtwjNmjCP9TTTtoc5Xn5h5sZ2cYJm5w2w44b79yr2o.json":[2747,5128],"./token-whispF7G9DHaojYHe2cdhRX5EMJzGBdqq7R57kL6inL.json":[4068,4068],"./token-xSoL18r4U1k2ALa4yF857VDZJqCKecLtty92nscre3o.json":[8291,8291],"./token-y1AZt42vceCmStjW4zetK3VoNarC1VxJ5iDjpiupump.json":[4142,4142],"./token-y1SLkmNpJXgAwPk4yBxc6jvWb5yVVBsnkUngmibHooD.json":[1896,1896],"./token-yzxKPfrQ13MLQV2afnKWRg8RwxoYUDmCSxfWNcspump.json":[121,121],"./token-z9ysNwXCYrh4xXRyQG9ujWqxNrdcChoicoJA9ebd7iF.json":[1784,1784],"./tokens-with-volume.json":[6592,6592],"./top-tokens.json":[5106,5106]};function i(t){if(!n.o(r,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return n.e(e[1]).then((()=>n.t(i,19)))}i.keys=()=>Object.keys(r),i.id=4843,t.exports=i},4423:()=>{},5206:()=>{},8013:()=>{},5066:()=>{},2736:()=>{},4987:()=>{},4454:()=>{},6591:()=>{},2473:()=>{},9307:()=>{},7185:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(3696),i={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const s=(t,e,n,s)=>{const o=(0,r.forwardRef)((({color:n="currentColor",size:o=24,stroke:a=2,className:u,children:l,...c},h)=>(0,r.createElement)("svg",{ref:h,...i[t],width:o,height:o,className:["tabler-icon",`tabler-icon-${e}`,u].join(" "),..."filled"===t?{fill:n}:{strokeWidth:a,stroke:n},...c},[...s.map((([t,e])=>(0,r.createElement)(t,e))),...Array.isArray(l)?l:[l]])));return o.displayName=`${n}`,o}},6824:(t,e,n)=>{"use strict";n.d(e,{l$:()=>et,Ay:()=>nt});var r=n(3696);let i={data:""},s=t=>"object"==typeof window?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||i,o=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,u=/\n+/g,l=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];"@"==s[0]?"i"==s[1]?n=s+" "+o+";":r+="f"==s[1]?l(o,s):s+"{"+l(o,"k"==s[1]?"":e)+"}":"object"==typeof o?r+=l(o,e?e.replace(/([^,])+/g,(t=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(e=>/&/.test(e)?e.replace(/&/g,t):t?t+" "+e:e)))):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=l.p?l.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},c={},h=t=>{if("object"==typeof t){let e="";for(let n in t)e+=n+h(t[n]);return e}return t},d=(t,e,n,r,i)=>{let s=h(t),d=c[s]||(c[s]=(t=>{let e=0,n=11;for(;e<t.length;)n=101*n+t.charCodeAt(e++)>>>0;return"go"+n})(s));if(!c[d]){let e=s!==t?t:(t=>{let e,n,r=[{}];for(;e=o.exec(t.replace(a,""));)e[4]?r.shift():e[3]?(n=e[3].replace(u," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][e[1]]=e[2].replace(u," ").trim();return r[0]})(t);c[d]=l(i?{["@keyframes "+d]:e}:e,n?"":"."+d)}let f=n&&c.g?c.g:null;return n&&(c.g=c[d]),((t,e,n,r)=>{r?e.data=e.data.replace(r,t):-1===e.data.indexOf(t)&&(e.data=n?t+e.data:e.data+t)})(c[d],e,r,f),d};function f(t){let e=this||{},n=t.call?t(e.p):t;return d(n.unshift?n.raw?((t,e,n)=>t.reduce(((t,r,i)=>{let s=e[i];if(s&&s.call){let t=s(n),e=t&&t.props&&t.props.className||/^go/.test(t)&&t;s=e?"."+e:t&&"object"==typeof t?t.props?"":l(t,""):!1===t?"":t}return t+r+(s??"")}),""))(n,[].slice.call(arguments,1),e.p):n.reduce(((t,n)=>Object.assign(t,n&&n.call?n(e.p):n)),{}):n,s(e.target),e.g,e.o,e.k)}f.bind({g:1});let p,m,g,y=f.bind({k:1});function v(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),u=a.className||i.className;n.p=Object.assign({theme:m&&m()},a),n.o=/ *go\d+/.test(u),a.className=f.apply(n,r)+(u?" "+u:""),e&&(a.ref=o);let l=t;return t[0]&&(l=a.as||t,delete a.as),g&&l[0]&&g(a),p(l,a)}return e?e(i):i}}var w=(t,e)=>(t=>"function"==typeof t)(t)?t(e):t,b=(()=>{let t=0;return()=>(++t).toString()})(),_=(()=>{let t;return()=>{if(void 0===t&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),E=new Map,k=t=>{if(E.has(t))return;let e=setTimeout((()=>{E.delete(t),I({type:4,toastId:t})}),1e3);E.set(t,e)},S=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,20)};case 1:return e.toast.id&&(t=>{let e=E.get(t);e&&clearTimeout(e)})(e.toast.id),{...t,toasts:t.toasts.map((t=>t.id===e.toast.id?{...t,...e.toast}:t))};case 2:let{toast:n}=e;return t.toasts.find((t=>t.id===n.id))?S(t,{type:1,toast:n}):S(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?k(r):t.toasts.forEach((t=>{k(t.id)})),{...t,toasts:t.toasts.map((t=>t.id===r||void 0===r?{...t,visible:!1}:t))};case 4:return void 0===e.toastId?{...t,toasts:[]}:{...t,toasts:t.toasts.filter((t=>t.id!==e.toastId))};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map((t=>({...t,pauseDuration:t.pauseDuration+i})))}}},A=[],M={toasts:[],pausedAt:void 0},I=t=>{M=S(M,t),A.forEach((t=>{t(M)}))},T={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},R=t=>(e,n)=>{let r=((t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(null==n?void 0:n.id)||b()}))(e,t,n);return I({type:2,toast:r}),r.id},x=(t,e)=>R("blank")(t,e);x.error=R("error"),x.success=R("success"),x.loading=R("loading"),x.custom=R("custom"),x.dismiss=t=>{I({type:3,toastId:t})},x.remove=t=>I({type:4,toastId:t}),x.promise=(t,e,n)=>{let r=x.loading(e.loading,{...n,...null==n?void 0:n.loading});return t.then((t=>(x.success(w(e.success,t),{id:r,...n,...null==n?void 0:n.success}),t))).catch((t=>{x.error(w(e.error,t),{id:r,...n,...null==n?void 0:n.error})})),t};var C=(t,e)=>{I({type:1,toast:{id:t,height:e}})},P=()=>{I({type:5,time:Date.now()})},N=t=>{let{toasts:e,pausedAt:n}=((t={})=>{let[e,n]=(0,r.useState)(M);(0,r.useEffect)((()=>(A.push(n),()=>{let t=A.indexOf(n);t>-1&&A.splice(t,1)})),[e]);let i=e.toasts.map((e=>{var n,r;return{...t,...t[e.type],...e,duration:e.duration||(null==(n=t[e.type])?void 0:n.duration)||(null==t?void 0:t.duration)||T[e.type],style:{...t.style,...null==(r=t[e.type])?void 0:r.style,...e.style}}}));return{...e,toasts:i}})(t);(0,r.useEffect)((()=>{if(n)return;let t=Date.now(),r=e.map((e=>{if(e.duration===1/0)return;let n=(e.duration||0)+e.pauseDuration-(t-e.createdAt);if(!(n<0))return setTimeout((()=>x.dismiss(e.id)),n);e.visible&&x.dismiss(e.id)}));return()=>{r.forEach((t=>t&&clearTimeout(t)))}}),[e,n]);let i=(0,r.useCallback)((()=>{n&&I({type:6,time:Date.now()})}),[n]),s=(0,r.useCallback)(((t,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:s}=n||{},o=e.filter((e=>(e.position||s)===(t.position||s)&&e.height)),a=o.findIndex((e=>e.id===t.id)),u=o.filter(((t,e)=>e<a&&t.visible)).length;return o.filter((t=>t.visible)).slice(...r?[u+1]:[0,u]).reduce(((t,e)=>t+(e.height||0)+i),0)}),[e]);return{toasts:e,handlers:{updateHeight:C,startPause:P,endPause:i,calculateOffset:s}}},O=y`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,L=y`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,B=y`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,D=v("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${O} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${L} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${B} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,U=y`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,j=v("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${U} 1s linear infinite;
`,F=y`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,V=y`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,z=v("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${F} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${V} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,H=v("div")`
  position: absolute;
`,q=v("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,K=y`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,W=v("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${K} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return void 0!==e?"string"==typeof e?r.createElement(W,null,e):e:"blank"===n?null:r.createElement(q,null,r.createElement(j,{...i}),"loading"!==n&&r.createElement(H,null,"error"===n?r.createElement(D,{...i}):r.createElement(z,{...i})))},Z=t=>`\n0% {transform: translate3d(0,${-200*t}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,G=t=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*t}%,-1px) scale(.6); opacity:0;}\n`,Q=v("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,J=v("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Y=r.memo((({toast:t,position:e,style:n,children:i})=>{let s=t.height?((t,e)=>{let n=t.includes("top")?1:-1,[r,i]=_()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Z(n),G(n)];return{animation:e?`${y(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${y(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||e||"top-center",t.visible):{opacity:0},o=r.createElement($,{toast:t}),a=r.createElement(J,{...t.ariaProps},w(t.message,t));return r.createElement(Q,{className:t.className,style:{...s,...n,...t.style}},"function"==typeof i?i({icon:o,message:a}):r.createElement(r.Fragment,null,o,a))}));!function(t,e,n,r){l.p=e,p=t,m=n,g=r}(r.createElement);var X=({id:t,className:e,style:n,onHeightUpdate:i,children:s})=>{let o=r.useCallback((e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;i(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,i]);return r.createElement("div",{ref:o,className:e,style:n},s)},tt=f`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,et=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:s,containerStyle:o,containerClassName:a})=>{let{toasts:u,handlers:l}=N(n);return r.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},u.map((n=>{let o=n.position||e,a=((t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}})(o,l.calculateOffset(n,{reverseOrder:t,gutter:i,defaultPosition:e}));return r.createElement(X,{id:n.id,key:n.id,onHeightUpdate:l.updateHeight,className:n.visible?tt:"",style:a},"custom"===n.type?w(n.message,n):s?s(n):r.createElement(Y,{toast:n,position:o}))})))},nt=x},2573:(t,e,n)=>{"use strict";function r(t,e,n){return e<=t&&t<=n}function i(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}n.r(e),n.d(e,{TextDecoder:()=>l,TextEncoder:()=>c});function s(t){this.tokens=[].slice.call(t)}s.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var o=-1;function a(t,e){if(t)throw TypeError("Decoder error");return e||65533}var u="utf-8";function l(t,e){if(!(this instanceof l))return new l(t,e);if((t=void 0!==t?String(t).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function c(t,e){if(!(this instanceof c))return new c(t,e);if((t=void 0!==t?String(t).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function h(t){var e=t.fatal,n=0,i=0,s=0,u=128,l=191;this.handler=function(t,c){if(-1===c&&0!==s)return s=0,a(e);if(-1===c)return o;if(0===s){if(r(c,0,127))return c;if(r(c,194,223))s=1,n=c-192;else if(r(c,224,239))224===c&&(u=160),237===c&&(l=159),s=2,n=c-224;else{if(!r(c,240,244))return a(e);240===c&&(u=144),244===c&&(l=143),s=3,n=c-240}return n<<=6*s,null}if(!r(c,u,l))return n=s=i=0,u=128,l=191,t.prepend(c),a(e);if(u=128,l=191,n+=c-128<<6*(s-(i+=1)),i!==s)return null;var h=n;return n=s=i=0,h}}function d(t){t.fatal;this.handler=function(t,e){if(-1===e)return o;if(r(e,0,127))return e;var n,i;r(e,128,2047)?(n=1,i=192):r(e,2048,65535)?(n=2,i=224):r(e,65536,1114111)&&(n=3,i=240);for(var s=[(e>>6*n)+i];n>0;){var a=e>>6*(n-1);s.push(128|63&a),n-=1}return s}}l.prototype={decode:function(t,e){var n;n="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=i(e),this._streaming||(this._decoder=new h({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var r,a=new s(n),u=[];!a.endOfStream()&&(r=this._decoder.handler(a,a.read()))!==o;)null!==r&&(Array.isArray(r)?u.push.apply(u,r):u.push(r));if(!this._streaming){do{if((r=this._decoder.handler(a,a.read()))===o)break;null!==r&&(Array.isArray(r)?u.push.apply(u,r):u.push(r))}while(!a.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return e}(u)}},c.prototype={encode:function(t,e){t=t?String(t):"",e=i(e),this._streaming||(this._encoder=new d(this._options)),this._streaming=Boolean(e.stream);for(var n,r=[],a=new s(function(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=1023&s,u=1023&o;i.push(65536+(a<<10)+u),r+=1}else i.push(65533)}r+=1}return i}(t));!a.endOfStream()&&(n=this._encoder.handler(a,a.read()))!==o;)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;(n=this._encoder.handler(a,a.read()))!==o;)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}}}},t=>{var e;e=2447,t(t.s=e)}]);